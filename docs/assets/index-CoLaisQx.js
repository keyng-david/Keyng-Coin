var Hy=Object.defineProperty;var $y=(i,o,x)=>o in i?Hy(i,o,{enumerable:!0,configurable:!0,writable:!0,value:x}):i[o]=x;var ie=(i,o,x)=>$y(i,typeof o!="symbol"?o+"":o,x);function jy(i,o){for(var x=0;x<o.length;x++){const E=o[x];if(typeof E!="string"&&!Array.isArray(E)){for(const A in E)if(A!=="default"&&!(A in i)){const M=Object.getOwnPropertyDescriptor(E,A);M&&Object.defineProperty(i,A,M.get?M:{enumerable:!0,get:()=>E[A]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))E(A);new MutationObserver(A=>{for(const M of A)if(M.type==="childList")for(const p of M.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&E(p)}).observe(document,{childList:!0,subtree:!0});function x(A){const M={};return A.integrity&&(M.integrity=A.integrity),A.referrerPolicy&&(M.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?M.credentials="include":A.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function E(A){if(A.ep)return;A.ep=!0;const M=x(A);fetch(A.href,M)}})();var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yo(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Op={exports:{}},Ho={},Dp={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Symbol.for("react.element"),Qy=Symbol.for("react.portal"),Zy=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),ky=Symbol.for("react.profiler"),qy=Symbol.for("react.provider"),_y=Symbol.for("react.context"),t1=Symbol.for("react.forward_ref"),e1=Symbol.for("react.suspense"),i1=Symbol.for("react.memo"),n1=Symbol.for("react.lazy"),Vd=Symbol.iterator;function s1(i){return i===null||typeof i!="object"?null:(i=Vd&&i[Vd]||i["@@iterator"],typeof i=="function"?i:null)}var Ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bp=Object.assign,Np={};function Bs(i,o,x){this.props=i,this.context=o,this.refs=Np,this.updater=x||Ip}Bs.prototype.isReactComponent={};Bs.prototype.setState=function(i,o){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,o,"setState")};Bs.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function Gp(){}Gp.prototype=Bs.prototype;function Xu(i,o,x){this.props=i,this.context=o,this.refs=Np,this.updater=x||Ip}var Yu=Xu.prototype=new Gp;Yu.constructor=Xu;Bp(Yu,Bs.prototype);Yu.isPureReactComponent=!0;var Ud=Array.isArray,bp=Object.prototype.hasOwnProperty,Hu={current:null},Vp={key:!0,ref:!0,__self:!0,__source:!0};function Up(i,o,x){var E,A={},M=null,p=null;if(o!=null)for(E in o.ref!==void 0&&(p=o.ref),o.key!==void 0&&(M=""+o.key),o)bp.call(o,E)&&!Vp.hasOwnProperty(E)&&(A[E]=o[E]);var T=arguments.length-2;if(T===1)A.children=x;else if(1<T){for(var t=Array(T),u=0;u<T;u++)t[u]=arguments[u+2];A.children=t}if(i&&i.defaultProps)for(E in T=i.defaultProps,T)A[E]===void 0&&(A[E]=T[E]);return{$$typeof:qr,type:i,key:M,ref:p,props:A,_owner:Hu.current}}function r1(i,o){return{$$typeof:qr,type:i.type,key:o,ref:i.ref,props:i.props,_owner:i._owner}}function $u(i){return typeof i=="object"&&i!==null&&i.$$typeof===qr}function a1(i){var o={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(x){return o[x]})}var zd=/\/+/g;function Sl(i,o){return typeof i=="object"&&i!==null&&i.key!=null?a1(""+i.key):o.toString(36)}function Na(i,o,x,E,A){var M=typeof i;(M==="undefined"||M==="boolean")&&(i=null);var p=!1;if(i===null)p=!0;else switch(M){case"string":case"number":p=!0;break;case"object":switch(i.$$typeof){case qr:case Qy:p=!0}}if(p)return p=i,A=A(p),i=E===""?"."+Sl(p,0):E,Ud(A)?(x="",i!=null&&(x=i.replace(zd,"$&/")+"/"),Na(A,o,x,"",function(u){return u})):A!=null&&($u(A)&&(A=r1(A,x+(!A.key||p&&p.key===A.key?"":(""+A.key).replace(zd,"$&/")+"/")+i)),o.push(A)),1;if(p=0,E=E===""?".":E+":",Ud(i))for(var T=0;T<i.length;T++){M=i[T];var t=E+Sl(M,T);p+=Na(M,o,x,t,A)}else if(t=s1(i),typeof t=="function")for(i=t.call(i),T=0;!(M=i.next()).done;)M=M.value,t=E+Sl(M,T++),p+=Na(M,o,x,t,A);else if(M==="object")throw o=String(i),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return p}function fa(i,o,x){if(i==null)return i;var E=[],A=0;return Na(i,E,"","",function(M){return o.call(x,M,A++)}),E}function o1(i){if(i._status===-1){var o=i._result;o=o(),o.then(function(x){(i._status===0||i._status===-1)&&(i._status=1,i._result=x)},function(x){(i._status===0||i._status===-1)&&(i._status=2,i._result=x)}),i._status===-1&&(i._status=0,i._result=o)}if(i._status===1)return i._result.default;throw i._result}var xe={current:null},Ga={transition:null},l1={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:Hu};function zp(){throw Error("act(...) is not supported in production builds of React.")}Rt.Children={map:fa,forEach:function(i,o,x){fa(i,function(){o.apply(this,arguments)},x)},count:function(i){var o=0;return fa(i,function(){o++}),o},toArray:function(i){return fa(i,function(o){return o})||[]},only:function(i){if(!$u(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};Rt.Component=Bs;Rt.Fragment=Zy;Rt.Profiler=ky;Rt.PureComponent=Xu;Rt.StrictMode=Jy;Rt.Suspense=e1;Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l1;Rt.act=zp;Rt.cloneElement=function(i,o,x){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var E=Bp({},i.props),A=i.key,M=i.ref,p=i._owner;if(o!=null){if(o.ref!==void 0&&(M=o.ref,p=Hu.current),o.key!==void 0&&(A=""+o.key),i.type&&i.type.defaultProps)var T=i.type.defaultProps;for(t in o)bp.call(o,t)&&!Vp.hasOwnProperty(t)&&(E[t]=o[t]===void 0&&T!==void 0?T[t]:o[t])}var t=arguments.length-2;if(t===1)E.children=x;else if(1<t){T=Array(t);for(var u=0;u<t;u++)T[u]=arguments[u+2];E.children=T}return{$$typeof:qr,type:i.type,key:A,ref:M,props:E,_owner:p}};Rt.createContext=function(i){return i={$$typeof:_y,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:qy,_context:i},i.Consumer=i};Rt.createElement=Up;Rt.createFactory=function(i){var o=Up.bind(null,i);return o.type=i,o};Rt.createRef=function(){return{current:null}};Rt.forwardRef=function(i){return{$$typeof:t1,render:i}};Rt.isValidElement=$u;Rt.lazy=function(i){return{$$typeof:n1,_payload:{_status:-1,_result:i},_init:o1}};Rt.memo=function(i,o){return{$$typeof:i1,type:i,compare:o===void 0?null:o}};Rt.startTransition=function(i){var o=Ga.transition;Ga.transition={};try{i()}finally{Ga.transition=o}};Rt.unstable_act=zp;Rt.useCallback=function(i,o){return xe.current.useCallback(i,o)};Rt.useContext=function(i){return xe.current.useContext(i)};Rt.useDebugValue=function(){};Rt.useDeferredValue=function(i){return xe.current.useDeferredValue(i)};Rt.useEffect=function(i,o){return xe.current.useEffect(i,o)};Rt.useId=function(){return xe.current.useId()};Rt.useImperativeHandle=function(i,o,x){return xe.current.useImperativeHandle(i,o,x)};Rt.useInsertionEffect=function(i,o){return xe.current.useInsertionEffect(i,o)};Rt.useLayoutEffect=function(i,o){return xe.current.useLayoutEffect(i,o)};Rt.useMemo=function(i,o){return xe.current.useMemo(i,o)};Rt.useReducer=function(i,o,x){return xe.current.useReducer(i,o,x)};Rt.useRef=function(i){return xe.current.useRef(i)};Rt.useState=function(i){return xe.current.useState(i)};Rt.useSyncExternalStore=function(i,o,x){return xe.current.useSyncExternalStore(i,o,x)};Rt.useTransition=function(){return xe.current.useTransition()};Rt.version="18.3.1";Dp.exports=Rt;var Z=Dp.exports;const vt=Yo(Z),h1=jy({__proto__:null,default:vt},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=Z,f1=Symbol.for("react.element"),d1=Symbol.for("react.fragment"),c1=Object.prototype.hasOwnProperty,v1=u1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p1={key:!0,ref:!0,__self:!0,__source:!0};function Wp(i,o,x){var E,A={},M=null,p=null;x!==void 0&&(M=""+x),o.key!==void 0&&(M=""+o.key),o.ref!==void 0&&(p=o.ref);for(E in o)c1.call(o,E)&&!p1.hasOwnProperty(E)&&(A[E]=o[E]);if(i&&i.defaultProps)for(E in o=i.defaultProps,o)A[E]===void 0&&(A[E]=o[E]);return{$$typeof:f1,type:i,key:M,ref:p,props:A,_owner:v1.current}}Ho.Fragment=d1;Ho.jsx=Wp;Ho.jsxs=Wp;Op.exports=Ho;var q=Op.exports,yh={},Xp={exports:{}},Be={},Yp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function o(N,G){var z=N.length;N.push(G);t:for(;0<z;){var X=z-1>>>1,H=N[X];if(0<A(H,G))N[X]=G,N[z]=H,z=X;else break t}}function x(N){return N.length===0?null:N[0]}function E(N){if(N.length===0)return null;var G=N[0],z=N.pop();if(z!==G){N[0]=z;t:for(var X=0,H=N.length,V=H>>>1;X<V;){var W=2*(X+1)-1,I=N[W],b=W+1,U=N[b];if(0>A(I,z))b<H&&0>A(U,I)?(N[X]=U,N[b]=z,X=b):(N[X]=I,N[W]=z,X=W);else if(b<H&&0>A(U,z))N[X]=U,N[b]=z,X=b;else break t}}return G}function A(N,G){var z=N.sortIndex-G.sortIndex;return z!==0?z:N.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var M=performance;i.unstable_now=function(){return M.now()}}else{var p=Date,T=p.now();i.unstable_now=function(){return p.now()-T}}var t=[],u=[],m=1,l=null,s=3,a=!1,e=!1,r=!1,d=typeof setTimeout=="function"?setTimeout:null,n=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(N){for(var G=x(u);G!==null;){if(G.callback===null)E(u);else if(G.startTime<=N)E(u),G.sortIndex=G.expirationTime,o(t,G);else break;G=x(u)}}function c(N){if(r=!1,f(N),!e)if(x(t)!==null)e=!0,O(v);else{var G=x(u);G!==null&&B(c,G.startTime-N)}}function v(N,G){e=!1,r&&(r=!1,n(C),C=-1),a=!0;var z=s;try{for(f(G),l=x(t);l!==null&&(!(l.expirationTime>G)||N&&!w());){var X=l.callback;if(typeof X=="function"){l.callback=null,s=l.priorityLevel;var H=X(l.expirationTime<=G);G=i.unstable_now(),typeof H=="function"?l.callback=H:l===x(t)&&E(t),f(G)}else E(t);l=x(t)}if(l!==null)var V=!0;else{var W=x(u);W!==null&&B(c,W.startTime-G),V=!1}return V}finally{l=null,s=z,a=!1}}var g=!1,y=null,C=-1,S=5,P=-1;function w(){return!(i.unstable_now()-P<S)}function R(){if(y!==null){var N=i.unstable_now();P=N;var G=!0;try{G=y(!0,N)}finally{G?L():(g=!1,y=null)}}else g=!1}var L;if(typeof h=="function")L=function(){h(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=R,L=function(){F.postMessage(null)}}else L=function(){d(R,0)};function O(N){y=N,g||(g=!0,L())}function B(N,G){C=d(function(){N(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_continueExecution=function(){e||a||(e=!0,O(v))},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return s},i.unstable_getFirstCallbackNode=function(){return x(t)},i.unstable_next=function(N){switch(s){case 1:case 2:case 3:var G=3;break;default:G=s}var z=s;s=G;try{return N()}finally{s=z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(N,G){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=s;s=N;try{return G()}finally{s=z}},i.unstable_scheduleCallback=function(N,G,z){var X=i.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,N){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,N={id:m++,callback:G,priorityLevel:N,startTime:z,expirationTime:H,sortIndex:-1},z>X?(N.sortIndex=z,o(u,N),x(t)===null&&N===x(u)&&(r?(n(C),C=-1):r=!0,B(c,z-X))):(N.sortIndex=H,o(t,N),e||a||(e=!0,O(v))),N},i.unstable_shouldYield=w,i.unstable_wrapCallback=function(N){var G=s;return function(){var z=s;s=G;try{return N.apply(this,arguments)}finally{s=z}}}})(Hp);Yp.exports=Hp;var m1=Yp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1=Z,De=m1;function ut(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,x=1;x<arguments.length;x++)o+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $p=new Set,Er={};function zn(i,o){gs(i,o),gs(i+"Capture",o)}function gs(i,o){for(Er[i]=o,i=0;i<o.length;i++)$p.add(o[i])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,x1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wd={},Xd={};function y1(i){return Th.call(Xd,i)?!0:Th.call(Wd,i)?!1:x1.test(i)?Xd[i]=!0:(Wd[i]=!0,!1)}function T1(i,o,x,E){if(x!==null&&x.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return E?!1:x!==null?!x.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S1(i,o,x,E){if(o===null||typeof o>"u"||T1(i,o,x,E))return!0;if(E)return!1;if(x!==null)switch(x.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function ye(i,o,x,E,A,M,p){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=E,this.attributeNamespace=A,this.mustUseProperty=x,this.propertyName=i,this.type=o,this.sanitizeURL=M,this.removeEmptyString=p}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){le[i]=new ye(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];le[o]=new ye(o,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){le[i]=new ye(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){le[i]=new ye(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){le[i]=new ye(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){le[i]=new ye(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){le[i]=new ye(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){le[i]=new ye(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){le[i]=new ye(i,5,!1,i.toLowerCase(),null,!1,!1)});var ju=/[\-:]([a-z])/g;function Ku(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(ju,Ku);le[o]=new ye(o,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(ju,Ku);le[o]=new ye(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(ju,Ku);le[o]=new ye(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){le[i]=new ye(i,1,!1,i.toLowerCase(),null,!1,!1)});le.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){le[i]=new ye(i,1,!1,i.toLowerCase(),null,!0,!0)});function Qu(i,o,x,E){var A=le.hasOwnProperty(o)?le[o]:null;(A!==null?A.type!==0:E||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S1(o,x,A,E)&&(x=null),E||A===null?y1(o)&&(x===null?i.removeAttribute(o):i.setAttribute(o,""+x)):A.mustUseProperty?i[A.propertyName]=x===null?A.type===3?!1:"":x:(o=A.attributeName,E=A.attributeNamespace,x===null?i.removeAttribute(o):(A=A.type,x=A===3||A===4&&x===!0?"":""+x,E?i.setAttributeNS(E,o,x):i.setAttribute(o,x))))}var Ri=g1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Kp=Symbol.for("react.context"),Ju=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),Eh=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),Qp=Symbol.for("react.offscreen"),Yd=Symbol.iterator;function Hs(i){return i===null||typeof i!="object"?null:(i=Yd&&i[Yd]||i["@@iterator"],typeof i=="function"?i:null)}var Kt=Object.assign,Cl;function er(i){if(Cl===void 0)try{throw Error()}catch(x){var o=x.stack.trim().match(/\n( *(at )?)/);Cl=o&&o[1]||""}return`
`+Cl+i}var El=!1;function Pl(i,o){if(!i||El)return"";El=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(u){var E=u}Reflect.construct(i,[],o)}else{try{o.call()}catch(u){E=u}i.call(o.prototype)}else{try{throw Error()}catch(u){E=u}i()}}catch(u){if(u&&E&&typeof u.stack=="string"){for(var A=u.stack.split(`
`),M=E.stack.split(`
`),p=A.length-1,T=M.length-1;1<=p&&0<=T&&A[p]!==M[T];)T--;for(;1<=p&&0<=T;p--,T--)if(A[p]!==M[T]){if(p!==1||T!==1)do if(p--,T--,0>T||A[p]!==M[T]){var t=`
`+A[p].replace(" at new "," at ");return i.displayName&&t.includes("<anonymous>")&&(t=t.replace("<anonymous>",i.displayName)),t}while(1<=p&&0<=T);break}}}finally{El=!1,Error.prepareStackTrace=x}return(i=i?i.displayName||i.name:"")?er(i):""}function C1(i){switch(i.tag){case 5:return er(i.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return i=Pl(i.type,!1),i;case 11:return i=Pl(i.type.render,!1),i;case 1:return i=Pl(i.type,!0),i;default:return""}}function Ph(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Qn:return"Fragment";case Kn:return"Portal";case Sh:return"Profiler";case Zu:return"StrictMode";case Ch:return"Suspense";case Eh:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Kp:return(i.displayName||"Context")+".Consumer";case jp:return(i._context.displayName||"Context")+".Provider";case Ju:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ku:return o=i.displayName||null,o!==null?o:Ph(i.type)||"Memo";case Ni:o=i._payload,i=i._init;try{return Ph(i(o))}catch{}}return null}function E1(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ph(o);case 8:return o===Zu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function sn(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zp(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function P1(i){var o=Zp(i)?"checked":"value",x=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),E=""+i[o];if(!i.hasOwnProperty(o)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var A=x.get,M=x.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return A.call(this)},set:function(p){E=""+p,M.call(this,p)}}),Object.defineProperty(i,o,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(p){E=""+p},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ca(i){i._valueTracker||(i._valueTracker=P1(i))}function Jp(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var x=o.getValue(),E="";return i&&(E=Zp(i)?i.checked?"true":"false":i.value),i=E,i!==x?(o.setValue(i),!0):!1}function ka(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function wh(i,o){var x=o.checked;return Kt({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??i._wrapperState.initialChecked})}function Hd(i,o){var x=o.defaultValue==null?"":o.defaultValue,E=o.checked!=null?o.checked:o.defaultChecked;x=sn(o.value!=null?o.value:x),i._wrapperState={initialChecked:E,initialValue:x,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function kp(i,o){o=o.checked,o!=null&&Qu(i,"checked",o,!1)}function Ah(i,o){kp(i,o);var x=sn(o.value),E=o.type;if(x!=null)E==="number"?(x===0&&i.value===""||i.value!=x)&&(i.value=""+x):i.value!==""+x&&(i.value=""+x);else if(E==="submit"||E==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Rh(i,o.type,x):o.hasOwnProperty("defaultValue")&&Rh(i,o.type,sn(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function $d(i,o,x){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var E=o.type;if(!(E!=="submit"&&E!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,x||o===i.value||(i.value=o),i.defaultValue=o}x=i.name,x!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,x!==""&&(i.name=x)}function Rh(i,o,x){(o!=="number"||ka(i.ownerDocument)!==i)&&(x==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+x&&(i.defaultValue=""+x))}var ir=Array.isArray;function fs(i,o,x,E){if(i=i.options,o){o={};for(var A=0;A<x.length;A++)o["$"+x[A]]=!0;for(x=0;x<i.length;x++)A=o.hasOwnProperty("$"+i[x].value),i[x].selected!==A&&(i[x].selected=A),A&&E&&(i[x].defaultSelected=!0)}else{for(x=""+sn(x),o=null,A=0;A<i.length;A++){if(i[A].value===x){i[A].selected=!0,E&&(i[A].defaultSelected=!0);return}o!==null||i[A].disabled||(o=i[A])}o!==null&&(o.selected=!0)}}function Mh(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(ut(91));return Kt({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function jd(i,o){var x=o.value;if(x==null){if(x=o.children,o=o.defaultValue,x!=null){if(o!=null)throw Error(ut(92));if(ir(x)){if(1<x.length)throw Error(ut(93));x=x[0]}o=x}o==null&&(o=""),x=o}i._wrapperState={initialValue:sn(x)}}function qp(i,o){var x=sn(o.value),E=sn(o.defaultValue);x!=null&&(x=""+x,x!==i.value&&(i.value=x),o.defaultValue==null&&i.defaultValue!==x&&(i.defaultValue=x)),E!=null&&(i.defaultValue=""+E)}function Kd(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function _p(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?_p(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var va,t0=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,x,E,A){MSApp.execUnsafeLocalFunction(function(){return i(o,x,E,A)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(va=va||document.createElement("div"),va.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=va.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Pr(i,o){if(o){var x=i.firstChild;if(x&&x===i.lastChild&&x.nodeType===3){x.nodeValue=o;return}}i.textContent=o}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w1=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(i){w1.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ar[o]=ar[i]})});function e0(i,o,x){return o==null||typeof o=="boolean"||o===""?"":x||typeof o!="number"||o===0||ar.hasOwnProperty(i)&&ar[i]?(""+o).trim():o+"px"}function i0(i,o){i=i.style;for(var x in o)if(o.hasOwnProperty(x)){var E=x.indexOf("--")===0,A=e0(x,o[x],E);x==="float"&&(x="cssFloat"),E?i.setProperty(x,A):i[x]=A}}var A1=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fh(i,o){if(o){if(A1[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(ut(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(ut(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(ut(61))}if(o.style!=null&&typeof o.style!="object")throw Error(ut(62))}}function Oh(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=null;function qu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ih=null,ds=null,cs=null;function Qd(i){if(i=ea(i)){if(typeof Ih!="function")throw Error(ut(280));var o=i.stateNode;o&&(o=Zo(o),Ih(i.stateNode,i.type,o))}}function n0(i){ds?cs?cs.push(i):cs=[i]:ds=i}function s0(){if(ds){var i=ds,o=cs;if(cs=ds=null,Qd(i),o)for(i=0;i<o.length;i++)Qd(o[i])}}function r0(i,o){return i(o)}function a0(){}var wl=!1;function o0(i,o,x){if(wl)return i(o,x);wl=!0;try{return r0(i,o,x)}finally{wl=!1,(ds!==null||cs!==null)&&(a0(),s0())}}function wr(i,o){var x=i.stateNode;if(x===null)return null;var E=Zo(x);if(E===null)return null;x=E[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(i=i.type,E=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!E;break t;default:i=!1}if(i)return null;if(x&&typeof x!="function")throw Error(ut(231,o,typeof x));return x}var Bh=!1;if(Ci)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Bh=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Bh=!1}function R1(i,o,x,E,A,M,p,T,t){var u=Array.prototype.slice.call(arguments,3);try{o.apply(x,u)}catch(m){this.onError(m)}}var or=!1,qa=null,_a=!1,Nh=null,M1={onError:function(i){or=!0,qa=i}};function L1(i,o,x,E,A,M,p,T,t){or=!1,qa=null,R1.apply(M1,arguments)}function F1(i,o,x,E,A,M,p,T,t){if(L1.apply(this,arguments),or){if(or){var u=qa;or=!1,qa=null}else throw Error(ut(198));_a||(_a=!0,Nh=u)}}function Wn(i){var o=i,x=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(x=o.return),i=o.return;while(i)}return o.tag===3?x:null}function l0(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Zd(i){if(Wn(i)!==i)throw Error(ut(188))}function O1(i){var o=i.alternate;if(!o){if(o=Wn(i),o===null)throw Error(ut(188));return o!==i?null:i}for(var x=i,E=o;;){var A=x.return;if(A===null)break;var M=A.alternate;if(M===null){if(E=A.return,E!==null){x=E;continue}break}if(A.child===M.child){for(M=A.child;M;){if(M===x)return Zd(A),i;if(M===E)return Zd(A),o;M=M.sibling}throw Error(ut(188))}if(x.return!==E.return)x=A,E=M;else{for(var p=!1,T=A.child;T;){if(T===x){p=!0,x=A,E=M;break}if(T===E){p=!0,E=A,x=M;break}T=T.sibling}if(!p){for(T=M.child;T;){if(T===x){p=!0,x=M,E=A;break}if(T===E){p=!0,E=M,x=A;break}T=T.sibling}if(!p)throw Error(ut(189))}}if(x.alternate!==E)throw Error(ut(190))}if(x.tag!==3)throw Error(ut(188));return x.stateNode.current===x?i:o}function h0(i){return i=O1(i),i!==null?u0(i):null}function u0(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=u0(i);if(o!==null)return o;i=i.sibling}return null}var f0=De.unstable_scheduleCallback,Jd=De.unstable_cancelCallback,D1=De.unstable_shouldYield,I1=De.unstable_requestPaint,Jt=De.unstable_now,B1=De.unstable_getCurrentPriorityLevel,_u=De.unstable_ImmediatePriority,d0=De.unstable_UserBlockingPriority,to=De.unstable_NormalPriority,N1=De.unstable_LowPriority,c0=De.unstable_IdlePriority,$o=null,ai=null;function G1(i){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot($o,i,void 0,(i.current.flags&128)===128)}catch{}}var _e=Math.clz32?Math.clz32:U1,b1=Math.log,V1=Math.LN2;function U1(i){return i>>>=0,i===0?32:31-(b1(i)/V1|0)|0}var pa=64,ma=4194304;function nr(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function eo(i,o){var x=i.pendingLanes;if(x===0)return 0;var E=0,A=i.suspendedLanes,M=i.pingedLanes,p=x&268435455;if(p!==0){var T=p&~A;T!==0?E=nr(T):(M&=p,M!==0&&(E=nr(M)))}else p=x&~A,p!==0?E=nr(p):M!==0&&(E=nr(M));if(E===0)return 0;if(o!==0&&o!==E&&!(o&A)&&(A=E&-E,M=o&-o,A>=M||A===16&&(M&4194240)!==0))return o;if(E&4&&(E|=x&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=E;0<o;)x=31-_e(o),A=1<<x,E|=i[x],o&=~A;return E}function z1(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W1(i,o){for(var x=i.suspendedLanes,E=i.pingedLanes,A=i.expirationTimes,M=i.pendingLanes;0<M;){var p=31-_e(M),T=1<<p,t=A[p];t===-1?(!(T&x)||T&E)&&(A[p]=z1(T,o)):t<=o&&(i.expiredLanes|=T),M&=~T}}function Gh(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function v0(){var i=pa;return pa<<=1,!(pa&4194240)&&(pa=64),i}function Al(i){for(var o=[],x=0;31>x;x++)o.push(i);return o}function _r(i,o,x){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-_e(o),i[o]=x}function X1(i,o){var x=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var E=i.eventTimes;for(i=i.expirationTimes;0<x;){var A=31-_e(x),M=1<<A;o[A]=0,E[A]=-1,i[A]=-1,x&=~M}}function tf(i,o){var x=i.entangledLanes|=o;for(i=i.entanglements;x;){var E=31-_e(x),A=1<<E;A&o|i[E]&o&&(i[E]|=o),x&=~A}}var Bt=0;function p0(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var m0,ef,g0,x0,y0,bh=!1,ga=[],$i=null,ji=null,Ki=null,Ar=new Map,Rr=new Map,Vi=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(i,o){switch(i){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ar.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(o.pointerId)}}function js(i,o,x,E,A,M){return i===null||i.nativeEvent!==M?(i={blockedOn:o,domEventName:x,eventSystemFlags:E,nativeEvent:M,targetContainers:[A]},o!==null&&(o=ea(o),o!==null&&ef(o)),i):(i.eventSystemFlags|=E,o=i.targetContainers,A!==null&&o.indexOf(A)===-1&&o.push(A),i)}function H1(i,o,x,E,A){switch(o){case"focusin":return $i=js($i,i,o,x,E,A),!0;case"dragenter":return ji=js(ji,i,o,x,E,A),!0;case"mouseover":return Ki=js(Ki,i,o,x,E,A),!0;case"pointerover":var M=A.pointerId;return Ar.set(M,js(Ar.get(M)||null,i,o,x,E,A)),!0;case"gotpointercapture":return M=A.pointerId,Rr.set(M,js(Rr.get(M)||null,i,o,x,E,A)),!0}return!1}function T0(i){var o=Sn(i.target);if(o!==null){var x=Wn(o);if(x!==null){if(o=x.tag,o===13){if(o=l0(x),o!==null){i.blockedOn=o,y0(i.priority,function(){g0(x)});return}}else if(o===3&&x.stateNode.current.memoizedState.isDehydrated){i.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ba(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var x=Vh(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(x===null){x=i.nativeEvent;var E=new x.constructor(x.type,x);Dh=E,x.target.dispatchEvent(E),Dh=null}else return o=ea(x),o!==null&&ef(o),i.blockedOn=x,!1;o.shift()}return!0}function qd(i,o,x){ba(i)&&x.delete(o)}function $1(){bh=!1,$i!==null&&ba($i)&&($i=null),ji!==null&&ba(ji)&&(ji=null),Ki!==null&&ba(Ki)&&(Ki=null),Ar.forEach(qd),Rr.forEach(qd)}function Ks(i,o){i.blockedOn===o&&(i.blockedOn=null,bh||(bh=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,$1)))}function Mr(i){function o(A){return Ks(A,i)}if(0<ga.length){Ks(ga[0],i);for(var x=1;x<ga.length;x++){var E=ga[x];E.blockedOn===i&&(E.blockedOn=null)}}for($i!==null&&Ks($i,i),ji!==null&&Ks(ji,i),Ki!==null&&Ks(Ki,i),Ar.forEach(o),Rr.forEach(o),x=0;x<Vi.length;x++)E=Vi[x],E.blockedOn===i&&(E.blockedOn=null);for(;0<Vi.length&&(x=Vi[0],x.blockedOn===null);)T0(x),x.blockedOn===null&&Vi.shift()}var vs=Ri.ReactCurrentBatchConfig,io=!0;function j1(i,o,x,E){var A=Bt,M=vs.transition;vs.transition=null;try{Bt=1,nf(i,o,x,E)}finally{Bt=A,vs.transition=M}}function K1(i,o,x,E){var A=Bt,M=vs.transition;vs.transition=null;try{Bt=4,nf(i,o,x,E)}finally{Bt=A,vs.transition=M}}function nf(i,o,x,E){if(io){var A=Vh(i,o,x,E);if(A===null)Gl(i,o,E,no,x),kd(i,E);else if(H1(A,i,o,x,E))E.stopPropagation();else if(kd(i,E),o&4&&-1<Y1.indexOf(i)){for(;A!==null;){var M=ea(A);if(M!==null&&m0(M),M=Vh(i,o,x,E),M===null&&Gl(i,o,E,no,x),M===A)break;A=M}A!==null&&E.stopPropagation()}else Gl(i,o,E,null,x)}}var no=null;function Vh(i,o,x,E){if(no=null,i=qu(E),i=Sn(i),i!==null)if(o=Wn(i),o===null)i=null;else if(x=o.tag,x===13){if(i=l0(o),i!==null)return i;i=null}else if(x===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return no=i,null}function S0(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B1()){case _u:return 1;case d0:return 4;case to:case N1:return 16;case c0:return 536870912;default:return 16}default:return 16}}var zi=null,sf=null,Va=null;function C0(){if(Va)return Va;var i,o=sf,x=o.length,E,A="value"in zi?zi.value:zi.textContent,M=A.length;for(i=0;i<x&&o[i]===A[i];i++);var p=x-i;for(E=1;E<=p&&o[x-E]===A[M-E];E++);return Va=A.slice(i,1<E?1-E:void 0)}function Ua(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function xa(){return!0}function _d(){return!1}function Ne(i){function o(x,E,A,M,p){this._reactName=x,this._targetInst=A,this.type=E,this.nativeEvent=M,this.target=p,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(x=i[T],this[T]=x?x(M):M[T]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?xa:_d,this.isPropagationStopped=_d,this}return Kt(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),o}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rf=Ne(Ns),ta=Kt({},Ns,{view:0,detail:0}),Q1=Ne(ta),Rl,Ml,Qs,jo=Kt({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qs&&(Qs&&i.type==="mousemove"?(Rl=i.screenX-Qs.screenX,Ml=i.screenY-Qs.screenY):Ml=Rl=0,Qs=i),Rl)},movementY:function(i){return"movementY"in i?i.movementY:Ml}}),tc=Ne(jo),Z1=Kt({},jo,{dataTransfer:0}),J1=Ne(Z1),k1=Kt({},ta,{relatedTarget:0}),Ll=Ne(k1),q1=Kt({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),_1=Ne(q1),tT=Kt({},Ns,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),eT=Ne(tT),iT=Kt({},Ns,{data:0}),ec=Ne(iT),nT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aT(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=rT[i])?!!o[i]:!1}function af(){return aT}var oT=Kt({},ta,{key:function(i){if(i.key){var o=nT[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sT[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(i){return i.type==="keypress"?Ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lT=Ne(oT),hT=Kt({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=Ne(hT),uT=Kt({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),fT=Ne(uT),dT=Kt({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),cT=Ne(dT),vT=Kt({},jo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),pT=Ne(vT),mT=[9,13,27,32],of=Ci&&"CompositionEvent"in window,lr=null;Ci&&"documentMode"in document&&(lr=document.documentMode);var gT=Ci&&"TextEvent"in window&&!lr,E0=Ci&&(!of||lr&&8<lr&&11>=lr),nc=" ",sc=!1;function P0(i,o){switch(i){case"keyup":return mT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zn=!1;function xT(i,o){switch(i){case"compositionend":return w0(o);case"keypress":return o.which!==32?null:(sc=!0,nc);case"textInput":return i=o.data,i===nc&&sc?null:i;default:return null}}function yT(i,o){if(Zn)return i==="compositionend"||!of&&P0(i,o)?(i=C0(),Va=sf=zi=null,Zn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return E0&&o.locale!=="ko"?null:o.data;default:return null}}var TT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!TT[i.type]:o==="textarea"}function A0(i,o,x,E){n0(E),o=so(o,"onChange"),0<o.length&&(x=new rf("onChange","change",null,x,E),i.push({event:x,listeners:o}))}var hr=null,Lr=null;function ST(i){b0(i,0)}function Ko(i){var o=qn(i);if(Jp(o))return i}function CT(i,o){if(i==="change")return o}var R0=!1;if(Ci){var Fl;if(Ci){var Ol="oninput"in document;if(!Ol){var ac=document.createElement("div");ac.setAttribute("oninput","return;"),Ol=typeof ac.oninput=="function"}Fl=Ol}else Fl=!1;R0=Fl&&(!document.documentMode||9<document.documentMode)}function oc(){hr&&(hr.detachEvent("onpropertychange",M0),Lr=hr=null)}function M0(i){if(i.propertyName==="value"&&Ko(Lr)){var o=[];A0(o,Lr,i,qu(i)),o0(ST,o)}}function ET(i,o,x){i==="focusin"?(oc(),hr=o,Lr=x,hr.attachEvent("onpropertychange",M0)):i==="focusout"&&oc()}function PT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ko(Lr)}function wT(i,o){if(i==="click")return Ko(o)}function AT(i,o){if(i==="input"||i==="change")return Ko(o)}function RT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ei=typeof Object.is=="function"?Object.is:RT;function Fr(i,o){if(ei(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var x=Object.keys(i),E=Object.keys(o);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var A=x[E];if(!Th.call(o,A)||!ei(i[A],o[A]))return!1}return!0}function lc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hc(i,o){var x=lc(i);i=0;for(var E;x;){if(x.nodeType===3){if(E=i+x.textContent.length,i<=o&&E>=o)return{node:x,offset:o-i};i=E}t:{for(;x;){if(x.nextSibling){x=x.nextSibling;break t}x=x.parentNode}x=void 0}x=lc(x)}}function L0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?L0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function F0(){for(var i=window,o=ka();o instanceof i.HTMLIFrameElement;){try{var x=typeof o.contentWindow.location.href=="string"}catch{x=!1}if(x)i=o.contentWindow;else break;o=ka(i.document)}return o}function lf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function MT(i){var o=F0(),x=i.focusedElem,E=i.selectionRange;if(o!==x&&x&&x.ownerDocument&&L0(x.ownerDocument.documentElement,x)){if(E!==null&&lf(x)){if(o=E.start,i=E.end,i===void 0&&(i=o),"selectionStart"in x)x.selectionStart=o,x.selectionEnd=Math.min(i,x.value.length);else if(i=(o=x.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var A=x.textContent.length,M=Math.min(E.start,A);E=E.end===void 0?M:Math.min(E.end,A),!i.extend&&M>E&&(A=E,E=M,M=A),A=hc(x,M);var p=hc(x,E);A&&p&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==p.node||i.focusOffset!==p.offset)&&(o=o.createRange(),o.setStart(A.node,A.offset),i.removeAllRanges(),M>E?(i.addRange(o),i.extend(p.node,p.offset)):(o.setEnd(p.node,p.offset),i.addRange(o)))}}for(o=[],i=x;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<o.length;x++)i=o[x],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var LT=Ci&&"documentMode"in document&&11>=document.documentMode,Jn=null,Uh=null,ur=null,zh=!1;function uc(i,o,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;zh||Jn==null||Jn!==ka(E)||(E=Jn,"selectionStart"in E&&lf(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),ur&&Fr(ur,E)||(ur=E,E=so(Uh,"onSelect"),0<E.length&&(o=new rf("onSelect","select",null,o,x),i.push({event:o,listeners:E}),o.target=Jn)))}function ya(i,o){var x={};return x[i.toLowerCase()]=o.toLowerCase(),x["Webkit"+i]="webkit"+o,x["Moz"+i]="moz"+o,x}var kn={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},Dl={},O0={};Ci&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function Qo(i){if(Dl[i])return Dl[i];if(!kn[i])return i;var o=kn[i],x;for(x in o)if(o.hasOwnProperty(x)&&x in O0)return Dl[i]=o[x];return i}var D0=Qo("animationend"),I0=Qo("animationiteration"),B0=Qo("animationstart"),N0=Qo("transitionend"),G0=new Map,fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(i,o){G0.set(i,o),zn(o,[i])}for(var Il=0;Il<fc.length;Il++){var Bl=fc[Il],FT=Bl.toLowerCase(),OT=Bl[0].toUpperCase()+Bl.slice(1);hn(FT,"on"+OT)}hn(D0,"onAnimationEnd");hn(I0,"onAnimationIteration");hn(B0,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(N0,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("cancel close invalid load scroll toggle".split(" ").concat(sr));function dc(i,o,x){var E=i.type||"unknown-event";i.currentTarget=x,F1(E,o,void 0,i),i.currentTarget=null}function b0(i,o){o=(o&4)!==0;for(var x=0;x<i.length;x++){var E=i[x],A=E.event;E=E.listeners;t:{var M=void 0;if(o)for(var p=E.length-1;0<=p;p--){var T=E[p],t=T.instance,u=T.currentTarget;if(T=T.listener,t!==M&&A.isPropagationStopped())break t;dc(A,T,u),M=t}else for(p=0;p<E.length;p++){if(T=E[p],t=T.instance,u=T.currentTarget,T=T.listener,t!==M&&A.isPropagationStopped())break t;dc(A,T,u),M=t}}}if(_a)throw i=Nh,_a=!1,Nh=null,i}function Vt(i,o){var x=o[$h];x===void 0&&(x=o[$h]=new Set);var E=i+"__bubble";x.has(E)||(V0(o,i,2,!1),x.add(E))}function Nl(i,o,x){var E=0;o&&(E|=4),V0(x,i,E,o)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Or(i){if(!i[Ta]){i[Ta]=!0,$p.forEach(function(x){x!=="selectionchange"&&(DT.has(x)||Nl(x,!1,i),Nl(x,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ta]||(o[Ta]=!0,Nl("selectionchange",!1,o))}}function V0(i,o,x,E){switch(S0(o)){case 1:var A=j1;break;case 4:A=K1;break;default:A=nf}x=A.bind(null,o,x,i),A=void 0,!Bh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(A=!0),E?A!==void 0?i.addEventListener(o,x,{capture:!0,passive:A}):i.addEventListener(o,x,!0):A!==void 0?i.addEventListener(o,x,{passive:A}):i.addEventListener(o,x,!1)}function Gl(i,o,x,E,A){var M=E;if(!(o&1)&&!(o&2)&&E!==null)t:for(;;){if(E===null)return;var p=E.tag;if(p===3||p===4){var T=E.stateNode.containerInfo;if(T===A||T.nodeType===8&&T.parentNode===A)break;if(p===4)for(p=E.return;p!==null;){var t=p.tag;if((t===3||t===4)&&(t=p.stateNode.containerInfo,t===A||t.nodeType===8&&t.parentNode===A))return;p=p.return}for(;T!==null;){if(p=Sn(T),p===null)return;if(t=p.tag,t===5||t===6){E=M=p;continue t}T=T.parentNode}}E=E.return}o0(function(){var u=M,m=qu(x),l=[];t:{var s=G0.get(i);if(s!==void 0){var a=rf,e=i;switch(i){case"keypress":if(Ua(x)===0)break t;case"keydown":case"keyup":a=lT;break;case"focusin":e="focus",a=Ll;break;case"focusout":e="blur",a=Ll;break;case"beforeblur":case"afterblur":a=Ll;break;case"click":if(x.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=J1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=fT;break;case D0:case I0:case B0:a=_1;break;case N0:a=cT;break;case"scroll":a=Q1;break;case"wheel":a=pT;break;case"copy":case"cut":case"paste":a=eT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=ic}var r=(o&4)!==0,d=!r&&i==="scroll",n=r?s!==null?s+"Capture":null:s;r=[];for(var h=u,f;h!==null;){f=h;var c=f.stateNode;if(f.tag===5&&c!==null&&(f=c,n!==null&&(c=wr(h,n),c!=null&&r.push(Dr(h,c,f)))),d)break;h=h.return}0<r.length&&(s=new a(s,e,null,x,m),l.push({event:s,listeners:r}))}}if(!(o&7)){t:{if(s=i==="mouseover"||i==="pointerover",a=i==="mouseout"||i==="pointerout",s&&x!==Dh&&(e=x.relatedTarget||x.fromElement)&&(Sn(e)||e[Ei]))break t;if((a||s)&&(s=m.window===m?m:(s=m.ownerDocument)?s.defaultView||s.parentWindow:window,a?(e=x.relatedTarget||x.toElement,a=u,e=e?Sn(e):null,e!==null&&(d=Wn(e),e!==d||e.tag!==5&&e.tag!==6)&&(e=null)):(a=null,e=u),a!==e)){if(r=tc,c="onMouseLeave",n="onMouseEnter",h="mouse",(i==="pointerout"||i==="pointerover")&&(r=ic,c="onPointerLeave",n="onPointerEnter",h="pointer"),d=a==null?s:qn(a),f=e==null?s:qn(e),s=new r(c,h+"leave",a,x,m),s.target=d,s.relatedTarget=f,c=null,Sn(m)===u&&(r=new r(n,h+"enter",e,x,m),r.target=f,r.relatedTarget=d,c=r),d=c,a&&e)e:{for(r=a,n=e,h=0,f=r;f;f=$n(f))h++;for(f=0,c=n;c;c=$n(c))f++;for(;0<h-f;)r=$n(r),h--;for(;0<f-h;)n=$n(n),f--;for(;h--;){if(r===n||n!==null&&r===n.alternate)break e;r=$n(r),n=$n(n)}r=null}else r=null;a!==null&&cc(l,s,a,r,!1),e!==null&&d!==null&&cc(l,d,e,r,!0)}}t:{if(s=u?qn(u):window,a=s.nodeName&&s.nodeName.toLowerCase(),a==="select"||a==="input"&&s.type==="file")var v=CT;else if(rc(s))if(R0)v=AT;else{v=PT;var g=ET}else(a=s.nodeName)&&a.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")&&(v=wT);if(v&&(v=v(i,u))){A0(l,v,x,m);break t}g&&g(i,s,u),i==="focusout"&&(g=s._wrapperState)&&g.controlled&&s.type==="number"&&Rh(s,"number",s.value)}switch(g=u?qn(u):window,i){case"focusin":(rc(g)||g.contentEditable==="true")&&(Jn=g,Uh=u,ur=null);break;case"focusout":ur=Uh=Jn=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,uc(l,x,m);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":uc(l,x,m)}var y;if(of)t:{switch(i){case"compositionstart":var C="onCompositionStart";break t;case"compositionend":C="onCompositionEnd";break t;case"compositionupdate":C="onCompositionUpdate";break t}C=void 0}else Zn?P0(i,x)&&(C="onCompositionEnd"):i==="keydown"&&x.keyCode===229&&(C="onCompositionStart");C&&(E0&&x.locale!=="ko"&&(Zn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Zn&&(y=C0()):(zi=m,sf="value"in zi?zi.value:zi.textContent,Zn=!0)),g=so(u,C),0<g.length&&(C=new ec(C,i,null,x,m),l.push({event:C,listeners:g}),y?C.data=y:(y=w0(x),y!==null&&(C.data=y)))),(y=gT?xT(i,x):yT(i,x))&&(u=so(u,"onBeforeInput"),0<u.length&&(m=new ec("onBeforeInput","beforeinput",null,x,m),l.push({event:m,listeners:u}),m.data=y))}b0(l,o)})}function Dr(i,o,x){return{instance:i,listener:o,currentTarget:x}}function so(i,o){for(var x=o+"Capture",E=[];i!==null;){var A=i,M=A.stateNode;A.tag===5&&M!==null&&(A=M,M=wr(i,x),M!=null&&E.unshift(Dr(i,M,A)),M=wr(i,o),M!=null&&E.push(Dr(i,M,A))),i=i.return}return E}function $n(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function cc(i,o,x,E,A){for(var M=o._reactName,p=[];x!==null&&x!==E;){var T=x,t=T.alternate,u=T.stateNode;if(t!==null&&t===E)break;T.tag===5&&u!==null&&(T=u,A?(t=wr(x,M),t!=null&&p.unshift(Dr(x,t,T))):A||(t=wr(x,M),t!=null&&p.push(Dr(x,t,T)))),x=x.return}p.length!==0&&i.push({event:o,listeners:p})}var IT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function vc(i){return(typeof i=="string"?i:""+i).replace(IT,`
`).replace(BT,"")}function Sa(i,o,x){if(o=vc(o),vc(i)!==o&&x)throw Error(ut(425))}function ro(){}var Wh=null,Xh=null;function Yh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hh=typeof setTimeout=="function"?setTimeout:void 0,NT=typeof clearTimeout=="function"?clearTimeout:void 0,pc=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof pc<"u"?function(i){return pc.resolve(null).then(i).catch(bT)}:Hh;function bT(i){setTimeout(function(){throw i})}function bl(i,o){var x=o,E=0;do{var A=x.nextSibling;if(i.removeChild(x),A&&A.nodeType===8)if(x=A.data,x==="/$"){if(E===0){i.removeChild(A),Mr(o);return}E--}else x!=="$"&&x!=="$?"&&x!=="$!"||E++;x=A}while(x);Mr(o)}function Qi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function mc(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var x=i.data;if(x==="$"||x==="$!"||x==="$?"){if(o===0)return i;o--}else x==="/$"&&o++}i=i.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),si="__reactFiber$"+Gs,Ir="__reactProps$"+Gs,Ei="__reactContainer$"+Gs,$h="__reactEvents$"+Gs,VT="__reactListeners$"+Gs,UT="__reactHandles$"+Gs;function Sn(i){var o=i[si];if(o)return o;for(var x=i.parentNode;x;){if(o=x[Ei]||x[si]){if(x=o.alternate,o.child!==null||x!==null&&x.child!==null)for(i=mc(i);i!==null;){if(x=i[si])return x;i=mc(i)}return o}i=x,x=i.parentNode}return null}function ea(i){return i=i[si]||i[Ei],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function qn(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(ut(33))}function Zo(i){return i[Ir]||null}var jh=[],_n=-1;function un(i){return{current:i}}function Wt(i){0>_n||(i.current=jh[_n],jh[_n]=null,_n--)}function Gt(i,o){_n++,jh[_n]=i.current,i.current=o}var rn={},pe=un(rn),Ce=un(!1),Bn=rn;function xs(i,o){var x=i.type.contextTypes;if(!x)return rn;var E=i.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===o)return E.__reactInternalMemoizedMaskedChildContext;var A={},M;for(M in x)A[M]=o[M];return E&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=A),A}function Ee(i){return i=i.childContextTypes,i!=null}function ao(){Wt(Ce),Wt(pe)}function gc(i,o,x){if(pe.current!==rn)throw Error(ut(168));Gt(pe,o),Gt(Ce,x)}function U0(i,o,x){var E=i.stateNode;if(o=o.childContextTypes,typeof E.getChildContext!="function")return x;E=E.getChildContext();for(var A in E)if(!(A in o))throw Error(ut(108,E1(i)||"Unknown",A));return Kt({},x,E)}function oo(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||rn,Bn=pe.current,Gt(pe,i),Gt(Ce,Ce.current),!0}function xc(i,o,x){var E=i.stateNode;if(!E)throw Error(ut(169));x?(i=U0(i,o,Bn),E.__reactInternalMemoizedMergedChildContext=i,Wt(Ce),Wt(pe),Gt(pe,i)):Wt(Ce),Gt(Ce,x)}var ci=null,Jo=!1,Vl=!1;function z0(i){ci===null?ci=[i]:ci.push(i)}function zT(i){Jo=!0,z0(i)}function fn(){if(!Vl&&ci!==null){Vl=!0;var i=0,o=Bt;try{var x=ci;for(Bt=1;i<x.length;i++){var E=x[i];do E=E(!0);while(E!==null)}ci=null,Jo=!1}catch(A){throw ci!==null&&(ci=ci.slice(i+1)),f0(_u,fn),A}finally{Bt=o,Vl=!1}}return null}var ts=[],es=0,lo=null,ho=0,Ue=[],ze=0,Nn=null,pi=1,mi="";function pn(i,o){ts[es++]=ho,ts[es++]=lo,lo=i,ho=o}function W0(i,o,x){Ue[ze++]=pi,Ue[ze++]=mi,Ue[ze++]=Nn,Nn=i;var E=pi;i=mi;var A=32-_e(E)-1;E&=~(1<<A),x+=1;var M=32-_e(o)+A;if(30<M){var p=A-A%5;M=(E&(1<<p)-1).toString(32),E>>=p,A-=p,pi=1<<32-_e(o)+A|x<<A|E,mi=M+i}else pi=1<<M|x<<A|E,mi=i}function hf(i){i.return!==null&&(pn(i,1),W0(i,1,0))}function uf(i){for(;i===lo;)lo=ts[--es],ts[es]=null,ho=ts[--es],ts[es]=null;for(;i===Nn;)Nn=Ue[--ze],Ue[ze]=null,mi=Ue[--ze],Ue[ze]=null,pi=Ue[--ze],Ue[ze]=null}var Oe=null,Le=null,Xt=!1,qe=null;function X0(i,o){var x=Xe(5,null,null,0);x.elementType="DELETED",x.stateNode=o,x.return=i,o=i.deletions,o===null?(i.deletions=[x],i.flags|=16):o.push(x)}function yc(i,o){switch(i.tag){case 5:var x=i.type;return o=o.nodeType!==1||x.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Oe=i,Le=Qi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Oe=i,Le=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(x=Nn!==null?{id:pi,overflow:mi}:null,i.memoizedState={dehydrated:o,treeContext:x,retryLane:1073741824},x=Xe(18,null,null,0),x.stateNode=o,x.return=i,i.child=x,Oe=i,Le=null,!0):!1;default:return!1}}function Kh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Qh(i){if(Xt){var o=Le;if(o){var x=o;if(!yc(i,o)){if(Kh(i))throw Error(ut(418));o=Qi(x.nextSibling);var E=Oe;o&&yc(i,o)?X0(E,x):(i.flags=i.flags&-4097|2,Xt=!1,Oe=i)}}else{if(Kh(i))throw Error(ut(418));i.flags=i.flags&-4097|2,Xt=!1,Oe=i}}}function Tc(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Oe=i}function Ca(i){if(i!==Oe)return!1;if(!Xt)return Tc(i),Xt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Yh(i.type,i.memoizedProps)),o&&(o=Le)){if(Kh(i))throw Y0(),Error(ut(418));for(;o;)X0(i,o),o=Qi(o.nextSibling)}if(Tc(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ut(317));t:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var x=i.data;if(x==="/$"){if(o===0){Le=Qi(i.nextSibling);break t}o--}else x!=="$"&&x!=="$!"&&x!=="$?"||o++}i=i.nextSibling}Le=null}}else Le=Oe?Qi(i.stateNode.nextSibling):null;return!0}function Y0(){for(var i=Le;i;)i=Qi(i.nextSibling)}function ys(){Le=Oe=null,Xt=!1}function ff(i){qe===null?qe=[i]:qe.push(i)}var WT=Ri.ReactCurrentBatchConfig;function Zs(i,o,x){if(i=x.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(ut(309));var E=x.stateNode}if(!E)throw Error(ut(147,i));var A=E,M=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===M?o.ref:(o=function(p){var T=A.refs;p===null?delete T[M]:T[M]=p},o._stringRef=M,o)}if(typeof i!="string")throw Error(ut(284));if(!x._owner)throw Error(ut(290,i))}return i}function Ea(i,o){throw i=Object.prototype.toString.call(o),Error(ut(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Sc(i){var o=i._init;return o(i._payload)}function H0(i){function o(n,h){if(i){var f=n.deletions;f===null?(n.deletions=[h],n.flags|=16):f.push(h)}}function x(n,h){if(!i)return null;for(;h!==null;)o(n,h),h=h.sibling;return null}function E(n,h){for(n=new Map;h!==null;)h.key!==null?n.set(h.key,h):n.set(h.index,h),h=h.sibling;return n}function A(n,h){return n=qi(n,h),n.index=0,n.sibling=null,n}function M(n,h,f){return n.index=f,i?(f=n.alternate,f!==null?(f=f.index,f<h?(n.flags|=2,h):f):(n.flags|=2,h)):(n.flags|=1048576,h)}function p(n){return i&&n.alternate===null&&(n.flags|=2),n}function T(n,h,f,c){return h===null||h.tag!==6?(h=$l(f,n.mode,c),h.return=n,h):(h=A(h,f),h.return=n,h)}function t(n,h,f,c){var v=f.type;return v===Qn?m(n,h,f.props.children,c,f.key):h!==null&&(h.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Ni&&Sc(v)===h.type)?(c=A(h,f.props),c.ref=Zs(n,h,f),c.return=n,c):(c=ja(f.type,f.key,f.props,null,n.mode,c),c.ref=Zs(n,h,f),c.return=n,c)}function u(n,h,f,c){return h===null||h.tag!==4||h.stateNode.containerInfo!==f.containerInfo||h.stateNode.implementation!==f.implementation?(h=jl(f,n.mode,c),h.return=n,h):(h=A(h,f.children||[]),h.return=n,h)}function m(n,h,f,c,v){return h===null||h.tag!==7?(h=Ln(f,n.mode,c,v),h.return=n,h):(h=A(h,f),h.return=n,h)}function l(n,h,f){if(typeof h=="string"&&h!==""||typeof h=="number")return h=$l(""+h,n.mode,f),h.return=n,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case da:return f=ja(h.type,h.key,h.props,null,n.mode,f),f.ref=Zs(n,null,h),f.return=n,f;case Kn:return h=jl(h,n.mode,f),h.return=n,h;case Ni:var c=h._init;return l(n,c(h._payload),f)}if(ir(h)||Hs(h))return h=Ln(h,n.mode,f,null),h.return=n,h;Ea(n,h)}return null}function s(n,h,f,c){var v=h!==null?h.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return v!==null?null:T(n,h,""+f,c);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case da:return f.key===v?t(n,h,f,c):null;case Kn:return f.key===v?u(n,h,f,c):null;case Ni:return v=f._init,s(n,h,v(f._payload),c)}if(ir(f)||Hs(f))return v!==null?null:m(n,h,f,c,null);Ea(n,f)}return null}function a(n,h,f,c,v){if(typeof c=="string"&&c!==""||typeof c=="number")return n=n.get(f)||null,T(h,n,""+c,v);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case da:return n=n.get(c.key===null?f:c.key)||null,t(h,n,c,v);case Kn:return n=n.get(c.key===null?f:c.key)||null,u(h,n,c,v);case Ni:var g=c._init;return a(n,h,f,g(c._payload),v)}if(ir(c)||Hs(c))return n=n.get(f)||null,m(h,n,c,v,null);Ea(h,c)}return null}function e(n,h,f,c){for(var v=null,g=null,y=h,C=h=0,S=null;y!==null&&C<f.length;C++){y.index>C?(S=y,y=null):S=y.sibling;var P=s(n,y,f[C],c);if(P===null){y===null&&(y=S);break}i&&y&&P.alternate===null&&o(n,y),h=M(P,h,C),g===null?v=P:g.sibling=P,g=P,y=S}if(C===f.length)return x(n,y),Xt&&pn(n,C),v;if(y===null){for(;C<f.length;C++)y=l(n,f[C],c),y!==null&&(h=M(y,h,C),g===null?v=y:g.sibling=y,g=y);return Xt&&pn(n,C),v}for(y=E(n,y);C<f.length;C++)S=a(y,n,C,f[C],c),S!==null&&(i&&S.alternate!==null&&y.delete(S.key===null?C:S.key),h=M(S,h,C),g===null?v=S:g.sibling=S,g=S);return i&&y.forEach(function(w){return o(n,w)}),Xt&&pn(n,C),v}function r(n,h,f,c){var v=Hs(f);if(typeof v!="function")throw Error(ut(150));if(f=v.call(f),f==null)throw Error(ut(151));for(var g=v=null,y=h,C=h=0,S=null,P=f.next();y!==null&&!P.done;C++,P=f.next()){y.index>C?(S=y,y=null):S=y.sibling;var w=s(n,y,P.value,c);if(w===null){y===null&&(y=S);break}i&&y&&w.alternate===null&&o(n,y),h=M(w,h,C),g===null?v=w:g.sibling=w,g=w,y=S}if(P.done)return x(n,y),Xt&&pn(n,C),v;if(y===null){for(;!P.done;C++,P=f.next())P=l(n,P.value,c),P!==null&&(h=M(P,h,C),g===null?v=P:g.sibling=P,g=P);return Xt&&pn(n,C),v}for(y=E(n,y);!P.done;C++,P=f.next())P=a(y,n,C,P.value,c),P!==null&&(i&&P.alternate!==null&&y.delete(P.key===null?C:P.key),h=M(P,h,C),g===null?v=P:g.sibling=P,g=P);return i&&y.forEach(function(R){return o(n,R)}),Xt&&pn(n,C),v}function d(n,h,f,c){if(typeof f=="object"&&f!==null&&f.type===Qn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case da:t:{for(var v=f.key,g=h;g!==null;){if(g.key===v){if(v=f.type,v===Qn){if(g.tag===7){x(n,g.sibling),h=A(g,f.props.children),h.return=n,n=h;break t}}else if(g.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Ni&&Sc(v)===g.type){x(n,g.sibling),h=A(g,f.props),h.ref=Zs(n,g,f),h.return=n,n=h;break t}x(n,g);break}else o(n,g);g=g.sibling}f.type===Qn?(h=Ln(f.props.children,n.mode,c,f.key),h.return=n,n=h):(c=ja(f.type,f.key,f.props,null,n.mode,c),c.ref=Zs(n,h,f),c.return=n,n=c)}return p(n);case Kn:t:{for(g=f.key;h!==null;){if(h.key===g)if(h.tag===4&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){x(n,h.sibling),h=A(h,f.children||[]),h.return=n,n=h;break t}else{x(n,h);break}else o(n,h);h=h.sibling}h=jl(f,n.mode,c),h.return=n,n=h}return p(n);case Ni:return g=f._init,d(n,h,g(f._payload),c)}if(ir(f))return e(n,h,f,c);if(Hs(f))return r(n,h,f,c);Ea(n,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,h!==null&&h.tag===6?(x(n,h.sibling),h=A(h,f),h.return=n,n=h):(x(n,h),h=$l(f,n.mode,c),h.return=n,n=h),p(n)):x(n,h)}return d}var Ts=H0(!0),$0=H0(!1),uo=un(null),fo=null,is=null,df=null;function cf(){df=is=fo=null}function vf(i){var o=uo.current;Wt(uo),i._currentValue=o}function Zh(i,o,x){for(;i!==null;){var E=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,E!==null&&(E.childLanes|=o)):E!==null&&(E.childLanes&o)!==o&&(E.childLanes|=o),i===x)break;i=i.return}}function ps(i,o){fo=i,df=is=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Se=!0),i.firstContext=null)}function He(i){var o=i._currentValue;if(df!==i)if(i={context:i,memoizedValue:o,next:null},is===null){if(fo===null)throw Error(ut(308));is=i,fo.dependencies={lanes:0,firstContext:i}}else is=is.next=i;return o}var Cn=null;function pf(i){Cn===null?Cn=[i]:Cn.push(i)}function j0(i,o,x,E){var A=o.interleaved;return A===null?(x.next=x,pf(o)):(x.next=A.next,A.next=x),o.interleaved=x,Pi(i,E)}function Pi(i,o){i.lanes|=o;var x=i.alternate;for(x!==null&&(x.lanes|=o),x=i,i=i.return;i!==null;)i.childLanes|=o,x=i.alternate,x!==null&&(x.childLanes|=o),x=i,i=i.return;return x.tag===3?x.stateNode:null}var Gi=!1;function mf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function xi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Zi(i,o,x){var E=i.updateQueue;if(E===null)return null;if(E=E.shared,Ot&2){var A=E.pending;return A===null?o.next=o:(o.next=A.next,A.next=o),E.pending=o,Pi(i,x)}return A=E.interleaved,A===null?(o.next=o,pf(E)):(o.next=A.next,A.next=o),E.interleaved=o,Pi(i,x)}function za(i,o,x){if(o=o.updateQueue,o!==null&&(o=o.shared,(x&4194240)!==0)){var E=o.lanes;E&=i.pendingLanes,x|=E,o.lanes=x,tf(i,x)}}function Cc(i,o){var x=i.updateQueue,E=i.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var A=null,M=null;if(x=x.firstBaseUpdate,x!==null){do{var p={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};M===null?A=M=p:M=M.next=p,x=x.next}while(x!==null);M===null?A=M=o:M=M.next=o}else A=M=o;x={baseState:E.baseState,firstBaseUpdate:A,lastBaseUpdate:M,shared:E.shared,effects:E.effects},i.updateQueue=x;return}i=x.lastBaseUpdate,i===null?x.firstBaseUpdate=o:i.next=o,x.lastBaseUpdate=o}function co(i,o,x,E){var A=i.updateQueue;Gi=!1;var M=A.firstBaseUpdate,p=A.lastBaseUpdate,T=A.shared.pending;if(T!==null){A.shared.pending=null;var t=T,u=t.next;t.next=null,p===null?M=u:p.next=u,p=t;var m=i.alternate;m!==null&&(m=m.updateQueue,T=m.lastBaseUpdate,T!==p&&(T===null?m.firstBaseUpdate=u:T.next=u,m.lastBaseUpdate=t))}if(M!==null){var l=A.baseState;p=0,m=u=t=null,T=M;do{var s=T.lane,a=T.eventTime;if((E&s)===s){m!==null&&(m=m.next={eventTime:a,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});t:{var e=i,r=T;switch(s=o,a=x,r.tag){case 1:if(e=r.payload,typeof e=="function"){l=e.call(a,l,s);break t}l=e;break t;case 3:e.flags=e.flags&-65537|128;case 0:if(e=r.payload,s=typeof e=="function"?e.call(a,l,s):e,s==null)break t;l=Kt({},l,s);break t;case 2:Gi=!0}}T.callback!==null&&T.lane!==0&&(i.flags|=64,s=A.effects,s===null?A.effects=[T]:s.push(T))}else a={eventTime:a,lane:s,tag:T.tag,payload:T.payload,callback:T.callback,next:null},m===null?(u=m=a,t=l):m=m.next=a,p|=s;if(T=T.next,T===null){if(T=A.shared.pending,T===null)break;s=T,T=s.next,s.next=null,A.lastBaseUpdate=s,A.shared.pending=null}}while(!0);if(m===null&&(t=l),A.baseState=t,A.firstBaseUpdate=u,A.lastBaseUpdate=m,o=A.shared.interleaved,o!==null){A=o;do p|=A.lane,A=A.next;while(A!==o)}else M===null&&(A.shared.lanes=0);bn|=p,i.lanes=p,i.memoizedState=l}}function Ec(i,o,x){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var E=i[o],A=E.callback;if(A!==null){if(E.callback=null,E=x,typeof A!="function")throw Error(ut(191,A));A.call(E)}}}var ia={},oi=un(ia),Br=un(ia),Nr=un(ia);function En(i){if(i===ia)throw Error(ut(174));return i}function gf(i,o){switch(Gt(Nr,o),Gt(Br,i),Gt(oi,ia),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Lh(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Lh(o,i)}Wt(oi),Gt(oi,o)}function Ss(){Wt(oi),Wt(Br),Wt(Nr)}function Q0(i){En(Nr.current);var o=En(oi.current),x=Lh(o,i.type);o!==x&&(Gt(Br,i),Gt(oi,x))}function xf(i){Br.current===i&&(Wt(oi),Wt(Br))}var Yt=un(0);function vo(i){for(var o=i;o!==null;){if(o.tag===13){var x=o.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ul=[];function yf(){for(var i=0;i<Ul.length;i++)Ul[i]._workInProgressVersionPrimary=null;Ul.length=0}var Wa=Ri.ReactCurrentDispatcher,zl=Ri.ReactCurrentBatchConfig,Gn=0,$t=null,te=null,ne=null,po=!1,fr=!1,Gr=0,XT=0;function he(){throw Error(ut(321))}function Tf(i,o){if(o===null)return!1;for(var x=0;x<o.length&&x<i.length;x++)if(!ei(i[x],o[x]))return!1;return!0}function Sf(i,o,x,E,A,M){if(Gn=M,$t=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Wa.current=i===null||i.memoizedState===null?jT:KT,i=x(E,A),fr){M=0;do{if(fr=!1,Gr=0,25<=M)throw Error(ut(301));M+=1,ne=te=null,o.updateQueue=null,Wa.current=QT,i=x(E,A)}while(fr)}if(Wa.current=mo,o=te!==null&&te.next!==null,Gn=0,ne=te=$t=null,po=!1,o)throw Error(ut(300));return i}function Cf(){var i=Gr!==0;return Gr=0,i}function ni(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?$t.memoizedState=ne=i:ne=ne.next=i,ne}function $e(){if(te===null){var i=$t.alternate;i=i!==null?i.memoizedState:null}else i=te.next;var o=ne===null?$t.memoizedState:ne.next;if(o!==null)ne=o,te=i;else{if(i===null)throw Error(ut(310));te=i,i={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},ne===null?$t.memoizedState=ne=i:ne=ne.next=i}return ne}function br(i,o){return typeof o=="function"?o(i):o}function Wl(i){var o=$e(),x=o.queue;if(x===null)throw Error(ut(311));x.lastRenderedReducer=i;var E=te,A=E.baseQueue,M=x.pending;if(M!==null){if(A!==null){var p=A.next;A.next=M.next,M.next=p}E.baseQueue=A=M,x.pending=null}if(A!==null){M=A.next,E=E.baseState;var T=p=null,t=null,u=M;do{var m=u.lane;if((Gn&m)===m)t!==null&&(t=t.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),E=u.hasEagerState?u.eagerState:i(E,u.action);else{var l={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};t===null?(T=t=l,p=E):t=t.next=l,$t.lanes|=m,bn|=m}u=u.next}while(u!==null&&u!==M);t===null?p=E:t.next=T,ei(E,o.memoizedState)||(Se=!0),o.memoizedState=E,o.baseState=p,o.baseQueue=t,x.lastRenderedState=E}if(i=x.interleaved,i!==null){A=i;do M=A.lane,$t.lanes|=M,bn|=M,A=A.next;while(A!==i)}else A===null&&(x.lanes=0);return[o.memoizedState,x.dispatch]}function Xl(i){var o=$e(),x=o.queue;if(x===null)throw Error(ut(311));x.lastRenderedReducer=i;var E=x.dispatch,A=x.pending,M=o.memoizedState;if(A!==null){x.pending=null;var p=A=A.next;do M=i(M,p.action),p=p.next;while(p!==A);ei(M,o.memoizedState)||(Se=!0),o.memoizedState=M,o.baseQueue===null&&(o.baseState=M),x.lastRenderedState=M}return[M,E]}function Z0(){}function J0(i,o){var x=$t,E=$e(),A=o(),M=!ei(E.memoizedState,A);if(M&&(E.memoizedState=A,Se=!0),E=E.queue,Ef(_0.bind(null,x,E,i),[i]),E.getSnapshot!==o||M||ne!==null&&ne.memoizedState.tag&1){if(x.flags|=2048,Vr(9,q0.bind(null,x,E,A,o),void 0,null),se===null)throw Error(ut(349));Gn&30||k0(x,o,A)}return A}function k0(i,o,x){i.flags|=16384,i={getSnapshot:o,value:x},o=$t.updateQueue,o===null?(o={lastEffect:null,stores:null},$t.updateQueue=o,o.stores=[i]):(x=o.stores,x===null?o.stores=[i]:x.push(i))}function q0(i,o,x,E){o.value=x,o.getSnapshot=E,tm(o)&&em(i)}function _0(i,o,x){return x(function(){tm(o)&&em(i)})}function tm(i){var o=i.getSnapshot;i=i.value;try{var x=o();return!ei(i,x)}catch{return!0}}function em(i){var o=Pi(i,1);o!==null&&ti(o,i,1,-1)}function Pc(i){var o=ni();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:i},o.queue=i,i=i.dispatch=$T.bind(null,$t,i),[o.memoizedState,i]}function Vr(i,o,x,E){return i={tag:i,create:o,destroy:x,deps:E,next:null},o=$t.updateQueue,o===null?(o={lastEffect:null,stores:null},$t.updateQueue=o,o.lastEffect=i.next=i):(x=o.lastEffect,x===null?o.lastEffect=i.next=i:(E=x.next,x.next=i,i.next=E,o.lastEffect=i)),i}function im(){return $e().memoizedState}function Xa(i,o,x,E){var A=ni();$t.flags|=i,A.memoizedState=Vr(1|o,x,void 0,E===void 0?null:E)}function ko(i,o,x,E){var A=$e();E=E===void 0?null:E;var M=void 0;if(te!==null){var p=te.memoizedState;if(M=p.destroy,E!==null&&Tf(E,p.deps)){A.memoizedState=Vr(o,x,M,E);return}}$t.flags|=i,A.memoizedState=Vr(1|o,x,M,E)}function wc(i,o){return Xa(8390656,8,i,o)}function Ef(i,o){return ko(2048,8,i,o)}function nm(i,o){return ko(4,2,i,o)}function sm(i,o){return ko(4,4,i,o)}function rm(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function am(i,o,x){return x=x!=null?x.concat([i]):null,ko(4,4,rm.bind(null,o,i),x)}function Pf(){}function om(i,o){var x=$e();o=o===void 0?null:o;var E=x.memoizedState;return E!==null&&o!==null&&Tf(o,E[1])?E[0]:(x.memoizedState=[i,o],i)}function lm(i,o){var x=$e();o=o===void 0?null:o;var E=x.memoizedState;return E!==null&&o!==null&&Tf(o,E[1])?E[0]:(i=i(),x.memoizedState=[i,o],i)}function hm(i,o,x){return Gn&21?(ei(x,o)||(x=v0(),$t.lanes|=x,bn|=x,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Se=!0),i.memoizedState=x)}function YT(i,o){var x=Bt;Bt=x!==0&&4>x?x:4,i(!0);var E=zl.transition;zl.transition={};try{i(!1),o()}finally{Bt=x,zl.transition=E}}function um(){return $e().memoizedState}function HT(i,o,x){var E=ki(i);if(x={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null},fm(i))dm(o,x);else if(x=j0(i,o,x,E),x!==null){var A=ge();ti(x,i,E,A),cm(x,o,E)}}function $T(i,o,x){var E=ki(i),A={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null};if(fm(i))dm(o,A);else{var M=i.alternate;if(i.lanes===0&&(M===null||M.lanes===0)&&(M=o.lastRenderedReducer,M!==null))try{var p=o.lastRenderedState,T=M(p,x);if(A.hasEagerState=!0,A.eagerState=T,ei(T,p)){var t=o.interleaved;t===null?(A.next=A,pf(o)):(A.next=t.next,t.next=A),o.interleaved=A;return}}catch{}finally{}x=j0(i,o,A,E),x!==null&&(A=ge(),ti(x,i,E,A),cm(x,o,E))}}function fm(i){var o=i.alternate;return i===$t||o!==null&&o===$t}function dm(i,o){fr=po=!0;var x=i.pending;x===null?o.next=o:(o.next=x.next,x.next=o),i.pending=o}function cm(i,o,x){if(x&4194240){var E=o.lanes;E&=i.pendingLanes,x|=E,o.lanes=x,tf(i,x)}}var mo={readContext:He,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},jT={readContext:He,useCallback:function(i,o){return ni().memoizedState=[i,o===void 0?null:o],i},useContext:He,useEffect:wc,useImperativeHandle:function(i,o,x){return x=x!=null?x.concat([i]):null,Xa(4194308,4,rm.bind(null,o,i),x)},useLayoutEffect:function(i,o){return Xa(4194308,4,i,o)},useInsertionEffect:function(i,o){return Xa(4,2,i,o)},useMemo:function(i,o){var x=ni();return o=o===void 0?null:o,i=i(),x.memoizedState=[i,o],i},useReducer:function(i,o,x){var E=ni();return o=x!==void 0?x(o):o,E.memoizedState=E.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},E.queue=i,i=i.dispatch=HT.bind(null,$t,i),[E.memoizedState,i]},useRef:function(i){var o=ni();return i={current:i},o.memoizedState=i},useState:Pc,useDebugValue:Pf,useDeferredValue:function(i){return ni().memoizedState=i},useTransition:function(){var i=Pc(!1),o=i[0];return i=YT.bind(null,i[1]),ni().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,x){var E=$t,A=ni();if(Xt){if(x===void 0)throw Error(ut(407));x=x()}else{if(x=o(),se===null)throw Error(ut(349));Gn&30||k0(E,o,x)}A.memoizedState=x;var M={value:x,getSnapshot:o};return A.queue=M,wc(_0.bind(null,E,M,i),[i]),E.flags|=2048,Vr(9,q0.bind(null,E,M,x,o),void 0,null),x},useId:function(){var i=ni(),o=se.identifierPrefix;if(Xt){var x=mi,E=pi;x=(E&~(1<<32-_e(E)-1)).toString(32)+x,o=":"+o+"R"+x,x=Gr++,0<x&&(o+="H"+x.toString(32)),o+=":"}else x=XT++,o=":"+o+"r"+x.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},KT={readContext:He,useCallback:om,useContext:He,useEffect:Ef,useImperativeHandle:am,useInsertionEffect:nm,useLayoutEffect:sm,useMemo:lm,useReducer:Wl,useRef:im,useState:function(){return Wl(br)},useDebugValue:Pf,useDeferredValue:function(i){var o=$e();return hm(o,te.memoizedState,i)},useTransition:function(){var i=Wl(br)[0],o=$e().memoizedState;return[i,o]},useMutableSource:Z0,useSyncExternalStore:J0,useId:um,unstable_isNewReconciler:!1},QT={readContext:He,useCallback:om,useContext:He,useEffect:Ef,useImperativeHandle:am,useInsertionEffect:nm,useLayoutEffect:sm,useMemo:lm,useReducer:Xl,useRef:im,useState:function(){return Xl(br)},useDebugValue:Pf,useDeferredValue:function(i){var o=$e();return te===null?o.memoizedState=i:hm(o,te.memoizedState,i)},useTransition:function(){var i=Xl(br)[0],o=$e().memoizedState;return[i,o]},useMutableSource:Z0,useSyncExternalStore:J0,useId:um,unstable_isNewReconciler:!1};function Je(i,o){if(i&&i.defaultProps){o=Kt({},o),i=i.defaultProps;for(var x in i)o[x]===void 0&&(o[x]=i[x]);return o}return o}function Jh(i,o,x,E){o=i.memoizedState,x=x(E,o),x=x==null?o:Kt({},o,x),i.memoizedState=x,i.lanes===0&&(i.updateQueue.baseState=x)}var qo={isMounted:function(i){return(i=i._reactInternals)?Wn(i)===i:!1},enqueueSetState:function(i,o,x){i=i._reactInternals;var E=ge(),A=ki(i),M=xi(E,A);M.payload=o,x!=null&&(M.callback=x),o=Zi(i,M,A),o!==null&&(ti(o,i,A,E),za(o,i,A))},enqueueReplaceState:function(i,o,x){i=i._reactInternals;var E=ge(),A=ki(i),M=xi(E,A);M.tag=1,M.payload=o,x!=null&&(M.callback=x),o=Zi(i,M,A),o!==null&&(ti(o,i,A,E),za(o,i,A))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var x=ge(),E=ki(i),A=xi(x,E);A.tag=2,o!=null&&(A.callback=o),o=Zi(i,A,E),o!==null&&(ti(o,i,E,x),za(o,i,E))}};function Ac(i,o,x,E,A,M,p){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(E,M,p):o.prototype&&o.prototype.isPureReactComponent?!Fr(x,E)||!Fr(A,M):!0}function vm(i,o,x){var E=!1,A=rn,M=o.contextType;return typeof M=="object"&&M!==null?M=He(M):(A=Ee(o)?Bn:pe.current,E=o.contextTypes,M=(E=E!=null)?xs(i,A):rn),o=new o(x,M),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=qo,i.stateNode=o,o._reactInternals=i,E&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=M),o}function Rc(i,o,x,E){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(x,E),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(x,E),o.state!==i&&qo.enqueueReplaceState(o,o.state,null)}function kh(i,o,x,E){var A=i.stateNode;A.props=x,A.state=i.memoizedState,A.refs={},mf(i);var M=o.contextType;typeof M=="object"&&M!==null?A.context=He(M):(M=Ee(o)?Bn:pe.current,A.context=xs(i,M)),A.state=i.memoizedState,M=o.getDerivedStateFromProps,typeof M=="function"&&(Jh(i,o,M,x),A.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(o=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),o!==A.state&&qo.enqueueReplaceState(A,A.state,null),co(i,x,A,E),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function Cs(i,o){try{var x="",E=o;do x+=C1(E),E=E.return;while(E);var A=x}catch(M){A=`
Error generating stack: `+M.message+`
`+M.stack}return{value:i,source:o,stack:A,digest:null}}function Yl(i,o,x){return{value:i,source:null,stack:x??null,digest:o??null}}function qh(i,o){try{console.error(o.value)}catch(x){setTimeout(function(){throw x})}}var ZT=typeof WeakMap=="function"?WeakMap:Map;function pm(i,o,x){x=xi(-1,x),x.tag=3,x.payload={element:null};var E=o.value;return x.callback=function(){xo||(xo=!0,lu=E),qh(i,o)},x}function mm(i,o,x){x=xi(-1,x),x.tag=3;var E=i.type.getDerivedStateFromError;if(typeof E=="function"){var A=o.value;x.payload=function(){return E(A)},x.callback=function(){qh(i,o)}}var M=i.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(x.callback=function(){qh(i,o),typeof E!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var p=o.stack;this.componentDidCatch(o.value,{componentStack:p!==null?p:""})}),x}function Mc(i,o,x){var E=i.pingCache;if(E===null){E=i.pingCache=new ZT;var A=new Set;E.set(o,A)}else A=E.get(o),A===void 0&&(A=new Set,E.set(o,A));A.has(x)||(A.add(x),i=hS.bind(null,i,o,x),o.then(i,i))}function Lc(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Fc(i,o,x,E,A){return i.mode&1?(i.flags|=65536,i.lanes=A,i):(i===o?i.flags|=65536:(i.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(o=xi(-1,1),o.tag=2,Zi(x,o,1))),x.lanes|=1),i)}var JT=Ri.ReactCurrentOwner,Se=!1;function me(i,o,x,E){o.child=i===null?$0(o,null,x,E):Ts(o,i.child,x,E)}function Oc(i,o,x,E,A){x=x.render;var M=o.ref;return ps(o,A),E=Sf(i,o,x,E,M,A),x=Cf(),i!==null&&!Se?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~A,wi(i,o,A)):(Xt&&x&&hf(o),o.flags|=1,me(i,o,E,A),o.child)}function Dc(i,o,x,E,A){if(i===null){var M=x.type;return typeof M=="function"&&!Df(M)&&M.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(o.tag=15,o.type=M,gm(i,o,M,E,A)):(i=ja(x.type,null,E,o,o.mode,A),i.ref=o.ref,i.return=o,o.child=i)}if(M=i.child,!(i.lanes&A)){var p=M.memoizedProps;if(x=x.compare,x=x!==null?x:Fr,x(p,E)&&i.ref===o.ref)return wi(i,o,A)}return o.flags|=1,i=qi(M,E),i.ref=o.ref,i.return=o,o.child=i}function gm(i,o,x,E,A){if(i!==null){var M=i.memoizedProps;if(Fr(M,E)&&i.ref===o.ref)if(Se=!1,o.pendingProps=E=M,(i.lanes&A)!==0)i.flags&131072&&(Se=!0);else return o.lanes=i.lanes,wi(i,o,A)}return _h(i,o,x,E,A)}function xm(i,o,x){var E=o.pendingProps,A=E.children,M=i!==null?i.memoizedState:null;if(E.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(ss,Re),Re|=x;else{if(!(x&1073741824))return i=M!==null?M.baseLanes|x:x,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Gt(ss,Re),Re|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=M!==null?M.baseLanes:x,Gt(ss,Re),Re|=E}else M!==null?(E=M.baseLanes|x,o.memoizedState=null):E=x,Gt(ss,Re),Re|=E;return me(i,o,A,x),o.child}function ym(i,o){var x=o.ref;(i===null&&x!==null||i!==null&&i.ref!==x)&&(o.flags|=512,o.flags|=2097152)}function _h(i,o,x,E,A){var M=Ee(x)?Bn:pe.current;return M=xs(o,M),ps(o,A),x=Sf(i,o,x,E,M,A),E=Cf(),i!==null&&!Se?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~A,wi(i,o,A)):(Xt&&E&&hf(o),o.flags|=1,me(i,o,x,A),o.child)}function Ic(i,o,x,E,A){if(Ee(x)){var M=!0;oo(o)}else M=!1;if(ps(o,A),o.stateNode===null)Ya(i,o),vm(o,x,E),kh(o,x,E,A),E=!0;else if(i===null){var p=o.stateNode,T=o.memoizedProps;p.props=T;var t=p.context,u=x.contextType;typeof u=="object"&&u!==null?u=He(u):(u=Ee(x)?Bn:pe.current,u=xs(o,u));var m=x.getDerivedStateFromProps,l=typeof m=="function"||typeof p.getSnapshotBeforeUpdate=="function";l||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==E||t!==u)&&Rc(o,p,E,u),Gi=!1;var s=o.memoizedState;p.state=s,co(o,E,p,A),t=o.memoizedState,T!==E||s!==t||Ce.current||Gi?(typeof m=="function"&&(Jh(o,x,m,E),t=o.memoizedState),(T=Gi||Ac(o,x,T,E,s,t,u))?(l||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(o.flags|=4194308)):(typeof p.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=E,o.memoizedState=t),p.props=E,p.state=t,p.context=u,E=T):(typeof p.componentDidMount=="function"&&(o.flags|=4194308),E=!1)}else{p=o.stateNode,K0(i,o),T=o.memoizedProps,u=o.type===o.elementType?T:Je(o.type,T),p.props=u,l=o.pendingProps,s=p.context,t=x.contextType,typeof t=="object"&&t!==null?t=He(t):(t=Ee(x)?Bn:pe.current,t=xs(o,t));var a=x.getDerivedStateFromProps;(m=typeof a=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==l||s!==t)&&Rc(o,p,E,t),Gi=!1,s=o.memoizedState,p.state=s,co(o,E,p,A);var e=o.memoizedState;T!==l||s!==e||Ce.current||Gi?(typeof a=="function"&&(Jh(o,x,a,E),e=o.memoizedState),(u=Gi||Ac(o,x,u,E,s,e,t)||!1)?(m||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(E,e,t),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(E,e,t)),typeof p.componentDidUpdate=="function"&&(o.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&s===i.memoizedState||(o.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&s===i.memoizedState||(o.flags|=1024),o.memoizedProps=E,o.memoizedState=e),p.props=E,p.state=e,p.context=t,E=u):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&s===i.memoizedState||(o.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&s===i.memoizedState||(o.flags|=1024),E=!1)}return tu(i,o,x,E,M,A)}function tu(i,o,x,E,A,M){ym(i,o);var p=(o.flags&128)!==0;if(!E&&!p)return A&&xc(o,x,!1),wi(i,o,M);E=o.stateNode,JT.current=o;var T=p&&typeof x.getDerivedStateFromError!="function"?null:E.render();return o.flags|=1,i!==null&&p?(o.child=Ts(o,i.child,null,M),o.child=Ts(o,null,T,M)):me(i,o,T,M),o.memoizedState=E.state,A&&xc(o,x,!0),o.child}function Tm(i){var o=i.stateNode;o.pendingContext?gc(i,o.pendingContext,o.pendingContext!==o.context):o.context&&gc(i,o.context,!1),gf(i,o.containerInfo)}function Bc(i,o,x,E,A){return ys(),ff(A),o.flags|=256,me(i,o,x,E),o.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function iu(i){return{baseLanes:i,cachePool:null,transitions:null}}function Sm(i,o,x){var E=o.pendingProps,A=Yt.current,M=!1,p=(o.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(A&2)!==0),T?(M=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),Gt(Yt,A&1),i===null)return Qh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(p=E.children,i=E.fallback,M?(E=o.mode,M=o.child,p={mode:"hidden",children:p},!(E&1)&&M!==null?(M.childLanes=0,M.pendingProps=p):M=el(p,E,0,null),i=Ln(i,E,x,null),M.return=o,i.return=o,M.sibling=i,o.child=M,o.child.memoizedState=iu(x),o.memoizedState=eu,i):wf(o,p));if(A=i.memoizedState,A!==null&&(T=A.dehydrated,T!==null))return kT(i,o,p,E,T,A,x);if(M){M=E.fallback,p=o.mode,A=i.child,T=A.sibling;var t={mode:"hidden",children:E.children};return!(p&1)&&o.child!==A?(E=o.child,E.childLanes=0,E.pendingProps=t,o.deletions=null):(E=qi(A,t),E.subtreeFlags=A.subtreeFlags&14680064),T!==null?M=qi(T,M):(M=Ln(M,p,x,null),M.flags|=2),M.return=o,E.return=o,E.sibling=M,o.child=E,E=M,M=o.child,p=i.child.memoizedState,p=p===null?iu(x):{baseLanes:p.baseLanes|x,cachePool:null,transitions:p.transitions},M.memoizedState=p,M.childLanes=i.childLanes&~x,o.memoizedState=eu,E}return M=i.child,i=M.sibling,E=qi(M,{mode:"visible",children:E.children}),!(o.mode&1)&&(E.lanes=x),E.return=o,E.sibling=null,i!==null&&(x=o.deletions,x===null?(o.deletions=[i],o.flags|=16):x.push(i)),o.child=E,o.memoizedState=null,E}function wf(i,o){return o=el({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Pa(i,o,x,E){return E!==null&&ff(E),Ts(o,i.child,null,x),i=wf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function kT(i,o,x,E,A,M,p){if(x)return o.flags&256?(o.flags&=-257,E=Yl(Error(ut(422))),Pa(i,o,p,E)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(M=E.fallback,A=o.mode,E=el({mode:"visible",children:E.children},A,0,null),M=Ln(M,A,p,null),M.flags|=2,E.return=o,M.return=o,E.sibling=M,o.child=E,o.mode&1&&Ts(o,i.child,null,p),o.child.memoizedState=iu(p),o.memoizedState=eu,M);if(!(o.mode&1))return Pa(i,o,p,null);if(A.data==="$!"){if(E=A.nextSibling&&A.nextSibling.dataset,E)var T=E.dgst;return E=T,M=Error(ut(419)),E=Yl(M,E,void 0),Pa(i,o,p,E)}if(T=(p&i.childLanes)!==0,Se||T){if(E=se,E!==null){switch(p&-p){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(E.suspendedLanes|p)?0:A,A!==0&&A!==M.retryLane&&(M.retryLane=A,Pi(i,A),ti(E,i,A,-1))}return Of(),E=Yl(Error(ut(421))),Pa(i,o,p,E)}return A.data==="$?"?(o.flags|=128,o.child=i.child,o=uS.bind(null,i),A._reactRetry=o,null):(i=M.treeContext,Le=Qi(A.nextSibling),Oe=o,Xt=!0,qe=null,i!==null&&(Ue[ze++]=pi,Ue[ze++]=mi,Ue[ze++]=Nn,pi=i.id,mi=i.overflow,Nn=o),o=wf(o,E.children),o.flags|=4096,o)}function Nc(i,o,x){i.lanes|=o;var E=i.alternate;E!==null&&(E.lanes|=o),Zh(i.return,o,x)}function Hl(i,o,x,E,A){var M=i.memoizedState;M===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:A}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=E,M.tail=x,M.tailMode=A)}function Cm(i,o,x){var E=o.pendingProps,A=E.revealOrder,M=E.tail;if(me(i,o,E.children,x),E=Yt.current,E&2)E=E&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Nc(i,x,o);else if(i.tag===19)Nc(i,x,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break t;for(;i.sibling===null;){if(i.return===null||i.return===o)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}E&=1}if(Gt(Yt,E),!(o.mode&1))o.memoizedState=null;else switch(A){case"forwards":for(x=o.child,A=null;x!==null;)i=x.alternate,i!==null&&vo(i)===null&&(A=x),x=x.sibling;x=A,x===null?(A=o.child,o.child=null):(A=x.sibling,x.sibling=null),Hl(o,!1,A,x,M);break;case"backwards":for(x=null,A=o.child,o.child=null;A!==null;){if(i=A.alternate,i!==null&&vo(i)===null){o.child=A;break}i=A.sibling,A.sibling=x,x=A,A=i}Hl(o,!0,x,null,M);break;case"together":Hl(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ya(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function wi(i,o,x){if(i!==null&&(o.dependencies=i.dependencies),bn|=o.lanes,!(x&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(ut(153));if(o.child!==null){for(i=o.child,x=qi(i,i.pendingProps),o.child=x,x.return=o;i.sibling!==null;)i=i.sibling,x=x.sibling=qi(i,i.pendingProps),x.return=o;x.sibling=null}return o.child}function qT(i,o,x){switch(o.tag){case 3:Tm(o),ys();break;case 5:Q0(o);break;case 1:Ee(o.type)&&oo(o);break;case 4:gf(o,o.stateNode.containerInfo);break;case 10:var E=o.type._context,A=o.memoizedProps.value;Gt(uo,E._currentValue),E._currentValue=A;break;case 13:if(E=o.memoizedState,E!==null)return E.dehydrated!==null?(Gt(Yt,Yt.current&1),o.flags|=128,null):x&o.child.childLanes?Sm(i,o,x):(Gt(Yt,Yt.current&1),i=wi(i,o,x),i!==null?i.sibling:null);Gt(Yt,Yt.current&1);break;case 19:if(E=(x&o.childLanes)!==0,i.flags&128){if(E)return Cm(i,o,x);o.flags|=128}if(A=o.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Gt(Yt,Yt.current),E)break;return null;case 22:case 23:return o.lanes=0,xm(i,o,x)}return wi(i,o,x)}var Em,nu,Pm,wm;Em=function(i,o){for(var x=o.child;x!==null;){if(x.tag===5||x.tag===6)i.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break;for(;x.sibling===null;){if(x.return===null||x.return===o)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};nu=function(){};Pm=function(i,o,x,E){var A=i.memoizedProps;if(A!==E){i=o.stateNode,En(oi.current);var M=null;switch(x){case"input":A=wh(i,A),E=wh(i,E),M=[];break;case"select":A=Kt({},A,{value:void 0}),E=Kt({},E,{value:void 0}),M=[];break;case"textarea":A=Mh(i,A),E=Mh(i,E),M=[];break;default:typeof A.onClick!="function"&&typeof E.onClick=="function"&&(i.onclick=ro)}Fh(x,E);var p;x=null;for(u in A)if(!E.hasOwnProperty(u)&&A.hasOwnProperty(u)&&A[u]!=null)if(u==="style"){var T=A[u];for(p in T)T.hasOwnProperty(p)&&(x||(x={}),x[p]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Er.hasOwnProperty(u)?M||(M=[]):(M=M||[]).push(u,null));for(u in E){var t=E[u];if(T=A!=null?A[u]:void 0,E.hasOwnProperty(u)&&t!==T&&(t!=null||T!=null))if(u==="style")if(T){for(p in T)!T.hasOwnProperty(p)||t&&t.hasOwnProperty(p)||(x||(x={}),x[p]="");for(p in t)t.hasOwnProperty(p)&&T[p]!==t[p]&&(x||(x={}),x[p]=t[p])}else x||(M||(M=[]),M.push(u,x)),x=t;else u==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,T=T?T.__html:void 0,t!=null&&T!==t&&(M=M||[]).push(u,t)):u==="children"?typeof t!="string"&&typeof t!="number"||(M=M||[]).push(u,""+t):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Er.hasOwnProperty(u)?(t!=null&&u==="onScroll"&&Vt("scroll",i),M||T===t||(M=[])):(M=M||[]).push(u,t))}x&&(M=M||[]).push("style",x);var u=M;(o.updateQueue=u)&&(o.flags|=4)}};wm=function(i,o,x,E){x!==E&&(o.flags|=4)};function Js(i,o){if(!Xt)switch(i.tailMode){case"hidden":o=i.tail;for(var x=null;o!==null;)o.alternate!==null&&(x=o),o=o.sibling;x===null?i.tail=null:x.sibling=null;break;case"collapsed":x=i.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:E.sibling=null}}function ue(i){var o=i.alternate!==null&&i.alternate.child===i.child,x=0,E=0;if(o)for(var A=i.child;A!==null;)x|=A.lanes|A.childLanes,E|=A.subtreeFlags&14680064,E|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)x|=A.lanes|A.childLanes,E|=A.subtreeFlags,E|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=E,i.childLanes=x,o}function _T(i,o,x){var E=o.pendingProps;switch(uf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(o),null;case 1:return Ee(o.type)&&ao(),ue(o),null;case 3:return E=o.stateNode,Ss(),Wt(Ce),Wt(pe),yf(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(i===null||i.child===null)&&(Ca(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,qe!==null&&(fu(qe),qe=null))),nu(i,o),ue(o),null;case 5:xf(o);var A=En(Nr.current);if(x=o.type,i!==null&&o.stateNode!=null)Pm(i,o,x,E,A),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!E){if(o.stateNode===null)throw Error(ut(166));return ue(o),null}if(i=En(oi.current),Ca(o)){E=o.stateNode,x=o.type;var M=o.memoizedProps;switch(E[si]=o,E[Ir]=M,i=(o.mode&1)!==0,x){case"dialog":Vt("cancel",E),Vt("close",E);break;case"iframe":case"object":case"embed":Vt("load",E);break;case"video":case"audio":for(A=0;A<sr.length;A++)Vt(sr[A],E);break;case"source":Vt("error",E);break;case"img":case"image":case"link":Vt("error",E),Vt("load",E);break;case"details":Vt("toggle",E);break;case"input":Hd(E,M),Vt("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!M.multiple},Vt("invalid",E);break;case"textarea":jd(E,M),Vt("invalid",E)}Fh(x,M),A=null;for(var p in M)if(M.hasOwnProperty(p)){var T=M[p];p==="children"?typeof T=="string"?E.textContent!==T&&(M.suppressHydrationWarning!==!0&&Sa(E.textContent,T,i),A=["children",T]):typeof T=="number"&&E.textContent!==""+T&&(M.suppressHydrationWarning!==!0&&Sa(E.textContent,T,i),A=["children",""+T]):Er.hasOwnProperty(p)&&T!=null&&p==="onScroll"&&Vt("scroll",E)}switch(x){case"input":ca(E),$d(E,M,!0);break;case"textarea":ca(E),Kd(E);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(E.onclick=ro)}E=A,o.updateQueue=E,E!==null&&(o.flags|=4)}else{p=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_p(x)),i==="http://www.w3.org/1999/xhtml"?x==="script"?(i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof E.is=="string"?i=p.createElement(x,{is:E.is}):(i=p.createElement(x),x==="select"&&(p=i,E.multiple?p.multiple=!0:E.size&&(p.size=E.size))):i=p.createElementNS(i,x),i[si]=o,i[Ir]=E,Em(i,o,!1,!1),o.stateNode=i;t:{switch(p=Oh(x,E),x){case"dialog":Vt("cancel",i),Vt("close",i),A=E;break;case"iframe":case"object":case"embed":Vt("load",i),A=E;break;case"video":case"audio":for(A=0;A<sr.length;A++)Vt(sr[A],i);A=E;break;case"source":Vt("error",i),A=E;break;case"img":case"image":case"link":Vt("error",i),Vt("load",i),A=E;break;case"details":Vt("toggle",i),A=E;break;case"input":Hd(i,E),A=wh(i,E),Vt("invalid",i);break;case"option":A=E;break;case"select":i._wrapperState={wasMultiple:!!E.multiple},A=Kt({},E,{value:void 0}),Vt("invalid",i);break;case"textarea":jd(i,E),A=Mh(i,E),Vt("invalid",i);break;default:A=E}Fh(x,A),T=A;for(M in T)if(T.hasOwnProperty(M)){var t=T[M];M==="style"?i0(i,t):M==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,t!=null&&t0(i,t)):M==="children"?typeof t=="string"?(x!=="textarea"||t!=="")&&Pr(i,t):typeof t=="number"&&Pr(i,""+t):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(Er.hasOwnProperty(M)?t!=null&&M==="onScroll"&&Vt("scroll",i):t!=null&&Qu(i,M,t,p))}switch(x){case"input":ca(i),$d(i,E,!1);break;case"textarea":ca(i),Kd(i);break;case"option":E.value!=null&&i.setAttribute("value",""+sn(E.value));break;case"select":i.multiple=!!E.multiple,M=E.value,M!=null?fs(i,!!E.multiple,M,!1):E.defaultValue!=null&&fs(i,!!E.multiple,E.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=ro)}switch(x){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break t;case"img":E=!0;break t;default:E=!1}}E&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return ue(o),null;case 6:if(i&&o.stateNode!=null)wm(i,o,i.memoizedProps,E);else{if(typeof E!="string"&&o.stateNode===null)throw Error(ut(166));if(x=En(Nr.current),En(oi.current),Ca(o)){if(E=o.stateNode,x=o.memoizedProps,E[si]=o,(M=E.nodeValue!==x)&&(i=Oe,i!==null))switch(i.tag){case 3:Sa(E.nodeValue,x,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Sa(E.nodeValue,x,(i.mode&1)!==0)}M&&(o.flags|=4)}else E=(x.nodeType===9?x:x.ownerDocument).createTextNode(E),E[si]=o,o.stateNode=E}return ue(o),null;case 13:if(Wt(Yt),E=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Xt&&Le!==null&&o.mode&1&&!(o.flags&128))Y0(),ys(),o.flags|=98560,M=!1;else if(M=Ca(o),E!==null&&E.dehydrated!==null){if(i===null){if(!M)throw Error(ut(318));if(M=o.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(ut(317));M[si]=o}else ys(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;ue(o),M=!1}else qe!==null&&(fu(qe),qe=null),M=!0;if(!M)return o.flags&65536?o:null}return o.flags&128?(o.lanes=x,o):(E=E!==null,E!==(i!==null&&i.memoizedState!==null)&&E&&(o.child.flags|=8192,o.mode&1&&(i===null||Yt.current&1?ee===0&&(ee=3):Of())),o.updateQueue!==null&&(o.flags|=4),ue(o),null);case 4:return Ss(),nu(i,o),i===null&&Or(o.stateNode.containerInfo),ue(o),null;case 10:return vf(o.type._context),ue(o),null;case 17:return Ee(o.type)&&ao(),ue(o),null;case 19:if(Wt(Yt),M=o.memoizedState,M===null)return ue(o),null;if(E=(o.flags&128)!==0,p=M.rendering,p===null)if(E)Js(M,!1);else{if(ee!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(p=vo(i),p!==null){for(o.flags|=128,Js(M,!1),E=p.updateQueue,E!==null&&(o.updateQueue=E,o.flags|=4),o.subtreeFlags=0,E=x,x=o.child;x!==null;)M=x,i=E,M.flags&=14680066,p=M.alternate,p===null?(M.childLanes=0,M.lanes=i,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=p.childLanes,M.lanes=p.lanes,M.child=p.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=p.memoizedProps,M.memoizedState=p.memoizedState,M.updateQueue=p.updateQueue,M.type=p.type,i=p.dependencies,M.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),x=x.sibling;return Gt(Yt,Yt.current&1|2),o.child}i=i.sibling}M.tail!==null&&Jt()>Es&&(o.flags|=128,E=!0,Js(M,!1),o.lanes=4194304)}else{if(!E)if(i=vo(p),i!==null){if(o.flags|=128,E=!0,x=i.updateQueue,x!==null&&(o.updateQueue=x,o.flags|=4),Js(M,!0),M.tail===null&&M.tailMode==="hidden"&&!p.alternate&&!Xt)return ue(o),null}else 2*Jt()-M.renderingStartTime>Es&&x!==1073741824&&(o.flags|=128,E=!0,Js(M,!1),o.lanes=4194304);M.isBackwards?(p.sibling=o.child,o.child=p):(x=M.last,x!==null?x.sibling=p:o.child=p,M.last=p)}return M.tail!==null?(o=M.tail,M.rendering=o,M.tail=o.sibling,M.renderingStartTime=Jt(),o.sibling=null,x=Yt.current,Gt(Yt,E?x&1|2:x&1),o):(ue(o),null);case 22:case 23:return Ff(),E=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==E&&(o.flags|=8192),E&&o.mode&1?Re&1073741824&&(ue(o),o.subtreeFlags&6&&(o.flags|=8192)):ue(o),null;case 24:return null;case 25:return null}throw Error(ut(156,o.tag))}function tS(i,o){switch(uf(o),o.tag){case 1:return Ee(o.type)&&ao(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ss(),Wt(Ce),Wt(pe),yf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return xf(o),null;case 13:if(Wt(Yt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(ut(340));ys()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Wt(Yt),null;case 4:return Ss(),null;case 10:return vf(o.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var wa=!1,de=!1,eS=typeof WeakSet=="function"?WeakSet:Set,xt=null;function ns(i,o){var x=i.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(E){Qt(i,o,E)}else x.current=null}function su(i,o,x){try{x()}catch(E){Qt(i,o,E)}}var Gc=!1;function iS(i,o){if(Wh=io,i=F0(),lf(i)){if("selectionStart"in i)var x={start:i.selectionStart,end:i.selectionEnd};else t:{x=(x=i.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var A=E.anchorOffset,M=E.focusNode;E=E.focusOffset;try{x.nodeType,M.nodeType}catch{x=null;break t}var p=0,T=-1,t=-1,u=0,m=0,l=i,s=null;e:for(;;){for(var a;l!==x||A!==0&&l.nodeType!==3||(T=p+A),l!==M||E!==0&&l.nodeType!==3||(t=p+E),l.nodeType===3&&(p+=l.nodeValue.length),(a=l.firstChild)!==null;)s=l,l=a;for(;;){if(l===i)break e;if(s===x&&++u===A&&(T=p),s===M&&++m===E&&(t=p),(a=l.nextSibling)!==null)break;l=s,s=l.parentNode}l=a}x=T===-1||t===-1?null:{start:T,end:t}}else x=null}x=x||{start:0,end:0}}else x=null;for(Xh={focusedElem:i,selectionRange:x},io=!1,xt=o;xt!==null;)if(o=xt,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,xt=i;else for(;xt!==null;){o=xt;try{var e=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(e!==null){var r=e.memoizedProps,d=e.memoizedState,n=o.stateNode,h=n.getSnapshotBeforeUpdate(o.elementType===o.type?r:Je(o.type,r),d);n.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var f=o.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ut(163))}}catch(c){Qt(o,o.return,c)}if(i=o.sibling,i!==null){i.return=o.return,xt=i;break}xt=o.return}return e=Gc,Gc=!1,e}function dr(i,o,x){var E=o.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var A=E=E.next;do{if((A.tag&i)===i){var M=A.destroy;A.destroy=void 0,M!==void 0&&su(o,x,M)}A=A.next}while(A!==E)}}function _o(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var x=o=o.next;do{if((x.tag&i)===i){var E=x.create;x.destroy=E()}x=x.next}while(x!==o)}}function ru(i){var o=i.ref;if(o!==null){var x=i.stateNode;switch(i.tag){case 5:i=x;break;default:i=x}typeof o=="function"?o(i):o.current=i}}function Am(i){var o=i.alternate;o!==null&&(i.alternate=null,Am(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[si],delete o[Ir],delete o[$h],delete o[VT],delete o[UT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Rm(i){return i.tag===5||i.tag===3||i.tag===4}function bc(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Rm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function au(i,o,x){var E=i.tag;if(E===5||E===6)i=i.stateNode,o?x.nodeType===8?x.parentNode.insertBefore(i,o):x.insertBefore(i,o):(x.nodeType===8?(o=x.parentNode,o.insertBefore(i,x)):(o=x,o.appendChild(i)),x=x._reactRootContainer,x!=null||o.onclick!==null||(o.onclick=ro));else if(E!==4&&(i=i.child,i!==null))for(au(i,o,x),i=i.sibling;i!==null;)au(i,o,x),i=i.sibling}function ou(i,o,x){var E=i.tag;if(E===5||E===6)i=i.stateNode,o?x.insertBefore(i,o):x.appendChild(i);else if(E!==4&&(i=i.child,i!==null))for(ou(i,o,x),i=i.sibling;i!==null;)ou(i,o,x),i=i.sibling}var re=null,ke=!1;function Fi(i,o,x){for(x=x.child;x!==null;)Mm(i,o,x),x=x.sibling}function Mm(i,o,x){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount($o,x)}catch{}switch(x.tag){case 5:de||ns(x,o);case 6:var E=re,A=ke;re=null,Fi(i,o,x),re=E,ke=A,re!==null&&(ke?(i=re,x=x.stateNode,i.nodeType===8?i.parentNode.removeChild(x):i.removeChild(x)):re.removeChild(x.stateNode));break;case 18:re!==null&&(ke?(i=re,x=x.stateNode,i.nodeType===8?bl(i.parentNode,x):i.nodeType===1&&bl(i,x),Mr(i)):bl(re,x.stateNode));break;case 4:E=re,A=ke,re=x.stateNode.containerInfo,ke=!0,Fi(i,o,x),re=E,ke=A;break;case 0:case 11:case 14:case 15:if(!de&&(E=x.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){A=E=E.next;do{var M=A,p=M.destroy;M=M.tag,p!==void 0&&(M&2||M&4)&&su(x,o,p),A=A.next}while(A!==E)}Fi(i,o,x);break;case 1:if(!de&&(ns(x,o),E=x.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=x.memoizedProps,E.state=x.memoizedState,E.componentWillUnmount()}catch(T){Qt(x,o,T)}Fi(i,o,x);break;case 21:Fi(i,o,x);break;case 22:x.mode&1?(de=(E=de)||x.memoizedState!==null,Fi(i,o,x),de=E):Fi(i,o,x);break;default:Fi(i,o,x)}}function Vc(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var x=i.stateNode;x===null&&(x=i.stateNode=new eS),o.forEach(function(E){var A=fS.bind(null,i,E);x.has(E)||(x.add(E),E.then(A,A))})}}function Ke(i,o){var x=o.deletions;if(x!==null)for(var E=0;E<x.length;E++){var A=x[E];try{var M=i,p=o,T=p;t:for(;T!==null;){switch(T.tag){case 5:re=T.stateNode,ke=!1;break t;case 3:re=T.stateNode.containerInfo,ke=!0;break t;case 4:re=T.stateNode.containerInfo,ke=!0;break t}T=T.return}if(re===null)throw Error(ut(160));Mm(M,p,A),re=null,ke=!1;var t=A.alternate;t!==null&&(t.return=null),A.return=null}catch(u){Qt(A,o,u)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Lm(o,i),o=o.sibling}function Lm(i,o){var x=i.alternate,E=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ke(o,i),ii(i),E&4){try{dr(3,i,i.return),_o(3,i)}catch(r){Qt(i,i.return,r)}try{dr(5,i,i.return)}catch(r){Qt(i,i.return,r)}}break;case 1:Ke(o,i),ii(i),E&512&&x!==null&&ns(x,x.return);break;case 5:if(Ke(o,i),ii(i),E&512&&x!==null&&ns(x,x.return),i.flags&32){var A=i.stateNode;try{Pr(A,"")}catch(r){Qt(i,i.return,r)}}if(E&4&&(A=i.stateNode,A!=null)){var M=i.memoizedProps,p=x!==null?x.memoizedProps:M,T=i.type,t=i.updateQueue;if(i.updateQueue=null,t!==null)try{T==="input"&&M.type==="radio"&&M.name!=null&&kp(A,M),Oh(T,p);var u=Oh(T,M);for(p=0;p<t.length;p+=2){var m=t[p],l=t[p+1];m==="style"?i0(A,l):m==="dangerouslySetInnerHTML"?t0(A,l):m==="children"?Pr(A,l):Qu(A,m,l,u)}switch(T){case"input":Ah(A,M);break;case"textarea":qp(A,M);break;case"select":var s=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!M.multiple;var a=M.value;a!=null?fs(A,!!M.multiple,a,!1):s!==!!M.multiple&&(M.defaultValue!=null?fs(A,!!M.multiple,M.defaultValue,!0):fs(A,!!M.multiple,M.multiple?[]:"",!1))}A[Ir]=M}catch(r){Qt(i,i.return,r)}}break;case 6:if(Ke(o,i),ii(i),E&4){if(i.stateNode===null)throw Error(ut(162));A=i.stateNode,M=i.memoizedProps;try{A.nodeValue=M}catch(r){Qt(i,i.return,r)}}break;case 3:if(Ke(o,i),ii(i),E&4&&x!==null&&x.memoizedState.isDehydrated)try{Mr(o.containerInfo)}catch(r){Qt(i,i.return,r)}break;case 4:Ke(o,i),ii(i);break;case 13:Ke(o,i),ii(i),A=i.child,A.flags&8192&&(M=A.memoizedState!==null,A.stateNode.isHidden=M,!M||A.alternate!==null&&A.alternate.memoizedState!==null||(Mf=Jt())),E&4&&Vc(i);break;case 22:if(m=x!==null&&x.memoizedState!==null,i.mode&1?(de=(u=de)||m,Ke(o,i),de=u):Ke(o,i),ii(i),E&8192){if(u=i.memoizedState!==null,(i.stateNode.isHidden=u)&&!m&&i.mode&1)for(xt=i,m=i.child;m!==null;){for(l=xt=m;xt!==null;){switch(s=xt,a=s.child,s.tag){case 0:case 11:case 14:case 15:dr(4,s,s.return);break;case 1:ns(s,s.return);var e=s.stateNode;if(typeof e.componentWillUnmount=="function"){E=s,x=s.return;try{o=E,e.props=o.memoizedProps,e.state=o.memoizedState,e.componentWillUnmount()}catch(r){Qt(E,x,r)}}break;case 5:ns(s,s.return);break;case 22:if(s.memoizedState!==null){zc(l);continue}}a!==null?(a.return=s,xt=a):zc(l)}m=m.sibling}t:for(m=null,l=i;;){if(l.tag===5){if(m===null){m=l;try{A=l.stateNode,u?(M=A.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(T=l.stateNode,t=l.memoizedProps.style,p=t!=null&&t.hasOwnProperty("display")?t.display:null,T.style.display=e0("display",p))}catch(r){Qt(i,i.return,r)}}}else if(l.tag===6){if(m===null)try{l.stateNode.nodeValue=u?"":l.memoizedProps}catch(r){Qt(i,i.return,r)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break t;for(;l.sibling===null;){if(l.return===null||l.return===i)break t;m===l&&(m=null),l=l.return}m===l&&(m=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:Ke(o,i),ii(i),E&4&&Vc(i);break;case 21:break;default:Ke(o,i),ii(i)}}function ii(i){var o=i.flags;if(o&2){try{t:{for(var x=i.return;x!==null;){if(Rm(x)){var E=x;break t}x=x.return}throw Error(ut(160))}switch(E.tag){case 5:var A=E.stateNode;E.flags&32&&(Pr(A,""),E.flags&=-33);var M=bc(i);ou(i,M,A);break;case 3:case 4:var p=E.stateNode.containerInfo,T=bc(i);au(i,T,p);break;default:throw Error(ut(161))}}catch(t){Qt(i,i.return,t)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function nS(i,o,x){xt=i,Fm(i)}function Fm(i,o,x){for(var E=(i.mode&1)!==0;xt!==null;){var A=xt,M=A.child;if(A.tag===22&&E){var p=A.memoizedState!==null||wa;if(!p){var T=A.alternate,t=T!==null&&T.memoizedState!==null||de;T=wa;var u=de;if(wa=p,(de=t)&&!u)for(xt=A;xt!==null;)p=xt,t=p.child,p.tag===22&&p.memoizedState!==null?Wc(A):t!==null?(t.return=p,xt=t):Wc(A);for(;M!==null;)xt=M,Fm(M),M=M.sibling;xt=A,wa=T,de=u}Uc(i)}else A.subtreeFlags&8772&&M!==null?(M.return=A,xt=M):Uc(i)}}function Uc(i){for(;xt!==null;){var o=xt;if(o.flags&8772){var x=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:de||_o(5,o);break;case 1:var E=o.stateNode;if(o.flags&4&&!de)if(x===null)E.componentDidMount();else{var A=o.elementType===o.type?x.memoizedProps:Je(o.type,x.memoizedProps);E.componentDidUpdate(A,x.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var M=o.updateQueue;M!==null&&Ec(o,M,E);break;case 3:var p=o.updateQueue;if(p!==null){if(x=null,o.child!==null)switch(o.child.tag){case 5:x=o.child.stateNode;break;case 1:x=o.child.stateNode}Ec(o,p,x)}break;case 5:var T=o.stateNode;if(x===null&&o.flags&4){x=T;var t=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":t.autoFocus&&x.focus();break;case"img":t.src&&(x.src=t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var u=o.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var l=m.dehydrated;l!==null&&Mr(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ut(163))}de||o.flags&512&&ru(o)}catch(s){Qt(o,o.return,s)}}if(o===i){xt=null;break}if(x=o.sibling,x!==null){x.return=o.return,xt=x;break}xt=o.return}}function zc(i){for(;xt!==null;){var o=xt;if(o===i){xt=null;break}var x=o.sibling;if(x!==null){x.return=o.return,xt=x;break}xt=o.return}}function Wc(i){for(;xt!==null;){var o=xt;try{switch(o.tag){case 0:case 11:case 15:var x=o.return;try{_o(4,o)}catch(t){Qt(o,x,t)}break;case 1:var E=o.stateNode;if(typeof E.componentDidMount=="function"){var A=o.return;try{E.componentDidMount()}catch(t){Qt(o,A,t)}}var M=o.return;try{ru(o)}catch(t){Qt(o,M,t)}break;case 5:var p=o.return;try{ru(o)}catch(t){Qt(o,p,t)}}}catch(t){Qt(o,o.return,t)}if(o===i){xt=null;break}var T=o.sibling;if(T!==null){T.return=o.return,xt=T;break}xt=o.return}}var sS=Math.ceil,go=Ri.ReactCurrentDispatcher,Af=Ri.ReactCurrentOwner,Ye=Ri.ReactCurrentBatchConfig,Ot=0,se=null,_t=null,oe=0,Re=0,ss=un(0),ee=0,Ur=null,bn=0,tl=0,Rf=0,cr=null,Te=null,Mf=0,Es=1/0,di=null,xo=!1,lu=null,Ji=null,Aa=!1,Wi=null,yo=0,vr=0,hu=null,Ha=-1,$a=0;function ge(){return Ot&6?Jt():Ha!==-1?Ha:Ha=Jt()}function ki(i){return i.mode&1?Ot&2&&oe!==0?oe&-oe:WT.transition!==null?($a===0&&($a=v0()),$a):(i=Bt,i!==0||(i=window.event,i=i===void 0?16:S0(i.type)),i):1}function ti(i,o,x,E){if(50<vr)throw vr=0,hu=null,Error(ut(185));_r(i,x,E),(!(Ot&2)||i!==se)&&(i===se&&(!(Ot&2)&&(tl|=x),ee===4&&Ui(i,oe)),Pe(i,E),x===1&&Ot===0&&!(o.mode&1)&&(Es=Jt()+500,Jo&&fn()))}function Pe(i,o){var x=i.callbackNode;W1(i,o);var E=eo(i,i===se?oe:0);if(E===0)x!==null&&Jd(x),i.callbackNode=null,i.callbackPriority=0;else if(o=E&-E,i.callbackPriority!==o){if(x!=null&&Jd(x),o===1)i.tag===0?zT(Xc.bind(null,i)):z0(Xc.bind(null,i)),GT(function(){!(Ot&6)&&fn()}),x=null;else{switch(p0(E)){case 1:x=_u;break;case 4:x=d0;break;case 16:x=to;break;case 536870912:x=c0;break;default:x=to}x=Vm(x,Om.bind(null,i))}i.callbackPriority=o,i.callbackNode=x}}function Om(i,o){if(Ha=-1,$a=0,Ot&6)throw Error(ut(327));var x=i.callbackNode;if(ms()&&i.callbackNode!==x)return null;var E=eo(i,i===se?oe:0);if(E===0)return null;if(E&30||E&i.expiredLanes||o)o=To(i,E);else{o=E;var A=Ot;Ot|=2;var M=Im();(se!==i||oe!==o)&&(di=null,Es=Jt()+500,Mn(i,o));do try{oS();break}catch(T){Dm(i,T)}while(!0);cf(),go.current=M,Ot=A,_t!==null?o=0:(se=null,oe=0,o=ee)}if(o!==0){if(o===2&&(A=Gh(i),A!==0&&(E=A,o=uu(i,A))),o===1)throw x=Ur,Mn(i,0),Ui(i,E),Pe(i,Jt()),x;if(o===6)Ui(i,E);else{if(A=i.current.alternate,!(E&30)&&!rS(A)&&(o=To(i,E),o===2&&(M=Gh(i),M!==0&&(E=M,o=uu(i,M))),o===1))throw x=Ur,Mn(i,0),Ui(i,E),Pe(i,Jt()),x;switch(i.finishedWork=A,i.finishedLanes=E,o){case 0:case 1:throw Error(ut(345));case 2:mn(i,Te,di);break;case 3:if(Ui(i,E),(E&130023424)===E&&(o=Mf+500-Jt(),10<o)){if(eo(i,0)!==0)break;if(A=i.suspendedLanes,(A&E)!==E){ge(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=Hh(mn.bind(null,i,Te,di),o);break}mn(i,Te,di);break;case 4:if(Ui(i,E),(E&4194240)===E)break;for(o=i.eventTimes,A=-1;0<E;){var p=31-_e(E);M=1<<p,p=o[p],p>A&&(A=p),E&=~M}if(E=A,E=Jt()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*sS(E/1960))-E,10<E){i.timeoutHandle=Hh(mn.bind(null,i,Te,di),E);break}mn(i,Te,di);break;case 5:mn(i,Te,di);break;default:throw Error(ut(329))}}}return Pe(i,Jt()),i.callbackNode===x?Om.bind(null,i):null}function uu(i,o){var x=cr;return i.current.memoizedState.isDehydrated&&(Mn(i,o).flags|=256),i=To(i,o),i!==2&&(o=Te,Te=x,o!==null&&fu(o)),i}function fu(i){Te===null?Te=i:Te.push.apply(Te,i)}function rS(i){for(var o=i;;){if(o.flags&16384){var x=o.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var E=0;E<x.length;E++){var A=x[E],M=A.getSnapshot;A=A.value;try{if(!ei(M(),A))return!1}catch{return!1}}}if(x=o.child,o.subtreeFlags&16384&&x!==null)x.return=o,o=x;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ui(i,o){for(o&=~Rf,o&=~tl,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var x=31-_e(o),E=1<<x;i[x]=-1,o&=~E}}function Xc(i){if(Ot&6)throw Error(ut(327));ms();var o=eo(i,0);if(!(o&1))return Pe(i,Jt()),null;var x=To(i,o);if(i.tag!==0&&x===2){var E=Gh(i);E!==0&&(o=E,x=uu(i,E))}if(x===1)throw x=Ur,Mn(i,0),Ui(i,o),Pe(i,Jt()),x;if(x===6)throw Error(ut(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,mn(i,Te,di),Pe(i,Jt()),null}function Lf(i,o){var x=Ot;Ot|=1;try{return i(o)}finally{Ot=x,Ot===0&&(Es=Jt()+500,Jo&&fn())}}function Vn(i){Wi!==null&&Wi.tag===0&&!(Ot&6)&&ms();var o=Ot;Ot|=1;var x=Ye.transition,E=Bt;try{if(Ye.transition=null,Bt=1,i)return i()}finally{Bt=E,Ye.transition=x,Ot=o,!(Ot&6)&&fn()}}function Ff(){Re=ss.current,Wt(ss)}function Mn(i,o){i.finishedWork=null,i.finishedLanes=0;var x=i.timeoutHandle;if(x!==-1&&(i.timeoutHandle=-1,NT(x)),_t!==null)for(x=_t.return;x!==null;){var E=x;switch(uf(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&ao();break;case 3:Ss(),Wt(Ce),Wt(pe),yf();break;case 5:xf(E);break;case 4:Ss();break;case 13:Wt(Yt);break;case 19:Wt(Yt);break;case 10:vf(E.type._context);break;case 22:case 23:Ff()}x=x.return}if(se=i,_t=i=qi(i.current,null),oe=Re=o,ee=0,Ur=null,Rf=tl=bn=0,Te=cr=null,Cn!==null){for(o=0;o<Cn.length;o++)if(x=Cn[o],E=x.interleaved,E!==null){x.interleaved=null;var A=E.next,M=x.pending;if(M!==null){var p=M.next;M.next=A,E.next=p}x.pending=E}Cn=null}return i}function Dm(i,o){do{var x=_t;try{if(cf(),Wa.current=mo,po){for(var E=$t.memoizedState;E!==null;){var A=E.queue;A!==null&&(A.pending=null),E=E.next}po=!1}if(Gn=0,ne=te=$t=null,fr=!1,Gr=0,Af.current=null,x===null||x.return===null){ee=1,Ur=o,_t=null;break}t:{var M=i,p=x.return,T=x,t=o;if(o=oe,T.flags|=32768,t!==null&&typeof t=="object"&&typeof t.then=="function"){var u=t,m=T,l=m.tag;if(!(m.mode&1)&&(l===0||l===11||l===15)){var s=m.alternate;s?(m.updateQueue=s.updateQueue,m.memoizedState=s.memoizedState,m.lanes=s.lanes):(m.updateQueue=null,m.memoizedState=null)}var a=Lc(p);if(a!==null){a.flags&=-257,Fc(a,p,T,M,o),a.mode&1&&Mc(M,u,o),o=a,t=u;var e=o.updateQueue;if(e===null){var r=new Set;r.add(t),o.updateQueue=r}else e.add(t);break t}else{if(!(o&1)){Mc(M,u,o),Of();break t}t=Error(ut(426))}}else if(Xt&&T.mode&1){var d=Lc(p);if(d!==null){!(d.flags&65536)&&(d.flags|=256),Fc(d,p,T,M,o),ff(Cs(t,T));break t}}M=t=Cs(t,T),ee!==4&&(ee=2),cr===null?cr=[M]:cr.push(M),M=p;do{switch(M.tag){case 3:M.flags|=65536,o&=-o,M.lanes|=o;var n=pm(M,t,o);Cc(M,n);break t;case 1:T=t;var h=M.type,f=M.stateNode;if(!(M.flags&128)&&(typeof h.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f)))){M.flags|=65536,o&=-o,M.lanes|=o;var c=mm(M,T,o);Cc(M,c);break t}}M=M.return}while(M!==null)}Nm(x)}catch(v){o=v,_t===x&&x!==null&&(_t=x=x.return);continue}break}while(!0)}function Im(){var i=go.current;return go.current=mo,i===null?mo:i}function Of(){(ee===0||ee===3||ee===2)&&(ee=4),se===null||!(bn&268435455)&&!(tl&268435455)||Ui(se,oe)}function To(i,o){var x=Ot;Ot|=2;var E=Im();(se!==i||oe!==o)&&(di=null,Mn(i,o));do try{aS();break}catch(A){Dm(i,A)}while(!0);if(cf(),Ot=x,go.current=E,_t!==null)throw Error(ut(261));return se=null,oe=0,ee}function aS(){for(;_t!==null;)Bm(_t)}function oS(){for(;_t!==null&&!D1();)Bm(_t)}function Bm(i){var o=bm(i.alternate,i,Re);i.memoizedProps=i.pendingProps,o===null?Nm(i):_t=o,Af.current=null}function Nm(i){var o=i;do{var x=o.alternate;if(i=o.return,o.flags&32768){if(x=tS(x,o),x!==null){x.flags&=32767,_t=x;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ee=6,_t=null;return}}else if(x=_T(x,o,Re),x!==null){_t=x;return}if(o=o.sibling,o!==null){_t=o;return}_t=o=i}while(o!==null);ee===0&&(ee=5)}function mn(i,o,x){var E=Bt,A=Ye.transition;try{Ye.transition=null,Bt=1,lS(i,o,x,E)}finally{Ye.transition=A,Bt=E}return null}function lS(i,o,x,E){do ms();while(Wi!==null);if(Ot&6)throw Error(ut(327));x=i.finishedWork;var A=i.finishedLanes;if(x===null)return null;if(i.finishedWork=null,i.finishedLanes=0,x===i.current)throw Error(ut(177));i.callbackNode=null,i.callbackPriority=0;var M=x.lanes|x.childLanes;if(X1(i,M),i===se&&(_t=se=null,oe=0),!(x.subtreeFlags&2064)&&!(x.flags&2064)||Aa||(Aa=!0,Vm(to,function(){return ms(),null})),M=(x.flags&15990)!==0,x.subtreeFlags&15990||M){M=Ye.transition,Ye.transition=null;var p=Bt;Bt=1;var T=Ot;Ot|=4,Af.current=null,iS(i,x),Lm(x,i),MT(Xh),io=!!Wh,Xh=Wh=null,i.current=x,nS(x),I1(),Ot=T,Bt=p,Ye.transition=M}else i.current=x;if(Aa&&(Aa=!1,Wi=i,yo=A),M=i.pendingLanes,M===0&&(Ji=null),G1(x.stateNode),Pe(i,Jt()),o!==null)for(E=i.onRecoverableError,x=0;x<o.length;x++)A=o[x],E(A.value,{componentStack:A.stack,digest:A.digest});if(xo)throw xo=!1,i=lu,lu=null,i;return yo&1&&i.tag!==0&&ms(),M=i.pendingLanes,M&1?i===hu?vr++:(vr=0,hu=i):vr=0,fn(),null}function ms(){if(Wi!==null){var i=p0(yo),o=Ye.transition,x=Bt;try{if(Ye.transition=null,Bt=16>i?16:i,Wi===null)var E=!1;else{if(i=Wi,Wi=null,yo=0,Ot&6)throw Error(ut(331));var A=Ot;for(Ot|=4,xt=i.current;xt!==null;){var M=xt,p=M.child;if(xt.flags&16){var T=M.deletions;if(T!==null){for(var t=0;t<T.length;t++){var u=T[t];for(xt=u;xt!==null;){var m=xt;switch(m.tag){case 0:case 11:case 15:dr(8,m,M)}var l=m.child;if(l!==null)l.return=m,xt=l;else for(;xt!==null;){m=xt;var s=m.sibling,a=m.return;if(Am(m),m===u){xt=null;break}if(s!==null){s.return=a,xt=s;break}xt=a}}}var e=M.alternate;if(e!==null){var r=e.child;if(r!==null){e.child=null;do{var d=r.sibling;r.sibling=null,r=d}while(r!==null)}}xt=M}}if(M.subtreeFlags&2064&&p!==null)p.return=M,xt=p;else t:for(;xt!==null;){if(M=xt,M.flags&2048)switch(M.tag){case 0:case 11:case 15:dr(9,M,M.return)}var n=M.sibling;if(n!==null){n.return=M.return,xt=n;break t}xt=M.return}}var h=i.current;for(xt=h;xt!==null;){p=xt;var f=p.child;if(p.subtreeFlags&2064&&f!==null)f.return=p,xt=f;else t:for(p=h;xt!==null;){if(T=xt,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:_o(9,T)}}catch(v){Qt(T,T.return,v)}if(T===p){xt=null;break t}var c=T.sibling;if(c!==null){c.return=T.return,xt=c;break t}xt=T.return}}if(Ot=A,fn(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot($o,i)}catch{}E=!0}return E}finally{Bt=x,Ye.transition=o}}return!1}function Yc(i,o,x){o=Cs(x,o),o=pm(i,o,1),i=Zi(i,o,1),o=ge(),i!==null&&(_r(i,1,o),Pe(i,o))}function Qt(i,o,x){if(i.tag===3)Yc(i,i,x);else for(;o!==null;){if(o.tag===3){Yc(o,i,x);break}else if(o.tag===1){var E=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ji===null||!Ji.has(E))){i=Cs(x,i),i=mm(o,i,1),o=Zi(o,i,1),i=ge(),o!==null&&(_r(o,1,i),Pe(o,i));break}}o=o.return}}function hS(i,o,x){var E=i.pingCache;E!==null&&E.delete(o),o=ge(),i.pingedLanes|=i.suspendedLanes&x,se===i&&(oe&x)===x&&(ee===4||ee===3&&(oe&130023424)===oe&&500>Jt()-Mf?Mn(i,0):Rf|=x),Pe(i,o)}function Gm(i,o){o===0&&(i.mode&1?(o=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):o=1);var x=ge();i=Pi(i,o),i!==null&&(_r(i,o,x),Pe(i,x))}function uS(i){var o=i.memoizedState,x=0;o!==null&&(x=o.retryLane),Gm(i,x)}function fS(i,o){var x=0;switch(i.tag){case 13:var E=i.stateNode,A=i.memoizedState;A!==null&&(x=A.retryLane);break;case 19:E=i.stateNode;break;default:throw Error(ut(314))}E!==null&&E.delete(o),Gm(i,x)}var bm;bm=function(i,o,x){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ce.current)Se=!0;else{if(!(i.lanes&x)&&!(o.flags&128))return Se=!1,qT(i,o,x);Se=!!(i.flags&131072)}else Se=!1,Xt&&o.flags&1048576&&W0(o,ho,o.index);switch(o.lanes=0,o.tag){case 2:var E=o.type;Ya(i,o),i=o.pendingProps;var A=xs(o,pe.current);ps(o,x),A=Sf(null,o,E,i,A,x);var M=Cf();return o.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Ee(E)?(M=!0,oo(o)):M=!1,o.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,mf(o),A.updater=qo,o.stateNode=A,A._reactInternals=o,kh(o,E,i,x),o=tu(null,o,E,!0,M,x)):(o.tag=0,Xt&&M&&hf(o),me(null,o,A,x),o=o.child),o;case 16:E=o.elementType;t:{switch(Ya(i,o),i=o.pendingProps,A=E._init,E=A(E._payload),o.type=E,A=o.tag=cS(E),i=Je(E,i),A){case 0:o=_h(null,o,E,i,x);break t;case 1:o=Ic(null,o,E,i,x);break t;case 11:o=Oc(null,o,E,i,x);break t;case 14:o=Dc(null,o,E,Je(E.type,i),x);break t}throw Error(ut(306,E,""))}return o;case 0:return E=o.type,A=o.pendingProps,A=o.elementType===E?A:Je(E,A),_h(i,o,E,A,x);case 1:return E=o.type,A=o.pendingProps,A=o.elementType===E?A:Je(E,A),Ic(i,o,E,A,x);case 3:t:{if(Tm(o),i===null)throw Error(ut(387));E=o.pendingProps,M=o.memoizedState,A=M.element,K0(i,o),co(o,E,null,x);var p=o.memoizedState;if(E=p.element,M.isDehydrated)if(M={element:E,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},o.updateQueue.baseState=M,o.memoizedState=M,o.flags&256){A=Cs(Error(ut(423)),o),o=Bc(i,o,E,x,A);break t}else if(E!==A){A=Cs(Error(ut(424)),o),o=Bc(i,o,E,x,A);break t}else for(Le=Qi(o.stateNode.containerInfo.firstChild),Oe=o,Xt=!0,qe=null,x=$0(o,null,E,x),o.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(ys(),E===A){o=wi(i,o,x);break t}me(i,o,E,x)}o=o.child}return o;case 5:return Q0(o),i===null&&Qh(o),E=o.type,A=o.pendingProps,M=i!==null?i.memoizedProps:null,p=A.children,Yh(E,A)?p=null:M!==null&&Yh(E,M)&&(o.flags|=32),ym(i,o),me(i,o,p,x),o.child;case 6:return i===null&&Qh(o),null;case 13:return Sm(i,o,x);case 4:return gf(o,o.stateNode.containerInfo),E=o.pendingProps,i===null?o.child=Ts(o,null,E,x):me(i,o,E,x),o.child;case 11:return E=o.type,A=o.pendingProps,A=o.elementType===E?A:Je(E,A),Oc(i,o,E,A,x);case 7:return me(i,o,o.pendingProps,x),o.child;case 8:return me(i,o,o.pendingProps.children,x),o.child;case 12:return me(i,o,o.pendingProps.children,x),o.child;case 10:t:{if(E=o.type._context,A=o.pendingProps,M=o.memoizedProps,p=A.value,Gt(uo,E._currentValue),E._currentValue=p,M!==null)if(ei(M.value,p)){if(M.children===A.children&&!Ce.current){o=wi(i,o,x);break t}}else for(M=o.child,M!==null&&(M.return=o);M!==null;){var T=M.dependencies;if(T!==null){p=M.child;for(var t=T.firstContext;t!==null;){if(t.context===E){if(M.tag===1){t=xi(-1,x&-x),t.tag=2;var u=M.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?t.next=t:(t.next=m.next,m.next=t),u.pending=t}}M.lanes|=x,t=M.alternate,t!==null&&(t.lanes|=x),Zh(M.return,x,o),T.lanes|=x;break}t=t.next}}else if(M.tag===10)p=M.type===o.type?null:M.child;else if(M.tag===18){if(p=M.return,p===null)throw Error(ut(341));p.lanes|=x,T=p.alternate,T!==null&&(T.lanes|=x),Zh(p,x,o),p=M.sibling}else p=M.child;if(p!==null)p.return=M;else for(p=M;p!==null;){if(p===o){p=null;break}if(M=p.sibling,M!==null){M.return=p.return,p=M;break}p=p.return}M=p}me(i,o,A.children,x),o=o.child}return o;case 9:return A=o.type,E=o.pendingProps.children,ps(o,x),A=He(A),E=E(A),o.flags|=1,me(i,o,E,x),o.child;case 14:return E=o.type,A=Je(E,o.pendingProps),A=Je(E.type,A),Dc(i,o,E,A,x);case 15:return gm(i,o,o.type,o.pendingProps,x);case 17:return E=o.type,A=o.pendingProps,A=o.elementType===E?A:Je(E,A),Ya(i,o),o.tag=1,Ee(E)?(i=!0,oo(o)):i=!1,ps(o,x),vm(o,E,A),kh(o,E,A,x),tu(null,o,E,!0,i,x);case 19:return Cm(i,o,x);case 22:return xm(i,o,x)}throw Error(ut(156,o.tag))};function Vm(i,o){return f0(i,o)}function dS(i,o,x,E){this.tag=i,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(i,o,x,E){return new dS(i,o,x,E)}function Df(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cS(i){if(typeof i=="function")return Df(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Ju)return 11;if(i===ku)return 14}return 2}function qi(i,o){var x=i.alternate;return x===null?(x=Xe(i.tag,o,i.key,i.mode),x.elementType=i.elementType,x.type=i.type,x.stateNode=i.stateNode,x.alternate=i,i.alternate=x):(x.pendingProps=o,x.type=i.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=i.flags&14680064,x.childLanes=i.childLanes,x.lanes=i.lanes,x.child=i.child,x.memoizedProps=i.memoizedProps,x.memoizedState=i.memoizedState,x.updateQueue=i.updateQueue,o=i.dependencies,x.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},x.sibling=i.sibling,x.index=i.index,x.ref=i.ref,x}function ja(i,o,x,E,A,M){var p=2;if(E=i,typeof i=="function")Df(i)&&(p=1);else if(typeof i=="string")p=5;else t:switch(i){case Qn:return Ln(x.children,A,M,o);case Zu:p=8,A|=8;break;case Sh:return i=Xe(12,x,o,A|2),i.elementType=Sh,i.lanes=M,i;case Ch:return i=Xe(13,x,o,A),i.elementType=Ch,i.lanes=M,i;case Eh:return i=Xe(19,x,o,A),i.elementType=Eh,i.lanes=M,i;case Qp:return el(x,A,M,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case jp:p=10;break t;case Kp:p=9;break t;case Ju:p=11;break t;case ku:p=14;break t;case Ni:p=16,E=null;break t}throw Error(ut(130,i==null?i:typeof i,""))}return o=Xe(p,x,o,A),o.elementType=i,o.type=E,o.lanes=M,o}function Ln(i,o,x,E){return i=Xe(7,i,E,o),i.lanes=x,i}function el(i,o,x,E){return i=Xe(22,i,E,o),i.elementType=Qp,i.lanes=x,i.stateNode={isHidden:!1},i}function $l(i,o,x){return i=Xe(6,i,null,o),i.lanes=x,i}function jl(i,o,x){return o=Xe(4,i.children!==null?i.children:[],i.key,o),o.lanes=x,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function vS(i,o,x,E,A){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=E,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function If(i,o,x,E,A,M,p,T,t){return i=new vS(i,o,x,T,t),o===1?(o=1,M===!0&&(o|=8)):o=0,M=Xe(3,null,null,o),i.current=M,M.stateNode=i,M.memoizedState={element:E,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(M),i}function pS(i,o,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:E==null?null:""+E,children:i,containerInfo:o,implementation:x}}function Um(i){if(!i)return rn;i=i._reactInternals;t:{if(Wn(i)!==i||i.tag!==1)throw Error(ut(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Ee(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(ut(171))}if(i.tag===1){var x=i.type;if(Ee(x))return U0(i,x,o)}return o}function zm(i,o,x,E,A,M,p,T,t){return i=If(x,E,!0,i,A,M,p,T,t),i.context=Um(null),x=i.current,E=ge(),A=ki(x),M=xi(E,A),M.callback=o??null,Zi(x,M,A),i.current.lanes=A,_r(i,A,E),Pe(i,E),i}function il(i,o,x,E){var A=o.current,M=ge(),p=ki(A);return x=Um(x),o.context===null?o.context=x:o.pendingContext=x,o=xi(M,p),o.payload={element:i},E=E===void 0?null:E,E!==null&&(o.callback=E),i=Zi(A,o,p),i!==null&&(ti(i,A,p,M),za(i,A,p)),p}function So(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Hc(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var x=i.retryLane;i.retryLane=x!==0&&x<o?x:o}}function Bf(i,o){Hc(i,o),(i=i.alternate)&&Hc(i,o)}function mS(){return null}var Wm=typeof reportError=="function"?reportError:function(i){console.error(i)};function Nf(i){this._internalRoot=i}nl.prototype.render=Nf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(ut(409));il(i,o,null,null)};nl.prototype.unmount=Nf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Vn(function(){il(null,i,null,null)}),o[Ei]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var o=x0();i={blockedOn:null,target:i,priority:o};for(var x=0;x<Vi.length&&o!==0&&o<Vi[x].priority;x++);Vi.splice(x,0,i),x===0&&T0(i)}};function Gf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function sl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function $c(){}function gS(i,o,x,E,A){if(A){if(typeof E=="function"){var M=E;E=function(){var u=So(p);M.call(u)}}var p=zm(o,E,i,0,null,!1,!1,"",$c);return i._reactRootContainer=p,i[Ei]=p.current,Or(i.nodeType===8?i.parentNode:i),Vn(),p}for(;A=i.lastChild;)i.removeChild(A);if(typeof E=="function"){var T=E;E=function(){var u=So(t);T.call(u)}}var t=If(i,0,!1,null,null,!1,!1,"",$c);return i._reactRootContainer=t,i[Ei]=t.current,Or(i.nodeType===8?i.parentNode:i),Vn(function(){il(o,t,x,E)}),t}function rl(i,o,x,E,A){var M=x._reactRootContainer;if(M){var p=M;if(typeof A=="function"){var T=A;A=function(){var t=So(p);T.call(t)}}il(o,p,i,A)}else p=gS(x,o,i,A,E);return So(p)}m0=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var x=nr(o.pendingLanes);x!==0&&(tf(o,x|1),Pe(o,Jt()),!(Ot&6)&&(Es=Jt()+500,fn()))}break;case 13:Vn(function(){var E=Pi(i,1);if(E!==null){var A=ge();ti(E,i,1,A)}}),Bf(i,1)}};ef=function(i){if(i.tag===13){var o=Pi(i,134217728);if(o!==null){var x=ge();ti(o,i,134217728,x)}Bf(i,134217728)}};g0=function(i){if(i.tag===13){var o=ki(i),x=Pi(i,o);if(x!==null){var E=ge();ti(x,i,o,E)}Bf(i,o)}};x0=function(){return Bt};y0=function(i,o){var x=Bt;try{return Bt=i,o()}finally{Bt=x}};Ih=function(i,o,x){switch(o){case"input":if(Ah(i,x),o=x.name,x.type==="radio"&&o!=null){for(x=i;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<x.length;o++){var E=x[o];if(E!==i&&E.form===i.form){var A=Zo(E);if(!A)throw Error(ut(90));Jp(E),Ah(E,A)}}}break;case"textarea":qp(i,x);break;case"select":o=x.value,o!=null&&fs(i,!!x.multiple,o,!1)}};r0=Lf;a0=Vn;var xS={usingClientEntryPoint:!1,Events:[ea,qn,Zo,n0,s0,Lf]},ks={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yS={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=h0(i),i===null?null:i.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||mS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{$o=Ra.inject(yS),ai=Ra}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xS;Be.createPortal=function(i,o){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gf(o))throw Error(ut(200));return pS(i,o,null,x)};Be.createRoot=function(i,o){if(!Gf(i))throw Error(ut(299));var x=!1,E="",A=Wm;return o!=null&&(o.unstable_strictMode===!0&&(x=!0),o.identifierPrefix!==void 0&&(E=o.identifierPrefix),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=If(i,1,!1,null,null,x,!1,E,A),i[Ei]=o.current,Or(i.nodeType===8?i.parentNode:i),new Nf(o)};Be.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(ut(188)):(i=Object.keys(i).join(","),Error(ut(268,i)));return i=h0(o),i=i===null?null:i.stateNode,i};Be.flushSync=function(i){return Vn(i)};Be.hydrate=function(i,o,x){if(!sl(o))throw Error(ut(200));return rl(null,i,o,!0,x)};Be.hydrateRoot=function(i,o,x){if(!Gf(i))throw Error(ut(405));var E=x!=null&&x.hydratedSources||null,A=!1,M="",p=Wm;if(x!=null&&(x.unstable_strictMode===!0&&(A=!0),x.identifierPrefix!==void 0&&(M=x.identifierPrefix),x.onRecoverableError!==void 0&&(p=x.onRecoverableError)),o=zm(o,null,i,1,x??null,A,!1,M,p),i[Ei]=o.current,Or(i),E)for(i=0;i<E.length;i++)x=E[i],A=x._getVersion,A=A(x._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[x,A]:o.mutableSourceEagerHydrationData.push(x,A);return new nl(o)};Be.render=function(i,o,x){if(!sl(o))throw Error(ut(200));return rl(null,i,o,!1,x)};Be.unmountComponentAtNode=function(i){if(!sl(i))throw Error(ut(40));return i._reactRootContainer?(Vn(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[Ei]=null})}),!0):!1};Be.unstable_batchedUpdates=Lf;Be.unstable_renderSubtreeIntoContainer=function(i,o,x,E){if(!sl(x))throw Error(ut(200));if(i==null||i._reactInternals===void 0)throw Error(ut(38));return rl(i,o,x,!1,E)};Be.version="18.3.1-next-f1338f8080-20240426";function Xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xm)}catch(i){console.error(i)}}Xm(),Xp.exports=Be;var bf=Xp.exports;const Vf=Yo(bf);var jc=bf;yh.createRoot=jc.createRoot,yh.hydrateRoot=jc.hydrateRoot;const TS="modulepreload",SS=function(i){return"/Keyng-Coin/"+i},Kc={},CS=function(o,x,E){let A=Promise.resolve();if(x&&x.length>0){document.getElementsByTagName("link");const M=document.querySelector("meta[property=csp-nonce]"),p=(M==null?void 0:M.nonce)||(M==null?void 0:M.getAttribute("nonce"));A=Promise.all(x.map(T=>{if(T=SS(T),T in Kc)return;Kc[T]=!0;const t=T.endsWith(".css"),u=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${u}`))return;const m=document.createElement("link");if(m.rel=t?"stylesheet":TS,t||(m.as="script",m.crossOrigin=""),m.href=T,p&&m.setAttribute("nonce",p),document.head.appendChild(m),t)return new Promise((l,s)=>{m.addEventListener("load",l),m.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${T}`)))})}))}return A.then(()=>o()).catch(M=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=M,window.dispatchEvent(p),!p.defaultPrevented)throw M})};var ES=Object.defineProperty,PS=(i,o,x)=>o in i?ES(i,o,{enumerable:!0,configurable:!0,writable:!0,value:x}):i[o]=x,qt=(i,o,x)=>PS(i,typeof o!="symbol"?o+"":o,x);function Ym(i,o){let x;const E=()=>{x!==void 0&&o&&o(x),x=void 0};return[()=>x===void 0?x=i(E):x,E]}function Hm(i){const o=al(),{count:x}=o;o.unsubscribe(i),x&&!o.count&&$S()}function wS(i){return al().subscribe(i),()=>Hm(i)}let AS=class{constructor(o,x={}){this.scope=o,this.options=x}print(o,...x){const E=new Date,A=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(E),{textColor:M,bgColor:p}=this.options,T="font-weight: bold;padding: 0 5px;border-radius:5px";console[o](`%c${A}%c / %c${this.scope}`,`${T};background-color: lightblue;color:black`,"",`${T};${M?`color:${M};`:""}${p?`background-color:${p}`:""}`,...x)}error(...o){this.print("error",...o)}log(...o){this.print("log",...o)}};const Uf=new AS("SDK",{bgColor:"forestgreen",textColor:"white"});let du=!1;const Qc=({name:i,payload:o})=>{Uf.log("Event received:",o?{name:i,payload:o}:{name:i})};function RS(i){du!==i&&(du=i,i?wS(Qc):Hm(Qc))}function MS(...i){du&&Uf.log(...i)}let Co=class{constructor(){qt(this,"listeners",new Map),qt(this,"listenersCount",0),qt(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(o,...x){this.subscribeListeners.forEach(E=>E({event:o,args:x})),(this.listeners.get(o)||[]).forEach(([E,A])=>{E(...x),A&&this.off(o,E)})}on(o,x,E){let A=this.listeners.get(o);return A||this.listeners.set(o,A=[]),A.push([x,E]),this.listenersCount+=1,()=>this.off(o,x)}off(o,x){const E=this.listeners.get(o)||[];for(let A=0;A<E.length;A+=1)if(x===E[A][0]){E.splice(A,1),this.listenersCount-=1;return}}subscribe(o){return this.subscribeListeners.push(o),()=>this.unsubscribe(o)}unsubscribe(o){for(let x=0;x<this.subscribeListeners.length;x+=1)if(this.subscribeListeners[x]===o){this.subscribeListeners.splice(x,1);return}}};function cu(i,o,x){return window.addEventListener(i,o,x),()=>window.removeEventListener(i,o,x)}function zf(...i){let o=!1;const x=i.flat(1);return[E=>!o&&x.push(E),()=>{o||(o=!0,x.forEach(E=>E()))},o]}let LS=class $m extends Error{constructor(o,x,E){super(x,{cause:E}),this.type=o,Object.setPrototypeOf(this,$m.prototype)}};function hi(i,o,x){return new LS(i,o,x)}const FS="ERR_METHOD_UNSUPPORTED",OS="ERR_METHOD_PARAMETER_UNSUPPORTED",DS="ERR_UNKNOWN_ENV",IS="ERR_TIMED_OUT",BS="ERR_UNEXPECTED_TYPE",jm="ERR_PARSE",NS="ERR_NAVIGATION_LIST_EMPTY",GS="ERR_NAVIGATION_CURSOR_INVALID",bS="ERR_INVALID_PATH_BASE";function na(){return hi(BS,"Value has unexpected type")}let Wf=class{constructor(o,x,E){this.parser=o,this.isOptional=x,this.type=E}parse(o){if(!(this.isOptional&&o===void 0))try{return this.parser(o)}catch(x){throw hi(jm,`Unable to parse value${this.type?` as ${this.type}`:""}`,x)}}optional(){return this.isOptional=!0,this}};function bs(i,o){return()=>new Wf(i,!1,o)}const Xi=bs(i=>{if(typeof i=="boolean")return i;const o=String(i);if(o==="1"||o==="true")return!0;if(o==="0"||o==="false")return!1;throw na()},"boolean");function Km(i,o){const x={};for(const E in i){const A=i[E];if(!A)continue;let M,p;if(typeof A=="function"||"parse"in A)M=E,p=typeof A=="function"?A:A.parse.bind(A);else{const{type:T}=A;M=A.from||E,p=typeof T=="function"?T:T.parse.bind(T)}try{const T=p(o(M));T!==void 0&&(x[E]=T)}catch(T){throw hi(jm,`Unable to parse field "${E}"`,T)}}return x}function Qm(i){let o=i;if(typeof o=="string"&&(o=JSON.parse(o)),typeof o!="object"||o===null||Array.isArray(o))throw na();return o}function Pn(i,o){return new Wf(x=>{const E=Qm(x);return Km(i,A=>E[A])},!1,o)}const Ps=bs(i=>{if(typeof i=="number")return i;if(typeof i=="string"){const o=Number(i);if(!Number.isNaN(o))return o}throw na()},"number"),Ut=bs(i=>{if(typeof i=="string"||typeof i=="number")return i.toString();throw na()},"string");function VS(i){return Pn({eventType:Ut(),eventData:o=>o}).parse(i)}function US(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(i=>{delete window[i]})}function zS(i,o){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:i,eventData:o}),source:window.parent}))}function WS(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(i=>{let o=window;i.forEach((x,E,A)=>{if(E===A.length-1){o[x]=zS;return}x in o||(o[x]={}),o=o[x]})})}const XS={clipboard_text_received:Pn({req_id:Ut(),data:i=>i===null?i:Ut().optional().parse(i)}),custom_method_invoked:Pn({req_id:Ut(),result:i=>i,error:Ut().optional()}),popup_closed:{parse(i){return Pn({button_id:o=>o==null?void 0:Ut().parse(o)}).parse(i??{})}},viewport_changed:Pn({height:Ps(),width:i=>i==null?window.innerWidth:Ps().parse(i),is_state_stable:Xi(),is_expanded:Xi()})};function YS(){const i=new Co,o=new Co;o.subscribe(E=>{i.emit("event",{name:E.event,payload:E.args[0]})}),WS();const[,x]=zf(US,cu("resize",()=>{o.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),cu("message",E=>{if(E.source!==window.parent)return;let A;try{A=VS(E.data)}catch{return}const{eventType:M,eventData:p}=A,T=XS[M];try{const t=T?T.parse(p):p;o.emit(...t?[M,t]:[M])}catch(t){Uf.error(`An error occurred processing the "${M}" event from the Telegram application.
Please, file an issue here:
https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose`,A,t)}}),()=>i.clear(),()=>o.clear());return[{on:o.on.bind(o),off:o.off.bind(o),subscribe(E){return i.on("event",E)},unsubscribe(E){i.off("event",E)},get count(){return o.count+i.count}},x]}const[HS,$S]=Ym(i=>{const[o,x]=YS(),E=o.off.bind(o);return o.off=(A,M)=>{const{count:p}=o;E(A,M),p&&!o.count&&i()},[o,x]},([,i])=>i());function al(){return HS()[0]}function jS(i,o){al().off(i,o)}function Eo(i,o,x){return al().on(i,o,x)}function Xf(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}function KS(i,o){const x=i.split("."),E=o.split("."),A=Math.max(x.length,E.length);for(let M=0;M<A;M+=1){const p=parseInt(x[M]||"0",10),T=parseInt(E[M]||"0",10);if(p!==T)return p>T?1:-1}return 0}function Qe(i,o){return KS(i,o)<=0}function ws(i,o,x){if(typeof x=="string"){if(i==="web_app_open_link"){if(o==="try_instant_view")return Qe("6.4",x);if(o==="try_browser")return Qe("7.6",x)}if(i==="web_app_set_header_color"&&o==="color")return Qe("6.9",x);if(i==="web_app_close"&&o==="return_back")return Qe("7.6",x)}switch(i){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return Qe("6.1",o);case"web_app_open_popup":return Qe("6.2",o);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return Qe("6.4",o);case"web_app_switch_inline_query":return Qe("6.7",o);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return Qe("6.9",o);case"web_app_setup_settings_button":return Qe("6.10",o);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return Qe("7.2",o);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(i)}}function QS(i){return"external"in i&&Xf(i.external)&&"notify"in i.external&&typeof i.external.notify=="function"}function ZS(i){return"TelegramWebviewProxy"in i&&Xf(i.TelegramWebviewProxy)&&"postEvent"in i.TelegramWebviewProxy&&typeof i.TelegramWebviewProxy.postEvent=="function"}function Zm(){try{return window.self!==window.top}catch{return!0}}const JS="https://web.telegram.org";let kS=JS;function qS(){return kS}function zr(i,o,x){let E={},A;if(!o&&!x?E={}:o&&x?(E=x,A=o):o&&("targetOrigin"in o?E=o:A=o),MS("Posting event:",A?{event:i,data:A}:{event:i}),Zm())return window.parent.postMessage(JSON.stringify({eventType:i,eventData:A}),E.targetOrigin||qS());if(QS(window)){window.external.notify(JSON.stringify({eventType:i,eventData:A}));return}if(ZS(window)){window.TelegramWebviewProxy.postEvent(i,JSON.stringify(A));return}throw hi(DS,"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.")}function _S(i){return(o,x)=>{if(!ws(o,i))throw hi(FS,`Method "${o}" is unsupported in Mini Apps version ${i}`);if(Xf(x)&&o==="web_app_set_header_color"&&"color"in x&&!ws(o,"color",i))throw hi(OS,`Parameter "color" of "${o}" method is unsupported in Mini Apps version ${i}`);return zr(o,x)}}function t2(i){return({req_id:o})=>o===i}function e2(i){return hi(IS,`Timeout reached: ${i}ms`)}function i2(i,o){return Promise.race([typeof i=="function"?i():i,new Promise((x,E)=>{setTimeout(()=>{E(e2(o))},o)})])}async function n2(i){let o;const x=new Promise(T=>o=T),{event:E,capture:A,timeout:M}=i,[,p]=zf((Array.isArray(E)?E:[E]).map(T=>Eo(T,t=>{(!A||(Array.isArray(E)?A({event:T,payload:t}):A(t)))&&o(t)})));try{return(i.postEvent||zr)(i.method,i.params),await(M?i2(x,M):x)}finally{p()}}function s2(i){return/^#[\da-f]{6}$/i.test(i)}function r2(i){return/^#[\da-f]{3}$/i.test(i)}function a2(i){const o=i.replace(/\s/g,"").toLowerCase();if(s2(o))return o;if(r2(o)){let E="#";for(let A=0;A<3;A+=1)E+=o[1+A].repeat(2);return E}const x=o.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||o.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!x)throw new Error(`Value "${i}" does not satisfy any of known RGB formats.`);return x.slice(1).reduce((E,A)=>{const M=parseInt(A,10).toString(16);return E+(M.length===1?"0":"")+M},"#")}function o2(i,o){return x=>ws(o[x],i)}const l2=bs(i=>i instanceof Date?i:new Date(Ps().parse(i)*1e3),"Date");function Jm(i,o){return new Wf(x=>{if(typeof x!="string"&&!(x instanceof URLSearchParams))throw na();const E=typeof x=="string"?new URLSearchParams(x):x;return Km(i,A=>{const M=E.get(A);return M===null?void 0:M})},!1,o)}const h2=Pn({id:Ps(),type:Ut(),title:Ut(),photoUrl:{type:Ut().optional(),from:"photo_url"},username:Ut().optional()},"Chat").optional(),Zc=Pn({addedToAttachmentMenu:{type:Xi().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:Xi().optional(),from:"allows_write_to_pm"},firstName:{type:Ut(),from:"first_name"},id:Ps(),isBot:{type:Xi().optional(),from:"is_bot"},isPremium:{type:Xi().optional(),from:"is_premium"},languageCode:{type:Ut().optional(),from:"language_code"},lastName:{type:Ut().optional(),from:"last_name"},photoUrl:{type:Ut().optional(),from:"photo_url"},username:Ut().optional()},"User").optional();function u2(){return Jm({authDate:{type:l2(),from:"auth_date"},canSendAfter:{type:Ps().optional(),from:"can_send_after"},chat:h2,chatInstance:{type:Ut().optional(),from:"chat_instance"},chatType:{type:Ut().optional(),from:"chat_type"},hash:Ut(),queryId:{type:Ut().optional(),from:"query_id"},receiver:Zc,startParam:{type:Ut().optional(),from:"start_param"},user:Zc},"InitData")}const f2=bs(i=>a2(Ut().parse(i)),"rgb");function d2(i){return i.replace(/_[a-z]/g,o=>o[1].toUpperCase())}function c2(i){return i.replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`)}const v2=bs(i=>{const o=f2().optional();return Object.entries(Qm(i)).reduce((x,[E,A])=>(x[d2(E)]=o.parse(A),x),{})},"ThemeParams");function km(i){return Jm({botInline:{type:Xi().optional(),from:"tgWebAppBotInline"},initData:{type:u2().optional(),from:"tgWebAppData"},initDataRaw:{type:Ut().optional(),from:"tgWebAppData"},platform:{type:Ut(),from:"tgWebAppPlatform"},showSettings:{type:Xi().optional(),from:"tgWebAppShowSettings"},startParam:{type:Ut().optional(),from:"tgWebAppStartParam"},themeParams:{type:v2(),from:"tgWebAppThemeParams"},version:{type:Ut(),from:"tgWebAppVersion"}}).parse(i)}function qm(i){return km(i.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function p2(){return qm(window.location.href)}function _m(){return performance.getEntriesByType("navigation")[0]}function m2(){const i=_m();if(!i)throw new Error("Unable to get first navigation entry.");return qm(i.name)}function tg(i){return`tma.js/${i.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}`}function eg(i,o){sessionStorage.setItem(tg(i),JSON.stringify(o))}function ig(i){const o=sessionStorage.getItem(tg(i));try{return o?JSON.parse(o):void 0}catch{}}function g2(){return km(ig("launchParams")||"")}function x2(i){return JSON.stringify(Object.fromEntries(Object.entries(i).map(([o,x])=>[c2(o),x])))}function y2(i){const{initDataRaw:o,themeParams:x,platform:E,version:A,showSettings:M,startParam:p,botInline:T}=i,t=new URLSearchParams;return t.set("tgWebAppPlatform",E),t.set("tgWebAppThemeParams",x2(x)),t.set("tgWebAppVersion",A),o&&t.set("tgWebAppData",o),p&&t.set("tgWebAppStartParam",p),typeof M=="boolean"&&t.set("tgWebAppShowSettings",M?"1":"0"),typeof T=="boolean"&&t.set("tgWebAppBotInline",T?"1":"0"),t.toString()}function T2(i){eg("launchParams",y2(i))}function ng(){for(const i of[p2,m2,g2])try{const o=i();return T2(o),o}catch{}throw new Error("Unable to retrieve launch parameters from any known source.")}function sg(){const i=_m();return!!(i&&i.type==="reload")}function S2(){let i=0;return()=>(i+=1).toString()}const[C2]=Ym(S2);function Yf(i,o){return()=>{const x=ng(),E={...x,postEvent:_S(x.version),createRequestId:C2()};if(typeof i=="function")return i(E);const[A,M,p]=zf(),T=o({...E,state:sg()?ig(i):void 0,addCleanup:A}),t=u=>(p||A(u.on("change",m=>{eg(i,m)})),u);return[T instanceof Promise?T.then(t):t(T),M]}}let rg=class{constructor(o,x){qt(this,"supports"),this.supports=o2(o,x)}};class E2 extends rg{constructor(o,x){super(o,{impactOccurred:"web_app_trigger_haptic_feedback",notificationOccurred:"web_app_trigger_haptic_feedback",selectionChanged:"web_app_trigger_haptic_feedback"}),this.postEvent=x}impactOccurred(o){this.postEvent("web_app_trigger_haptic_feedback",{type:"impact",impact_style:o})}notificationOccurred(o){this.postEvent("web_app_trigger_haptic_feedback",{type:"notification",notification_type:o})}selectionChanged(){this.postEvent("web_app_trigger_haptic_feedback",{type:"selection_change"})}}const P2=Yf(({version:i,postEvent:o})=>new E2(i,o));class w2{constructor(o){this.initData=o}get authDate(){return this.initData.authDate}get canSendAfter(){return this.initData.canSendAfter}get canSendAfterDate(){const{canSendAfter:o}=this;return o?new Date(this.authDate.getTime()+o*1e3):void 0}get chat(){return this.initData.chat}get chatType(){return this.initData.chatType}get chatInstance(){return this.initData.chatInstance}get hash(){return this.initData.hash}get queryId(){return this.initData.queryId}get receiver(){return this.initData.receiver}get startParam(){return this.initData.startParam}get user(){return this.initData.user}}const A2=Yf(({initData:i})=>i?new w2(i):void 0);function R2(i,o){return x=>{const[E,A]=o[x];return ws(E,A,i)}}function Wr(i,o){return i.startsWith(o)?i:`${o}${i}`}function Xr(i){return new URL(typeof i=="string"?i:`${i.pathname||""}${Wr(i.search||"","?")}${Wr(i.hash||"","#")}`,"http://a")}class M2 extends rg{constructor(o,x,E){super(o,{readTextFromClipboard:"web_app_read_text_from_clipboard"}),qt(this,"supportsParam"),this.version=o,this.createRequestId=x,this.postEvent=E,this.supportsParam=R2(o,{"openLink.tryInstantView":["web_app_open_link","try_instant_view"]})}openLink(o,x){const E=Xr(o).toString();if(!ws("web_app_open_link",this.version)){window.open(E,"_blank");return}const A=typeof x=="boolean"?{tryInstantView:x}:x||{};this.postEvent("web_app_open_link",{url:E,try_browser:A.tryBrowser,try_instant_view:A.tryInstantView})}openTelegramLink(o){const{hostname:x,pathname:E,search:A}=new URL(o,"https://t.me");if(x!=="t.me")throw new Error(`URL has not allowed hostname: ${x}. Only "t.me" is allowed`);if(!ws("web_app_open_tg_link",this.version)){window.location.href=o;return}this.postEvent("web_app_open_tg_link",{path_full:E+A})}async readTextFromClipboard(){const o=this.createRequestId(),{data:x=null}=await n2({method:"web_app_read_text_from_clipboard",event:"clipboard_text_received",postEvent:this.postEvent,params:{req_id:o},capture:t2(o)});return x}shareURL(o,x){this.openTelegramLink("https://t.me/share/url?"+new URLSearchParams({url:o,text:x||""}).toString().replace(/\+/g,"%20"))}}const L2=Yf(({version:i,postEvent:o,createRequestId:x})=>new M2(i,x,o));function F2(i=!0){const o=[Eo("reload_iframe",()=>{zr("iframe_will_reload"),window.location.reload()})],x=()=>o.forEach(E=>E());if(i){const E=document.createElement("style");E.id="telegram-custom-styles",document.head.appendChild(E),o.push(Eo("set_custom_style",A=>{E.innerHTML=A}),()=>document.head.removeChild(E))}return zr("iframe_ready",{reload_supported:!0}),x}function O2(){return typeof window>"u"}function Kl(i,o){let x,E,A;return typeof i=="string"?x=i:(x=i.pathname===void 0?o:i.pathname,E=i.params,A=i.id),Object.freeze({id:A||(Math.random()*2**14|0).toString(16),pathname:x,params:E})}class D2{constructor(o,x,E=zr){if(qt(this,"history"),qt(this,"ee",new Co),qt(this,"attached",!1),qt(this,"back",()=>this.go(-1)),qt(this,"on",this.ee.on.bind(this.ee)),qt(this,"off",this.ee.off.bind(this.ee)),this._index=x,this.postEvent=E,o.length===0)throw hi(NS,"History should not be empty.");if(x<0||x>=o.length)throw hi(GS,"Index should not be zero and higher or equal than history size.");this.history=o.map(A=>Kl(A,""))}attach(){this.attached||(this.attached=!0,this.sync(),Eo("back_button_pressed",this.back))}get current(){return this.history[this.index]}detach(){this.attached=!1,jS("back_button_pressed",this.back)}forward(){this.go(1)}go(o,x){const E=this.index+o,A=Math.min(Math.max(0,E),this.history.length-1);(E===A||x)&&this.replaceAndMove(A,this.history[A])}goTo(o,x){this.go(o-this.index,x)}get hasPrev(){return this.index>0}get hasNext(){return this.index!==this.history.length-1}get index(){return this._index}push(o){this.hasNext&&this.history.splice(this.index+1),this.replaceAndMove(this.index+1,Kl(o,this.current.pathname))}replace(o){this.replaceAndMove(this.index,Kl(o,this.current.pathname))}replaceAndMove(o,x){const E=o-this.index;if(!E&&this.current===x)return;const A=this.current;if(this.index!==o){const M=this._index;this._index=o,this.attached&&M>0!=o>0&&this.sync()}this.history[o]=x,this.ee.emit("change",{navigator:this,from:A,to:this.current,delta:E})}sync(){this.postEvent("web_app_setup_back_button",{is_visible:!!this.index})}}function Ql({params:i,...o}){return{...i||{hash:"",search:""},...o}}function Po(i){const o=typeof i=="string"?i.startsWith("/"):!!(i.pathname&&i.pathname.startsWith("/")),x=Xr(i);return`${o?x.pathname:x.pathname.slice(1)}${x.search}${x.hash}`}function Zl(i,o,x){let E,A;typeof i=="string"?E=i:(E=Po(i),x=i.state,A=i.id);const{pathname:M,search:p,hash:T}=new URL(E,`http://a${Wr(o,"/")}`);return{id:A,pathname:M,params:{hash:T,search:p,state:x}}}async function pr(i){return i===0?!0:Promise.race([new Promise(o=>{const x=cu("popstate",()=>{x(),o(!0)});window.history.go(i)}),new Promise(o=>{setTimeout(o,50,!1)})])}async function I2(){if(window.history.length<=1||(window.history.pushState(null,""),await pr(1-window.history.length)))return;let i=await pr(-1);for(;i;)i=await pr(-1)}function ag(i){return Xr(i).pathname}const Jc=0,Jl=1,kl=2;let og=class{constructor(o,x,{postEvent:E,hashMode:A="classic",base:M}={}){qt(this,"navigator"),qt(this,"ee",new Co),qt(this,"hashMode"),qt(this,"base"),qt(this,"attached",!1),qt(this,"onPopState",({state:p})=>{if(p===null)return this.push(this.parsePath(window.location.href));p===Jc?window.history.forward():p===Jl&&this.back(),p===kl&&this.forward()}),qt(this,"onNavigatorChange",async({to:p,from:T,delta:t})=>{this.attached&&await this.syncHistory(),this.ee.emit("change",{delta:t,from:Ql(T),to:Ql(p),navigator:this})}),qt(this,"on",this.ee.on.bind(this.ee)),qt(this,"off",this.ee.off.bind(this.ee)),this.navigator=new D2(o.map(p=>Zl(p,"/")),x,E),this.navigator.on("change",p=>{this.onNavigatorChange(p)}),this.hashMode=A,this.base=ag(M||"")}async attach(){this.attached||(this.attached=!0,this.navigator.attach(),window.addEventListener("popstate",this.onPopState),await this.syncHistory())}back(){this.navigator.back()}detach(){this.attached=!1,this.navigator.detach(),window.removeEventListener("popstate",this.onPopState)}forward(){return this.navigator.forward()}get index(){return this.navigator.index}get id(){return this.navigator.current.id}go(o,x){return this.navigator.go(o,x)}goTo(o,x){this.navigator.goTo(o,x)}get hash(){return(this.navigator.current.params||{}).hash||""}get hasPrev(){return this.navigator.hasPrev}get hasNext(){return this.navigator.hasNext}get history(){return this.navigator.history.map(Ql)}get path(){return Po(this)}get pathname(){return this.navigator.current.pathname}parsePath(o){let x=Xr(o);return this.hashMode&&(x=Xr(x.hash.slice(1))),{pathname:x.pathname,search:x.search,hash:x.hash}}push(o,x){const E=Zl(o,this.path),{state:A=x}=E.params;this.navigator.push({...E,params:{...E.params,state:A}})}replace(o,x){const E=Zl(o,this.path),{state:A=x}=E.params;this.navigator.replace({...E,params:{...E.params,state:A}})}renderPath(o){const x=(this.base.length===1?"":this.base)+Wr(Po(o),"/");return this.hashMode?Wr(x.slice(1),this.hashMode==="classic"?"#":"#/"):x}async syncHistory(){window.removeEventListener("popstate",this.onPopState);const{state:o}=this,x=this.renderPath(this);await I2(),this.hasPrev&&this.hasNext?(window.history.replaceState(Jl,""),window.history.pushState(o,"",x),window.history.pushState(kl,""),await pr(-1)):this.hasPrev?(window.history.replaceState(Jl,""),window.history.pushState(o,"",x)):this.hasNext?(window.history.replaceState(o,x),window.history.pushState(kl,""),await pr(-1)):(window.history.replaceState(Jc,""),window.history.pushState(o,"",x)),window.addEventListener("popstate",this.onPopState)}get search(){return(this.navigator.current.params||{}).search||""}get state(){return(this.navigator.current.params||{}).state}};function B2(i){i||(i={});const{href:o,hash:x}=window.location;let E=Po(i.hashMode===null?o:x.includes("?")?x.slice(1):`?${x.slice(1)}`);const A=i.base?ag(i.base):void 0;if(A){if(!E.startsWith(A))throw hi(bS,`Path "${E}" expected to be starting with "${A}"`);E=E.slice(A.length)}return new og([E],0,i)}function N2(i,o){if(sg()){const x=sessionStorage.getItem(i);if(x)try{const{index:E,history:A}=JSON.parse(x);return new og(A,E,o)}catch(E){console.error("Unable to restore hash navigator state.",E)}}return B2(o)}function G2(i,o){const x=N2(i,o),E=()=>sessionStorage.setItem(i,JSON.stringify({index:x.index,history:x.history}));return x.on("change",E),E(),x}const lg=Z.createContext(void 0);function b2(){const i=Z.useContext(lg);if(!i)throw new Error("useSDK was used outside the SDKProvider.");return i}function Hf(i){function o(E){const A=b2(),[M,p]=Z.useState(E?void 0:()=>{if(O2())throw new Error("Using hooks on the server side, you must explicitly specify ssr = true option");return A.use(i)});return Z.useEffect(()=>{p(A.use(i))},[A]),M}function x(E){const A=o(E);if(A){if("error"in A)throw A.error;return A.result}}return[o,x]}const[BM,V2]=Hf(P2),[NM,U2]=Hf(A2);function $f(i){const[o,x]=Z.useState(()=>ng());return Z.useEffect(()=>{},[]),o}const[GM,z2]=Hf(L2);function W2({children:i,acceptCustomStyles:o,debug:x}){const E=Z.useRef(!0),[A,M]=Z.useState(new Map),p=Z.useRef(A),T=Z.useCallback(u=>{E.current&&M(m=>(u&&u(m),new Map(m)))},[]),t=Z.useMemo(()=>({use(u,...m){const l=A.get(u);if(l)return l;let s,a;try{s=u(...m)}catch(n){a=n}function e(n){return A.set(u,n),n}if(a)return e({error:a});let r;if(Array.isArray(s)&&(r=s[1],s=s[0]),!s)return e({result:s,cleanup:r});function d(n){if("on"in n){const h=n.on("change",()=>T()),f=r;r=()=>{f&&f(),h()}}return{result:n,cleanup:r}}return s instanceof Promise?(s.then(n=>T(h=>h.set(u,d(n))),n=>T(h=>h.set(u,{error:n}))),e({})):e(d(s))}}),[A]);return Z.useEffect(()=>(E.current=!0,()=>{E.current=!1}),[]),Z.useEffect(()=>{if(Zm())return F2(o)},[o]),Z.useEffect(()=>{RS(x||!1)},[x]),Z.useEffect(()=>{p.current=A},[A]),Z.useEffect(()=>()=>{p.current.forEach(u=>{"cleanup"in u&&u.cleanup&&u.cleanup()})},[]),q.jsx(lg.Provider,{value:t,children:i})}var ri=[],Ve=[],X2=Uint8Array,ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var jn=0,Y2=ql.length;jn<Y2;++jn)ri[jn]=ql[jn],Ve[ql.charCodeAt(jn)]=jn;Ve[45]=62;Ve[95]=63;function H2(i){var o=i.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=i.indexOf("=");x===-1&&(x=o);var E=x===o?0:4-x%4;return[x,E]}function $2(i,o,x){return(o+x)*3/4-x}function Yr(i){var o,x=H2(i),E=x[0],A=x[1],M=new X2($2(i,E,A)),p=0,T=A>0?E-4:E,t;for(t=0;t<T;t+=4)o=Ve[i.charCodeAt(t)]<<18|Ve[i.charCodeAt(t+1)]<<12|Ve[i.charCodeAt(t+2)]<<6|Ve[i.charCodeAt(t+3)],M[p++]=o>>16&255,M[p++]=o>>8&255,M[p++]=o&255;return A===2&&(o=Ve[i.charCodeAt(t)]<<2|Ve[i.charCodeAt(t+1)]>>4,M[p++]=o&255),A===1&&(o=Ve[i.charCodeAt(t)]<<10|Ve[i.charCodeAt(t+1)]<<4|Ve[i.charCodeAt(t+2)]>>2,M[p++]=o>>8&255,M[p++]=o&255),M}function j2(i){return ri[i>>18&63]+ri[i>>12&63]+ri[i>>6&63]+ri[i&63]}function K2(i,o,x){for(var E,A=[],M=o;M<x;M+=3)E=(i[M]<<16&16711680)+(i[M+1]<<8&65280)+(i[M+2]&255),A.push(j2(E));return A.join("")}function Hr(i){for(var o,x=i.length,E=x%3,A=[],M=16383,p=0,T=x-E;p<T;p+=M)A.push(K2(i,p,p+M>T?T:p+M));return E===1?(o=i[x-1],A.push(ri[o>>2]+ri[o<<4&63]+"==")):E===2&&(o=(i[x-2]<<8)+i[x-1],A.push(ri[o>>10]+ri[o>>4&63]+ri[o<<2&63]+"=")),A.join("")}function vi(i){if(i===void 0)return{};if(!hg(i))throw new Error(`The arguments to a Convex function must be an object. Received: ${i}`);return i}function Q2(i){if(typeof i>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof i!="string")throw new Error(`Invalid deployment address: found ${i}".`);if(!(i.startsWith("http:")||i.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${i}".`);if(!(i.indexOf("127.0.0.1")!==-1||i.indexOf("localhost")!==-1)&&!i.endsWith(".convex.cloud")&&!i.includes("0.0.0.0"))throw new Error(`Invalid deployment address: Must end with ".convex.cloud". Found "${i}". If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function hg(i){var A;const o=typeof i=="object",x=Object.getPrototypeOf(i),E=x===null||x===Object.prototype||((A=x==null?void 0:x.constructor)==null?void 0:A.name)==="Object";return o&&E}const ug=!0,As=BigInt("-9223372036854775808"),jf=BigInt("9223372036854775807"),vu=BigInt("0"),Z2=BigInt("8"),J2=BigInt("256");function fg(i){return Number.isNaN(i)||!Number.isFinite(i)||Object.is(i,-0)}function k2(i){i<vu&&(i-=As+As);let o=i.toString(16);o.length%2===1&&(o="0"+o);const x=new Uint8Array(new ArrayBuffer(8));let E=0;for(const A of o.match(/.{2}/g).reverse())x.set([parseInt(A,16)],E++),i>>=Z2;return Hr(x)}function q2(i){const o=Yr(i);if(o.byteLength!==8)throw new Error(`Received ${o.byteLength} bytes, expected 8 for $integer`);let x=vu,E=vu;for(const A of o)x+=BigInt(A)*J2**E,E++;return x>jf&&(x+=As+As),x}function _2(i){if(i<As||jf<i)throw new Error(`BigInt ${i} does not fit into a 64-bit signed integer.`);const o=new ArrayBuffer(8);return new DataView(o).setBigInt64(0,i,!0),Hr(new Uint8Array(o))}function tC(i){const o=Yr(i);if(o.byteLength!==8)throw new Error(`Received ${o.byteLength} bytes, expected 8 for $integer`);return new DataView(o.buffer).getBigInt64(0,!0)}const eC=DataView.prototype.setBigInt64?_2:k2,iC=DataView.prototype.getBigInt64?tC:q2,kc=1024;function dg(i){if(i.length>kc)throw new Error(`Field name ${i} exceeds maximum field name length ${kc}.`);if(i.startsWith("$"))throw new Error(`Field name ${i} starts with a '$', which is reserved.`);for(let o=0;o<i.length;o+=1){const x=i.charCodeAt(o);if(x<32||x>=127)throw new Error(`Field name ${i} has invalid character '${i[o]}': Field names can only contain non-control ASCII characters`)}}function Rs(i){if(i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string")return i;if(Array.isArray(i))return i.map(E=>Rs(E));if(typeof i!="object")throw new Error(`Unexpected type of ${i}`);const o=Object.entries(i);if(o.length===1){const E=o[0][0];if(E==="$bytes"){if(typeof i.$bytes!="string")throw new Error(`Malformed $bytes field on ${i}`);return Yr(i.$bytes).buffer}if(E==="$integer"){if(typeof i.$integer!="string")throw new Error(`Malformed $integer field on ${i}`);return iC(i.$integer)}if(E==="$float"){if(typeof i.$float!="string")throw new Error(`Malformed $float field on ${i}`);const A=Yr(i.$float);if(A.byteLength!==8)throw new Error(`Received ${A.byteLength} bytes, expected 8 for $float`);const p=new DataView(A.buffer).getFloat64(0,ug);if(!fg(p))throw new Error(`Float ${p} should be encoded as a number`);return p}if(E==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(E==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const x={};for(const[E,A]of Object.entries(i))dg(E),x[E]=Rs(A);return x}function mr(i){return JSON.stringify(i,(o,x)=>x===void 0?"undefined":typeof x=="bigint"?`${x.toString()}n`:x)}function pu(i,o,x,E){var p;if(i===void 0){const T=x&&` (present at path ${x} in original object ${mr(o)})`;throw new Error(`undefined is not a valid Convex value${T}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(i===null)return i;if(typeof i=="bigint"){if(i<As||jf<i)throw new Error(`BigInt ${i} does not fit into a 64-bit signed integer.`);return{$integer:eC(i)}}if(typeof i=="number")if(fg(i)){const T=new ArrayBuffer(8);return new DataView(T).setFloat64(0,i,ug),{$float:Hr(new Uint8Array(T))}}else return i;if(typeof i=="boolean"||typeof i=="string")return i;if(i instanceof ArrayBuffer)return{$bytes:Hr(new Uint8Array(i))};if(Array.isArray(i))return i.map((T,t)=>pu(T,o,x+`[${t}]`));if(i instanceof Set)throw new Error(_l(x,"Set",[...i],o));if(i instanceof Map)throw new Error(_l(x,"Map",[...i],o));if(!hg(i)){const T=(p=i==null?void 0:i.constructor)==null?void 0:p.name,t=T?`${T} `:"";throw new Error(_l(x,t,i,o))}const A={},M=Object.entries(i);M.sort(([T,t],[u,m])=>T===u?0:T<u?-1:1);for(const[T,t]of M)t!==void 0&&(dg(T),A[T]=pu(t,o,x+`.${T}`));return A}function _l(i,o,x,E){return i?`${o}${mr(x)} is not a supported Convex type (present at path ${i} in original object ${mr(E)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${o}${mr(x)} is not a supported Convex type.`}function an(i){return pu(i,i,"")}var cg;const nC=Symbol.for("ConvexError");class mu extends Error{constructor(o){super(typeof o=="string"?o:mr(o)),this.name="ConvexError",this[cg]=!0,this.data=o}}cg=nC;const qc="1.13.0",sC="color:rgb(0, 145, 255)";function vg(i){switch(i){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}function wo(i,o,x,E){const A=vg(o);if(typeof E=="object"&&(E=`ConvexError ${JSON.stringify(E.errorData,null,2)}`),i==="info"){const M=E.match(/^\[.*?\] /);if(M===null){console.error(`[CONVEX ${A}(${x})] Could not parse console.log`);return}const p=E.slice(1,M[0].length-2),T=E.slice(M[0].length);console.log(`%c[CONVEX ${A}(${x})] [${p}]`,sC,T)}else console.error(`[CONVEX ${A}(${x})] ${E}`)}function rC(i){const o=`[CONVEX FATAL ERROR] ${i}`;return console.error(o),new Error(o)}function rs(i,o,x){return`[CONVEX ${vg(i)}(${o})] ${x.errorMessage}
  Called by client`}function gu(i,o){return o.data=i.errorData,o}function Ao(i){const o=i.split(":");let x,E;return o.length===1?(x=o[0],E="default"):(x=o.slice(0,o.length-1).join(":"),E=o[o.length-1]),x.endsWith(".js")&&(x=x.slice(0,-3)),`${x}:${E}`}function Fn(i,o){return JSON.stringify({udfPath:Ao(i),args:an(o)})}class aC{constructor(){this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(o,x,E){const A=Ao(o),M=Fn(A,x),p=this.querySet.get(M);if(p!==void 0)return p.numSubscribers+=1,{queryToken:M,modification:null,unsubscribe:()=>this.removeSubscriber(M)};{const T=this.nextQueryId++,t={id:T,canonicalizedUdfPath:A,args:x,numSubscribers:1,journal:E};this.querySet.set(M,t),this.queryIdToToken.set(T,M);const u=this.querySetVersion,m=++this.querySetVersion,l={type:"Add",queryId:T,udfPath:A,args:[an(x)],journal:E};return{queryToken:M,modification:{type:"ModifyQuerySet",baseVersion:u,newVersion:m,modifications:[l]},unsubscribe:()=>this.removeSubscriber(M)}}}transition(o){for(const x of o.modifications)switch(x.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(x.queryId);const E=x.journal;if(E!==void 0){const A=this.queryIdToToken.get(x.queryId);A!==void 0&&(this.querySet.get(A).journal=E)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(x.queryId);break}default:throw new Error(`Invalid modification ${x.type}`)}}queryId(o,x){const E=Ao(o),A=Fn(E,x),M=this.querySet.get(A);return M!==void 0?M.id:null}isCurrentOrNewerAuthVersion(o){return o>=this.identityVersion}setAuth(o){return this.auth={tokenType:"User",value:o},{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}}setAdminAuth(o,x){const E={tokenType:"Admin",value:o,impersonating:x};return this.auth=E,{type:"Authenticate",baseVersion:this.identityVersion++,...E}}clearAuth(){return this.auth=void 0,this.markAuthCompletion(),{type:"Authenticate",tokenType:"None",baseVersion:this.identityVersion++}}hasAuth(){return!!this.auth}isNewAuth(o){var x;return((x=this.auth)==null?void 0:x.value)!==o}queryPath(o){const x=this.queryIdToToken.get(o);return x?this.querySet.get(x).canonicalizedUdfPath:null}queryArgs(o){const x=this.queryIdToToken.get(o);return x?this.querySet.get(x).args:null}queryToken(o){return this.queryIdToToken.get(o)??null}queryJournal(o){var x;return(x=this.querySet.get(o))==null?void 0:x.journal}restart(o){this.outstandingQueriesOlderThanRestart.clear();const x=[];for(const M of this.querySet.values()){const p={type:"Add",queryId:M.id,udfPath:M.canonicalizedUdfPath,args:[an(M.args)],journal:M.journal};x.push(p),o.has(M.id)||this.outstandingQueriesOlderThanRestart.add(M.id)}this.querySetVersion=1;const E={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:x};if(!this.auth)return this.identityVersion=0,[E,void 0];this.outstandingAuthOlderThanRestart=!0;const A={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[E,A]}removeSubscriber(o){const x=this.querySet.get(o);if(x.numSubscribers>1)return x.numSubscribers-=1,null;{this.querySet.delete(o),this.queryIdToToken.delete(x.id),this.outstandingQueriesOlderThanRestart.delete(x.id);const E=this.querySetVersion,A=++this.querySetVersion,M={type:"Remove",queryId:x.id};return{type:"ModifyQuerySet",baseVersion:E,newVersion:A,modifications:[M]}}}}class oC{constructor(){this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(o,x){return new Promise(A=>{const M=x?"Requested":"NotSent";this.inflightRequests.set(o.requestId,{message:o,status:{status:M,requestedAt:new Date,onResult:A}})})}onResponse(o){const x=this.inflightRequests.get(o.requestId);if(x===void 0||x.status.status==="Completed")return null;const E=x.message.type==="Mutation"?"mutation":"action",A=x.message.udfPath;for(const T of o.logLines)wo("info",E,A,T);const M=x.status;let p;if(o.success)p=()=>M.onResult({success:!0,logLines:o.logLines,value:Rs(o.result)});else{const T=o.result,{errorData:t}=o;wo("error",E,A,T),p=()=>M.onResult({success:!1,errorMessage:T,errorData:t!==void 0?Rs(t):void 0,logLines:o.logLines})}return o.type==="ActionResponse"||!o.success?(p(),this.inflightRequests.delete(o.requestId),this.requestsOlderThanRestart.delete(o.requestId),o.requestId):(x.status={status:"Completed",ts:o.ts,onResolve:p},null)}removeCompleted(o){const x=new Set;for(const[E,A]of this.inflightRequests.entries()){const M=A.status;M.status==="Completed"&&M.ts.lessThanOrEqual(o)&&(M.onResolve(),x.add(E),this.inflightRequests.delete(E),this.requestsOlderThanRestart.delete(E))}return x}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const o=[];for(const[x,E]of this.inflightRequests){if(E.status.status==="NotSent"){E.status.status="Requested",o.push(E.message);continue}if(E.message.type==="Mutation")o.push(E.message);else{if(this.inflightRequests.delete(x),this.requestsOlderThanRestart.delete(x),E.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");E.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return o}hasIncompleteRequests(){for(const o of this.inflightRequests.values())if(o.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let o=Date.now();for(const x of this.inflightRequests.values())x.status.status!=="Completed"&&x.status.requestedAt.getTime()<o&&(o=x.status.requestedAt.getTime());return new Date(o)}}const Kf=Symbol.for("functionName");function Fe(i){if(typeof i=="string")return i;const o=i[Kf];if(!o)throw new Error(`${i} is not a functionReference`);return o}function pg(i){return{[Kf]:i}}function mg(i=[]){const o={get(x,E){if(typeof E=="string"){const A=[...i,E];return mg(A)}else if(E===Kf){if(i.length<2){const p=["api",...i].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${p}\``)}const A=i.slice(0,-1).join("/"),M=i[i.length-1];return M==="default"?A:A+":"+M}else return E===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},o)}const lC=mg();class $r{constructor(o){this.queryResults=o,this.modifiedQueries=[]}getQuery(o,...x){const E=vi(x[0]),A=Fe(o),M=this.queryResults.get(Fn(A,E));if(M!==void 0)return $r.queryValue(M.result)}getAllQueries(o){const x=[],E=Fe(o);for(const A of this.queryResults.values())A.udfPath===Ao(E)&&x.push({args:A.args,value:$r.queryValue(A.result)});return x}setQuery(o,x,E){const A=vi(x),M=Fe(o),p=Fn(M,A);let T;E===void 0?T=void 0:T={success:!0,value:E,logLines:[]};const t={udfPath:M,args:A,result:T};this.queryResults.set(p,t),this.modifiedQueries.push(p)}static queryValue(o){if(o!==void 0)return o.success?o.value:void 0}}class hC{constructor(){this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(o,x){this.optimisticUpdates=this.optimisticUpdates.filter(p=>!x.has(p.mutationId));const E=this.queryResults;this.queryResults=new Map(o);const A=new $r(this.queryResults);for(const p of this.optimisticUpdates)p.update(A);const M=[];for(const[p,T]of this.queryResults){const t=E.get(p);(t===void 0||t.result!==T.result)&&M.push(p)}return M}applyOptimisticUpdate(o,x){this.optimisticUpdates.push({update:o,mutationId:x});const E=new $r(this.queryResults);return o(E),E.modifiedQueries}queryResult(o){const x=this.queryResults.get(o);if(x===void 0)return;const E=x.result;if(E!==void 0){if(E.success)return E.value;throw E.errorData!==void 0?gu(E,new mu(rs("query",x.udfPath,E))):new Error(rs("query",x.udfPath,E))}}hasQueryResult(o){return this.queryResults.get(o)!==void 0}queryLogs(o){var E;const x=this.queryResults.get(o);return(E=x==null?void 0:x.result)==null?void 0:E.logLines}}class Me{static isLong(o){return(o&&o.__isUnsignedLong__)===!0}constructor(o,x){this.low=o|0,this.high=x|0,this.__isUnsignedLong__=!0}static fromBytesLE(o){return new Me(o[0]|o[1]<<8|o[2]<<16|o[3]<<24,o[4]|o[5]<<8|o[6]<<16|o[7]<<24)}toBytesLE(){const o=this.high,x=this.low;return[x&255,x>>>8&255,x>>>16&255,x>>>24,o&255,o>>>8&255,o>>>16&255,o>>>24]}static fromNumber(o){return isNaN(o)||o<0?_c:o>=uC?fC:new Me(o%gr|0,o/gr|0)}toString(){return(BigInt(this.high)*BigInt(gr)+BigInt(this.low)).toString()}equals(o){return Me.isLong(o)||(o=Me.fromValue(o)),this.high>>>31===1&&o.high>>>31===1?!1:this.high===o.high&&this.low===o.low}notEquals(o){return!this.equals(o)}comp(o){return Me.isLong(o)||(o=Me.fromValue(o)),this.equals(o)?0:o.high>>>0>this.high>>>0||o.high===this.high&&o.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(o){return this.comp(o)<=0}static fromValue(o){return typeof o=="number"?Me.fromNumber(o):new Me(o.low,o.high)}}const _c=new Me(0,0),tv=65536,gr=tv*tv,uC=gr*gr,fC=new Me(-1,-1);class ev{constructor(o){this.version={querySet:0,ts:Me.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=o}transition(o){const x=o.startVersion;if(this.version.querySet!==x.querySet||this.version.ts.notEquals(x.ts)||this.version.identity!==x.identity)throw new Error(`Invalid start version: ${x.ts.toString()}:${x.querySet}`);for(const E of o.modifications)switch(E.type){case"QueryUpdated":{const A=this.queryPath(E.queryId);if(A)for(const p of E.logLines)wo("info","query",A,p);const M=Rs(E.value??null);this.remoteQuerySet.set(E.queryId,{success:!0,value:M,logLines:E.logLines});break}case"QueryFailed":{const A=this.queryPath(E.queryId);if(A)for(const p of E.logLines)wo("info","query",A,p);const{errorData:M}=E;this.remoteQuerySet.set(E.queryId,{success:!1,errorMessage:E.errorMessage,errorData:M!==void 0?Rs(M):void 0,logLines:E.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(E.queryId);break}default:throw new Error(`Invalid modification ${E.type}`)}this.version=o.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function th(i){const o=Yr(i);return Me.fromBytesLE(Array.from(o))}function dC(i){const o=new Uint8Array(i.toBytesLE());return Hr(o)}function cC(i){switch(i.type){case"FatalError":case"AuthError":case"ActionResponse":case"Ping":return{...i};case"MutationResponse":return i.success?{...i,ts:th(i.ts)}:{...i};case"Transition":return{...i,startVersion:{...i.startVersion,ts:th(i.startVersion.ts)},endVersion:{...i.endVersion,ts:th(i.endVersion.ts)}}}}function vC(i){switch(i.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...i};case"Connect":return i.maxObservedTimestamp!==void 0?{...i,maxObservedTimestamp:dC(i.maxObservedTimestamp)}:{...i,maxObservedTimestamp:void 0}}}const pC=1e3,mC=1001,gC=1005,xC=4040;class yC{constructor(o,x,E,A,M){this.webSocketConstructor=A,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.initialBackoff=100,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=3e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=o,this.onOpen=x,this.onMessage=E,this.verbose=M,this.connect()}connect(){if(this.socket.state==="stopped")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="paused")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const o=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.socket={state:"connecting",ws:o},this.resetServerInactivityTimeout(),o.onopen=()=>{if(this._logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.socket={state:"ready",ws:o},this.resetServerInactivityTimeout(),this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason}),this.lastCloseReason!=="InitialConnect"&&console.log("WebSocket reconnected"),this.connectionCount+=1,this.lastCloseReason=null},o.onerror=x=>{const E=x.message;console.log(`WebSocket error: ${E}`)},o.onmessage=x=>{this.resetServerInactivityTimeout();const E=cC(JSON.parse(x.data));this._logVerbose(`received ws message with type ${E.type}`),this.onMessage(E).hasSyncedPastLastReconnect&&(this.retries=0)},o.onclose=x=>{if(this._logVerbose("begin ws.onclose"),this.lastCloseReason===null&&(this.lastCloseReason=x.reason??"OnCloseInvoked"),x.code!==pC&&x.code!==mC&&x.code!==gC&&x.code!==xC){let E=`WebSocket closed with code ${x.code}`;x.reason&&(E+=`: ${x.reason}`),console.log(E)}this.scheduleReconnect()}}socketState(){return this.socket.state}sendMessage(o){if(this._logVerbose(`sending message with type ${o.type}`),this.socket.state==="ready"){const x=vC(o),E=JSON.stringify(x);try{this.socket.ws.send(E)}catch(A){console.log(`Failed to send message on WebSocket, reconnecting: ${A}`),this.closeAndReconnect("FailedToSendMessage")}return!0}return!1}resetServerInactivityTimeout(){this.socket.state!=="stopped"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(){this.socket={state:"disconnected"};const o=this.nextBackoff();console.log(`Attempting reconnect in ${o}ms`),setTimeout(()=>this.connect(),o)}closeAndReconnect(o){switch(this._logVerbose(`begin closeAndReconnect with reason ${o}`),this.socket.state){case"disconnected":case"stopped":case"paused":return;case"connecting":case"ready":{this.lastCloseReason=o,this.close(),this.scheduleReconnect();return}default:this.socket}}close(){switch(this.socket.state){case"disconnected":case"stopped":case"paused":return Promise.resolve();case"connecting":{const o=this.socket.ws;return new Promise(x=>{o.onclose=()=>{this._logVerbose("Closed after connecting"),x()},o.onopen=()=>{this._logVerbose("Opened after connecting"),o.close()}})}case"ready":{this._logVerbose("ws.close called");const o=this.socket.ws,x=new Promise(E=>{o.onclose=()=>{E()}});return o.close(),x}default:return this.socket,Promise.resolve()}}stop(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"stopped":case"paused":case"disconnected":case"connecting":case"ready":{const o=this.close();return this.socket={state:"stopped"},o}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}pause(){switch(this.socket.state){case"stopped":return Promise.resolve();case"connecting":case"paused":case"disconnected":case"ready":{const o=this.close();return this.socket={state:"paused"},o}default:return this.socket,Promise.resolve()}}resume(){switch(this.socket.state){case"paused":break;case"stopped":return;case"connecting":case"ready":case"disconnected":throw new Error("`resume()` is only valid after `pause()`");default:this.socket}this.connect()}_logVerbose(o){this.verbose&&console.debug(`${new Date().toISOString()} ${o}`)}nextBackoff(){const o=this.initialBackoff*Math.pow(2,this.retries);this.retries+=1;const x=Math.min(o,this.maxBackoff),E=x*(Math.random()-.5);return x+E}}function TC(){return SC()}function SC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const o=Math.random()*16|0;return(i==="x"?o:o&3|8).toString(16)})}function xu(i){this.message=i}xu.prototype=new Error,xu.prototype.name="InvalidCharacterError";var iv=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(i){var o=String(i).replace(/=+$/,"");if(o.length%4==1)throw new xu("'atob' failed: The string to be decoded is not correctly encoded.");for(var x,E,A=0,M=0,p="";E=o.charAt(M++);~E&&(x=A%4?64*x+E:E,A++%4)?p+=String.fromCharCode(255&x>>(-2*A&6)):0)E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(E);return p};function CC(i){var o=i.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw"Illegal base64url string!"}try{return function(x){return decodeURIComponent(iv(x).replace(/(.)/g,function(E,A){var M=A.charCodeAt(0).toString(16).toUpperCase();return M.length<2&&(M="0"+M),"%"+M}))}(o)}catch{return iv(o)}}function Ro(i){this.message=i}function EC(i,o){if(typeof i!="string")throw new Ro("Invalid token specified");var x=(o=o||{}).header===!0?0:1;try{return JSON.parse(CC(i.split(".")[x]))}catch(E){throw new Ro("Invalid token specified: "+E.message)}}Ro.prototype=new Error,Ro.prototype.name="InvalidTokenError";class PC{constructor(o,{authenticate:x,pauseSocket:E,resumeSocket:A,clearAuth:M,verbose:p}){this.authState={state:"noAuth"},this.configVersion=0,this.syncState=o,this.authenticate=x,this.pauseSocket=E,this.resumeSocket=A,this.clearAuth=M,this.verbose=p}async setConfig(o,x){this.resetAuthState();const E=await this.fetchTokenAndGuardAgainstRace(o,{forceRefreshToken:!1});E.isFromOutdatedConfig||(E.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:o,onAuthChange:x},hasRetried:!1}),this.authenticate(E.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:o,onAuthChange:x}}),await this.refetchToken()))}onTransition(o){if(this.syncState.isCurrentOrNewerAuthVersion(o.endVersion.identity)&&!(o.endVersion.identity<=o.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(o){const{baseVersion:x}=o;if(x!=null){if(!this.syncState.isCurrentOrNewerAuthVersion(x+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(o);return}this.tryToReauthenticate(o)}async tryToReauthenticate(o){if(this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"){console.error(`Failed to authenticate: "${o.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this._logVerbose("attempting to reauthenticate"),await this.pauseSocket();const x=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});if(x.isFromOutdatedConfig){await this.resumeSocket();return}x.value&&this.syncState.isNewAuth(x.value)?(this.syncState.setAuth(x.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:x.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),await this.resumeSocket()}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const o=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});o.isFromOutdatedConfig||(o.value?this.syncState.isNewAuth(o.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:o.value,config:this.authState.config}),this.authenticate(o.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)))}scheduleTokenRefetch(o){if(this.authState.state==="noAuth")return;const x=this.decodeToken(o);if(!x){console.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:E,exp:A}=x;if(!E||!A){console.error("Auth token does not have required fields, cannot refetch the token");return}const p=(A-E-2)*1e3;if(p<=0){console.error("Auth token does not live long enough, cannot refetch the token");return}const T=setTimeout(()=>{this.refetchToken()},p);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:T,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${p}ms`)}async fetchTokenAndGuardAgainstRace(o,x){const E=++this.configVersion,A=await o(x);return this.configVersion!==E?{isFromOutdatedConfig:!0}:{isFromOutdatedConfig:!1,value:A}}stop(){this.resetAuthState(),this.configVersion++}setAndReportAuthFailed(o){o(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(o){this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=o}decodeToken(o){try{return EC(o)}catch{return null}}_logVerbose(o){this.verbose&&console.debug(`${new Date().toISOString()} ${o} [v${this.configVersion}]`)}}const wC=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function AC(i,o){const x={sessionId:o};typeof performance>"u"||!performance.mark||performance.mark(i,{detail:x})}function RC(i){let o=i.name.slice(6);return o=o.charAt(0).toLowerCase()+o.slice(1),{name:o,startTime:i.startTime}}function MC(i){if(typeof performance>"u"||!performance.getEntriesByName)return[];const o=[];for(const x of wC){const E=performance.getEntriesByName(x).filter(A=>A.entryType==="mark").filter(A=>A.detail.sessionId===i);o.push(...E)}return o.map(RC)}class LC{constructor(o,x,E){if(this.firstMessageReceived=!1,this.mark=l=>{this.debug&&AC(l,this.sessionId)},typeof o=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(E==null?void 0:E.skipConvexDeploymentUrlCheck)!==!0&&Q2(o),E={...E};let A=E.webSocketConstructor;if(!A&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");A=A||WebSocket,this.verbose=E.verbose??!1,this.debug=E.reportDebugInfoToConvex??!1,this.address=o;const M=o.search("://");if(M===-1)throw new Error("Provided address was not an absolute URL.");const p=o.substring(M+3),T=o.substring(0,M);let t;if(T==="http")t="ws";else if(T==="https")t="wss";else throw new Error(`Unknown parent protocol ${T}`);const u=`${t}://${p}/api/${qc}/sync`;this.state=new aC,this.remoteQuerySet=new ev(l=>this.state.queryPath(l)),this.requestManager=new oC,this.authenticationManager=new PC(this.state,{authenticate:l=>{const s=this.state.setAuth(l);this.webSocketManager.sendMessage(s)},pauseSocket:()=>this.webSocketManager.pause(),resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()},verbose:this.verbose}),this.optimisticQueryResults=new hC,this.onTransition=x,this._nextRequestId=0,this._sessionId=TC();const{unsavedChangesWarning:m}=E;if(typeof window>"u"||typeof window.addEventListener>"u"){if(m===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else m!==!1&&window.addEventListener("beforeunload",l=>{if(this.requestManager.hasIncompleteRequests()){l.preventDefault();const s="Are you sure you want to leave? Your changes may not be saved.";return(l||window.event).returnValue=s,s}});this.webSocketManager=new yC(u,l=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...l,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const s=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new ev(r=>this.state.queryPath(r));const[a,e]=this.state.restart(s);e&&this.webSocketManager.sendMessage(e),this.webSocketManager.sendMessage(a);for(const r of this.requestManager.restart())this.webSocketManager.sendMessage(r)},l=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),l.type){case"Transition":{this.observedTimestamp(l.endVersion.ts),this.authenticationManager.onTransition(l),this.remoteQuerySet.transition(l),this.state.transition(l);const s=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(s);break}case"MutationResponse":{l.success&&this.observedTimestamp(l.ts);const s=this.requestManager.onResponse(l);s&&this.notifyOnQueryResultChanges(new Set([s]));break}case"ActionResponse":{this.requestManager.onResponse(l);break}case"AuthError":{this.authenticationManager.onAuthError(l);break}case"FatalError":{const s=rC(l.error);throw this.webSocketManager.stop(),s}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},A,this.verbose),this.mark("convexClientConstructed")}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(o){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(o))&&(this.maxObservedTimestamp=o)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(o){const x=this.remoteQuerySet.remoteQueryResults(),E=new Map;for(const[A,M]of x){const p=this.state.queryToken(A);if(p!==null){const T={result:M,udfPath:this.state.queryPath(A),args:this.state.queryArgs(A)};E.set(p,T)}}this.onTransition(this.optimisticQueryResults.ingestQueryResultsFromServer(E,o))}setAuth(o,x){this.authenticationManager.setConfig(o,x)}hasAuth(){return this.state.hasAuth()}setAdminAuth(o,x){const E=this.state.setAdminAuth(o,x);this.webSocketManager.sendMessage(E)}clearAuth(){const o=this.state.clearAuth();this.webSocketManager.sendMessage(o)}subscribe(o,x,E){const A=vi(x),{modification:M,queryToken:p,unsubscribe:T}=this.state.subscribe(o,A,E==null?void 0:E.journal);return M!==null&&this.webSocketManager.sendMessage(M),{queryToken:p,unsubscribe:()=>{const t=T();t&&this.webSocketManager.sendMessage(t)}}}localQueryResult(o,x){const E=vi(x),A=Fn(o,E);return this.optimisticQueryResults.queryResult(A)}localQueryResultByToken(o){return this.optimisticQueryResults.queryResult(o)}hasLocalQueryResultByToken(o){return this.optimisticQueryResults.hasQueryResult(o)}localQueryLogs(o,x){const E=vi(x),A=Fn(o,E);return this.optimisticQueryResults.queryLogs(A)}queryJournal(o,x){const E=vi(x),A=Fn(o,E);return this.state.queryJournal(A)}connectionState(){return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:this.webSocketManager.socketState()==="ready",timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest()}}async mutation(o,x,E){const A=await this.mutationInternal(o,x,E);if(!A.success)throw A.errorData!==void 0?gu(A,new mu(rs("mutation",o,A))):new Error(rs("mutation",o,A));return A.value}async mutationInternal(o,x,E){const A=vi(x);this.tryReportLongDisconnect();const M=this.nextRequestId;if(this._nextRequestId++,E!==void 0){const t=E.optimisticUpdate;if(t!==void 0){const u=l=>{t(l,A)},m=this.optimisticQueryResults.applyOptimisticUpdate(u,M);this.onTransition(m)}}const p={type:"Mutation",requestId:M,udfPath:o,args:[an(A)]},T=this.webSocketManager.sendMessage(p);return this.requestManager.request(p,T)}async action(o,x){const E=await this.actionInternal(o,x);if(!E.success)throw E.errorData!==void 0?gu(E,new mu(rs("action",o,E))):new Error(rs("action",o,E));return E.value}async actionInternal(o,x){const E=vi(x),A=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const M={type:"Action",requestId:A,udfPath:o,args:[an(E)]},p=this.webSocketManager.sendMessage(M);return this.requestManager.request(M,p)}async close(){return this.authenticationManager.stop(),this.webSocketManager.stop()}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const o=MC(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:o})}}tryReportLongDisconnect(){if(!this.debug)return;const o=this.connectionState().timeOfOldestInflightRequest;if(o===null||Date.now()-o.getTime()<=60*1e3)return;const x=`${this.address}/api/debug_event`;fetch(x,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${qc}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(E=>{E.ok||console.warn("Analytics request failed with response:",E.body)}).catch(E=>{console.warn("Analytics response failed with error:",E)})}}if(typeof vt>"u")throw new Error("Required dependency 'react' not found");if(typeof Vf>"u")throw new Error("Required dependency 'react-dom' not found");function gg(i,o,x){function E(A){return IC(A),o.mutation(i,A,{optimisticUpdate:x})}return E.withOptimisticUpdate=function(M){if(x!==void 0)throw new Error(`Already specified optimistic update for mutation ${Fe(i)}`);return gg(i,o,M)},E}class FC{constructor(o,x){if(this.closed=!1,typeof o!="string")throw new Error("ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud'.");if(!o.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=o,this.listeners=new Map,this.options={...x}}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new LC(this.address,o=>this.transition(o),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(o,x){if(typeof o=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(o,x??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(o,x){if(this.adminAuth=o,this.fakeUserIdentity=x,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(o,x)}watchQuery(o,...x){const[E,A]=x,M=Fe(o);return{onUpdate:p=>{const{queryToken:T,unsubscribe:t}=this.sync.subscribe(M,E,A),u=this.listeners.get(T);return u!==void 0?u.add(p):this.listeners.set(T,new Set([p])),()=>{if(this.closed)return;const m=this.listeners.get(T);m.delete(p),m.size===0&&this.listeners.delete(T),t()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(M,E)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(M,E)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(M,E)}}}mutation(o,...x){const[E,A]=x,M=Fe(o);return this.sync.mutation(M,E,A)}action(o,...x){const E=Fe(o);return this.sync.action(E,...x)}query(o,...x){const E=this.watchQuery(o,...x),A=E.localQueryResult();return A!==void 0?A:new Promise((M,p)=>{const T=E.onUpdate(()=>{T();try{M(E.localQueryResult())}catch(t){p(t)}})})}connectionState(){return this.sync.connectionState()}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const o=this.cachedSync;this.cachedSync=void 0,await o.close()}}transition(o){Vf.unstable_batchedUpdates(()=>{for(const x of o){const E=this.listeners.get(x);if(E)for(const A of E)A()}})}}const Qf=vt.createContext(void 0);function xg(){return Z.useContext(Qf)}const OC=({client:i,children:o})=>vt.createElement(Qf.Provider,{value:i},o);function ol(i,...o){const x=o[0]==="skip",E=o[0]==="skip"?{}:vi(o[0]),A=typeof i=="string"?pg(i):i,M=Fe(A),p=Z.useMemo(()=>x?{}:{query:{query:A,args:E}},[JSON.stringify(an(E)),M,x]),t=GC(p).query;if(t instanceof Error)throw t;return t}function DC(i){const o=typeof i=="string"?pg(i):i,x=Z.useContext(Qf);if(x===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return Z.useMemo(()=>gg(o,x),[x,Fe(o)])}function IC(i){if(typeof i=="object"&&i!==null&&"bubbles"in i&&"persist"in i&&"isDefaultPrevented"in i)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}class BC{constructor(o){this.createWatch=o,this.queries={},this.listeners=new Set}setQueries(o){for(const x of Object.keys(o)){const{query:E,args:A}=o[x];if(Fe(E),this.queries[x]===void 0)this.addQuery(x,E,A);else{const M=this.queries[x];(Fe(E)!==Fe(M.query)||JSON.stringify(an(A))!==JSON.stringify(an(M.args)))&&(this.removeQuery(x),this.addQuery(x,E,A))}}for(const x of Object.keys(this.queries))o[x]===void 0&&this.removeQuery(x)}subscribe(o){return this.listeners.add(o),()=>{this.listeners.delete(o)}}getLocalResults(o){const x={};for(const E of Object.keys(o)){const{query:A,args:M}=o[E];Fe(A);const p=this.createWatch(A,M);let T;try{T=p.localQueryResult()}catch(t){if(t instanceof Error)T=t;else throw t}x[E]=T}return x}setCreateWatch(o){this.createWatch=o;for(const x of Object.keys(this.queries)){const{query:E,args:A,watch:M}=this.queries[x],p=M.journal();this.removeQuery(x),this.addQuery(x,E,A,p)}}destroy(){for(const o of Object.keys(this.queries))this.removeQuery(o);this.listeners=new Set}addQuery(o,x,E,A){if(this.queries[o]!==void 0)throw new Error(`Tried to add a new query with identifier ${o} when it already exists.`);const M=this.createWatch(x,E,A),p=M.onUpdate(()=>this.notifyListeners());this.queries[o]={query:x,args:E,watch:M,unsubscribe:p}}removeQuery(o){const x=this.queries[o];if(x===void 0)throw new Error(`No query found with identifier ${o}.`);x.unsubscribe(),delete this.queries[o]}notifyListeners(){for(const o of this.listeners)o()}}function NC({getCurrentValue:i,subscribe:o}){const[x,E]=Z.useState(()=>({getCurrentValue:i,subscribe:o,value:i()}));let A=x.value;return(x.getCurrentValue!==i||x.subscribe!==o)&&(A=i(),E({getCurrentValue:i,subscribe:o,value:A})),Z.useEffect(()=>{let M=!1;const p=()=>{M||E(t=>{if(t.getCurrentValue!==i||t.subscribe!==o)return t;const u=i();return t.value===u?t:{...t,value:u}})},T=o(p);return p(),()=>{M=!0,T()}},[i,o]),A}function GC(i){const o=xg();if(o===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const x=Z.useMemo(()=>(E,A,M)=>o.watchQuery(E,A,{journal:M}),[o]);return bC(i,x)}function bC(i,o){const[x]=Z.useState(()=>new BC(o));x.createWatch!==o&&x.setCreateWatch(o),Z.useEffect(()=>()=>x.destroy(),[x]);const E=Z.useMemo(()=>({getCurrentValue:()=>x.getLocalResults(i),subscribe:A=>(x.setQueries(i),x.subscribe(A))}),[x,i]);return NC(E)}let VC=class yg extends Error{constructor(o,x,E){super(x,{cause:E}),this.type=o,Object.setPrototypeOf(this,yg.prototype)}};function Zf(i,o,x){return new VC(i,o,x)}const UC="ERR_UNEXPECTED_TYPE",Tg="ERR_PARSE";function ll(){return Zf(UC,"Value has unexpected type")}let Sg=class{constructor(o,x,E){this.parser=o,this.isOptional=x,this.type=E}parse(o){if(!(this.isOptional&&o===void 0))try{return this.parser(o)}catch(x){throw Zf(Tg,`Unable to parse value${this.type?` as ${this.type}`:""}`,x)}}optional(){return this.isOptional=!0,this}};function Jf(i,o){return()=>new Sg(i,!1,o)}const Ma=Jf(i=>{if(typeof i=="boolean")return i;const o=String(i);if(o==="1"||o==="true")return!0;if(o==="0"||o==="false")return!1;throw ll()},"boolean");function zC(i,o){const x={};for(const E in i){const A=i[E];if(!A)continue;let M,p;if(typeof A=="function"||"parse"in A)M=E,p=typeof A=="function"?A:A.parse.bind(A);else{const{type:T}=A;M=A.from||E,p=typeof T=="function"?T:T.parse.bind(T)}try{const T=p(o(M));T!==void 0&&(x[E]=T)}catch(T){throw Zf(Tg,`Unable to parse field "${E}"`,T)}}return x}function WC(i){let o=i;if(typeof o=="string"&&(o=JSON.parse(o)),typeof o!="object"||o===null||Array.isArray(o))throw ll();return o}function Mo(i,o){return new Sg(x=>{const E=WC(x);return zC(i,A=>E[A])},!1,o)}const Cg=Jf(i=>{if(typeof i=="number")return i;if(typeof i=="string"){const o=Number(i);if(!Number.isNaN(o))return o}throw ll()},"number"),We=Jf(i=>{if(typeof i=="string"||typeof i=="number")return i.toString();throw ll()},"string");Mo({req_id:We(),result:i=>i,error:We().optional()}),Mo({data:We().optional()});Mo({id:Cg(),type:We(),title:We(),photoUrl:{type:We().optional(),from:"photo_url"},username:We().optional()},"Chat").optional();Mo({addedToAttachmentMenu:{type:Ma().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:Ma().optional(),from:"allows_write_to_pm"},firstName:{type:We(),from:"first_name"},id:Cg(),isBot:{type:Ma().optional(),from:"is_bot"},isPremium:{type:Ma().optional(),from:"is_premium"},languageCode:{type:We().optional(),from:"language_code"},lastName:{type:We().optional(),from:"last_name"},photoUrl:{type:We().optional(),from:"photo_url"},username:We().optional()},"User").optional();function nv(i,o){return i.startsWith(o)?i:`${o}${i}`}function Eg(i){return new URL(typeof i=="string"?i:`${i.pathname||""}${nv(i.search||"","?")}${nv(i.hash||"","#")}`,"http://a")}function eh(i){const o=typeof i=="string"?i.startsWith("/"):!!(i.pathname&&i.pathname.startsWith("/")),x=Eg(i);return`${o?x.pathname:x.pathname.slice(1)}${x.search}${x.hash}`}function XC(i){const o=Z.useCallback(()=>({state:i.state,key:i.id,pathname:i.pathname,hash:i.hash,search:i.search}),[i]),[x,E]=Z.useState(o),A=Z.useCallback((p,T,t)=>{t||(t={}),T===void 0&&(T=t.state);const u=eh(p);t.replace?i.replace(u,T):i.push(u,T)},[i]),M=Z.useMemo(()=>({go(p){i.go(p)},push:A,replace:A,createHref:p=>i.renderPath(eh(p)),encodeLocation:p=>Eg(i.renderPath(eh(p)))}),[i]);return Z.useEffect(()=>i.on("change",()=>E(o())),[i,o]),[x,M]}/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jr(){return jr=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var x=arguments[o];for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(i[E]=x[E])}return i},jr.apply(this,arguments)}var Yi;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Yi||(Yi={}));const sv="popstate";function YC(i){i===void 0&&(i={});function o(E,A){let{pathname:M,search:p,hash:T}=E.location;return yu("",{pathname:M,search:p,hash:T},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function x(E,A){return typeof A=="string"?A:Lo(A)}return $C(o,x,null,i)}function jt(i,o){if(i===!1||i===null||typeof i>"u")throw new Error(o)}function Pg(i,o){if(!i){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function HC(){return Math.random().toString(36).substr(2,8)}function rv(i,o){return{usr:i.state,key:i.key,idx:o}}function yu(i,o,x,E){return x===void 0&&(x=null),jr({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof o=="string"?Vs(o):o,{state:x,key:o&&o.key||E||HC()})}function Lo(i){let{pathname:o="/",search:x="",hash:E=""}=i;return x&&x!=="?"&&(o+=x.charAt(0)==="?"?x:"?"+x),E&&E!=="#"&&(o+=E.charAt(0)==="#"?E:"#"+E),o}function Vs(i){let o={};if(i){let x=i.indexOf("#");x>=0&&(o.hash=i.substr(x),i=i.substr(0,x));let E=i.indexOf("?");E>=0&&(o.search=i.substr(E),i=i.substr(0,E)),i&&(o.pathname=i)}return o}function $C(i,o,x,E){E===void 0&&(E={});let{window:A=document.defaultView,v5Compat:M=!1}=E,p=A.history,T=Yi.Pop,t=null,u=m();u==null&&(u=0,p.replaceState(jr({},p.state,{idx:u}),""));function m(){return(p.state||{idx:null}).idx}function l(){T=Yi.Pop;let d=m(),n=d==null?null:d-u;u=d,t&&t({action:T,location:r.location,delta:n})}function s(d,n){T=Yi.Push;let h=yu(r.location,d,n);u=m()+1;let f=rv(h,u),c=r.createHref(h);try{p.pushState(f,"",c)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;A.location.assign(c)}M&&t&&t({action:T,location:r.location,delta:1})}function a(d,n){T=Yi.Replace;let h=yu(r.location,d,n);u=m();let f=rv(h,u),c=r.createHref(h);p.replaceState(f,"",c),M&&t&&t({action:T,location:r.location,delta:0})}function e(d){let n=A.location.origin!=="null"?A.location.origin:A.location.href,h=typeof d=="string"?d:Lo(d);return h=h.replace(/ $/,"%20"),jt(n,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,n)}let r={get action(){return T},get location(){return i(A,p)},listen(d){if(t)throw new Error("A history only accepts one active listener");return A.addEventListener(sv,l),t=d,()=>{A.removeEventListener(sv,l),t=null}},createHref(d){return o(A,d)},createURL:e,encodeLocation(d){let n=e(d);return{pathname:n.pathname,search:n.search,hash:n.hash}},push:s,replace:a,go(d){return p.go(d)}};return r}var av;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(av||(av={}));function jC(i,o,x){return x===void 0&&(x="/"),KC(i,o,x,!1)}function KC(i,o,x,E){let A=typeof o=="string"?Vs(o):o,M=Ms(A.pathname||"/",x);if(M==null)return null;let p=wg(i);QC(p);let T=null;for(let t=0;T==null&&t<p.length;++t){let u=rE(M);T=nE(p[t],u,E)}return T}function wg(i,o,x,E){o===void 0&&(o=[]),x===void 0&&(x=[]),E===void 0&&(E="");let A=(M,p,T)=>{let t={relativePath:T===void 0?M.path||"":T,caseSensitive:M.caseSensitive===!0,childrenIndex:p,route:M};t.relativePath.startsWith("/")&&(jt(t.relativePath.startsWith(E),'Absolute route path "'+t.relativePath+'" nested under path '+('"'+E+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),t.relativePath=t.relativePath.slice(E.length));let u=_i([E,t.relativePath]),m=x.concat(t);M.children&&M.children.length>0&&(jt(M.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wg(M.children,o,m,u)),!(M.path==null&&!M.index)&&o.push({path:u,score:eE(u,M.index),routesMeta:m})};return i.forEach((M,p)=>{var T;if(M.path===""||!((T=M.path)!=null&&T.includes("?")))A(M,p);else for(let t of Ag(M.path))A(M,p,t)}),o}function Ag(i){let o=i.split("/");if(o.length===0)return[];let[x,...E]=o,A=x.endsWith("?"),M=x.replace(/\?$/,"");if(E.length===0)return A?[M,""]:[M];let p=Ag(E.join("/")),T=[];return T.push(...p.map(t=>t===""?M:[M,t].join("/"))),A&&T.push(...p),T.map(t=>i.startsWith("/")&&t===""?"/":t)}function QC(i){i.sort((o,x)=>o.score!==x.score?x.score-o.score:iE(o.routesMeta.map(E=>E.childrenIndex),x.routesMeta.map(E=>E.childrenIndex)))}const ZC=/^:[\w-]+$/,JC=3,kC=2,qC=1,_C=10,tE=-2,ov=i=>i==="*";function eE(i,o){let x=i.split("/"),E=x.length;return x.some(ov)&&(E+=tE),o&&(E+=kC),x.filter(A=>!ov(A)).reduce((A,M)=>A+(ZC.test(M)?JC:M===""?qC:_C),E)}function iE(i,o){return i.length===o.length&&i.slice(0,-1).every((E,A)=>E===o[A])?i[i.length-1]-o[o.length-1]:0}function nE(i,o,x){let{routesMeta:E}=i,A={},M="/",p=[];for(let T=0;T<E.length;++T){let t=E[T],u=T===E.length-1,m=M==="/"?o:o.slice(M.length)||"/",l=Fo({path:t.relativePath,caseSensitive:t.caseSensitive,end:u},m),s=t.route;if(!l&&u&&x&&!E[E.length-1].route.index&&(l=Fo({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},m)),!l)return null;Object.assign(A,l.params),p.push({params:A,pathname:_i([M,l.pathname]),pathnameBase:hE(_i([M,l.pathnameBase])),route:s}),l.pathnameBase!=="/"&&(M=_i([M,l.pathnameBase]))}return p}function Fo(i,o){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[x,E]=sE(i.path,i.caseSensitive,i.end),A=o.match(x);if(!A)return null;let M=A[0],p=M.replace(/(.)\/+$/,"$1"),T=A.slice(1);return{params:E.reduce((u,m,l)=>{let{paramName:s,isOptional:a}=m;if(s==="*"){let r=T[l]||"";p=M.slice(0,M.length-r.length).replace(/(.)\/+$/,"$1")}const e=T[l];return a&&!e?u[s]=void 0:u[s]=(e||"").replace(/%2F/g,"/"),u},{}),pathname:M,pathnameBase:p,pattern:i}}function sE(i,o,x){o===void 0&&(o=!1),x===void 0&&(x=!0),Pg(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let E=[],A="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,T,t)=>(E.push({paramName:T,isOptional:t!=null}),t?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(E.push({paramName:"*"}),A+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):x?A+="\\/*$":i!==""&&i!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,o?void 0:"i"),E]}function rE(i){try{return i.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Pg(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),i}}function Ms(i,o){if(o==="/")return i;if(!i.toLowerCase().startsWith(o.toLowerCase()))return null;let x=o.endsWith("/")?o.length-1:o.length,E=i.charAt(x);return E&&E!=="/"?null:i.slice(x)||"/"}function aE(i,o){o===void 0&&(o="/");let{pathname:x,search:E="",hash:A=""}=typeof i=="string"?Vs(i):i;return{pathname:x?x.startsWith("/")?x:oE(x,o):o,search:uE(E),hash:fE(A)}}function oE(i,o){let x=o.replace(/\/+$/,"").split("/");return i.split("/").forEach(A=>{A===".."?x.length>1&&x.pop():A!=="."&&x.push(A)}),x.length>1?x.join("/"):"/"}function ih(i,o,x,E){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(E)+"].  Please separate it out to the ")+("`to."+x+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lE(i){return i.filter((o,x)=>x===0||o.route.path&&o.route.path.length>0)}function kf(i,o){let x=lE(i);return o?x.map((E,A)=>A===x.length-1?E.pathname:E.pathnameBase):x.map(E=>E.pathnameBase)}function qf(i,o,x,E){E===void 0&&(E=!1);let A;typeof i=="string"?A=Vs(i):(A=jr({},i),jt(!A.pathname||!A.pathname.includes("?"),ih("?","pathname","search",A)),jt(!A.pathname||!A.pathname.includes("#"),ih("#","pathname","hash",A)),jt(!A.search||!A.search.includes("#"),ih("#","search","hash",A)));let M=i===""||A.pathname==="",p=M?"/":A.pathname,T;if(p==null)T=x;else{let l=o.length-1;if(!E&&p.startsWith("..")){let s=p.split("/");for(;s[0]==="..";)s.shift(),l-=1;A.pathname=s.join("/")}T=l>=0?o[l]:"/"}let t=aE(A,T),u=p&&p!=="/"&&p.endsWith("/"),m=(M||p===".")&&x.endsWith("/");return!t.pathname.endsWith("/")&&(u||m)&&(t.pathname+="/"),t}const _i=i=>i.join("/").replace(/\/\/+/g,"/"),hE=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),uE=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,fE=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function dE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Rg=["post","put","patch","delete"];new Set(Rg);const cE=["get",...Rg];new Set(cE);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var x=arguments[o];for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(i[E]=x[E])}return i},Kr.apply(this,arguments)}const hl=Z.createContext(null),Mg=Z.createContext(null),Mi=Z.createContext(null),ul=Z.createContext(null),Li=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),Lg=Z.createContext(null);function vE(i,o){let{relative:x}=o===void 0?{}:o;Us()||jt(!1);let{basename:E,navigator:A}=Z.useContext(Mi),{hash:M,pathname:p,search:T}=fl(i,{relative:x}),t=p;return E!=="/"&&(t=p==="/"?E:_i([E,p])),A.createHref({pathname:t,search:T,hash:M})}function Us(){return Z.useContext(ul)!=null}function dn(){return Us()||jt(!1),Z.useContext(ul).location}function Fg(i){Z.useContext(Mi).static||Z.useLayoutEffect(i)}function _f(){let{isDataRoute:i}=Z.useContext(Li);return i?LE():pE()}function pE(){Us()||jt(!1);let i=Z.useContext(hl),{basename:o,future:x,navigator:E}=Z.useContext(Mi),{matches:A}=Z.useContext(Li),{pathname:M}=dn(),p=JSON.stringify(kf(A,x.v7_relativeSplatPath)),T=Z.useRef(!1);return Fg(()=>{T.current=!0}),Z.useCallback(function(u,m){if(m===void 0&&(m={}),!T.current)return;if(typeof u=="number"){E.go(u);return}let l=qf(u,JSON.parse(p),M,m.relative==="path");i==null&&o!=="/"&&(l.pathname=l.pathname==="/"?o:_i([o,l.pathname])),(m.replace?E.replace:E.push)(l,m.state,m)},[o,E,p,M,i])}const mE=Z.createContext(null);function gE(i){let o=Z.useContext(Li).outlet;return o&&Z.createElement(mE.Provider,{value:i},o)}function fl(i,o){let{relative:x}=o===void 0?{}:o,{future:E}=Z.useContext(Mi),{matches:A}=Z.useContext(Li),{pathname:M}=dn(),p=JSON.stringify(kf(A,E.v7_relativeSplatPath));return Z.useMemo(()=>qf(i,JSON.parse(p),M,x==="path"),[i,p,M,x])}function xE(i,o){return yE(i,o)}function yE(i,o,x,E){Us()||jt(!1);let{navigator:A}=Z.useContext(Mi),{matches:M}=Z.useContext(Li),p=M[M.length-1],T=p?p.params:{};p&&p.pathname;let t=p?p.pathnameBase:"/";p&&p.route;let u=dn(),m;if(o){var l;let d=typeof o=="string"?Vs(o):o;t==="/"||(l=d.pathname)!=null&&l.startsWith(t)||jt(!1),m=d}else m=u;let s=m.pathname||"/",a=s;if(t!=="/"){let d=t.replace(/^\//,"").split("/");a="/"+s.replace(/^\//,"").split("/").slice(d.length).join("/")}let e=jC(i,{pathname:a}),r=PE(e&&e.map(d=>Object.assign({},d,{params:Object.assign({},T,d.params),pathname:_i([t,A.encodeLocation?A.encodeLocation(d.pathname).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?t:_i([t,A.encodeLocation?A.encodeLocation(d.pathnameBase).pathname:d.pathnameBase])})),M,x,E);return o&&r?Z.createElement(ul.Provider,{value:{location:Kr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Yi.Pop}},r):r}function TE(){let i=ME(),o=dE(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),x=i instanceof Error?i.stack:null,A={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},o),x?Z.createElement("pre",{style:A},x):null,null)}const SE=Z.createElement(TE,null);class CE extends Z.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,x){return x.location!==o.location||x.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:x.error,location:x.location,revalidation:o.revalidation||x.revalidation}}componentDidCatch(o,x){console.error("React Router caught the following error during render",o,x)}render(){return this.state.error!==void 0?Z.createElement(Li.Provider,{value:this.props.routeContext},Z.createElement(Lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EE(i){let{routeContext:o,match:x,children:E}=i,A=Z.useContext(hl);return A&&A.static&&A.staticContext&&(x.route.errorElement||x.route.ErrorBoundary)&&(A.staticContext._deepestRenderedBoundaryId=x.route.id),Z.createElement(Li.Provider,{value:o},E)}function PE(i,o,x,E){var A;if(o===void 0&&(o=[]),x===void 0&&(x=null),E===void 0&&(E=null),i==null){var M;if((M=x)!=null&&M.errors)i=x.matches;else return null}let p=i,T=(A=x)==null?void 0:A.errors;if(T!=null){let m=p.findIndex(l=>l.route.id&&(T==null?void 0:T[l.route.id])!==void 0);m>=0||jt(!1),p=p.slice(0,Math.min(p.length,m+1))}let t=!1,u=-1;if(x&&E&&E.v7_partialHydration)for(let m=0;m<p.length;m++){let l=p[m];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(u=m),l.route.id){let{loaderData:s,errors:a}=x,e=l.route.loader&&s[l.route.id]===void 0&&(!a||a[l.route.id]===void 0);if(l.route.lazy||e){t=!0,u>=0?p=p.slice(0,u+1):p=[p[0]];break}}}return p.reduceRight((m,l,s)=>{let a,e=!1,r=null,d=null;x&&(a=T&&l.route.id?T[l.route.id]:void 0,r=l.route.errorElement||SE,t&&(u<0&&s===0?(e=!0,d=null):u===s&&(e=!0,d=l.route.hydrateFallbackElement||null)));let n=o.concat(p.slice(0,s+1)),h=()=>{let f;return a?f=r:e?f=d:l.route.Component?f=Z.createElement(l.route.Component,null):l.route.element?f=l.route.element:f=m,Z.createElement(EE,{match:l,routeContext:{outlet:m,matches:n,isDataRoute:x!=null},children:f})};return x&&(l.route.ErrorBoundary||l.route.errorElement||s===0)?Z.createElement(CE,{location:x.location,revalidation:x.revalidation,component:r,error:a,children:h(),routeContext:{outlet:null,matches:n,isDataRoute:!0}}):h()},null)}var Og=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(Og||{}),Oo=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Oo||{});function wE(i){let o=Z.useContext(hl);return o||jt(!1),o}function AE(i){let o=Z.useContext(Mg);return o||jt(!1),o}function RE(i){let o=Z.useContext(Li);return o||jt(!1),o}function Dg(i){let o=RE(),x=o.matches[o.matches.length-1];return x.route.id||jt(!1),x.route.id}function ME(){var i;let o=Z.useContext(Lg),x=AE(Oo.UseRouteError),E=Dg(Oo.UseRouteError);return o!==void 0?o:(i=x.errors)==null?void 0:i[E]}function LE(){let{router:i}=wE(Og.UseNavigateStable),o=Dg(Oo.UseNavigateStable),x=Z.useRef(!1);return Fg(()=>{x.current=!0}),Z.useCallback(function(A,M){M===void 0&&(M={}),x.current&&(typeof A=="number"?i.navigate(A):i.navigate(A,Kr({fromRouteId:o},M)))},[i,o])}function FE(i){let{to:o,replace:x,state:E,relative:A}=i;Us()||jt(!1);let{future:M,static:p}=Z.useContext(Mi),{matches:T}=Z.useContext(Li),{pathname:t}=dn(),u=_f(),m=qf(o,kf(T,M.v7_relativeSplatPath),t,A==="path"),l=JSON.stringify(m);return Z.useEffect(()=>u(JSON.parse(l),{replace:x,state:E,relative:A}),[u,l,A,x,E]),null}function OE(i){return gE(i.context)}function Ii(i){jt(!1)}function Ig(i){let{basename:o="/",children:x=null,location:E,navigationType:A=Yi.Pop,navigator:M,static:p=!1,future:T}=i;Us()&&jt(!1);let t=o.replace(/^\/*/,"/"),u=Z.useMemo(()=>({basename:t,navigator:M,static:p,future:Kr({v7_relativeSplatPath:!1},T)}),[t,T,M,p]);typeof E=="string"&&(E=Vs(E));let{pathname:m="/",search:l="",hash:s="",state:a=null,key:e="default"}=E,r=Z.useMemo(()=>{let d=Ms(m,t);return d==null?null:{location:{pathname:d,search:l,hash:s,state:a,key:e},navigationType:A}},[t,m,l,s,a,e,A]);return r==null?null:Z.createElement(Mi.Provider,{value:u},Z.createElement(ul.Provider,{children:x,value:r}))}function DE(i){let{children:o,location:x}=i;return xE(Tu(o),x)}new Promise(()=>{});function Tu(i,o){o===void 0&&(o=[]);let x=[];return Z.Children.forEach(i,(E,A)=>{if(!Z.isValidElement(E))return;let M=[...o,A];if(E.type===Z.Fragment){x.push.apply(x,Tu(E.props.children,M));return}E.type!==Ii&&jt(!1),!E.props.index||!E.props.children||jt(!1);let p={id:E.props.id||M.join("-"),caseSensitive:E.props.caseSensitive,element:E.props.element,Component:E.props.Component,index:E.props.index,path:E.props.path,loader:E.props.loader,action:E.props.action,errorElement:E.props.errorElement,ErrorBoundary:E.props.ErrorBoundary,hasErrorBoundary:E.props.ErrorBoundary!=null||E.props.errorElement!=null,shouldRevalidate:E.props.shouldRevalidate,handle:E.props.handle,lazy:E.props.lazy};E.props.children&&(p.children=Tu(E.props.children,M)),x.push(p)}),x}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var x=arguments[o];for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(i[E]=x[E])}return i},Do.apply(this,arguments)}function Bg(i,o){if(i==null)return{};var x={},E=Object.keys(i),A,M;for(M=0;M<E.length;M++)A=E[M],!(o.indexOf(A)>=0)&&(x[A]=i[A]);return x}function IE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function BE(i,o){return i.button===0&&(!o||o==="_self")&&!IE(i)}const NE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],GE=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],bE="6";try{window.__reactRouterVersion=bE}catch{}const VE=Z.createContext({isTransitioning:!1}),UE="startTransition",lv=h1[UE];function zE(i){let{basename:o,children:x,future:E,window:A}=i,M=Z.useRef();M.current==null&&(M.current=YC({window:A,v5Compat:!0}));let p=M.current,[T,t]=Z.useState({action:p.action,location:p.location}),{v7_startTransition:u}=E||{},m=Z.useCallback(l=>{u&&lv?lv(()=>t(l)):t(l)},[t,u]);return Z.useLayoutEffect(()=>p.listen(m),[p,m]),Z.createElement(Ig,{basename:o,children:x,location:T.location,navigationType:T.action,navigator:p,future:E})}const WE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Io=Z.forwardRef(function(o,x){let{onClick:E,relative:A,reloadDocument:M,replace:p,state:T,target:t,to:u,preventScrollReset:m,unstable_viewTransition:l}=o,s=Bg(o,NE),{basename:a}=Z.useContext(Mi),e,r=!1;if(typeof u=="string"&&XE.test(u)&&(e=u,WE))try{let f=new URL(window.location.href),c=u.startsWith("//")?new URL(f.protocol+u):new URL(u),v=Ms(c.pathname,a);c.origin===f.origin&&v!=null?u=v+c.search+c.hash:r=!0}catch{}let d=vE(u,{relative:A}),n=HE(u,{replace:p,state:T,target:t,preventScrollReset:m,relative:A,unstable_viewTransition:l});function h(f){E&&E(f),f.defaultPrevented||n(f)}return Z.createElement("a",Do({},s,{href:e||d,onClick:r||M?E:h,ref:x,target:t}))}),nh=Z.forwardRef(function(o,x){let{"aria-current":E="page",caseSensitive:A=!1,className:M="",end:p=!1,style:T,to:t,unstable_viewTransition:u,children:m}=o,l=Bg(o,GE),s=fl(t,{relative:l.relative}),a=dn(),e=Z.useContext(Mg),{navigator:r,basename:d}=Z.useContext(Mi),n=e!=null&&$E(s)&&u===!0,h=r.encodeLocation?r.encodeLocation(s).pathname:s.pathname,f=a.pathname,c=e&&e.navigation&&e.navigation.location?e.navigation.location.pathname:null;A||(f=f.toLowerCase(),c=c?c.toLowerCase():null,h=h.toLowerCase()),c&&d&&(c=Ms(c,d)||c);const v=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let g=f===h||!p&&f.startsWith(h)&&f.charAt(v)==="/",y=c!=null&&(c===h||!p&&c.startsWith(h)&&c.charAt(h.length)==="/"),C={isActive:g,isPending:y,isTransitioning:n},S=g?E:void 0,P;typeof M=="function"?P=M(C):P=[M,g?"active":null,y?"pending":null,n?"transitioning":null].filter(Boolean).join(" ");let w=typeof T=="function"?T(C):T;return Z.createElement(Io,Do({},l,{"aria-current":S,className:P,ref:x,style:w,to:t,unstable_viewTransition:u}),typeof m=="function"?m(C):m)});var Su;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Su||(Su={}));var hv;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(hv||(hv={}));function YE(i){let o=Z.useContext(hl);return o||jt(!1),o}function HE(i,o){let{target:x,replace:E,state:A,preventScrollReset:M,relative:p,unstable_viewTransition:T}=o===void 0?{}:o,t=_f(),u=dn(),m=fl(i,{relative:p});return Z.useCallback(l=>{if(BE(l,x)){l.preventDefault();let s=E!==void 0?E:Lo(u)===Lo(m);t(i,{replace:s,state:A,preventScrollReset:M,relative:p,unstable_viewTransition:T})}},[u,t,m,E,A,x,i,M,p,T])}function $E(i,o){o===void 0&&(o={});let x=Z.useContext(VE);x==null&&jt(!1);let{basename:E}=YE(Su.useViewTransitionState),A=fl(i,{relative:o.relative});if(!x.isTransitioning)return!1;let M=Ms(x.currentLocation.pathname,E)||x.currentLocation.pathname,p=Ms(x.nextLocation.pathname,E)||x.nextLocation.pathname;return Fo(A.pathname,p)!=null||Fo(A.pathname,M)!=null}var jE=i=>{switch(i){case"success":return ZE;case"info":return kE;case"warning":return JE;case"error":return qE;default:return null}},KE=Array(12).fill(0),QE=({visible:i})=>vt.createElement("div",{className:"sonner-loading-wrapper","data-visible":i},vt.createElement("div",{className:"sonner-spinner"},KE.map((o,x)=>vt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${x}`})))),ZE=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JE=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kE=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qE=vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},vt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_E=()=>{let[i,o]=vt.useState(document.hidden);return vt.useEffect(()=>{let x=()=>{o(document.hidden)};return document.addEventListener("visibilitychange",x),()=>window.removeEventListener("visibilitychange",x)},[]),i},Cu=1,tP=class{constructor(){this.subscribe=o=>(this.subscribers.push(o),()=>{let x=this.subscribers.indexOf(o);this.subscribers.splice(x,1)}),this.publish=o=>{this.subscribers.forEach(x=>x(o))},this.addToast=o=>{this.publish(o),this.toasts=[...this.toasts,o]},this.create=o=>{var x;let{message:E,...A}=o,M=typeof(o==null?void 0:o.id)=="number"||((x=o.id)==null?void 0:x.length)>0?o.id:Cu++,p=this.toasts.find(t=>t.id===M),T=o.dismissible===void 0?!0:o.dismissible;return p?this.toasts=this.toasts.map(t=>t.id===M?(this.publish({...t,...o,id:M,title:E}),{...t,...o,id:M,dismissible:T,title:E}):t):this.addToast({title:E,...A,dismissible:T,id:M}),M},this.dismiss=o=>(o||this.toasts.forEach(x=>{this.subscribers.forEach(E=>E({id:x.id,dismiss:!0}))}),this.subscribers.forEach(x=>x({id:o,dismiss:!0})),o),this.message=(o,x)=>this.create({...x,message:o}),this.error=(o,x)=>this.create({...x,message:o,type:"error"}),this.success=(o,x)=>this.create({...x,type:"success",message:o}),this.info=(o,x)=>this.create({...x,type:"info",message:o}),this.warning=(o,x)=>this.create({...x,type:"warning",message:o}),this.loading=(o,x)=>this.create({...x,type:"loading",message:o}),this.promise=(o,x)=>{if(!x)return;let E;x.loading!==void 0&&(E=this.create({...x,promise:o,type:"loading",message:x.loading,description:typeof x.description!="function"?x.description:void 0}));let A=o instanceof Promise?o:o(),M=E!==void 0;return A.then(async p=>{if(iP(p)&&!p.ok){M=!1;let T=typeof x.error=="function"?await x.error(`HTTP error! status: ${p.status}`):x.error,t=typeof x.description=="function"?await x.description(`HTTP error! status: ${p.status}`):x.description;this.create({id:E,type:"error",message:T,description:t})}else if(x.success!==void 0){M=!1;let T=typeof x.success=="function"?await x.success(p):x.success,t=typeof x.description=="function"?await x.description(p):x.description;this.create({id:E,type:"success",message:T,description:t})}}).catch(async p=>{if(x.error!==void 0){M=!1;let T=typeof x.error=="function"?await x.error(p):x.error,t=typeof x.description=="function"?await x.description(p):x.description;this.create({id:E,type:"error",message:T,description:t})}}).finally(()=>{var p;M&&(this.dismiss(E),E=void 0),(p=x.finally)==null||p.call(x)}),E},this.custom=(o,x)=>{let E=(x==null?void 0:x.id)||Cu++;return this.create({jsx:o(E),id:E,...x}),E},this.subscribers=[],this.toasts=[]}},Ae=new tP,eP=(i,o)=>{let x=(o==null?void 0:o.id)||Cu++;return Ae.addToast({title:i,...o,id:x}),x},iP=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",nP=eP,sP=()=>Ae.toasts,sh=Object.assign(nP,{success:Ae.success,info:Ae.info,warning:Ae.warning,error:Ae.error,custom:Ae.custom,message:Ae.message,promise:Ae.promise,dismiss:Ae.dismiss,loading:Ae.loading},{getHistory:sP});function rP(i,{insertAt:o}={}){if(typeof document>"u")return;let x=document.head||document.getElementsByTagName("head")[0],E=document.createElement("style");E.type="text/css",o==="top"&&x.firstChild?x.insertBefore(E,x.firstChild):x.appendChild(E),E.styleSheet?E.styleSheet.cssText=i:E.appendChild(document.createTextNode(i))}rP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function La(i){return i.label!==void 0}var aP=3,oP="32px",lP=4e3,hP=356,uP=14,fP=20,dP=200;function cP(...i){return i.filter(Boolean).join(" ")}var vP=i=>{var o,x,E,A,M,p,T,t,u,m;let{invert:l,toast:s,unstyled:a,interacting:e,setHeights:r,visibleToasts:d,heights:n,index:h,toasts:f,expanded:c,removeToast:v,defaultRichColors:g,closeButton:y,style:C,cancelButtonStyle:S,actionButtonStyle:P,className:w="",descriptionClassName:R="",duration:L,position:D,gap:F,loadingIcon:O,expandByDefault:B,classNames:N,icons:G,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:X,cn:H}=i,[V,W]=vt.useState(!1),[I,b]=vt.useState(!1),[U,Y]=vt.useState(!1),[$,j]=vt.useState(!1),[K,J]=vt.useState(0),[k,_]=vt.useState(0),et=vt.useRef(null),nt=vt.useRef(null),it=h===0,ot=h+1<=d,ft=s.type,pt=s.dismissible!==!1,mt=s.className||"",rt=s.descriptionClassName||"",dt=vt.useMemo(()=>n.findIndex(lt=>lt.toastId===s.id)||0,[n,s.id]),ct=vt.useMemo(()=>{var lt;return(lt=s.closeButton)!=null?lt:y},[s.closeButton,y]),Pt=vt.useMemo(()=>s.duration||L||lP,[s.duration,L]),Et=vt.useRef(0),Mt=vt.useRef(0),Dt=vt.useRef(0),wt=vt.useRef(null),[St,Nt]=D.split("-"),Q=vt.useMemo(()=>n.reduce((lt,yt,Tt)=>Tt>=dt?lt:lt+yt.height,0),[n,dt]),tt=_E(),at=s.invert||l,st=ft==="loading";Mt.current=vt.useMemo(()=>dt*F+Q,[dt,Q]),vt.useEffect(()=>{W(!0)},[]),vt.useLayoutEffect(()=>{if(!V)return;let lt=nt.current,yt=lt.style.height;lt.style.height="auto";let Tt=lt.getBoundingClientRect().height;lt.style.height=yt,_(Tt),r(Lt=>Lt.find(Ft=>Ft.toastId===s.id)?Lt.map(Ft=>Ft.toastId===s.id?{...Ft,height:Tt}:Ft):[{toastId:s.id,height:Tt,position:s.position},...Lt])},[V,s.title,s.description,r,s.id]);let ht=vt.useCallback(()=>{b(!0),J(Mt.current),r(lt=>lt.filter(yt=>yt.toastId!==s.id)),setTimeout(()=>{v(s)},dP)},[s,v,r,Mt]);vt.useEffect(()=>{if(s.promise&&ft==="loading"||s.duration===1/0||s.type==="loading")return;let lt,yt=Pt;return c||e||X&&tt?(()=>{if(Dt.current<Et.current){let Tt=new Date().getTime()-Et.current;yt=yt-Tt}Dt.current=new Date().getTime()})():yt!==1/0&&(Et.current=new Date().getTime(),lt=setTimeout(()=>{var Tt;(Tt=s.onAutoClose)==null||Tt.call(s,s),ht()},yt)),()=>clearTimeout(lt)},[c,e,B,s,Pt,ht,s.promise,ft,X,tt]),vt.useEffect(()=>{let lt=nt.current;if(lt){let yt=lt.getBoundingClientRect().height;return _(yt),r(Tt=>[{toastId:s.id,height:yt,position:s.position},...Tt]),()=>r(Tt=>Tt.filter(Lt=>Lt.toastId!==s.id))}},[r,s.id]),vt.useEffect(()=>{s.delete&&ht()},[ht,s.delete]);function gt(){return G!=null&&G.loading?vt.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},G.loading):O?vt.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},O):vt.createElement(QE,{visible:ft==="loading"})}return vt.createElement("li",{"aria-live":s.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:nt,className:H(w,mt,N==null?void 0:N.toast,(o=s==null?void 0:s.classNames)==null?void 0:o.toast,N==null?void 0:N.default,N==null?void 0:N[ft],(x=s==null?void 0:s.classNames)==null?void 0:x[ft]),"data-sonner-toast":"","data-rich-colors":(E=s.richColors)!=null?E:g,"data-styled":!(s.jsx||s.unstyled||a),"data-mounted":V,"data-promise":!!s.promise,"data-removed":I,"data-visible":ot,"data-y-position":St,"data-x-position":Nt,"data-index":h,"data-front":it,"data-swiping":U,"data-dismissible":pt,"data-type":ft,"data-invert":at,"data-swipe-out":$,"data-expanded":!!(c||B&&V),style:{"--index":h,"--toasts-before":h,"--z-index":f.length-h,"--offset":`${I?K:Mt.current}px`,"--initial-height":B?"auto":`${k}px`,...C,...s.style},onPointerDown:lt=>{st||!pt||(et.current=new Date,J(Mt.current),lt.target.setPointerCapture(lt.pointerId),lt.target.tagName!=="BUTTON"&&(Y(!0),wt.current={x:lt.clientX,y:lt.clientY}))},onPointerUp:()=>{var lt,yt,Tt,Lt;if($||!pt)return;wt.current=null;let Ft=Number(((lt=nt.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),kt=new Date().getTime()-((yt=et.current)==null?void 0:yt.getTime()),we=Math.abs(Ft)/kt;if(Math.abs(Ft)>=fP||we>.11){J(Mt.current),(Tt=s.onDismiss)==null||Tt.call(s,s),ht(),j(!0);return}(Lt=nt.current)==null||Lt.style.setProperty("--swipe-amount","0px"),Y(!1)},onPointerMove:lt=>{var yt;if(!wt.current||!pt)return;let Tt=lt.clientY-wt.current.y,Lt=lt.clientX-wt.current.x,Ft=(St==="top"?Math.min:Math.max)(0,Tt),kt=lt.pointerType==="touch"?10:2;Math.abs(Ft)>kt?(yt=nt.current)==null||yt.style.setProperty("--swipe-amount",`${Tt}px`):Math.abs(Lt)>kt&&(wt.current=null)}},ct&&!s.jsx?vt.createElement("button",{"aria-label":z,"data-disabled":st,"data-close-button":!0,onClick:st||!pt?()=>{}:()=>{var lt;ht(),(lt=s.onDismiss)==null||lt.call(s,s)},className:H(N==null?void 0:N.closeButton,(A=s==null?void 0:s.classNames)==null?void 0:A.closeButton)},vt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},vt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),vt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,s.jsx||vt.isValidElement(s.title)?s.jsx||s.title:vt.createElement(vt.Fragment,null,ft||s.icon||s.promise?vt.createElement("div",{"data-icon":"",className:H(N==null?void 0:N.icon,(M=s==null?void 0:s.classNames)==null?void 0:M.icon)},s.promise||s.type==="loading"&&!s.icon?s.icon||gt():null,s.type!=="loading"?s.icon||(G==null?void 0:G[ft])||jE(ft):null):null,vt.createElement("div",{"data-content":"",className:H(N==null?void 0:N.content,(p=s==null?void 0:s.classNames)==null?void 0:p.content)},vt.createElement("div",{"data-title":"",className:H(N==null?void 0:N.title,(T=s==null?void 0:s.classNames)==null?void 0:T.title)},s.title),s.description?vt.createElement("div",{"data-description":"",className:H(R,rt,N==null?void 0:N.description,(t=s==null?void 0:s.classNames)==null?void 0:t.description)},s.description):null),vt.isValidElement(s.cancel)?s.cancel:s.cancel&&La(s.cancel)?vt.createElement("button",{"data-button":!0,"data-cancel":!0,style:s.cancelButtonStyle||S,onClick:lt=>{var yt,Tt;La(s.cancel)&&pt&&((Tt=(yt=s.cancel).onClick)==null||Tt.call(yt,lt),ht())},className:H(N==null?void 0:N.cancelButton,(u=s==null?void 0:s.classNames)==null?void 0:u.cancelButton)},s.cancel.label):null,vt.isValidElement(s.action)?s.action:s.action&&La(s.action)?vt.createElement("button",{"data-button":!0,"data-action":!0,style:s.actionButtonStyle||P,onClick:lt=>{var yt,Tt;La(s.action)&&(lt.defaultPrevented||((Tt=(yt=s.action).onClick)==null||Tt.call(yt,lt),ht()))},className:H(N==null?void 0:N.actionButton,(m=s==null?void 0:s.classNames)==null?void 0:m.actionButton)},s.action.label):null))};function uv(){if(typeof window>"u"||typeof document>"u")return"ltr";let i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}var pP=i=>{let{invert:o,position:x="bottom-right",hotkey:E=["altKey","KeyT"],expand:A,closeButton:M,className:p,offset:T,theme:t="light",richColors:u,duration:m,style:l,visibleToasts:s=aP,toastOptions:a,dir:e=uv(),gap:r=uP,loadingIcon:d,icons:n,containerAriaLabel:h="Notifications",pauseWhenPageIsHidden:f,cn:c=cP}=i,[v,g]=vt.useState([]),y=vt.useMemo(()=>Array.from(new Set([x].concat(v.filter(X=>X.position).map(X=>X.position)))),[v,x]),[C,S]=vt.useState([]),[P,w]=vt.useState(!1),[R,L]=vt.useState(!1),[D,F]=vt.useState(t!=="system"?t:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=vt.useRef(null),B=E.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=vt.useRef(null),G=vt.useRef(!1),z=vt.useCallback(X=>{var H;(H=v.find(V=>V.id===X.id))!=null&&H.delete||Ae.dismiss(X.id),g(V=>V.filter(({id:W})=>W!==X.id))},[v]);return vt.useEffect(()=>Ae.subscribe(X=>{if(X.dismiss){g(H=>H.map(V=>V.id===X.id?{...V,delete:!0}:V));return}setTimeout(()=>{Vf.flushSync(()=>{g(H=>{let V=H.findIndex(W=>W.id===X.id);return V!==-1?[...H.slice(0,V),{...H[V],...X},...H.slice(V+1)]:[X,...H]})})})}),[]),vt.useEffect(()=>{if(t!=="system"){F(t);return}t==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:X})=>{F(X?"dark":"light")})},[t]),vt.useEffect(()=>{v.length<=1&&w(!1)},[v]),vt.useEffect(()=>{let X=H=>{var V,W;E.every(I=>H[I]||H.code===I)&&(w(!0),(V=O.current)==null||V.focus()),H.code==="Escape"&&(document.activeElement===O.current||(W=O.current)!=null&&W.contains(document.activeElement))&&w(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[E]),vt.useEffect(()=>{if(O.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,G.current=!1)}},[O.current]),v.length?vt.createElement("section",{"aria-label":`${h} ${B}`,tabIndex:-1},y.map((X,H)=>{var V;let[W,I]=X.split("-");return vt.createElement("ol",{key:X,dir:e==="auto"?uv():e,tabIndex:-1,ref:O,className:p,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":W,"data-x-position":I,style:{"--front-toast-height":`${((V=C[0])==null?void 0:V.height)||0}px`,"--offset":typeof T=="number"?`${T}px`:T||oP,"--width":`${hP}px`,"--gap":`${r}px`,...l},onBlur:b=>{G.current&&!b.currentTarget.contains(b.relatedTarget)&&(G.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:b=>{b.target instanceof HTMLElement&&b.target.dataset.dismissible==="false"||G.current||(G.current=!0,N.current=b.relatedTarget)},onMouseEnter:()=>w(!0),onMouseMove:()=>w(!0),onMouseLeave:()=>{R||w(!1)},onPointerDown:b=>{b.target instanceof HTMLElement&&b.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},v.filter(b=>!b.position&&H===0||b.position===X).map((b,U)=>{var Y,$;return vt.createElement(vP,{key:b.id,icons:n,index:U,toast:b,defaultRichColors:u,duration:(Y=a==null?void 0:a.duration)!=null?Y:m,className:a==null?void 0:a.className,descriptionClassName:a==null?void 0:a.descriptionClassName,invert:o,visibleToasts:s,closeButton:($=a==null?void 0:a.closeButton)!=null?$:M,interacting:R,position:X,style:a==null?void 0:a.style,unstyled:a==null?void 0:a.unstyled,classNames:a==null?void 0:a.classNames,cancelButtonStyle:a==null?void 0:a.cancelButtonStyle,actionButtonStyle:a==null?void 0:a.actionButtonStyle,removeToast:z,toasts:v.filter(j=>j.position==b.position),heights:C.filter(j=>j.position==b.position),setHeights:S,expandByDefault:A,gap:r,loadingIcon:d,expanded:P,pauseWhenPageIsHidden:f,cn:c})}))})):null};const tn=lC,zs=()=>{var A;const i=U2(),{user:o}=i||{},x=((A=o==null?void 0:o.id)==null?void 0:A.toString())||"";return Z.useMemo(()=>({...o,id:x}),[o,x])},mP=()=>{const i=zs(),x=$f().startParam||"",E=xg();Z.useEffect(()=>{async function A(p){await E.mutation(tn.queries.newUser,{firstName:(i==null?void 0:i.firstName)||"",lastName:(i==null?void 0:i.lastName)||"",tgUserId:i.id,refId:p})}async function M(){const p=await E.query(tn.queries.userByTelegramId,{tgUserId:i==null?void 0:i.id});if(i.id===(p==null?void 0:p.tgUserId)){sh.info("Welcome back!");return}const T=await E.query(tn.queries.userByTelegramId,{tgUserId:x});if((T==null?void 0:T.tgUserId)===x){await A(x),sh.info(`Welcome to the Tapathon! You have been invited by ${T.firstName}!`);return}else{await A();const t=x&&T===null;sh.info(`Welcome to the Tapathon! ${t?"User who invited you does not exist":""}`);return}}M()},[i,E,x])};var gP=Object.defineProperty,xP=(i,o,x)=>o in i?gP(i,o,{enumerable:!0,configurable:!0,writable:!0,value:x}):i[o]=x,xr=(i,o,x)=>xP(i,typeof o!="symbol"?o+"":o,x);function Ng(i,o){let x;const E=()=>{x!==void 0&&o&&o(x),x=void 0};return[()=>x===void 0?x=i(E):x,E]}class yP{constructor(o,x={}){this.scope=o,this.options=x}print(o,...x){const E=new Date,A=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(E),{textColor:M,bgColor:p}=this.options,T="font-weight: bold;padding: 0 5px;border-radius:5px";console[o](`%c${A}%c / %c${this.scope}`,`${T};background-color: lightblue;color:black`,"",`${T};${M?`color:${M};`:""}${p?`background-color:${p}`:""}`,...x)}error(...o){this.print("error",...o)}log(...o){this.print("log",...o)}}const TP=new yP("SDK",{bgColor:"forestgreen",textColor:"white"});class fv{constructor(){xr(this,"listeners",new Map),xr(this,"listenersCount",0),xr(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(o,...x){this.subscribeListeners.forEach(E=>E({event:o,args:x})),(this.listeners.get(o)||[]).forEach(([E,A])=>{E(...x),A&&this.off(o,E)})}on(o,x,E){let A=this.listeners.get(o);return A||this.listeners.set(o,A=[]),A.push([x,E]),this.listenersCount+=1,()=>this.off(o,x)}off(o,x){const E=this.listeners.get(o)||[];for(let A=0;A<E.length;A+=1)if(x===E[A][0]){E.splice(A,1),this.listenersCount-=1;return}}subscribe(o){return this.subscribeListeners.push(o),()=>this.unsubscribe(o)}unsubscribe(o){for(let x=0;x<this.subscribeListeners.length;x+=1)if(this.subscribeListeners[x]===o){this.subscribeListeners.splice(x,1);return}}}function dv(i,o,x){return window.addEventListener(i,o,x),()=>window.removeEventListener(i,o,x)}function td(...i){let o=!1;const x=i.flat(1);return[E=>!o&&x.push(E),()=>{o||(o=!0,x.forEach(E=>E()))},o]}class ed extends Error{constructor(o,x,E){super(x,{cause:E}),this.type=o,Object.setPrototypeOf(this,ed.prototype)}}function Un(i,o,x){return new ed(i,o,x)}const SP="ERR_METHOD_UNSUPPORTED",CP="ERR_METHOD_PARAMETER_UNSUPPORTED",EP="ERR_UNKNOWN_ENV",PP="ERR_TIMED_OUT",wP="ERR_UNEXPECTED_TYPE",Gg="ERR_PARSE";function sa(){return Un(wP,"Value has unexpected type")}class id{constructor(o,x,E){this.parser=o,this.isOptional=x,this.type=E}parse(o){if(!(this.isOptional&&o===void 0))try{return this.parser(o)}catch(x){throw Un(Gg,`Unable to parse value${this.type?` as ${this.type}`:""}`,x)}}optional(){return this.isOptional=!0,this}}function Ws(i,o){return()=>new id(i,!1,o)}const Hi=Ws(i=>{if(typeof i=="boolean")return i;const o=String(i);if(o==="1"||o==="true")return!0;if(o==="0"||o==="false")return!1;throw sa()},"boolean");function bg(i,o){const x={};for(const E in i){const A=i[E];if(!A)continue;let M,p;if(typeof A=="function"||"parse"in A)M=E,p=typeof A=="function"?A:A.parse.bind(A);else{const{type:T}=A;M=A.from||E,p=typeof T=="function"?T:T.parse.bind(T)}try{const T=p(o(M));T!==void 0&&(x[E]=T)}catch(T){throw Un(Gg,`Unable to parse field "${E}"`,T)}}return x}function Vg(i){let o=i;if(typeof o=="string"&&(o=JSON.parse(o)),typeof o!="object"||o===null||Array.isArray(o))throw sa();return o}function wn(i,o){return new id(x=>{const E=Vg(x);return bg(i,A=>E[A])},!1,o)}const Ls=Ws(i=>{if(typeof i=="number")return i;if(typeof i=="string"){const o=Number(i);if(!Number.isNaN(o))return o}throw sa()},"number"),zt=Ws(i=>{if(typeof i=="string"||typeof i=="number")return i.toString();throw sa()},"string");function AP(i){return wn({eventType:zt(),eventData:o=>o}).parse(i)}function RP(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(i=>{delete window[i]})}function MP(i,o){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:i,eventData:o}),source:window.parent}))}function LP(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(i=>{let o=window;i.forEach((x,E,A)=>{if(E===A.length-1){o[x]=MP;return}x in o||(o[x]={}),o=o[x]})})}const FP={clipboard_text_received:wn({req_id:zt(),data:i=>i===null?i:zt().optional().parse(i)}),custom_method_invoked:wn({req_id:zt(),result:i=>i,error:zt().optional()}),popup_closed:{parse(i){return wn({button_id:o=>o==null?void 0:zt().parse(o)}).parse(i??{})}},viewport_changed:wn({height:Ls(),width:i=>i==null?window.innerWidth:Ls().parse(i),is_state_stable:Hi(),is_expanded:Hi()})};function OP(){const i=new fv,o=new fv;o.subscribe(E=>{i.emit("event",{name:E.event,payload:E.args[0]})}),LP();const[,x]=td(RP,dv("resize",()=>{o.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),dv("message",E=>{if(E.source!==window.parent)return;let A;try{A=AP(E.data)}catch{return}const{eventType:M,eventData:p}=A,T=FP[M];try{const t=T?T.parse(p):p;o.emit(...t?[M,t]:[M])}catch(t){TP.error(`An error occurred processing the "${M}" event from the Telegram application.
Please, file an issue here:
https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose`,A,t)}}),()=>i.clear(),()=>o.clear());return[{on:o.on.bind(o),off:o.off.bind(o),subscribe(E){return i.on("event",E)},unsubscribe(E){i.off("event",E)},get count(){return o.count+i.count}},x]}const[DP,UM]=Ng(i=>{const[o,x]=OP(),E=o.off.bind(o);return o.off=(A,M)=>{const{count:p}=o;E(A,M),p&&!o.count&&i()},[o,x]},([,i])=>i());function IP(){return DP()[0]}function BP(i,o,x){return IP().on(i,o,x)}function nd(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}function NP(i,o){const x=i.split("."),E=o.split("."),A=Math.max(x.length,E.length);for(let M=0;M<A;M+=1){const p=parseInt(x[M]||"0",10),T=parseInt(E[M]||"0",10);if(p!==T)return p>T?1:-1}return 0}function Ze(i,o){return NP(i,o)<=0}function Fs(i,o,x){if(typeof x=="string"){if(i==="web_app_open_link"){if(o==="try_instant_view")return Ze("6.4",x);if(o==="try_browser")return Ze("7.6",x)}if(i==="web_app_set_header_color"&&o==="color")return Ze("6.9",x);if(i==="web_app_close"&&o==="return_back")return Ze("7.6",x)}switch(i){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return Ze("6.1",o);case"web_app_open_popup":return Ze("6.2",o);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return Ze("6.4",o);case"web_app_switch_inline_query":return Ze("6.7",o);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return Ze("6.9",o);case"web_app_setup_settings_button":return Ze("6.10",o);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return Ze("7.2",o);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(i)}}function GP(i){return"external"in i&&nd(i.external)&&"notify"in i.external&&typeof i.external.notify=="function"}function bP(i){return"TelegramWebviewProxy"in i&&nd(i.TelegramWebviewProxy)&&"postEvent"in i.TelegramWebviewProxy&&typeof i.TelegramWebviewProxy.postEvent=="function"}function VP(){try{return window.self!==window.top}catch{return!0}}const UP="https://web.telegram.org";let zP=UP;function WP(){return zP}function Ug(i,o,x){let E={},A;if(!o&&!x?E={}:o&&x?(E=x,A=o):o&&("targetOrigin"in o?E=o:A=o),VP())return window.parent.postMessage(JSON.stringify({eventType:i,eventData:A}),E.targetOrigin||WP());if(GP(window)){window.external.notify(JSON.stringify({eventType:i,eventData:A}));return}if(bP(window)){window.TelegramWebviewProxy.postEvent(i,JSON.stringify(A));return}throw Un(EP,"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.")}function XP(i){return(o,x)=>{if(!Fs(o,i))throw Un(SP,`Method "${o}" is unsupported in Mini Apps version ${i}`);if(nd(x)&&o==="web_app_set_header_color"&&"color"in x&&!Fs(o,"color",i))throw Un(CP,`Parameter "color" of "${o}" method is unsupported in Mini Apps version ${i}`);return Ug(o,x)}}function YP(i){return({req_id:o})=>o===i}function HP(i){return Un(PP,`Timeout reached: ${i}ms`)}function $P(i,o){return Promise.race([typeof i=="function"?i():i,new Promise((x,E)=>{setTimeout(()=>{E(HP(o))},o)})])}async function jP(i){let o;const x=new Promise(T=>o=T),{event:E,capture:A,timeout:M}=i,[,p]=td((Array.isArray(E)?E:[E]).map(T=>BP(T,t=>{(!A||(Array.isArray(E)?A({event:T,payload:t}):A(t)))&&o(t)})));try{return(i.postEvent||Ug)(i.method,i.params),await(M?$P(x,M):x)}finally{p()}}function KP(i){return/^#[\da-f]{6}$/i.test(i)}function QP(i){return/^#[\da-f]{3}$/i.test(i)}function ZP(i){const o=i.replace(/\s/g,"").toLowerCase();if(KP(o))return o;if(QP(o)){let E="#";for(let A=0;A<3;A+=1)E+=o[1+A].repeat(2);return E}const x=o.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||o.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!x)throw new Error(`Value "${i}" does not satisfy any of known RGB formats.`);return x.slice(1).reduce((E,A)=>{const M=parseInt(A,10).toString(16);return E+(M.length===1?"0":"")+M},"#")}function JP(i,o){return x=>Fs(o[x],i)}const kP=Ws(i=>i instanceof Date?i:new Date(Ls().parse(i)*1e3),"Date");function zg(i,o){return new id(x=>{if(typeof x!="string"&&!(x instanceof URLSearchParams))throw sa();const E=typeof x=="string"?new URLSearchParams(x):x;return bg(i,A=>{const M=E.get(A);return M===null?void 0:M})},!1,o)}const qP=wn({id:Ls(),type:zt(),title:zt(),photoUrl:{type:zt().optional(),from:"photo_url"},username:zt().optional()},"Chat").optional(),cv=wn({addedToAttachmentMenu:{type:Hi().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:Hi().optional(),from:"allows_write_to_pm"},firstName:{type:zt(),from:"first_name"},id:Ls(),isBot:{type:Hi().optional(),from:"is_bot"},isPremium:{type:Hi().optional(),from:"is_premium"},languageCode:{type:zt().optional(),from:"language_code"},lastName:{type:zt().optional(),from:"last_name"},photoUrl:{type:zt().optional(),from:"photo_url"},username:zt().optional()},"User").optional();function _P(){return zg({authDate:{type:kP(),from:"auth_date"},canSendAfter:{type:Ls().optional(),from:"can_send_after"},chat:qP,chatInstance:{type:zt().optional(),from:"chat_instance"},chatType:{type:zt().optional(),from:"chat_type"},hash:zt(),queryId:{type:zt().optional(),from:"query_id"},receiver:cv,startParam:{type:zt().optional(),from:"start_param"},user:cv},"InitData")}const t3=Ws(i=>ZP(zt().parse(i)),"rgb");function e3(i){return i.replace(/_[a-z]/g,o=>o[1].toUpperCase())}function i3(i){return i.replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`)}const n3=Ws(i=>{const o=t3().optional();return Object.entries(Vg(i)).reduce((x,[E,A])=>(x[e3(E)]=o.parse(A),x),{})},"ThemeParams");function Wg(i){return zg({botInline:{type:Hi().optional(),from:"tgWebAppBotInline"},initData:{type:_P().optional(),from:"tgWebAppData"},initDataRaw:{type:zt().optional(),from:"tgWebAppData"},platform:{type:zt(),from:"tgWebAppPlatform"},showSettings:{type:Hi().optional(),from:"tgWebAppShowSettings"},startParam:{type:zt().optional(),from:"tgWebAppStartParam"},themeParams:{type:n3(),from:"tgWebAppThemeParams"},version:{type:zt(),from:"tgWebAppVersion"}}).parse(i)}function Xg(i){return Wg(i.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function s3(){return Xg(window.location.href)}function Yg(){return performance.getEntriesByType("navigation")[0]}function r3(){const i=Yg();if(!i)throw new Error("Unable to get first navigation entry.");return Xg(i.name)}function Hg(i){return`tma.js/${i.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}`}function $g(i,o){sessionStorage.setItem(Hg(i),JSON.stringify(o))}function jg(i){const o=sessionStorage.getItem(Hg(i));try{return o?JSON.parse(o):void 0}catch{}}function a3(){return Wg(jg("launchParams")||"")}function o3(i){return JSON.stringify(Object.fromEntries(Object.entries(i).map(([o,x])=>[i3(o),x])))}function l3(i){const{initDataRaw:o,themeParams:x,platform:E,version:A,showSettings:M,startParam:p,botInline:T}=i,t=new URLSearchParams;return t.set("tgWebAppPlatform",E),t.set("tgWebAppThemeParams",o3(x)),t.set("tgWebAppVersion",A),o&&t.set("tgWebAppData",o),p&&t.set("tgWebAppStartParam",p),typeof M=="boolean"&&t.set("tgWebAppShowSettings",M?"1":"0"),typeof T=="boolean"&&t.set("tgWebAppBotInline",T?"1":"0"),t.toString()}function h3(i){$g("launchParams",l3(i))}function u3(){for(const i of[s3,r3,a3])try{const o=i();return h3(o),o}catch{}throw new Error("Unable to retrieve launch parameters from any known source.")}function f3(){const i=Yg();return!!(i&&i.type==="reload")}function d3(){let i=0;return()=>(i+=1).toString()}const[c3]=Ng(d3);function v3(i,o){return()=>{const x=u3(),E={...x,postEvent:XP(x.version),createRequestId:c3()};if(typeof i=="function")return i(E);const[A,M,p]=td(),T=o({...E,state:f3()?jg(i):void 0,addCleanup:A}),t=u=>(p||A(u.on("change",m=>{$g(i,m)})),u);return[T instanceof Promise?T.then(t):t(T),M]}}class p3{constructor(o,x){xr(this,"supports"),this.supports=JP(o,x)}}function m3(i,o){return x=>{const[E,A]=o[x];return Fs(E,A,i)}}function vv(i,o){return i.startsWith(o)?i:`${o}${i}`}function g3(i){return new URL(typeof i=="string"?i:`${i.pathname||""}${vv(i.search||"","?")}${vv(i.hash||"","#")}`,"http://a")}class x3 extends p3{constructor(o,x,E){super(o,{readTextFromClipboard:"web_app_read_text_from_clipboard"}),xr(this,"supportsParam"),this.version=o,this.createRequestId=x,this.postEvent=E,this.supportsParam=m3(o,{"openLink.tryInstantView":["web_app_open_link","try_instant_view"]})}openLink(o,x){const E=g3(o).toString();if(!Fs("web_app_open_link",this.version)){window.open(E,"_blank");return}const A=typeof x=="boolean"?{tryInstantView:x}:x||{};this.postEvent("web_app_open_link",{url:E,try_browser:A.tryBrowser,try_instant_view:A.tryInstantView})}openTelegramLink(o){const{hostname:x,pathname:E,search:A}=new URL(o,"https://t.me");if(x!=="t.me")throw new Error(`URL has not allowed hostname: ${x}. Only "t.me" is allowed`);if(!Fs("web_app_open_tg_link",this.version)){window.location.href=o;return}this.postEvent("web_app_open_tg_link",{path_full:E+A})}async readTextFromClipboard(){const o=this.createRequestId(),{data:x=null}=await jP({method:"web_app_read_text_from_clipboard",event:"clipboard_text_received",postEvent:this.postEvent,params:{req_id:o},capture:YP(o)});return x}shareURL(o,x){this.openTelegramLink("https://t.me/share/url?"+new URLSearchParams({url:o,text:x||""}).toString().replace(/\+/g,"%20"))}}const y3=v3(({version:i,postEvent:o,createRequestId:x})=>new x3(i,x,o)),T3=i=>i!=="unknown",S3=()=>{const i=dn();return{isActive:x=>i.pathname===x}};function Kg(i){var o,x,E="";if(typeof i=="string"||typeof i=="number")E+=i;else if(typeof i=="object")if(Array.isArray(i)){var A=i.length;for(o=0;o<A;o++)i[o]&&(x=Kg(i[o]))&&(E&&(E+=" "),E+=x)}else for(x in i)i[x]&&(E&&(E+=" "),E+=x);return E}function C3(){for(var i,o,x=0,E="",A=arguments.length;x<A;x++)(i=arguments[x])&&(o=Kg(i))&&(E&&(E+=" "),E+=o);return E}const sd="-";function E3(i){const o=w3(i),{conflictingClassGroups:x,conflictingClassGroupModifiers:E}=i;function A(p){const T=p.split(sd);return T[0]===""&&T.length!==1&&T.shift(),Qg(T,o)||P3(p)}function M(p,T){const t=x[p]||[];return T&&E[p]?[...t,...E[p]]:t}return{getClassGroupId:A,getConflictingClassGroupIds:M}}function Qg(i,o){var p;if(i.length===0)return o.classGroupId;const x=i[0],E=o.nextPart.get(x),A=E?Qg(i.slice(1),E):void 0;if(A)return A;if(o.validators.length===0)return;const M=i.join(sd);return(p=o.validators.find(({validator:T})=>T(M)))==null?void 0:p.classGroupId}const pv=/^\[(.+)\]$/;function P3(i){if(pv.test(i)){const o=pv.exec(i)[1],x=o==null?void 0:o.substring(0,o.indexOf(":"));if(x)return"arbitrary.."+x}}function w3(i){const{theme:o,prefix:x}=i,E={nextPart:new Map,validators:[]};return R3(Object.entries(i.classGroups),x).forEach(([M,p])=>{Eu(p,E,M,o)}),E}function Eu(i,o,x,E){i.forEach(A=>{if(typeof A=="string"){const M=A===""?o:mv(o,A);M.classGroupId=x;return}if(typeof A=="function"){if(A3(A)){Eu(A(E),o,x,E);return}o.validators.push({validator:A,classGroupId:x});return}Object.entries(A).forEach(([M,p])=>{Eu(p,mv(o,M),x,E)})})}function mv(i,o){let x=i;return o.split(sd).forEach(E=>{x.nextPart.has(E)||x.nextPart.set(E,{nextPart:new Map,validators:[]}),x=x.nextPart.get(E)}),x}function A3(i){return i.isThemeGetter}function R3(i,o){return o?i.map(([x,E])=>{const A=E.map(M=>typeof M=="string"?o+M:typeof M=="object"?Object.fromEntries(Object.entries(M).map(([p,T])=>[o+p,T])):M);return[x,A]}):i}function M3(i){if(i<1)return{get:()=>{},set:()=>{}};let o=0,x=new Map,E=new Map;function A(M,p){x.set(M,p),o++,o>i&&(o=0,E=x,x=new Map)}return{get(M){let p=x.get(M);if(p!==void 0)return p;if((p=E.get(M))!==void 0)return A(M,p),p},set(M,p){x.has(M)?x.set(M,p):A(M,p)}}}const Zg="!";function L3(i){const{separator:o,experimentalParseClassName:x}=i,E=o.length===1,A=o[0],M=o.length;function p(T){const t=[];let u=0,m=0,l;for(let d=0;d<T.length;d++){let n=T[d];if(u===0){if(n===A&&(E||T.slice(d,d+M)===o)){t.push(T.slice(m,d)),m=d+M;continue}if(n==="/"){l=d;continue}}n==="["?u++:n==="]"&&u--}const s=t.length===0?T:T.substring(m),a=s.startsWith(Zg),e=a?s.substring(1):s,r=l&&l>m?l-m:void 0;return{modifiers:t,hasImportantModifier:a,baseClassName:e,maybePostfixModifierPosition:r}}return x?function(t){return x({className:t,parseClassName:p})}:p}function F3(i){if(i.length<=1)return i;const o=[];let x=[];return i.forEach(E=>{E[0]==="["?(o.push(...x.sort(),E),x=[]):x.push(E)}),o.push(...x.sort()),o}function O3(i){return{cache:M3(i.cacheSize),parseClassName:L3(i),...E3(i)}}const D3=/\s+/;function I3(i,o){const{parseClassName:x,getClassGroupId:E,getConflictingClassGroupIds:A}=o,M=new Set;return i.trim().split(D3).map(p=>{const{modifiers:T,hasImportantModifier:t,baseClassName:u,maybePostfixModifierPosition:m}=x(p);let l=!!m,s=E(l?u.substring(0,m):u);if(!s){if(!l)return{isTailwindClass:!1,originalClassName:p};if(s=E(u),!s)return{isTailwindClass:!1,originalClassName:p};l=!1}const a=F3(T).join(":");return{isTailwindClass:!0,modifierId:t?a+Zg:a,classGroupId:s,originalClassName:p,hasPostfixModifier:l}}).reverse().filter(p=>{if(!p.isTailwindClass)return!0;const{modifierId:T,classGroupId:t,hasPostfixModifier:u}=p,m=T+t;return M.has(m)?!1:(M.add(m),A(t,u).forEach(l=>M.add(T+l)),!0)}).reverse().map(p=>p.originalClassName).join(" ")}function B3(){let i=0,o,x,E="";for(;i<arguments.length;)(o=arguments[i++])&&(x=Jg(o))&&(E&&(E+=" "),E+=x);return E}function Jg(i){if(typeof i=="string")return i;let o,x="";for(let E=0;E<i.length;E++)i[E]&&(o=Jg(i[E]))&&(x&&(x+=" "),x+=o);return x}function N3(i,...o){let x,E,A,M=p;function p(t){const u=o.reduce((m,l)=>l(m),i());return x=O3(u),E=x.cache.get,A=x.cache.set,M=T,T(t)}function T(t){const u=E(t);if(u)return u;const m=I3(t,x);return A(t,m),m}return function(){return M(B3.apply(null,arguments))}}function bt(i){const o=x=>x[i]||[];return o.isThemeGetter=!0,o}const kg=/^\[(?:([a-z-]+):)?(.+)\]$/i,G3=/^\d+\/\d+$/,b3=new Set(["px","full","screen"]),V3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,W3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,X3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function fi(i){return An(i)||b3.has(i)||G3.test(i)}function Oi(i){return Xs(i,"length",J3)}function An(i){return!!i&&!Number.isNaN(Number(i))}function Fa(i){return Xs(i,"number",An)}function qs(i){return!!i&&Number.isInteger(Number(i))}function Y3(i){return i.endsWith("%")&&An(i.slice(0,-1))}function At(i){return kg.test(i)}function Di(i){return V3.test(i)}const H3=new Set(["length","size","percentage"]);function $3(i){return Xs(i,H3,qg)}function j3(i){return Xs(i,"position",qg)}const K3=new Set(["image","url"]);function Q3(i){return Xs(i,K3,q3)}function Z3(i){return Xs(i,"",k3)}function _s(){return!0}function Xs(i,o,x){const E=kg.exec(i);return E?E[1]?typeof o=="string"?E[1]===o:o.has(E[1]):x(E[2]):!1}function J3(i){return U3.test(i)&&!z3.test(i)}function qg(){return!1}function k3(i){return W3.test(i)}function q3(i){return X3.test(i)}function _3(){const i=bt("colors"),o=bt("spacing"),x=bt("blur"),E=bt("brightness"),A=bt("borderColor"),M=bt("borderRadius"),p=bt("borderSpacing"),T=bt("borderWidth"),t=bt("contrast"),u=bt("grayscale"),m=bt("hueRotate"),l=bt("invert"),s=bt("gap"),a=bt("gradientColorStops"),e=bt("gradientColorStopPositions"),r=bt("inset"),d=bt("margin"),n=bt("opacity"),h=bt("padding"),f=bt("saturate"),c=bt("scale"),v=bt("sepia"),g=bt("skew"),y=bt("space"),C=bt("translate"),S=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],w=()=>["auto",At,o],R=()=>[At,o],L=()=>["",fi,Oi],D=()=>["auto",An,At],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",At],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[An,Fa],H=()=>[An,At];return{cacheSize:500,separator:":",theme:{colors:[_s],spacing:[fi,Oi],blur:["none","",Di,At],brightness:X(),borderColor:[i],borderRadius:["none","","full",Di,At],borderSpacing:R(),borderWidth:L(),contrast:X(),grayscale:G(),hueRotate:H(),invert:G(),gap:R(),gradientColorStops:[i],gradientColorStopPositions:[Y3,Oi],inset:w(),margin:w(),opacity:X(),padding:R(),saturate:X(),scale:X(),sepia:G(),skew:H(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",At]}],container:["container"],columns:[{columns:[Di]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),At]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[r]}],"inset-x":[{"inset-x":[r]}],"inset-y":[{"inset-y":[r]}],start:[{start:[r]}],end:[{end:[r]}],top:[{top:[r]}],right:[{right:[r]}],bottom:[{bottom:[r]}],left:[{left:[r]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qs,At]}],basis:[{basis:w()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",At]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",qs,At]}],"grid-cols":[{"grid-cols":[_s]}],"col-start-end":[{col:["auto",{span:["full",qs,At]},At]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[_s]}],"row-start-end":[{row:["auto",{span:[qs,At]},At]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",At]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",At]}],gap:[{gap:[s]}],"gap-x":[{"gap-x":[s]}],"gap-y":[{"gap-y":[s]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[d]}],mx:[{mx:[d]}],my:[{my:[d]}],ms:[{ms:[d]}],me:[{me:[d]}],mt:[{mt:[d]}],mr:[{mr:[d]}],mb:[{mb:[d]}],ml:[{ml:[d]}],"space-x":[{"space-x":[y]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[y]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",At,o]}],"min-w":[{"min-w":[At,o,"min","max","fit"]}],"max-w":[{"max-w":[At,o,"none","full","min","max","fit","prose",{screen:[Di]},Di]}],h:[{h:[At,o,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[At,o,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[At,o,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[At,o,"auto","min","max","fit"]}],"font-size":[{text:["base",Di,Oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fa]}],"font-family":[{font:[_s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",At]}],"line-clamp":[{"line-clamp":["none",An,Fa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi,At]}],"list-image":[{"list-image":["none",At]}],"list-style-type":[{list:["none","disc","decimal",At]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[n]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[n]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fi,Oi]}],"underline-offset":[{"underline-offset":["auto",fi,At]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",At]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",At]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[n]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),j3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Q3]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[e]}],"gradient-via-pos":[{via:[e]}],"gradient-to-pos":[{to:[e]}],"gradient-from":[{from:[a]}],"gradient-via":[{via:[a]}],"gradient-to":[{to:[a]}],rounded:[{rounded:[M]}],"rounded-s":[{"rounded-s":[M]}],"rounded-e":[{"rounded-e":[M]}],"rounded-t":[{"rounded-t":[M]}],"rounded-r":[{"rounded-r":[M]}],"rounded-b":[{"rounded-b":[M]}],"rounded-l":[{"rounded-l":[M]}],"rounded-ss":[{"rounded-ss":[M]}],"rounded-se":[{"rounded-se":[M]}],"rounded-ee":[{"rounded-ee":[M]}],"rounded-es":[{"rounded-es":[M]}],"rounded-tl":[{"rounded-tl":[M]}],"rounded-tr":[{"rounded-tr":[M]}],"rounded-br":[{"rounded-br":[M]}],"rounded-bl":[{"rounded-bl":[M]}],"border-w":[{border:[T]}],"border-w-x":[{"border-x":[T]}],"border-w-y":[{"border-y":[T]}],"border-w-s":[{"border-s":[T]}],"border-w-e":[{"border-e":[T]}],"border-w-t":[{"border-t":[T]}],"border-w-r":[{"border-r":[T]}],"border-w-b":[{"border-b":[T]}],"border-w-l":[{"border-l":[T]}],"border-opacity":[{"border-opacity":[n]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[T]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[T]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[n]}],"divide-style":[{divide:O()}],"border-color":[{border:[A]}],"border-color-x":[{"border-x":[A]}],"border-color-y":[{"border-y":[A]}],"border-color-t":[{"border-t":[A]}],"border-color-r":[{"border-r":[A]}],"border-color-b":[{"border-b":[A]}],"border-color-l":[{"border-l":[A]}],"divide-color":[{divide:[A]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[fi,At]}],"outline-w":[{outline:[fi,Oi]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[n]}],"ring-offset-w":[{"ring-offset":[fi,Oi]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",Di,Z3]}],"shadow-color":[{shadow:[_s]}],opacity:[{opacity:[n]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[x]}],brightness:[{brightness:[E]}],contrast:[{contrast:[t]}],"drop-shadow":[{"drop-shadow":["","none",Di,At]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[l]}],saturate:[{saturate:[f]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[x]}],"backdrop-brightness":[{"backdrop-brightness":[E]}],"backdrop-contrast":[{"backdrop-contrast":[t]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[l]}],"backdrop-opacity":[{"backdrop-opacity":[n]}],"backdrop-saturate":[{"backdrop-saturate":[f]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[p]}],"border-spacing-x":[{"border-spacing-x":[p]}],"border-spacing-y":[{"border-spacing-y":[p]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",At]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",At]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",At]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[c]}],"scale-x":[{"scale-x":[c]}],"scale-y":[{"scale-y":[c]}],rotate:[{rotate:[qs,At]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[g]}],"skew-y":[{"skew-y":[g]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",At]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",At]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",At]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[fi,Oi,Fa]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const tw=N3(_3);function On(...i){return tw(C3(i))}const ew=()=>{const{isActive:i}=S3();return q.jsx("div",{className:"fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-200",children:q.jsxs("div",{className:"grid h-full max-w-lg grid-cols-3 mx-auto font-medium",children:[q.jsxs(nh,{to:"/",className:On("inline-flex flex-col items-center justify-center px-5 text-gray-500",{"text-blue-500":i("/")}),children:[q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-home text-current",children:[q.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),q.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),q.jsx("span",{className:"text-sm text-current",children:"Home"})]}),q.jsxs(nh,{to:"/leaderboard",className:On("inline-flex flex-col items-center justify-center px-5 text-gray-500",{"text-blue-500":i("/leaderboard")}),children:[q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-medal",children:[q.jsx("path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15"}),q.jsx("path",{d:"M11 12 5.12 2.2"}),q.jsx("path",{d:"m13 12 5.88-9.8"}),q.jsx("path",{d:"M8 7h8"}),q.jsx("circle",{cx:"12",cy:"17",r:"5"}),q.jsx("path",{d:"M12 18v-2h-.5"})]}),q.jsx("span",{className:"text-sm text-current",children:"Leaderboard"})]}),q.jsxs(nh,{to:"/invite-friends",className:On("inline-flex flex-col items-center justify-center px-5 text-gray-500",{"text-blue-500":i("/invite-friends")}),children:[q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users text-current",children:[q.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),q.jsx("circle",{cx:"9",cy:"7",r:"4"}),q.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),q.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),q.jsx("span",{className:"text-sm text-current",children:"Invite"})]})]})})},iw=()=>q.jsxs("div",{children:[q.jsx(OE,{}),q.jsx(ew,{})]}),nw=(i,o)=>{if(!i&&!o)return"U";const x=i?i[0]:"",E=o?o[0]:"";return x+E},_g=({firstName:i,lastName:o,size:x})=>q.jsx("div",{className:On("relative inline-flex items-center justify-center overflow-hidden bg-gray-100 rounded-full mx-auto",{"size-12":x==="small","size-24":x==="medium","size-48":x==="large"}),children:q.jsx("span",{className:On("text-gray-600",{"text-[18px]":x==="small","text-[32px]":x==="medium","text-[48px]":x==="large"}),children:nw(i,o)})}),rd=Z.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),dl=Z.createContext({}),cl=Z.createContext(null),ad=typeof document<"u",od=ad?Z.useLayoutEffect:Z.useEffect,tx=Z.createContext({strict:!1}),ld=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sw="framerAppearId",ex="data-"+ld(sw),rw={skipAnimations:!1,useManualTiming:!1};class gv{constructor(){this.order=[],this.scheduled=new Set}add(o){if(!this.scheduled.has(o))return this.scheduled.add(o),this.order.push(o),!0}remove(o){const x=this.order.indexOf(o);x!==-1&&(this.order.splice(x,1),this.scheduled.delete(o))}clear(){this.order.length=0,this.scheduled.clear()}}function aw(i){let o=new gv,x=new gv,E=0,A=!1,M=!1;const p=new WeakSet,T={schedule:(t,u=!1,m=!1)=>{const l=m&&A,s=l?o:x;return u&&p.add(t),s.add(t)&&l&&A&&(E=o.order.length),t},cancel:t=>{x.remove(t),p.delete(t)},process:t=>{if(A){M=!0;return}if(A=!0,[o,x]=[x,o],x.clear(),E=o.order.length,E)for(let u=0;u<E;u++){const m=o.order[u];p.has(m)&&(T.schedule(m),i()),m(t)}A=!1,M&&(M=!1,T.process(t))}};return T}const Oa=["read","resolveKeyframes","update","preRender","render","postRender"],ow=40;function ix(i,o){let x=!1,E=!0;const A={delta:0,timestamp:0,isProcessing:!1},M=Oa.reduce((l,s)=>(l[s]=aw(()=>x=!0),l),{}),p=l=>{M[l].process(A)},T=()=>{const l=performance.now();x=!1,A.delta=E?1e3/60:Math.max(Math.min(l-A.timestamp,ow),1),A.timestamp=l,A.isProcessing=!0,Oa.forEach(p),A.isProcessing=!1,x&&o&&(E=!1,i(T))},t=()=>{x=!0,E=!0,A.isProcessing||i(T)};return{schedule:Oa.reduce((l,s)=>{const a=M[s];return l[s]=(e,r=!1,d=!1)=>(x||t(),a.schedule(e,r,d)),l},{}),cancel:l=>Oa.forEach(s=>M[s].cancel(l)),state:A,steps:M}}const{schedule:hd,cancel:zM}=ix(queueMicrotask,!1);function as(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}const nx=Z.createContext({});let xv=!1;function lw(i,o,x,E,A){const{visualElement:M}=Z.useContext(dl),p=Z.useContext(tx),T=Z.useContext(cl),t=Z.useContext(rd).reducedMotion,u=Z.useRef();E=E||p.renderer,!u.current&&E&&(u.current=E(i,{visualState:o,parent:M,props:x,presenceContext:T,blockInitialAnimation:T?T.initial===!1:!1,reducedMotionConfig:t}));const m=u.current,l=Z.useContext(nx);m&&!m.projection&&A&&(m.type==="html"||m.type==="svg")&&uw(u.current,x,A,l),Z.useInsertionEffect(()=>{m&&m.update(x,T)});const s=Z.useRef(!!(x[ex]&&!window.HandoffComplete));return od(()=>{m&&(m.updateFeatures(),hd.render(m.render),s.current&&m.animationState&&m.animationState.animateChanges())}),Z.useEffect(()=>{m&&(!s.current&&m.animationState&&m.animationState.animateChanges(),s.current&&(s.current=!1,xv||(xv=!0,queueMicrotask(hw))))}),m}function hw(){window.HandoffComplete=!0}function uw(i,o,x,E){const{layoutId:A,layout:M,drag:p,dragConstraints:T,layoutScroll:t,layoutRoot:u}=o;i.projection=new x(i.latestValues,o["data-framer-portal-id"]?void 0:sx(i.parent)),i.projection.setOptions({layoutId:A,layout:M,alwaysMeasureLayout:!!p||T&&as(T),visualElement:i,scheduleRender:()=>i.scheduleRender(),animationType:typeof M=="string"?M:"both",initialPromotionConfig:E,layoutScroll:t,layoutRoot:u})}function sx(i){if(i)return i.options.allowProjection!==!1?i.projection:sx(i.parent)}function fw(i,o,x){return Z.useCallback(E=>{E&&i.mount&&i.mount(E),o&&(E?o.mount(E):o.unmount()),x&&(typeof x=="function"?x(E):as(x)&&(x.current=E))},[o])}function Qr(i){return typeof i=="string"||Array.isArray(i)}function vl(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const ud=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fd=["initial",...ud];function pl(i){return vl(i.animate)||fd.some(o=>Qr(i[o]))}function rx(i){return!!(pl(i)||i.variants)}function dw(i,o){if(pl(i)){const{initial:x,animate:E}=i;return{initial:x===!1||Qr(x)?x:void 0,animate:Qr(E)?E:void 0}}return i.inherit!==!1?o:{}}function cw(i){const{initial:o,animate:x}=dw(i,Z.useContext(dl));return Z.useMemo(()=>({initial:o,animate:x}),[yv(o),yv(x)])}function yv(i){return Array.isArray(i)?i.join(" "):i}const Tv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Os={};for(const i in Tv)Os[i]={isEnabled:o=>Tv[i].some(x=>!!o[x])};function vw(i){for(const o in i)Os[o]={...Os[o],...i[o]}}const dd=Z.createContext({}),pw=Symbol.for("motionComponentSymbol"),ve=i=>i;let Pu=ve;function mw({preloadedFeatures:i,createVisualElement:o,useRender:x,useVisualState:E,Component:A}){i&&vw(i);function M(T,t){let u;const m={...Z.useContext(rd),...T,layoutId:gw(T)},{isStatic:l}=m,s=cw(T),a=E(T,l);if(!l&&ad){xw();const e=yw(m);u=e.MeasureLayout,s.visualElement=lw(A,a,m,o,e.ProjectionNode)}return q.jsxs(dl.Provider,{value:s,children:[u&&s.visualElement?q.jsx(u,{visualElement:s.visualElement,...m}):null,x(A,T,fw(a,s.visualElement,t),a,l,s.visualElement)]})}const p=Z.forwardRef(M);return p[pw]=A,p}function gw({layoutId:i}){const o=Z.useContext(dd).id;return o&&i!==void 0?o+"-"+i:i}function xw(i,o){Z.useContext(tx).strict}function yw(i){const{drag:o,layout:x}=Os;if(!o&&!x)return{};const E={...o,...x};return{MeasureLayout:o!=null&&o.isEnabled(i)||x!=null&&x.isEnabled(i)?E.MeasureLayout:void 0,ProjectionNode:E.ProjectionNode}}function Tw(i){function o(E,A={}){return mw(i(E,A))}if(typeof Proxy>"u")return o;const x=new Map;return new Proxy(o,{get:(E,A)=>(x.has(A)||x.set(A,o(A)),x.get(A))})}const Sw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cd(i){return typeof i!="string"||i.includes("-")?!1:!!(Sw.indexOf(i)>-1||/[A-Z]/u.test(i))}const Bo={};function Cw(i){Object.assign(Bo,i)}const ra=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xn=new Set(ra);function ax(i,{layout:o,layoutId:x}){return Xn.has(i)||i.startsWith("origin")||(o||x!==void 0)&&(!!Bo[i]||i==="opacity")}const ce=i=>!!(i&&i.getVelocity),Ew={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pw=ra.length;function ww(i,{enableHardwareAcceleration:o=!0,allowTransformNone:x=!0},E,A){let M="";for(let p=0;p<Pw;p++){const T=ra[p];if(i[T]!==void 0){const t=Ew[T]||T;M+=`${t}(${i[T]}) `}}return o&&!i.z&&(M+="translateZ(0)"),M=M.trim(),A?M=A(i,E?"":M):x&&E&&(M="none"),M}const ox=i=>o=>typeof o=="string"&&o.startsWith(i),lx=ox("--"),Aw=ox("var(--"),vd=i=>Aw(i)?Rw.test(i.split("/*")[0].trim()):!1,Rw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mw=(i,o)=>o&&typeof i=="number"?o.transform(i):i,on=(i,o,x)=>x>o?o:x<i?i:x,Ys={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},yr={...Ys,transform:i=>on(0,1,i)},Da={...Ys,default:1},Tr=i=>Math.round(i*1e5)/1e5,pd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Lw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,Fw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function aa(i){return typeof i=="string"}function Ow(i){return i==null}const oa=i=>({test:o=>aa(o)&&o.endsWith(i)&&o.split(" ").length===1,parse:parseFloat,transform:o=>`${o}${i}`}),Bi=oa("deg"),li=oa("%"),Ct=oa("px"),Dw=oa("vh"),Iw=oa("vw"),Sv={...li,parse:i=>li.parse(i)/100,transform:i=>li.transform(i*100)},Cv={...Ys,transform:Math.round},hx={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,size:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,rotate:Bi,rotateX:Bi,rotateY:Bi,rotateZ:Bi,scale:Da,scaleX:Da,scaleY:Da,scaleZ:Da,skew:Bi,skewX:Bi,skewY:Bi,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:yr,originX:Sv,originY:Sv,originZ:Ct,zIndex:Cv,backgroundPositionX:Ct,backgroundPositionY:Ct,fillOpacity:yr,strokeOpacity:yr,numOctaves:Cv};function md(i,o,x,E){const{style:A,vars:M,transform:p,transformOrigin:T}=i;let t=!1,u=!1,m=!0;for(const l in o){const s=o[l];if(lx(l)){M[l]=s;continue}const a=hx[l],e=Mw(s,a);if(Xn.has(l)){if(t=!0,p[l]=e,!m)continue;s!==(a.default||0)&&(m=!1)}else l.startsWith("origin")?(u=!0,T[l]=e):A[l]=e}if(o.transform||(t||E?A.transform=ww(i.transform,x,m,E):A.transform&&(A.transform="none")),u){const{originX:l="50%",originY:s="50%",originZ:a=0}=T;A.transformOrigin=`${l} ${s} ${a}`}}const gd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ux(i,o,x){for(const E in o)!ce(o[E])&&!ax(E,x)&&(i[E]=o[E])}function Bw({transformTemplate:i},o,x){return Z.useMemo(()=>{const E=gd();return md(E,o,{enableHardwareAcceleration:!x},i),Object.assign({},E.vars,E.style)},[o])}function Nw(i,o,x){const E=i.style||{},A={};return ux(A,E,i),Object.assign(A,Bw(i,o,x)),A}function Gw(i,o,x){const E={},A=Nw(i,o,x);return i.drag&&i.dragListener!==!1&&(E.draggable=!1,A.userSelect=A.WebkitUserSelect=A.WebkitTouchCallout="none",A.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(E.tabIndex=0),E.style=A,E}const bw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function No(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||bw.has(i)}let fx=i=>!No(i);function Vw(i){i&&(fx=o=>o.startsWith("on")?!No(o):i(o))}try{Vw(require("@emotion/is-prop-valid").default)}catch{}function Uw(i,o,x){const E={};for(const A in i)A==="values"&&typeof i.values=="object"||(fx(A)||x===!0&&No(A)||!o&&!No(A)||i.draggable&&A.startsWith("onDrag"))&&(E[A]=i[A]);return E}function Ev(i,o,x){return typeof i=="string"?i:Ct.transform(o+x*i)}function zw(i,o,x){const E=Ev(o,i.x,i.width),A=Ev(x,i.y,i.height);return`${E} ${A}`}const Ww={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xw={offset:"strokeDashoffset",array:"strokeDasharray"};function Yw(i,o,x=1,E=0,A=!0){i.pathLength=1;const M=A?Ww:Xw;i[M.offset]=Ct.transform(-E);const p=Ct.transform(o),T=Ct.transform(x);i[M.array]=`${p} ${T}`}function xd(i,{attrX:o,attrY:x,attrScale:E,originX:A,originY:M,pathLength:p,pathSpacing:T=1,pathOffset:t=0,...u},m,l,s){if(md(i,u,m,s),l){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:a,style:e,dimensions:r}=i;a.transform&&(r&&(e.transform=a.transform),delete a.transform),r&&(A!==void 0||M!==void 0||e.transform)&&(e.transformOrigin=zw(r,A!==void 0?A:.5,M!==void 0?M:.5)),o!==void 0&&(a.x=o),x!==void 0&&(a.y=x),E!==void 0&&(a.scale=E),p!==void 0&&Yw(a,p,T,t,!1)}const dx=()=>({...gd(),attrs:{}}),yd=i=>typeof i=="string"&&i.toLowerCase()==="svg";function Hw(i,o,x,E){const A=Z.useMemo(()=>{const M=dx();return xd(M,o,{enableHardwareAcceleration:!1},yd(E),i.transformTemplate),{...M.attrs,style:{...M.style}}},[o]);if(i.style){const M={};ux(M,i.style,i),A.style={...M,...A.style}}return A}function $w(i=!1){return(x,E,A,{latestValues:M},p)=>{const t=(cd(x)?Hw:Gw)(E,M,p,x),u=Uw(E,typeof x=="string",i),m=x!==Z.Fragment?{...u,...t,ref:A}:{},{children:l}=E,s=Z.useMemo(()=>ce(l)?l.get():l,[l]);return Z.createElement(x,{...m,children:s})}}function cx(i,{style:o,vars:x},E,A){Object.assign(i.style,o,A&&A.getProjectionStyles(E));for(const M in x)i.style.setProperty(M,x[M])}const vx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function px(i,o,x,E){cx(i,o,void 0,E);for(const A in o.attrs)i.setAttribute(vx.has(A)?A:ld(A),o.attrs[A])}function Td(i,o,x){var E;const{style:A}=i,M={};for(const p in A)(ce(A[p])||o.style&&ce(o.style[p])||ax(p,i)||((E=x==null?void 0:x.getValue(p))===null||E===void 0?void 0:E.liveStyle)!==void 0)&&(M[p]=A[p]);return M}function mx(i,o,x){const E=Td(i,o,x);for(const A in i)if(ce(i[A])||ce(o[A])){const M=ra.indexOf(A)!==-1?"attr"+A.charAt(0).toUpperCase()+A.substring(1):A;E[M]=i[A]}return E}function Pv(i){const o=[{},{}];return i==null||i.values.forEach((x,E)=>{o[0][E]=x.get(),o[1][E]=x.getVelocity()}),o}function Sd(i,o,x,E){if(typeof o=="function"){const[A,M]=Pv(E);o=o(x!==void 0?x:i.custom,A,M)}if(typeof o=="string"&&(o=i.variants&&i.variants[o]),typeof o=="function"){const[A,M]=Pv(E);o=o(x!==void 0?x:i.custom,A,M)}return o}function gx(i){const o=Z.useRef(null);return o.current===null&&(o.current=i()),o.current}const wu=i=>Array.isArray(i),jw=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),Kw=i=>wu(i)?i[i.length-1]||0:i;function Ka(i){const o=ce(i)?i.get():i;return jw(o)?o.toValue():o}function Qw({scrapeMotionValuesFromProps:i,createRenderState:o,onMount:x},E,A,M){const p={latestValues:Zw(E,A,M,i),renderState:o()};return x&&(p.mount=T=>x(E,T,p)),p}const xx=i=>(o,x)=>{const E=Z.useContext(dl),A=Z.useContext(cl),M=()=>Qw(i,o,E,A);return x?M():gx(M)};function Zw(i,o,x,E){const A={},M=E(i,{});for(const s in M)A[s]=Ka(M[s]);let{initial:p,animate:T}=i;const t=pl(i),u=rx(i);o&&u&&!t&&i.inherit!==!1&&(p===void 0&&(p=o.initial),T===void 0&&(T=o.animate));let m=x?x.initial===!1:!1;m=m||p===!1;const l=m?T:p;return l&&typeof l!="boolean"&&!vl(l)&&(Array.isArray(l)?l:[l]).forEach(a=>{const e=Sd(i,a);if(!e)return;const{transitionEnd:r,transition:d,...n}=e;for(const h in n){let f=n[h];if(Array.isArray(f)){const c=m?f.length-1:0;f=f[c]}f!==null&&(A[h]=f)}for(const h in r)A[h]=r[h]}),A}const{schedule:It,cancel:Ai,state:ae,steps:rh}=ix(typeof requestAnimationFrame<"u"?requestAnimationFrame:ve,!0),Jw={useVisualState:xx({scrapeMotionValuesFromProps:mx,createRenderState:dx,onMount:(i,o,{renderState:x,latestValues:E})=>{It.read(()=>{try{x.dimensions=typeof o.getBBox=="function"?o.getBBox():o.getBoundingClientRect()}catch{x.dimensions={x:0,y:0,width:0,height:0}}}),It.render(()=>{xd(x,E,{enableHardwareAcceleration:!1},yd(o.tagName),i.transformTemplate),px(o,x)})}})},kw={useVisualState:xx({scrapeMotionValuesFromProps:Td,createRenderState:gd})};function qw(i,{forwardMotionProps:o=!1},x,E){return{...cd(i)?Jw:kw,preloadedFeatures:x,useRender:$w(o),createVisualElement:E,Component:i}}function gi(i,o,x,E={passive:!0}){return i.addEventListener(o,x,E),()=>i.removeEventListener(o,x)}const yx=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function ml(i,o="page"){return{point:{x:i[`${o}X`],y:i[`${o}Y`]}}}const _w=i=>o=>yx(o)&&i(o,ml(o));function yi(i,o,x,E){return gi(i,o,_w(x),E)}const tA=(i,o)=>x=>o(i(x)),Ti=(...i)=>i.reduce(tA);function Tx(i){let o=null;return()=>{const x=()=>{o=null};return o===null?(o=i,x):!1}}const wv=Tx("dragHorizontal"),Av=Tx("dragVertical");function Sx(i){let o=!1;if(i==="y")o=Av();else if(i==="x")o=wv();else{const x=wv(),E=Av();x&&E?o=()=>{x(),E()}:(x&&x(),E&&E())}return o}function Cx(){const i=Sx(!0);return i?(i(),!1):!0}class cn{constructor(o){this.isMounted=!1,this.node=o}update(){}}function Rv(i,o){const x=o?"pointerenter":"pointerleave",E=o?"onHoverStart":"onHoverEnd",A=(M,p)=>{if(M.pointerType==="touch"||Cx())return;const T=i.getProps();i.animationState&&T.whileHover&&i.animationState.setActive("whileHover",o);const t=T[E];t&&It.postRender(()=>t(M,p))};return yi(i.current,x,A,{passive:!i.getProps()[E]})}class eA extends cn{mount(){this.unmount=Ti(Rv(this.node,!0),Rv(this.node,!1))}unmount(){}}class iA extends cn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let o=!1;try{o=this.node.current.matches(":focus-visible")}catch{o=!0}!o||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ti(gi(this.node.current,"focus",()=>this.onFocus()),gi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ex=(i,o)=>o?i===o?!0:Ex(i,o.parentElement):!1;function ah(i,o){if(!o)return;const x=new PointerEvent("pointer"+i);o(x,ml(x))}class nA extends cn{constructor(){super(...arguments),this.removeStartListeners=ve,this.removeEndListeners=ve,this.removeAccessibleListeners=ve,this.startPointerPress=(o,x)=>{if(this.isPressing)return;this.removeEndListeners();const E=this.node.getProps(),M=yi(window,"pointerup",(T,t)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:m,globalTapTarget:l}=this.node.getProps(),s=!l&&!Ex(this.node.current,T.target)?m:u;s&&It.update(()=>s(T,t))},{passive:!(E.onTap||E.onPointerUp)}),p=yi(window,"pointercancel",(T,t)=>this.cancelPress(T,t),{passive:!(E.onTapCancel||E.onPointerCancel)});this.removeEndListeners=Ti(M,p),this.startPress(o,x)},this.startAccessiblePress=()=>{const o=M=>{if(M.key!=="Enter"||this.isPressing)return;const p=T=>{T.key!=="Enter"||!this.checkPressEnd()||ah("up",(t,u)=>{const{onTap:m}=this.node.getProps();m&&It.postRender(()=>m(t,u))})};this.removeEndListeners(),this.removeEndListeners=gi(this.node.current,"keyup",p),ah("down",(T,t)=>{this.startPress(T,t)})},x=gi(this.node.current,"keydown",o),E=()=>{this.isPressing&&ah("cancel",(M,p)=>this.cancelPress(M,p))},A=gi(this.node.current,"blur",E);this.removeAccessibleListeners=Ti(x,A)}}startPress(o,x){this.isPressing=!0;const{onTapStart:E,whileTap:A}=this.node.getProps();A&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),E&&It.postRender(()=>E(o,x))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Cx()}cancelPress(o,x){if(!this.checkPressEnd())return;const{onTapCancel:E}=this.node.getProps();E&&It.postRender(()=>E(o,x))}mount(){const o=this.node.getProps(),x=yi(o.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(o.onTapStart||o.onPointerStart)}),E=gi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ti(x,E)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Au=new WeakMap,oh=new WeakMap,sA=i=>{const o=Au.get(i.target);o&&o(i)},rA=i=>{i.forEach(sA)};function aA({root:i,...o}){const x=i||document;oh.has(x)||oh.set(x,{});const E=oh.get(x),A=JSON.stringify(o);return E[A]||(E[A]=new IntersectionObserver(rA,{root:i,...o})),E[A]}function oA(i,o,x){const E=aA(o);return Au.set(i,x),E.observe(i),()=>{Au.delete(i),E.unobserve(i)}}const lA={some:0,all:1};class hA extends cn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:o={}}=this.node.getProps(),{root:x,margin:E,amount:A="some",once:M}=o,p={root:x?x.current:void 0,rootMargin:E,threshold:typeof A=="number"?A:lA[A]},T=t=>{const{isIntersecting:u}=t;if(this.isInView===u||(this.isInView=u,M&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:m,onViewportLeave:l}=this.node.getProps(),s=u?m:l;s&&s(t)};return oA(this.node.current,p,T)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:o,prevProps:x}=this.node;["amount","margin","root"].some(uA(o,x))&&this.startObserver()}unmount(){}}function uA({viewport:i={}},{viewport:o={}}={}){return x=>i[x]!==o[x]}const fA={inView:{Feature:hA},tap:{Feature:nA},focus:{Feature:iA},hover:{Feature:eA}};function Px(i,o){if(!Array.isArray(o))return!1;const x=o.length;if(x!==i.length)return!1;for(let E=0;E<x;E++)if(o[E]!==i[E])return!1;return!0}function gl(i,o,x){const E=i.getProps();return Sd(E,o,x!==void 0?x:E.custom,i)}const en=i=>i*1e3,Si=i=>i/1e3,dA={type:"spring",stiffness:500,damping:25,restSpeed:10},cA=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),vA={type:"keyframes",duration:.8},pA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mA=(i,{keyframes:o})=>o.length>2?vA:Xn.has(i)?i.startsWith("scale")?cA(o[1]):dA:pA;function gA({when:i,delay:o,delayChildren:x,staggerChildren:E,staggerDirection:A,repeat:M,repeatType:p,repeatDelay:T,from:t,elapsed:u,...m}){return!!Object.keys(m).length}function Cd(i,o){return i[o]||i.default||i}const xA=i=>i!==null;function xl(i,{repeat:o,repeatType:x="loop"},E){const A=i.filter(xA),M=o&&x!=="loop"&&o%2===1?0:A.length-1;return!M||E===void 0?A[M]:E}let Qa;function yA(){Qa=void 0}const nn={now:()=>(Qa===void 0&&nn.set(ae.isProcessing||rw.useManualTiming?ae.timestamp:performance.now()),Qa),set:i=>{Qa=i,queueMicrotask(yA)}},wx=i=>/^0[^.\s]+$/u.test(i);function TA(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||wx(i):!0}const Ax=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),SA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CA(i){const o=SA.exec(i);if(!o)return[,];const[,x,E,A]=o;return[`--${x??E}`,A]}function Rx(i,o,x=1){const[E,A]=CA(i);if(!E)return;const M=window.getComputedStyle(o).getPropertyValue(E);if(M){const p=M.trim();return Ax(p)?parseFloat(p):p}return vd(A)?Rx(A,o,x+1):A}const EA=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Mv=i=>i===Ys||i===Ct,Lv=(i,o)=>parseFloat(i.split(", ")[o]),Fv=(i,o)=>(x,{transform:E})=>{if(E==="none"||!E)return 0;const A=E.match(/^matrix3d\((.+)\)$/u);if(A)return Lv(A[1],o);{const M=E.match(/^matrix\((.+)\)$/u);return M?Lv(M[1],i):0}},PA=new Set(["x","y","z"]),wA=ra.filter(i=>!PA.has(i));function AA(i){const o=[];return wA.forEach(x=>{const E=i.getValue(x);E!==void 0&&(o.push([x,E.get()]),E.set(x.startsWith("scale")?1:0))}),o}const Ds={width:({x:i},{paddingLeft:o="0",paddingRight:x="0"})=>i.max-i.min-parseFloat(o)-parseFloat(x),height:({y:i},{paddingTop:o="0",paddingBottom:x="0"})=>i.max-i.min-parseFloat(o)-parseFloat(x),top:(i,{top:o})=>parseFloat(o),left:(i,{left:o})=>parseFloat(o),bottom:({y:i},{top:o})=>parseFloat(o)+(i.max-i.min),right:({x:i},{left:o})=>parseFloat(o)+(i.max-i.min),x:Fv(4,13),y:Fv(5,14)};Ds.translateX=Ds.x;Ds.translateY=Ds.y;const Mx=i=>o=>o.test(i),RA={test:i=>i==="auto",parse:i=>i},Lx=[Ys,Ct,li,Bi,Iw,Dw,RA],Ov=i=>Lx.find(Mx(i)),Dn=new Set;let Ru=!1,Mu=!1;function Fx(){if(Mu){const i=Array.from(Dn).filter(E=>E.needsMeasurement),o=new Set(i.map(E=>E.element)),x=new Map;o.forEach(E=>{const A=AA(E);A.length&&(x.set(E,A),E.render())}),i.forEach(E=>E.measureInitialState()),o.forEach(E=>{E.render();const A=x.get(E);A&&A.forEach(([M,p])=>{var T;(T=E.getValue(M))===null||T===void 0||T.set(p)})}),i.forEach(E=>E.measureEndState()),i.forEach(E=>{E.suspendedScrollY!==void 0&&window.scrollTo(0,E.suspendedScrollY)})}Mu=!1,Ru=!1,Dn.forEach(i=>i.complete()),Dn.clear()}function Ox(){Dn.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Mu=!0)})}function MA(){Ox(),Fx()}class Ed{constructor(o,x,E,A,M,p=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...o],this.onComplete=x,this.name=E,this.motionValue=A,this.element=M,this.isAsync=p}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Dn.add(this),Ru||(Ru=!0,It.read(Ox),It.resolveKeyframes(Fx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:o,name:x,element:E,motionValue:A}=this;for(let M=0;M<o.length;M++)if(o[M]===null)if(M===0){const p=A==null?void 0:A.get(),T=o[o.length-1];if(p!==void 0)o[0]=p;else if(E&&x){const t=E.readValue(x,T);t!=null&&(o[0]=t)}o[0]===void 0&&(o[0]=T),A&&p===void 0&&A.set(o[0])}else o[M]=o[M-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Dn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Dn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Pd=(i,o)=>x=>!!(aa(x)&&Fw.test(x)&&x.startsWith(i)||o&&!Ow(x)&&Object.prototype.hasOwnProperty.call(x,o)),Dx=(i,o,x)=>E=>{if(!aa(E))return E;const[A,M,p,T]=E.match(pd);return{[i]:parseFloat(A),[o]:parseFloat(M),[x]:parseFloat(p),alpha:T!==void 0?parseFloat(T):1}},LA=i=>on(0,255,i),lh={...Ys,transform:i=>Math.round(LA(i))},Rn={test:Pd("rgb","red"),parse:Dx("red","green","blue"),transform:({red:i,green:o,blue:x,alpha:E=1})=>"rgba("+lh.transform(i)+", "+lh.transform(o)+", "+lh.transform(x)+", "+Tr(yr.transform(E))+")"};function FA(i){let o="",x="",E="",A="";return i.length>5?(o=i.substring(1,3),x=i.substring(3,5),E=i.substring(5,7),A=i.substring(7,9)):(o=i.substring(1,2),x=i.substring(2,3),E=i.substring(3,4),A=i.substring(4,5),o+=o,x+=x,E+=E,A+=A),{red:parseInt(o,16),green:parseInt(x,16),blue:parseInt(E,16),alpha:A?parseInt(A,16)/255:1}}const Lu={test:Pd("#"),parse:FA,transform:Rn.transform},os={test:Pd("hsl","hue"),parse:Dx("hue","saturation","lightness"),transform:({hue:i,saturation:o,lightness:x,alpha:E=1})=>"hsla("+Math.round(i)+", "+li.transform(Tr(o))+", "+li.transform(Tr(x))+", "+Tr(yr.transform(E))+")"},fe={test:i=>Rn.test(i)||Lu.test(i)||os.test(i),parse:i=>Rn.test(i)?Rn.parse(i):os.test(i)?os.parse(i):Lu.parse(i),transform:i=>aa(i)?i:i.hasOwnProperty("red")?Rn.transform(i):os.transform(i)};function OA(i){var o,x;return isNaN(i)&&aa(i)&&(((o=i.match(pd))===null||o===void 0?void 0:o.length)||0)+(((x=i.match(Lw))===null||x===void 0?void 0:x.length)||0)>0}const Ix="number",Bx="color",DA="var",IA="var(",Dv="${}",BA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zr(i){const o=i.toString(),x=[],E={color:[],number:[],var:[]},A=[];let M=0;const T=o.replace(BA,t=>(fe.test(t)?(E.color.push(M),A.push(Bx),x.push(fe.parse(t))):t.startsWith(IA)?(E.var.push(M),A.push(DA),x.push(t)):(E.number.push(M),A.push(Ix),x.push(parseFloat(t))),++M,Dv)).split(Dv);return{values:x,split:T,indexes:E,types:A}}function Nx(i){return Zr(i).values}function Gx(i){const{split:o,types:x}=Zr(i),E=o.length;return A=>{let M="";for(let p=0;p<E;p++)if(M+=o[p],A[p]!==void 0){const T=x[p];T===Ix?M+=Tr(A[p]):T===Bx?M+=fe.transform(A[p]):M+=A[p]}return M}}const NA=i=>typeof i=="number"?0:i;function GA(i){const o=Nx(i);return Gx(i)(o.map(NA))}const ln={test:OA,parse:Nx,createTransformer:Gx,getAnimatableNone:GA},bA=new Set(["brightness","contrast","saturate","opacity"]);function VA(i){const[o,x]=i.slice(0,-1).split("(");if(o==="drop-shadow")return i;const[E]=x.match(pd)||[];if(!E)return i;const A=x.replace(E,"");let M=bA.has(o)?1:0;return E!==x&&(M*=100),o+"("+M+A+")"}const UA=/\b([a-z-]*)\(.*?\)/gu,Fu={...ln,getAnimatableNone:i=>{const o=i.match(UA);return o?o.map(VA).join(" "):i}},zA={...hx,color:fe,backgroundColor:fe,outlineColor:fe,fill:fe,stroke:fe,borderColor:fe,borderTopColor:fe,borderRightColor:fe,borderBottomColor:fe,borderLeftColor:fe,filter:Fu,WebkitFilter:Fu},wd=i=>zA[i];function bx(i,o){let x=wd(i);return x!==Fu&&(x=ln),x.getAnimatableNone?x.getAnimatableNone(o):void 0}const WA=new Set(["auto","none","0"]);function XA(i,o,x){let E=0,A;for(;E<i.length&&!A;){const M=i[E];typeof M=="string"&&!WA.has(M)&&Zr(M).values.length&&(A=i[E]),E++}if(A&&x)for(const M of o)i[M]=bx(x,A)}class Vx extends Ed{constructor(o,x,E,A){super(o,x,E,A,A==null?void 0:A.owner,!0)}readKeyframes(){const{unresolvedKeyframes:o,element:x,name:E}=this;if(!x.current)return;super.readKeyframes();for(let t=0;t<o.length;t++){let u=o[t];if(typeof u=="string"&&(u=u.trim(),vd(u))){const m=Rx(u,x.current);m!==void 0&&(o[t]=m),t===o.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!EA.has(E)||o.length!==2)return;const[A,M]=o,p=Ov(A),T=Ov(M);if(p!==T)if(Mv(p)&&Mv(T))for(let t=0;t<o.length;t++){const u=o[t];typeof u=="string"&&(o[t]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:o,name:x}=this,E=[];for(let A=0;A<o.length;A++)TA(o[A])&&E.push(A);E.length&&XA(o,E,x)}measureInitialState(){const{element:o,unresolvedKeyframes:x,name:E}=this;if(!o.current)return;E==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ds[E](o.measureViewportBox(),window.getComputedStyle(o.current)),x[0]=this.measuredOrigin;const A=x[x.length-1];A!==void 0&&o.getValue(E,A).jump(A,!1)}measureEndState(){var o;const{element:x,name:E,unresolvedKeyframes:A}=this;if(!x.current)return;const M=x.getValue(E);M&&M.jump(this.measuredOrigin,!1);const p=A.length-1,T=A[p];A[p]=Ds[E](x.measureViewportBox(),window.getComputedStyle(x.current)),T!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=T),!((o=this.removedTransforms)===null||o===void 0)&&o.length&&this.removedTransforms.forEach(([t,u])=>{x.getValue(t).set(u)}),this.resolveNoneKeyframes()}}function Ux(i){let o;return()=>(o===void 0&&(o=i()),o)}const Iv=(i,o)=>o==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(ln.test(i)||i==="0")&&!i.startsWith("url("));function YA(i){const o=i[0];if(i.length===1)return!0;for(let x=0;x<i.length;x++)if(i[x]!==o)return!0}function HA(i,o,x,E){const A=i[0];if(A===null)return!1;if(o==="display"||o==="visibility")return!0;const M=i[i.length-1],p=Iv(A,o),T=Iv(M,o);return!p||!T?!1:YA(i)||x==="spring"&&E}class zx{constructor({autoplay:o=!0,delay:x=0,type:E="keyframes",repeat:A=0,repeatDelay:M=0,repeatType:p="loop",...T}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:o,delay:x,type:E,repeat:A,repeatDelay:M,repeatType:p,...T},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MA(),this._resolved}onKeyframesResolved(o,x){this.hasAttemptedResolve=!0;const{name:E,type:A,velocity:M,delay:p,onComplete:T,onUpdate:t,isGenerator:u}=this.options;if(!u&&!HA(o,E,A,M))if(p)this.options.duration=0;else{t==null||t(xl(o,this.options,x)),T==null||T(),this.resolveFinishedPromise();return}const m=this.initPlayback(o,x);m!==!1&&(this._resolved={keyframes:o,finalKeyframe:x,...m},this.onPostResolved())}onPostResolved(){}then(o,x){return this.currentFinishedPromise.then(o,x)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(o=>{this.resolveFinishedPromise=o})}}function Wx(i,o){return o?i*(1e3/o):0}const $A=5;function Xx(i,o,x){const E=Math.max(o-$A,0);return Wx(x-i(E),o-E)}const hh=.001,jA=.01,KA=10,QA=.05,ZA=1;function JA({duration:i=800,bounce:o=.25,velocity:x=0,mass:E=1}){let A,M,p=1-o;p=on(QA,ZA,p),i=on(jA,KA,Si(i)),p<1?(A=u=>{const m=u*p,l=m*i,s=m-x,a=Ou(u,p),e=Math.exp(-l);return hh-s/a*e},M=u=>{const l=u*p*i,s=l*x+x,a=Math.pow(p,2)*Math.pow(u,2)*i,e=Math.exp(-l),r=Ou(Math.pow(u,2),p);return(-A(u)+hh>0?-1:1)*((s-a)*e)/r}):(A=u=>{const m=Math.exp(-u*i),l=(u-x)*i+1;return-hh+m*l},M=u=>{const m=Math.exp(-u*i),l=(x-u)*(i*i);return m*l});const T=5/i,t=qA(A,M,T);if(i=en(i),isNaN(t))return{stiffness:100,damping:10,duration:i};{const u=Math.pow(t,2)*E;return{stiffness:u,damping:p*2*Math.sqrt(E*u),duration:i}}}const kA=12;function qA(i,o,x){let E=x;for(let A=1;A<kA;A++)E=E-i(E)/o(E);return E}function Ou(i,o){return i*Math.sqrt(1-o*o)}const _A=["duration","bounce"],t4=["stiffness","damping","mass"];function Bv(i,o){return o.some(x=>i[x]!==void 0)}function e4(i){let o={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!Bv(i,t4)&&Bv(i,_A)){const x=JA(i);o={...o,...x,mass:1},o.isResolvedFromDuration=!0}return o}function Yx({keyframes:i,restDelta:o,restSpeed:x,...E}){const A=i[0],M=i[i.length-1],p={done:!1,value:A},{stiffness:T,damping:t,mass:u,duration:m,velocity:l,isResolvedFromDuration:s}=e4({...E,velocity:-Si(E.velocity||0)}),a=l||0,e=t/(2*Math.sqrt(T*u)),r=M-A,d=Si(Math.sqrt(T/u)),n=Math.abs(r)<5;x||(x=n?.01:2),o||(o=n?.005:.5);let h;if(e<1){const f=Ou(d,e);h=c=>{const v=Math.exp(-e*d*c);return M-v*((a+e*d*r)/f*Math.sin(f*c)+r*Math.cos(f*c))}}else if(e===1)h=f=>M-Math.exp(-d*f)*(r+(a+d*r)*f);else{const f=d*Math.sqrt(e*e-1);h=c=>{const v=Math.exp(-e*d*c),g=Math.min(f*c,300);return M-v*((a+e*d*r)*Math.sinh(g)+f*r*Math.cosh(g))/f}}return{calculatedDuration:s&&m||null,next:f=>{const c=h(f);if(s)p.done=f>=m;else{let v=a;f!==0&&(e<1?v=Xx(h,f,c):v=0);const g=Math.abs(v)<=x,y=Math.abs(M-c)<=o;p.done=g&&y}return p.value=p.done?M:c,p}}}function Nv({keyframes:i,velocity:o=0,power:x=.8,timeConstant:E=325,bounceDamping:A=10,bounceStiffness:M=500,modifyTarget:p,min:T,max:t,restDelta:u=.5,restSpeed:m}){const l=i[0],s={done:!1,value:l},a=C=>T!==void 0&&C<T||t!==void 0&&C>t,e=C=>T===void 0?t:t===void 0||Math.abs(T-C)<Math.abs(t-C)?T:t;let r=x*o;const d=l+r,n=p===void 0?d:p(d);n!==d&&(r=n-l);const h=C=>-r*Math.exp(-C/E),f=C=>n+h(C),c=C=>{const S=h(C),P=f(C);s.done=Math.abs(S)<=u,s.value=s.done?n:P};let v,g;const y=C=>{a(s.value)&&(v=C,g=Yx({keyframes:[s.value,e(s.value)],velocity:Xx(f,C,s.value),damping:A,stiffness:M,restDelta:u,restSpeed:m}))};return y(0),{calculatedDuration:null,next:C=>{let S=!1;return!g&&v===void 0&&(S=!0,c(C),y(C)),v!==void 0&&C>=v?g.next(C-v):(!S&&c(C),s)}}}const Hx=(i,o,x)=>(((1-3*x+3*o)*i+(3*x-6*o))*i+3*o)*i,i4=1e-7,n4=12;function s4(i,o,x,E,A){let M,p,T=0;do p=o+(x-o)/2,M=Hx(p,E,A)-i,M>0?x=p:o=p;while(Math.abs(M)>i4&&++T<n4);return p}function la(i,o,x,E){if(i===o&&x===E)return ve;const A=M=>s4(M,0,1,i,x);return M=>M===0||M===1?M:Hx(A(M),o,E)}const r4=la(.42,0,1,1),a4=la(0,0,.58,1),$x=la(.42,0,.58,1),o4=i=>Array.isArray(i)&&typeof i[0]!="number",jx=i=>o=>o<=.5?i(2*o)/2:(2-i(2*(1-o)))/2,Kx=i=>o=>1-i(1-o),Ad=i=>1-Math.sin(Math.acos(i)),Qx=Kx(Ad),l4=jx(Ad),Zx=la(.33,1.53,.69,.99),Rd=Kx(Zx),h4=jx(Rd),u4=i=>(i*=2)<1?.5*Rd(i):.5*(2-Math.pow(2,-10*(i-1))),Gv={linear:ve,easeIn:r4,easeInOut:$x,easeOut:a4,circIn:Ad,circInOut:l4,circOut:Qx,backIn:Rd,backInOut:h4,backOut:Zx,anticipate:u4},bv=i=>{if(Array.isArray(i)){Pu(i.length===4);const[o,x,E,A]=i;return la(o,x,E,A)}else if(typeof i=="string")return Pu(Gv[i]!==void 0),Gv[i];return i},Jr=(i,o,x)=>{const E=o-i;return E===0?1:(x-i)/E},Ht=(i,o,x)=>i+(o-i)*x;function uh(i,o,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?i+(o-i)*6*x:x<1/2?o:x<2/3?i+(o-i)*(2/3-x)*6:i}function f4({hue:i,saturation:o,lightness:x,alpha:E}){i/=360,o/=100,x/=100;let A=0,M=0,p=0;if(!o)A=M=p=x;else{const T=x<.5?x*(1+o):x+o-x*o,t=2*x-T;A=uh(t,T,i+1/3),M=uh(t,T,i),p=uh(t,T,i-1/3)}return{red:Math.round(A*255),green:Math.round(M*255),blue:Math.round(p*255),alpha:E}}function Go(i,o){return x=>x>0?o:i}const fh=(i,o,x)=>{const E=i*i,A=x*(o*o-E)+E;return A<0?0:Math.sqrt(A)},d4=[Lu,Rn,os],c4=i=>d4.find(o=>o.test(i));function Vv(i){const o=c4(i);if(!o)return!1;let x=o.parse(i);return o===os&&(x=f4(x)),x}const Uv=(i,o)=>{const x=Vv(i),E=Vv(o);if(!x||!E)return Go(i,o);const A={...x};return M=>(A.red=fh(x.red,E.red,M),A.green=fh(x.green,E.green,M),A.blue=fh(x.blue,E.blue,M),A.alpha=Ht(x.alpha,E.alpha,M),Rn.transform(A))},Du=new Set(["none","hidden"]);function v4(i,o){return Du.has(i)?x=>x<=0?i:o:x=>x>=1?o:i}function p4(i,o){return x=>Ht(i,o,x)}function Md(i){return typeof i=="number"?p4:typeof i=="string"?vd(i)?Go:fe.test(i)?Uv:x4:Array.isArray(i)?Jx:typeof i=="object"?fe.test(i)?Uv:m4:Go}function Jx(i,o){const x=[...i],E=x.length,A=i.map((M,p)=>Md(M)(M,o[p]));return M=>{for(let p=0;p<E;p++)x[p]=A[p](M);return x}}function m4(i,o){const x={...i,...o},E={};for(const A in x)i[A]!==void 0&&o[A]!==void 0&&(E[A]=Md(i[A])(i[A],o[A]));return A=>{for(const M in E)x[M]=E[M](A);return x}}function g4(i,o){var x;const E=[],A={color:0,var:0,number:0};for(let M=0;M<o.values.length;M++){const p=o.types[M],T=i.indexes[p][A[p]],t=(x=i.values[T])!==null&&x!==void 0?x:0;E[M]=t,A[p]++}return E}const x4=(i,o)=>{const x=ln.createTransformer(o),E=Zr(i),A=Zr(o);return E.indexes.var.length===A.indexes.var.length&&E.indexes.color.length===A.indexes.color.length&&E.indexes.number.length>=A.indexes.number.length?Du.has(i)&&!A.values.length||Du.has(o)&&!E.values.length?v4(i,o):Ti(Jx(g4(E,A),A.values),x):Go(i,o)};function kx(i,o,x){return typeof i=="number"&&typeof o=="number"&&typeof x=="number"?Ht(i,o,x):Md(i)(i,o)}function y4(i,o,x){const E=[],A=x||kx,M=i.length-1;for(let p=0;p<M;p++){let T=A(i[p],i[p+1]);if(o){const t=Array.isArray(o)?o[p]||ve:o;T=Ti(t,T)}E.push(T)}return E}function T4(i,o,{clamp:x=!0,ease:E,mixer:A}={}){const M=i.length;if(Pu(M===o.length),M===1)return()=>o[0];if(M===2&&i[0]===i[1])return()=>o[1];i[0]>i[M-1]&&(i=[...i].reverse(),o=[...o].reverse());const p=y4(o,E,A),T=p.length,t=u=>{let m=0;if(T>1)for(;m<i.length-2&&!(u<i[m+1]);m++);const l=Jr(i[m],i[m+1],u);return p[m](l)};return x?u=>t(on(i[0],i[M-1],u)):t}function S4(i,o){const x=i[i.length-1];for(let E=1;E<=o;E++){const A=Jr(0,o,E);i.push(Ht(x,1,A))}}function C4(i){const o=[0];return S4(o,i.length-1),o}function E4(i,o){return i.map(x=>x*o)}function P4(i,o){return i.map(()=>o||$x).splice(0,i.length-1)}function bo({duration:i=300,keyframes:o,times:x,ease:E="easeInOut"}){const A=o4(E)?E.map(bv):bv(E),M={done:!1,value:o[0]},p=E4(x&&x.length===o.length?x:C4(o),i),T=T4(p,o,{ease:Array.isArray(A)?A:P4(o,A)});return{calculatedDuration:i,next:t=>(M.value=T(t),M.done=t>=i,M)}}const zv=2e4;function w4(i){let o=0;const x=50;let E=i.next(o);for(;!E.done&&o<zv;)o+=x,E=i.next(o);return o>=zv?1/0:o}const A4=i=>{const o=({timestamp:x})=>i(x);return{start:()=>It.update(o,!0),stop:()=>Ai(o),now:()=>ae.isProcessing?ae.timestamp:nn.now()}},R4={decay:Nv,inertia:Nv,tween:bo,keyframes:bo,spring:Yx},M4=i=>i/100;class Ld extends zx{constructor({KeyframeResolver:o=Ed,...x}){super(x),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:T}=this.options;T&&T()};const{name:E,motionValue:A,keyframes:M}=this.options,p=(T,t)=>this.onKeyframesResolved(T,t);E&&A&&A.owner?this.resolver=A.owner.resolveKeyframes(M,p,E,A):this.resolver=new o(M,p,E,A),this.resolver.scheduleResolve()}initPlayback(o){const{type:x="keyframes",repeat:E=0,repeatDelay:A=0,repeatType:M,velocity:p=0}=this.options,T=R4[x]||bo;let t,u;T!==bo&&typeof o[0]!="number"&&(t=Ti(M4,kx(o[0],o[1])),o=[0,100]);const m=T({...this.options,keyframes:o});M==="mirror"&&(u=T({...this.options,keyframes:[...o].reverse(),velocity:-p})),m.calculatedDuration===null&&(m.calculatedDuration=w4(m));const{calculatedDuration:l}=m,s=l+A,a=s*(E+1)-A;return{generator:m,mirroredGenerator:u,mapPercentToKeyframes:t,calculatedDuration:l,resolvedDuration:s,totalDuration:a}}onPostResolved(){const{autoplay:o=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!o?this.pause():this.state=this.pendingPlayState}tick(o,x=!1){const{resolved:E}=this;if(!E){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:A,generator:M,mirroredGenerator:p,mapPercentToKeyframes:T,keyframes:t,calculatedDuration:u,totalDuration:m,resolvedDuration:l}=E;if(this.startTime===null)return M.next(0);const{delay:s,repeat:a,repeatType:e,repeatDelay:r,onUpdate:d}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,o):this.speed<0&&(this.startTime=Math.min(o-m/this.speed,this.startTime)),x?this.currentTime=o:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(o-this.startTime)*this.speed;const n=this.currentTime-s*(this.speed>=0?1:-1),h=this.speed>=0?n<0:n>m;this.currentTime=Math.max(n,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let f=this.currentTime,c=M;if(a){const C=Math.min(this.currentTime,m)/l;let S=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&S--,S=Math.min(S,a+1),!!(S%2)&&(e==="reverse"?(P=1-P,r&&(P-=r/l)):e==="mirror"&&(c=p)),f=on(0,1,P)*l}const v=h?{done:!1,value:t[0]}:c.next(f);T&&(v.value=T(v.value));let{done:g}=v;!h&&u!==null&&(g=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&g);return y&&A!==void 0&&(v.value=xl(t,this.options,A)),d&&d(v.value),y&&this.finish(),v}get duration(){const{resolved:o}=this;return o?Si(o.calculatedDuration):0}get time(){return Si(this.currentTime)}set time(o){o=en(o),this.currentTime=o,this.holdTime!==null||this.speed===0?this.holdTime=o:this.driver&&(this.startTime=this.driver.now()-o/this.speed)}get speed(){return this.playbackSpeed}set speed(o){const x=this.playbackSpeed!==o;this.playbackSpeed=o,x&&(this.time=Si(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:o=A4,onPlay:x}=this.options;this.driver||(this.driver=o(A=>this.tick(A))),x&&x();const E=this.driver.now();this.holdTime!==null?this.startTime=E-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=E),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var o;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(o=this.currentTime)!==null&&o!==void 0?o:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:o}=this.options;o&&o()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(o){return this.startTime=0,this.tick(o,!0)}}const qx=i=>Array.isArray(i)&&typeof i[0]=="number";function _x(i){return!!(!i||typeof i=="string"&&i in Fd||qx(i)||Array.isArray(i)&&i.every(_x))}const rr=([i,o,x,E])=>`cubic-bezier(${i}, ${o}, ${x}, ${E})`,Fd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rr([0,.65,.55,1]),circOut:rr([.55,0,1,.45]),backIn:rr([.31,.01,.66,-.59]),backOut:rr([.33,1.53,.69,.99])};function L4(i){return ty(i)||Fd.easeOut}function ty(i){if(i)return qx(i)?rr(i):Array.isArray(i)?i.map(L4):Fd[i]}function F4(i,o,x,{delay:E=0,duration:A=300,repeat:M=0,repeatType:p="loop",ease:T,times:t}={}){const u={[o]:x};t&&(u.offset=t);const m=ty(T);return Array.isArray(m)&&(u.easing=m),i.animate(u,{delay:E,duration:A,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:M+1,direction:p==="reverse"?"alternate":"normal"})}const O4=Ux(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),D4=new Set(["opacity","clipPath","filter","transform"]),Vo=10,I4=2e4;function B4(i){return i.type==="spring"||i.name==="backgroundColor"||!_x(i.ease)}function N4(i,o){const x=new Ld({...o,keyframes:i,repeat:0,delay:0,isGenerator:!0});let E={done:!1,value:i[0]};const A=[];let M=0;for(;!E.done&&M<I4;)E=x.sample(M),A.push(E.value),M+=Vo;return{times:void 0,keyframes:A,duration:M-Vo,ease:"linear"}}class Wv extends zx{constructor(o){super(o);const{name:x,motionValue:E,keyframes:A}=this.options;this.resolver=new Vx(A,(M,p)=>this.onKeyframesResolved(M,p),x,E),this.resolver.scheduleResolve()}initPlayback(o,x){var E;let{duration:A=300,times:M,ease:p,type:T,motionValue:t,name:u}=this.options;if(!(!((E=t.owner)===null||E===void 0)&&E.current))return!1;if(B4(this.options)){const{onComplete:l,onUpdate:s,motionValue:a,...e}=this.options,r=N4(o,e);o=r.keyframes,o.length===1&&(o[1]=o[0]),A=r.duration,M=r.times,p=r.ease,T="keyframes"}const m=F4(t.owner.current,u,o,{...this.options,duration:A,times:M,ease:p});return m.startTime=nn.now(),this.pendingTimeline?(m.timeline=this.pendingTimeline,this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:l}=this.options;t.set(xl(o,this.options,x)),l&&l(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:A,times:M,type:T,ease:p,keyframes:o}}get duration(){const{resolved:o}=this;if(!o)return 0;const{duration:x}=o;return Si(x)}get time(){const{resolved:o}=this;if(!o)return 0;const{animation:x}=o;return Si(x.currentTime||0)}set time(o){const{resolved:x}=this;if(!x)return;const{animation:E}=x;E.currentTime=en(o)}get speed(){const{resolved:o}=this;if(!o)return 1;const{animation:x}=o;return x.playbackRate}set speed(o){const{resolved:x}=this;if(!x)return;const{animation:E}=x;E.playbackRate=o}get state(){const{resolved:o}=this;if(!o)return"idle";const{animation:x}=o;return x.playState}attachTimeline(o){if(!this._resolved)this.pendingTimeline=o;else{const{resolved:x}=this;if(!x)return ve;const{animation:E}=x;E.timeline=o,E.onfinish=null}return ve}play(){if(this.isStopped)return;const{resolved:o}=this;if(!o)return;const{animation:x}=o;x.playState==="finished"&&this.updateFinishedPromise(),x.play()}pause(){const{resolved:o}=this;if(!o)return;const{animation:x}=o;x.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:o}=this;if(!o)return;const{animation:x,keyframes:E,duration:A,type:M,ease:p,times:T}=o;if(!(x.playState==="idle"||x.playState==="finished")){if(this.time){const{motionValue:t,onUpdate:u,onComplete:m,...l}=this.options,s=new Ld({...l,keyframes:E,duration:A,type:M,ease:p,times:T,isGenerator:!0}),a=en(this.time);t.setWithVelocity(s.sample(a-Vo).value,s.sample(a).value,Vo)}this.cancel()}}complete(){const{resolved:o}=this;o&&o.animation.finish()}cancel(){const{resolved:o}=this;o&&o.animation.cancel()}static supports(o){const{motionValue:x,name:E,repeatDelay:A,repeatType:M,damping:p,type:T}=o;return O4()&&E&&D4.has(E)&&x&&x.owner&&x.owner.current instanceof HTMLElement&&!x.owner.getProps().onUpdate&&!A&&M!=="mirror"&&p!==0&&T!=="inertia"}}function G4(i,o){let x;const E=()=>{const{currentTime:A}=o,p=(A===null?0:A.value)/100;x!==p&&i(p),x=p};return It.update(E,!0),()=>Ai(E)}const b4=Ux(()=>window.ScrollTimeline!==void 0);class V4{constructor(o){this.stop=()=>this.runAll("stop"),this.animations=o.filter(Boolean)}then(o,x){return Promise.all(this.animations).then(o).catch(x)}getAll(o){return this.animations[0][o]}setAll(o,x){for(let E=0;E<this.animations.length;E++)this.animations[E][o]=x}attachTimeline(o){const x=this.animations.map(E=>{if(b4()&&E.attachTimeline)E.attachTimeline(o);else return E.pause(),G4(A=>{E.time=E.duration*A},o)});return()=>{x.forEach((E,A)=>{E&&E(),this.animations[A].stop()})}}get time(){return this.getAll("time")}set time(o){this.setAll("time",o)}get speed(){return this.getAll("speed")}set speed(o){this.setAll("speed",o)}get duration(){let o=0;for(let x=0;x<this.animations.length;x++)o=Math.max(o,this.animations[x].duration);return o}runAll(o){this.animations.forEach(x=>x[o]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Od=(i,o,x,E={},A,M)=>p=>{const T=Cd(E,i)||{},t=T.delay||E.delay||0;let{elapsed:u=0}=E;u=u-en(t);let m={keyframes:Array.isArray(x)?x:[null,x],ease:"easeOut",velocity:o.getVelocity(),...T,delay:-u,onUpdate:s=>{o.set(s),T.onUpdate&&T.onUpdate(s)},onComplete:()=>{p(),T.onComplete&&T.onComplete()},name:i,motionValue:o,element:M?void 0:A};gA(T)||(m={...m,...mA(i,m)}),m.duration&&(m.duration=en(m.duration)),m.repeatDelay&&(m.repeatDelay=en(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let l=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(l=!0)),l&&!M&&o.get()!==void 0){const s=xl(m.keyframes,T);if(s!==void 0)return It.update(()=>{m.onUpdate(s),m.onComplete()}),new V4([])}return!M&&Wv.supports(m)?new Wv(m):new Ld(m)};function Uo(i){return!!(ce(i)&&i.add)}function Dd(i,o){i.indexOf(o)===-1&&i.push(o)}function Id(i,o){const x=i.indexOf(o);x>-1&&i.splice(x,1)}class Bd{constructor(){this.subscriptions=[]}add(o){return Dd(this.subscriptions,o),()=>Id(this.subscriptions,o)}notify(o,x,E){const A=this.subscriptions.length;if(A)if(A===1)this.subscriptions[0](o,x,E);else for(let M=0;M<A;M++){const p=this.subscriptions[M];p&&p(o,x,E)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xv=30,U4=i=>!isNaN(parseFloat(i));class z4{constructor(o,x={}){this.version="11.2.13",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(E,A=!0)=>{const M=nn.now();this.updatedAt!==M&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(E),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),A&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(o),this.owner=x.owner}setCurrent(o){this.current=o,this.updatedAt=nn.now(),this.canTrackVelocity===null&&o!==void 0&&(this.canTrackVelocity=U4(this.current))}setPrevFrameValue(o=this.current){this.prevFrameValue=o,this.prevUpdatedAt=this.updatedAt}onChange(o){return this.on("change",o)}on(o,x){this.events[o]||(this.events[o]=new Bd);const E=this.events[o].add(x);return o==="change"?()=>{E(),It.read(()=>{this.events.change.getSize()||this.stop()})}:E}clearListeners(){for(const o in this.events)this.events[o].clear()}attach(o,x){this.passiveEffect=o,this.stopPassiveEffect=x}set(o,x=!0){!x||!this.passiveEffect?this.updateAndNotify(o,x):this.passiveEffect(o,this.updateAndNotify)}setWithVelocity(o,x,E){this.set(x),this.prev=void 0,this.prevFrameValue=o,this.prevUpdatedAt=this.updatedAt-E}jump(o,x=!0){this.updateAndNotify(o),this.prev=o,this.prevUpdatedAt=this.prevFrameValue=void 0,x&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const o=nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||o-this.updatedAt>Xv)return 0;const x=Math.min(this.updatedAt-this.prevUpdatedAt,Xv);return Wx(parseFloat(this.current)-parseFloat(this.prevFrameValue),x)}start(o){return this.stop(),new Promise(x=>{this.hasAnimated=!0,this.animation=o(x),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kr(i,o){return new z4(i,o)}function W4(i,o,x){i.hasValue(o)?i.getValue(o).set(x):i.addValue(o,kr(x))}function X4(i,o){const x=gl(i,o);let{transitionEnd:E={},transition:A={},...M}=x||{};M={...M,...E};for(const p in M){const T=Kw(M[p]);W4(i,p,T)}}function ey(i){return i.getProps()[ex]}function Y4({protectedKeys:i,needsAnimating:o},x){const E=i.hasOwnProperty(x)&&o[x]!==!0;return o[x]=!1,E}function iy(i,o,{delay:x=0,transitionOverride:E,type:A}={}){var M;let{transition:p=i.getDefaultTransition(),transitionEnd:T,...t}=o;const u=i.getValue("willChange");E&&(p=E);const m=[],l=A&&i.animationState&&i.animationState.getState()[A];for(const s in t){const a=i.getValue(s,(M=i.latestValues[s])!==null&&M!==void 0?M:null),e=t[s];if(e===void 0||l&&Y4(l,s))continue;const r={delay:x,elapsed:0,...Cd(p||{},s)};let d=!1;if(window.HandoffAppearAnimations){const h=ey(i);if(h){const f=window.HandoffAppearAnimations(h,s,a,It);f!==null&&(r.elapsed=f,d=!0)}}a.start(Od(s,a,e,i.shouldReduceMotion&&Xn.has(s)?{type:!1}:r,i,d));const n=a.animation;n&&(Uo(u)&&(u.add(s),n.then(()=>u.remove(s))),m.push(n))}return T&&Promise.all(m).then(()=>{It.update(()=>{T&&X4(i,T)})}),m}function Iu(i,o,x={}){var E;const A=gl(i,o,x.type==="exit"?(E=i.presenceContext)===null||E===void 0?void 0:E.custom:void 0);let{transition:M=i.getDefaultTransition()||{}}=A||{};x.transitionOverride&&(M=x.transitionOverride);const p=A?()=>Promise.all(iy(i,A,x)):()=>Promise.resolve(),T=i.variantChildren&&i.variantChildren.size?(u=0)=>{const{delayChildren:m=0,staggerChildren:l,staggerDirection:s}=M;return H4(i,o,m+u,l,s,x)}:()=>Promise.resolve(),{when:t}=M;if(t){const[u,m]=t==="beforeChildren"?[p,T]:[T,p];return u().then(()=>m())}else return Promise.all([p(),T(x.delay)])}function H4(i,o,x=0,E=0,A=1,M){const p=[],T=(i.variantChildren.size-1)*E,t=A===1?(u=0)=>u*E:(u=0)=>T-u*E;return Array.from(i.variantChildren).sort($4).forEach((u,m)=>{u.notify("AnimationStart",o),p.push(Iu(u,o,{...M,delay:x+t(m)}).then(()=>u.notify("AnimationComplete",o)))}),Promise.all(p)}function $4(i,o){return i.sortNodePosition(o)}function j4(i,o,x={}){i.notify("AnimationStart",o);let E;if(Array.isArray(o)){const A=o.map(M=>Iu(i,M,x));E=Promise.all(A)}else if(typeof o=="string")E=Iu(i,o,x);else{const A=typeof o=="function"?gl(i,o,x.custom):o;E=Promise.all(iy(i,A,x))}return E.then(()=>{It.postRender(()=>{i.notify("AnimationComplete",o)})})}const K4=[...ud].reverse(),Q4=ud.length;function Z4(i){return o=>Promise.all(o.map(({animation:x,options:E})=>j4(i,x,E)))}function J4(i){let o=Z4(i),x=Yv(),E=!0;const A=t=>(u,m)=>{var l;const s=gl(i,m,t==="exit"?(l=i.presenceContext)===null||l===void 0?void 0:l.custom:void 0);if(s){const{transition:a,transitionEnd:e,...r}=s;u={...u,...r,...e}}return u};function M(t){o=t(i)}function p(t){const u=i.getProps(),m=i.getVariantContext(!0)||{},l=[],s=new Set;let a={},e=1/0;for(let d=0;d<Q4;d++){const n=K4[d],h=x[n],f=u[n]!==void 0?u[n]:m[n],c=Qr(f),v=n===t?h.isActive:null;v===!1&&(e=d);let g=f===m[n]&&f!==u[n]&&c;if(g&&E&&i.manuallyAnimateOnMount&&(g=!1),h.protectedKeys={...a},!h.isActive&&v===null||!f&&!h.prevProp||vl(f)||typeof f=="boolean")continue;let C=k4(h.prevProp,f)||n===t&&h.isActive&&!g&&c||d>e&&c,S=!1;const P=Array.isArray(f)?f:[f];let w=P.reduce(A(n),{});v===!1&&(w={});const{prevResolvedValues:R={}}=h,L={...R,...w},D=F=>{C=!0,s.has(F)&&(S=!0,s.delete(F)),h.needsAnimating[F]=!0;const O=i.getValue(F);O&&(O.liveStyle=!1)};for(const F in L){const O=w[F],B=R[F];if(a.hasOwnProperty(F))continue;let N=!1;wu(O)&&wu(B)?N=!Px(O,B):N=O!==B,N?O!=null?D(F):s.add(F):O!==void 0&&s.has(F)?D(F):h.protectedKeys[F]=!0}h.prevProp=f,h.prevResolvedValues=w,h.isActive&&(a={...a,...w}),E&&i.blockInitialAnimation&&(C=!1),C&&(!g||S)&&l.push(...P.map(F=>({animation:F,options:{type:n}})))}if(s.size){const d={};s.forEach(n=>{const h=i.getBaseTarget(n),f=i.getValue(n);f&&(f.liveStyle=!0),d[n]=h??null}),l.push({animation:d})}let r=!!l.length;return E&&(u.initial===!1||u.initial===u.animate)&&!i.manuallyAnimateOnMount&&(r=!1),E=!1,r?o(l):Promise.resolve()}function T(t,u){var m;if(x[t].isActive===u)return Promise.resolve();(m=i.variantChildren)===null||m===void 0||m.forEach(s=>{var a;return(a=s.animationState)===null||a===void 0?void 0:a.setActive(t,u)}),x[t].isActive=u;const l=p(t);for(const s in x)x[s].protectedKeys={};return l}return{animateChanges:p,setActive:T,setAnimateFunction:M,getState:()=>x,reset:()=>{x=Yv(),E=!0}}}function k4(i,o){return typeof o=="string"?o!==i:Array.isArray(o)?!Px(o,i):!1}function vn(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yv(){return{animate:vn(!0),whileInView:vn(),whileHover:vn(),whileTap:vn(),whileDrag:vn(),whileFocus:vn(),exit:vn()}}class q4 extends cn{constructor(o){super(o),o.animationState||(o.animationState=J4(o))}updateAnimationControlsSubscription(){const{animate:o}=this.node.getProps();vl(o)&&(this.unmountControls=o.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:o}=this.node.getProps(),{animate:x}=this.node.prevProps||{};o!==x&&this.updateAnimationControlsSubscription()}unmount(){var o;this.node.animationState.reset(),(o=this.unmountControls)===null||o===void 0||o.call(this)}}let _4=0;class tR extends cn{constructor(){super(...arguments),this.id=_4++}update(){if(!this.node.presenceContext)return;const{isPresent:o,onExitComplete:x}=this.node.presenceContext,{isPresent:E}=this.node.prevPresenceContext||{};if(!this.node.animationState||o===E)return;const A=this.node.animationState.setActive("exit",!o);x&&!o&&A.then(()=>x(this.id))}mount(){const{register:o}=this.node.presenceContext||{};o&&(this.unmount=o(this.id))}unmount(){}}const eR={animation:{Feature:q4},exit:{Feature:tR}},Hv=(i,o)=>Math.abs(i-o);function iR(i,o){const x=Hv(i.x,o.x),E=Hv(i.y,o.y);return Math.sqrt(x**2+E**2)}class ny{constructor(o,x,{transformPagePoint:E,contextWindow:A,dragSnapToOrigin:M=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const l=ch(this.lastMoveEventInfo,this.history),s=this.startEvent!==null,a=iR(l.offset,{x:0,y:0})>=3;if(!s&&!a)return;const{point:e}=l,{timestamp:r}=ae;this.history.push({...e,timestamp:r});const{onStart:d,onMove:n}=this.handlers;s||(d&&d(this.lastMoveEvent,l),this.startEvent=this.lastMoveEvent),n&&n(this.lastMoveEvent,l)},this.handlePointerMove=(l,s)=>{this.lastMoveEvent=l,this.lastMoveEventInfo=dh(s,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(l,s)=>{this.end();const{onEnd:a,onSessionEnd:e,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ch(l.type==="pointercancel"?this.lastMoveEventInfo:dh(s,this.transformPagePoint),this.history);this.startEvent&&a&&a(l,d),e&&e(l,d)},!yx(o))return;this.dragSnapToOrigin=M,this.handlers=x,this.transformPagePoint=E,this.contextWindow=A||window;const p=ml(o),T=dh(p,this.transformPagePoint),{point:t}=T,{timestamp:u}=ae;this.history=[{...t,timestamp:u}];const{onSessionStart:m}=x;m&&m(o,ch(T,this.history)),this.removeListeners=Ti(yi(this.contextWindow,"pointermove",this.handlePointerMove),yi(this.contextWindow,"pointerup",this.handlePointerUp),yi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(o){this.handlers=o}end(){this.removeListeners&&this.removeListeners(),Ai(this.updatePoint)}}function dh(i,o){return o?{point:o(i.point)}:i}function $v(i,o){return{x:i.x-o.x,y:i.y-o.y}}function ch({point:i},o){return{point:i,delta:$v(i,sy(o)),offset:$v(i,nR(o)),velocity:sR(o,.1)}}function nR(i){return i[0]}function sy(i){return i[i.length-1]}function sR(i,o){if(i.length<2)return{x:0,y:0};let x=i.length-1,E=null;const A=sy(i);for(;x>=0&&(E=i[x],!(A.timestamp-E.timestamp>en(o)));)x--;if(!E)return{x:0,y:0};const M=Si(A.timestamp-E.timestamp);if(M===0)return{x:0,y:0};const p={x:(A.x-E.x)/M,y:(A.y-E.y)/M};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function Ie(i){return i.max-i.min}function Bu(i,o=0,x=.01){return Math.abs(i-o)<=x}function jv(i,o,x,E=.5){i.origin=E,i.originPoint=Ht(o.min,o.max,i.origin),i.scale=Ie(x)/Ie(o),(Bu(i.scale,1,1e-4)||isNaN(i.scale))&&(i.scale=1),i.translate=Ht(x.min,x.max,i.origin)-i.originPoint,(Bu(i.translate)||isNaN(i.translate))&&(i.translate=0)}function Sr(i,o,x,E){jv(i.x,o.x,x.x,E?E.originX:void 0),jv(i.y,o.y,x.y,E?E.originY:void 0)}function Kv(i,o,x){i.min=x.min+o.min,i.max=i.min+Ie(o)}function rR(i,o,x){Kv(i.x,o.x,x.x),Kv(i.y,o.y,x.y)}function Qv(i,o,x){i.min=o.min-x.min,i.max=i.min+Ie(o)}function Cr(i,o,x){Qv(i.x,o.x,x.x),Qv(i.y,o.y,x.y)}function aR(i,{min:o,max:x},E){return o!==void 0&&i<o?i=E?Ht(o,i,E.min):Math.max(i,o):x!==void 0&&i>x&&(i=E?Ht(x,i,E.max):Math.min(i,x)),i}function Zv(i,o,x){return{min:o!==void 0?i.min+o:void 0,max:x!==void 0?i.max+x-(i.max-i.min):void 0}}function oR(i,{top:o,left:x,bottom:E,right:A}){return{x:Zv(i.x,x,A),y:Zv(i.y,o,E)}}function Jv(i,o){let x=o.min-i.min,E=o.max-i.max;return o.max-o.min<i.max-i.min&&([x,E]=[E,x]),{min:x,max:E}}function lR(i,o){return{x:Jv(i.x,o.x),y:Jv(i.y,o.y)}}function hR(i,o){let x=.5;const E=Ie(i),A=Ie(o);return A>E?x=Jr(o.min,o.max-E,i.min):E>A&&(x=Jr(i.min,i.max-A,o.min)),on(0,1,x)}function uR(i,o){const x={};return o.min!==void 0&&(x.min=o.min-i.min),o.max!==void 0&&(x.max=o.max-i.min),x}const Nu=.35;function fR(i=Nu){return i===!1?i=0:i===!0&&(i=Nu),{x:kv(i,"left","right"),y:kv(i,"top","bottom")}}function kv(i,o,x){return{min:qv(i,o),max:qv(i,x)}}function qv(i,o){return typeof i=="number"?i:i[o]||0}const _v=()=>({translate:0,scale:1,origin:0,originPoint:0}),ls=()=>({x:_v(),y:_v()}),tp=()=>({min:0,max:0}),Zt=()=>({x:tp(),y:tp()});function be(i){return[i("x"),i("y")]}function ry({top:i,left:o,right:x,bottom:E}){return{x:{min:o,max:x},y:{min:i,max:E}}}function dR({x:i,y:o}){return{top:o.min,right:i.max,bottom:o.max,left:i.min}}function cR(i,o){if(!o)return i;const x=o({x:i.left,y:i.top}),E=o({x:i.right,y:i.bottom});return{top:x.y,left:x.x,bottom:E.y,right:E.x}}function vh(i){return i===void 0||i===1}function Gu({scale:i,scaleX:o,scaleY:x}){return!vh(i)||!vh(o)||!vh(x)}function gn(i){return Gu(i)||ay(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function ay(i){return ep(i.x)||ep(i.y)}function ep(i){return i&&i!=="0%"}function zo(i,o,x){const E=i-x,A=o*E;return x+A}function ip(i,o,x,E,A){return A!==void 0&&(i=zo(i,A,E)),zo(i,x,E)+o}function bu(i,o=0,x=1,E,A){i.min=ip(i.min,o,x,E,A),i.max=ip(i.max,o,x,E,A)}function oy(i,{x:o,y:x}){bu(i.x,o.translate,o.scale,o.originPoint),bu(i.y,x.translate,x.scale,x.originPoint)}function vR(i,o,x,E=!1){const A=x.length;if(!A)return;o.x=o.y=1;let M,p;for(let T=0;T<A;T++){M=x[T],p=M.projectionDelta;const t=M.instance;t&&t.style&&t.style.display==="contents"||(E&&M.options.layoutScroll&&M.scroll&&M!==M.root&&hs(i,{x:-M.scroll.offset.x,y:-M.scroll.offset.y}),p&&(o.x*=p.x.scale,o.y*=p.y.scale,oy(i,p)),E&&gn(M.latestValues)&&hs(i,M.latestValues))}o.x=np(o.x),o.y=np(o.y)}function np(i){return Number.isInteger(i)||i>1.0000000000001||i<.999999999999?i:1}function bi(i,o){i.min=i.min+o,i.max=i.max+o}function sp(i,o,[x,E,A]){const M=o[A]!==void 0?o[A]:.5,p=Ht(i.min,i.max,M);bu(i,o[x],o[E],p,o.scale)}const pR=["x","scaleX","originX"],mR=["y","scaleY","originY"];function hs(i,o){sp(i.x,o,pR),sp(i.y,o,mR)}function ly(i,o){return ry(cR(i.getBoundingClientRect(),o))}function gR(i,o,x){const E=ly(i,x),{scroll:A}=o;return A&&(bi(E.x,A.offset.x),bi(E.y,A.offset.y)),E}const hy=({current:i})=>i?i.ownerDocument.defaultView:null,xR=new WeakMap;class yR{constructor(o){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.visualElement=o}start(o,{snapToCursor:x=!1}={}){const{presenceContext:E}=this.visualElement;if(E&&E.isPresent===!1)return;const A=m=>{const{dragSnapToOrigin:l}=this.getProps();l?this.pauseAnimation():this.stopAnimation(),x&&this.snapToCursor(ml(m,"page").point)},M=(m,l)=>{const{drag:s,dragPropagation:a,onDragStart:e}=this.getProps();if(s&&!a&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Sx(s),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),be(d=>{let n=this.getAxisMotionValue(d).get()||0;if(li.test(n)){const{projection:h}=this.visualElement;if(h&&h.layout){const f=h.layout.layoutBox[d];f&&(n=Ie(f)*(parseFloat(n)/100))}}this.originPoint[d]=n}),e&&It.postRender(()=>e(m,l));const{animationState:r}=this.visualElement;r&&r.setActive("whileDrag",!0)},p=(m,l)=>{const{dragPropagation:s,dragDirectionLock:a,onDirectionLock:e,onDrag:r}=this.getProps();if(!s&&!this.openGlobalLock)return;const{offset:d}=l;if(a&&this.currentDirection===null){this.currentDirection=TR(d),this.currentDirection!==null&&e&&e(this.currentDirection);return}this.updateAxis("x",l.point,d),this.updateAxis("y",l.point,d),this.visualElement.render(),r&&r(m,l)},T=(m,l)=>this.stop(m,l),t=()=>be(m=>{var l;return this.getAnimationState(m)==="paused"&&((l=this.getAxisMotionValue(m).animation)===null||l===void 0?void 0:l.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ny(o,{onSessionStart:A,onStart:M,onMove:p,onSessionEnd:T,resumeAnimation:t},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:hy(this.visualElement)})}stop(o,x){const E=this.isDragging;if(this.cancel(),!E)return;const{velocity:A}=x;this.startAnimation(A);const{onDragEnd:M}=this.getProps();M&&It.postRender(()=>M(o,x))}cancel(){this.isDragging=!1;const{projection:o,animationState:x}=this.visualElement;o&&(o.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:E}=this.getProps();!E&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),x&&x.setActive("whileDrag",!1)}updateAxis(o,x,E){const{drag:A}=this.getProps();if(!E||!Ia(o,A,this.currentDirection))return;const M=this.getAxisMotionValue(o);let p=this.originPoint[o]+E[o];this.constraints&&this.constraints[o]&&(p=aR(p,this.constraints[o],this.elastic[o])),M.set(p)}resolveConstraints(){var o;const{dragConstraints:x,dragElastic:E}=this.getProps(),A=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)===null||o===void 0?void 0:o.layout,M=this.constraints;x&&as(x)?this.constraints||(this.constraints=this.resolveRefConstraints()):x&&A?this.constraints=oR(A.layoutBox,x):this.constraints=!1,this.elastic=fR(E),M!==this.constraints&&A&&this.constraints&&!this.hasMutatedConstraints&&be(p=>{this.constraints!==!1&&this.getAxisMotionValue(p)&&(this.constraints[p]=uR(A.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:o,onMeasureDragConstraints:x}=this.getProps();if(!o||!as(o))return!1;const E=o.current,{projection:A}=this.visualElement;if(!A||!A.layout)return!1;const M=gR(E,A.root,this.visualElement.getTransformPagePoint());let p=lR(A.layout.layoutBox,M);if(x){const T=x(dR(p));this.hasMutatedConstraints=!!T,T&&(p=ry(T))}return p}startAnimation(o){const{drag:x,dragMomentum:E,dragElastic:A,dragTransition:M,dragSnapToOrigin:p,onDragTransitionEnd:T}=this.getProps(),t=this.constraints||{},u=be(m=>{if(!Ia(m,x,this.currentDirection))return;let l=t&&t[m]||{};p&&(l={min:0,max:0});const s=A?200:1e6,a=A?40:1e7,e={type:"inertia",velocity:E?o[m]:0,bounceStiffness:s,bounceDamping:a,timeConstant:750,restDelta:1,restSpeed:10,...M,...l};return this.startAxisValueAnimation(m,e)});return Promise.all(u).then(T)}startAxisValueAnimation(o,x){const E=this.getAxisMotionValue(o);return E.start(Od(o,E,0,x,this.visualElement))}stopAnimation(){be(o=>this.getAxisMotionValue(o).stop())}pauseAnimation(){be(o=>{var x;return(x=this.getAxisMotionValue(o).animation)===null||x===void 0?void 0:x.pause()})}getAnimationState(o){var x;return(x=this.getAxisMotionValue(o).animation)===null||x===void 0?void 0:x.state}getAxisMotionValue(o){const x=`_drag${o.toUpperCase()}`,E=this.visualElement.getProps(),A=E[x];return A||this.visualElement.getValue(o,(E.initial?E.initial[o]:void 0)||0)}snapToCursor(o){be(x=>{const{drag:E}=this.getProps();if(!Ia(x,E,this.currentDirection))return;const{projection:A}=this.visualElement,M=this.getAxisMotionValue(x);if(A&&A.layout){const{min:p,max:T}=A.layout.layoutBox[x];M.set(o[x]-Ht(p,T,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:o,dragConstraints:x}=this.getProps(),{projection:E}=this.visualElement;if(!as(x)||!E||!this.constraints)return;this.stopAnimation();const A={x:0,y:0};be(p=>{const T=this.getAxisMotionValue(p);if(T&&this.constraints!==!1){const t=T.get();A[p]=hR({min:t,max:t},this.constraints[p])}});const{transformTemplate:M}=this.visualElement.getProps();this.visualElement.current.style.transform=M?M({},""):"none",E.root&&E.root.updateScroll(),E.updateLayout(),this.resolveConstraints(),be(p=>{if(!Ia(p,o,null))return;const T=this.getAxisMotionValue(p),{min:t,max:u}=this.constraints[p];T.set(Ht(t,u,A[p]))})}addListeners(){if(!this.visualElement.current)return;xR.set(this.visualElement,this);const o=this.visualElement.current,x=yi(o,"pointerdown",t=>{const{drag:u,dragListener:m=!0}=this.getProps();u&&m&&this.start(t)}),E=()=>{const{dragConstraints:t}=this.getProps();as(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:A}=this.visualElement,M=A.addEventListener("measure",E);A&&!A.layout&&(A.root&&A.root.updateScroll(),A.updateLayout()),It.read(E);const p=gi(window,"resize",()=>this.scalePositionWithinConstraints()),T=A.addEventListener("didUpdate",({delta:t,hasLayoutChanged:u})=>{this.isDragging&&u&&(be(m=>{const l=this.getAxisMotionValue(m);l&&(this.originPoint[m]+=t[m].translate,l.set(l.get()+t[m].translate))}),this.visualElement.render())});return()=>{p(),x(),M(),T&&T()}}getProps(){const o=this.visualElement.getProps(),{drag:x=!1,dragDirectionLock:E=!1,dragPropagation:A=!1,dragConstraints:M=!1,dragElastic:p=Nu,dragMomentum:T=!0}=o;return{...o,drag:x,dragDirectionLock:E,dragPropagation:A,dragConstraints:M,dragElastic:p,dragMomentum:T}}}function Ia(i,o,x){return(o===!0||o===i)&&(x===null||x===i)}function TR(i,o=10){let x=null;return Math.abs(i.y)>o?x="y":Math.abs(i.x)>o&&(x="x"),x}class SR extends cn{constructor(o){super(o),this.removeGroupControls=ve,this.removeListeners=ve,this.controls=new yR(o)}mount(){const{dragControls:o}=this.node.getProps();o&&(this.removeGroupControls=o.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ve}unmount(){this.removeGroupControls(),this.removeListeners()}}const rp=i=>(o,x)=>{i&&It.postRender(()=>i(o,x))};class CR extends cn{constructor(){super(...arguments),this.removePointerDownListener=ve}onPointerDown(o){this.session=new ny(o,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hy(this.node)})}createPanHandlers(){const{onPanSessionStart:o,onPanStart:x,onPan:E,onPanEnd:A}=this.node.getProps();return{onSessionStart:rp(o),onStart:rp(x),onMove:E,onEnd:(M,p)=>{delete this.session,A&&It.postRender(()=>A(M,p))}}}mount(){this.removePointerDownListener=yi(this.node.current,"pointerdown",o=>this.onPointerDown(o))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ER(){const i=Z.useContext(cl);if(i===null)return[!0,null];const{isPresent:o,onExitComplete:x,register:E}=i,A=Z.useId();return Z.useEffect(()=>E(A),[]),!o&&x?[!1,()=>x&&x(A)]:[!0]}const Za={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ap(i,o){return o.max===o.min?0:i/(o.max-o.min)*100}const tr={correct:(i,o)=>{if(!o.target)return i;if(typeof i=="string")if(Ct.test(i))i=parseFloat(i);else return i;const x=ap(i,o.target.x),E=ap(i,o.target.y);return`${x}% ${E}%`}},PR={correct:(i,{treeScale:o,projectionDelta:x})=>{const E=i,A=ln.parse(i);if(A.length>5)return E;const M=ln.createTransformer(i),p=typeof A[0]!="number"?1:0,T=x.x.scale*o.x,t=x.y.scale*o.y;A[0+p]/=T,A[1+p]/=t;const u=Ht(T,t,.5);return typeof A[2+p]=="number"&&(A[2+p]/=u),typeof A[3+p]=="number"&&(A[3+p]/=u),M(A)}};class wR extends Z.Component{componentDidMount(){const{visualElement:o,layoutGroup:x,switchLayoutGroup:E,layoutId:A}=this.props,{projection:M}=o;Cw(AR),M&&(x.group&&x.group.add(M),E&&E.register&&A&&E.register(M),M.root.didUpdate(),M.addEventListener("animationComplete",()=>{this.safeToRemove()}),M.setOptions({...M.options,onExitComplete:()=>this.safeToRemove()})),Za.hasEverUpdated=!0}getSnapshotBeforeUpdate(o){const{layoutDependency:x,visualElement:E,drag:A,isPresent:M}=this.props,p=E.projection;return p&&(p.isPresent=M,A||o.layoutDependency!==x||x===void 0?p.willUpdate():this.safeToRemove(),o.isPresent!==M&&(M?p.promote():p.relegate()||It.postRender(()=>{const T=p.getStack();(!T||!T.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:o}=this.props.visualElement;o&&(o.root.didUpdate(),hd.postRender(()=>{!o.currentAnimation&&o.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:o,layoutGroup:x,switchLayoutGroup:E}=this.props,{projection:A}=o;A&&(A.scheduleCheckAfterUnmount(),x&&x.group&&x.group.remove(A),E&&E.deregister&&E.deregister(A))}safeToRemove(){const{safeToRemove:o}=this.props;o&&o()}render(){return null}}function uy(i){const[o,x]=ER(),E=Z.useContext(dd);return q.jsx(wR,{...i,layoutGroup:E,switchLayoutGroup:Z.useContext(nx),isPresent:o,safeToRemove:x})}const AR={borderRadius:{...tr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tr,borderTopRightRadius:tr,borderBottomLeftRadius:tr,borderBottomRightRadius:tr,boxShadow:PR},fy=["TopLeft","TopRight","BottomLeft","BottomRight"],RR=fy.length,op=i=>typeof i=="string"?parseFloat(i):i,lp=i=>typeof i=="number"||Ct.test(i);function MR(i,o,x,E,A,M){A?(i.opacity=Ht(0,x.opacity!==void 0?x.opacity:1,LR(E)),i.opacityExit=Ht(o.opacity!==void 0?o.opacity:1,0,FR(E))):M&&(i.opacity=Ht(o.opacity!==void 0?o.opacity:1,x.opacity!==void 0?x.opacity:1,E));for(let p=0;p<RR;p++){const T=`border${fy[p]}Radius`;let t=hp(o,T),u=hp(x,T);if(t===void 0&&u===void 0)continue;t||(t=0),u||(u=0),t===0||u===0||lp(t)===lp(u)?(i[T]=Math.max(Ht(op(t),op(u),E),0),(li.test(u)||li.test(t))&&(i[T]+="%")):i[T]=u}(o.rotate||x.rotate)&&(i.rotate=Ht(o.rotate||0,x.rotate||0,E))}function hp(i,o){return i[o]!==void 0?i[o]:i.borderRadius}const LR=dy(0,.5,Qx),FR=dy(.5,.95,ve);function dy(i,o,x){return E=>E<i?0:E>o?1:x(Jr(i,o,E))}function up(i,o){i.min=o.min,i.max=o.max}function Ge(i,o){up(i.x,o.x),up(i.y,o.y)}function fp(i,o,x,E,A){return i-=o,i=zo(i,1/x,E),A!==void 0&&(i=zo(i,1/A,E)),i}function OR(i,o=0,x=1,E=.5,A,M=i,p=i){if(li.test(o)&&(o=parseFloat(o),o=Ht(p.min,p.max,o/100)-p.min),typeof o!="number")return;let T=Ht(M.min,M.max,E);i===M&&(T-=o),i.min=fp(i.min,o,x,T,A),i.max=fp(i.max,o,x,T,A)}function dp(i,o,[x,E,A],M,p){OR(i,o[x],o[E],o[A],o.scale,M,p)}const DR=["x","scaleX","originX"],IR=["y","scaleY","originY"];function cp(i,o,x,E){dp(i.x,o,DR,x?x.x:void 0,E?E.x:void 0),dp(i.y,o,IR,x?x.y:void 0,E?E.y:void 0)}function vp(i){return i.translate===0&&i.scale===1}function cy(i){return vp(i.x)&&vp(i.y)}function BR(i,o){return i.x.min===o.x.min&&i.x.max===o.x.max&&i.y.min===o.y.min&&i.y.max===o.y.max}function vy(i,o){return Math.round(i.x.min)===Math.round(o.x.min)&&Math.round(i.x.max)===Math.round(o.x.max)&&Math.round(i.y.min)===Math.round(o.y.min)&&Math.round(i.y.max)===Math.round(o.y.max)}function pp(i){return Ie(i.x)/Ie(i.y)}class NR{constructor(){this.members=[]}add(o){Dd(this.members,o),o.scheduleRender()}remove(o){if(Id(this.members,o),o===this.prevLead&&(this.prevLead=void 0),o===this.lead){const x=this.members[this.members.length-1];x&&this.promote(x)}}relegate(o){const x=this.members.findIndex(A=>o===A);if(x===0)return!1;let E;for(let A=x;A>=0;A--){const M=this.members[A];if(M.isPresent!==!1){E=M;break}}return E?(this.promote(E),!0):!1}promote(o,x){const E=this.lead;if(o!==E&&(this.prevLead=E,this.lead=o,o.show(),E)){E.instance&&E.scheduleRender(),o.scheduleRender(),o.resumeFrom=E,x&&(o.resumeFrom.preserveOpacity=!0),E.snapshot&&(o.snapshot=E.snapshot,o.snapshot.latestValues=E.animationValues||E.latestValues),o.root&&o.root.isUpdating&&(o.isLayoutDirty=!0);const{crossfade:A}=o.options;A===!1&&E.hide()}}exitAnimationComplete(){this.members.forEach(o=>{const{options:x,resumingFrom:E}=o;x.onExitComplete&&x.onExitComplete(),E&&E.options.onExitComplete&&E.options.onExitComplete()})}scheduleRender(){this.members.forEach(o=>{o.instance&&o.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mp(i,o,x){let E="";const A=i.x.translate/o.x,M=i.y.translate/o.y,p=(x==null?void 0:x.z)||0;if((A||M||p)&&(E=`translate3d(${A}px, ${M}px, ${p}px) `),(o.x!==1||o.y!==1)&&(E+=`scale(${1/o.x}, ${1/o.y}) `),x){const{transformPerspective:u,rotate:m,rotateX:l,rotateY:s,skewX:a,skewY:e}=x;u&&(E=`perspective(${u}px) ${E}`),m&&(E+=`rotate(${m}deg) `),l&&(E+=`rotateX(${l}deg) `),s&&(E+=`rotateY(${s}deg) `),a&&(E+=`skewX(${a}deg) `),e&&(E+=`skewY(${e}deg) `)}const T=i.x.scale*o.x,t=i.y.scale*o.y;return(T!==1||t!==1)&&(E+=`scale(${T}, ${t})`),E||"none"}const GR=(i,o)=>i.depth-o.depth;class bR{constructor(){this.children=[],this.isDirty=!1}add(o){Dd(this.children,o),this.isDirty=!0}remove(o){Id(this.children,o),this.isDirty=!0}forEach(o){this.isDirty&&this.children.sort(GR),this.isDirty=!1,this.children.forEach(o)}}function VR(i,o){const x=nn.now(),E=({timestamp:A})=>{const M=A-x;M>=o&&(Ai(E),i(M-o))};return It.read(E,!0),()=>Ai(E)}function UR(i){window.MotionDebug&&window.MotionDebug.record(i)}function zR(i){return i instanceof SVGElement&&i.tagName!=="svg"}function WR(i,o,x){const E=ce(i)?i:kr(i);return E.start(Od("",E,o,x)),E.animation}const ph=["","X","Y","Z"],XR={visibility:"hidden"},gp=1e3;let YR=0;const xn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function mh(i,o,x,E){const{latestValues:A}=o;A[i]&&(x[i]=A[i],o.setStaticValue(i,0),E&&(E[i]=0))}function py(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return!1;const{visualElement:o}=i.options;return o?ey(o)?!0:i.parent&&!i.parent.hasCheckedOptimisedAppear?py(i.parent):!1:!1}function my({attachResizeListener:i,defaultParent:o,measureScroll:x,checkIsScrollRoot:E,resetTransform:A}){return class{constructor(p={},T=o==null?void 0:o()){this.id=YR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xn.totalNodes=xn.resolvedTargetDeltas=xn.recalculatedProjection=0,this.nodes.forEach(jR),this.nodes.forEach(kR),this.nodes.forEach(qR),this.nodes.forEach(KR),UR(xn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=T?T.root||T:this,this.path=T?[...T.path,T]:[],this.parent=T,this.depth=T?T.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new bR)}addEventListener(p,T){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new Bd),this.eventHandlers.get(p).add(T)}notifyListeners(p,...T){const t=this.eventHandlers.get(p);t&&t.notify(...T)}hasListeners(p){return this.eventHandlers.has(p)}mount(p,T=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zR(p),this.instance=p;const{layoutId:t,layout:u,visualElement:m}=this.options;if(m&&!m.current&&m.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),T&&(u||t)&&(this.isLayoutDirty=!0),i){let l;const s=()=>this.root.updateBlockedByResize=!1;i(p,()=>{this.root.updateBlockedByResize=!0,l&&l(),l=VR(s,250),Za.hasAnimatedSinceResize&&(Za.hasAnimatedSinceResize=!1,this.nodes.forEach(yp))})}t&&this.root.registerSharedNode(t,this),this.options.animate!==!1&&m&&(t||u)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:s,hasRelativeTargetChanged:a,layout:e})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const r=this.options.transition||m.getDefaultTransition()||n5,{onLayoutAnimationStart:d,onLayoutAnimationComplete:n}=m.getProps(),h=!this.targetLayout||!vy(this.targetLayout,e)||a,f=!s&&a;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||f||s&&(h||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(l,f);const c={...Cd(r,"layout"),onPlay:d,onComplete:n};(m.shouldReduceMotion||this.options.layoutRoot)&&(c.delay=0,c.type=!1),this.startAnimation(c)}else s||yp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=e})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_R),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&py(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const l=this.path[m];l.shouldResetTransform=!0,l.updateScroll("snapshot"),l.options.layoutRoot&&l.willUpdate(!1)}const{layoutId:T,layout:t}=this.options;if(T===void 0&&!t)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xp);return}this.isUpdating||this.nodes.forEach(ZR),this.isUpdating=!1,this.nodes.forEach(JR),this.nodes.forEach(HR),this.nodes.forEach($R),this.clearAllSnapshots();const T=nn.now();ae.delta=on(0,1e3/60,T-ae.timestamp),ae.timestamp=T,ae.isProcessing=!0,rh.update.process(ae),rh.preRender.process(ae),rh.render.process(ae),ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QR),this.sharedNodes.forEach(t5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:T}=this.options;T&&T.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let T=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(T=!1),T&&(this.scroll={animationId:this.root.animationId,phase:p,isRoot:E(this.instance),offset:x(this.instance)})}resetTransform(){if(!A)return;const p=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,T=this.projectionDelta&&!cy(this.projectionDelta),t=this.getTransformTemplate(),u=t?t(this.latestValues,""):void 0,m=u!==this.prevTransformTemplateValue;p&&(T||gn(this.latestValues)||m)&&(A(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const T=this.measurePageBox();let t=this.removeElementScroll(T);return p&&(t=this.removeTransform(t)),s5(t),{animationId:this.root.animationId,measuredBox:T,layoutBox:t,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:p}=this.options;if(!p)return Zt();const T=p.measureViewportBox(),{scroll:t}=this.root;return t&&(bi(T.x,t.offset.x),bi(T.y,t.offset.y)),T}removeElementScroll(p){const T=Zt();Ge(T,p);for(let t=0;t<this.path.length;t++){const u=this.path[t],{scroll:m,options:l}=u;if(u!==this.root&&m&&l.layoutScroll){if(m.isRoot){Ge(T,p);const{scroll:s}=this.root;s&&(bi(T.x,-s.offset.x),bi(T.y,-s.offset.y))}bi(T.x,m.offset.x),bi(T.y,m.offset.y)}}return T}applyTransform(p,T=!1){const t=Zt();Ge(t,p);for(let u=0;u<this.path.length;u++){const m=this.path[u];!T&&m.options.layoutScroll&&m.scroll&&m!==m.root&&hs(t,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),gn(m.latestValues)&&hs(t,m.latestValues)}return gn(this.latestValues)&&hs(t,this.latestValues),t}removeTransform(p){const T=Zt();Ge(T,p);for(let t=0;t<this.path.length;t++){const u=this.path[t];if(!u.instance||!gn(u.latestValues))continue;Gu(u.latestValues)&&u.updateSnapshot();const m=Zt(),l=u.measurePageBox();Ge(m,l),cp(T,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,m)}return gn(this.latestValues)&&cp(T,this.latestValues),T}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){var T;const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==t;if(!(p||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((T=this.parent)===null||T===void 0)&&T.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:l,layoutId:s}=this.options;if(!(!this.layout||!(l||s))){if(this.resolvedRelativeTargetAt=ae.timestamp,!this.targetDelta&&!this.relativeTarget){const a=this.getClosestProjectingParent();a&&a.layout&&this.animationProgress!==1?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Cr(this.relativeTargetOrigin,this.layout.layoutBox,a.layout.layoutBox),Ge(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ge(this.target,this.layout.layoutBox),oy(this.target,this.targetDelta)):Ge(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const a=this.getClosestProjectingParent();a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&this.animationProgress!==1?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Cr(this.relativeTargetOrigin,this.target,a.target),Ge(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gu(this.parent.latestValues)||ay(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const T=this.getLead(),t=!!this.resumingFrom||this!==T;let u=!0;if((this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty)&&(u=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ae.timestamp&&(u=!1),u)return;const{layout:m,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||l))return;Ge(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;vR(this.layoutCorrected,this.treeScale,this.path,t),T.layout&&!T.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(T.target=T.layout.layoutBox,T.targetWithTransforms=Zt());const{target:e}=T;if(!e){this.projectionTransform&&(this.projectionDelta=ls(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ls(),this.projectionDeltaWithTransform=ls());const r=this.projectionTransform;Sr(this.projectionDelta,this.layoutCorrected,e,this.latestValues),this.projectionTransform=mp(this.projectionDelta,this.treeScale),(this.projectionTransform!==r||this.treeScale.x!==s||this.treeScale.y!==a)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",e)),xn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),p){const T=this.getStack();T&&T.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(p,T=!1){const t=this.snapshot,u=t?t.latestValues:{},m={...this.latestValues},l=ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!T;const s=Zt(),a=t?t.source:void 0,e=this.layout?this.layout.source:void 0,r=a!==e,d=this.getStack(),n=!d||d.members.length<=1,h=!!(r&&!n&&this.options.crossfade===!0&&!this.path.some(i5));this.animationProgress=0;let f;this.mixTargetDelta=c=>{const v=c/1e3;Tp(l.x,p.x,v),Tp(l.y,p.y,v),this.setTargetDelta(l),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cr(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e5(this.relativeTarget,this.relativeTargetOrigin,s,v),f&&BR(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=Zt()),Ge(f,this.relativeTarget)),r&&(this.animationValues=m,MR(m,u,this.latestValues,v,h,n)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{Za.hasAnimatedSinceResize=!0,this.currentAnimation=WR(0,gp,{...p,onUpdate:T=>{this.mixTargetDelta(T),p.onUpdate&&p.onUpdate(T)},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:T,target:t,layout:u,latestValues:m}=p;if(!(!T||!t||!u)){if(this!==p&&this.layout&&u&&gy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){t=this.target||Zt();const l=Ie(this.layout.layoutBox.x);t.x.min=p.target.x.min,t.x.max=t.x.min+l;const s=Ie(this.layout.layoutBox.y);t.y.min=p.target.y.min,t.y.max=t.y.min+s}Ge(T,t),hs(T,m),Sr(this.projectionDeltaWithTransform,this.layoutCorrected,T,m)}}registerSharedNode(p,T){this.sharedNodes.has(p)||this.sharedNodes.set(p,new NR),this.sharedNodes.get(p).add(T);const u=T.options.initialPromotionConfig;T.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(T):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){var p;const{layoutId:T}=this.options;return T?((p=this.getStack())===null||p===void 0?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:T}=this.options;return T?(p=this.getStack())===null||p===void 0?void 0:p.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:T,preserveFollowOpacity:t}={}){const u=this.getStack();u&&u.promote(this,t),p&&(this.projectionDelta=void 0,this.needsReset=!0),T&&this.setOptions({transition:T})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetSkewAndRotation(){const{visualElement:p}=this.options;if(!p)return;let T=!1;const{latestValues:t}=p;if((t.z||t.rotate||t.rotateX||t.rotateY||t.rotateZ||t.skewX||t.skewY)&&(T=!0),!T)return;const u={};t.z&&mh("z",p,u,this.animationValues);for(let m=0;m<ph.length;m++)mh(`rotate${ph[m]}`,p,u,this.animationValues),mh(`skew${ph[m]}`,p,u,this.animationValues);p.render();for(const m in u)p.setStaticValue(m,u[m]),this.animationValues&&(this.animationValues[m]=u[m]);p.scheduleRender()}getProjectionStyles(p){var T,t;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XR;const u={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ka(p==null?void 0:p.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none",u;const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){const r={};return this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=Ka(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!gn(this.latestValues)&&(r.transform=m?m({},""):"none",this.hasProjected=!1),r}const s=l.animationValues||l.latestValues;this.applyTransformsToTarget(),u.transform=mp(this.projectionDeltaWithTransform,this.treeScale,s),m&&(u.transform=m(s,u.transform));const{x:a,y:e}=this.projectionDelta;u.transformOrigin=`${a.origin*100}% ${e.origin*100}% 0`,l.animationValues?u.opacity=l===this?(t=(T=s.opacity)!==null&&T!==void 0?T:this.latestValues.opacity)!==null&&t!==void 0?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:u.opacity=l===this?s.opacity!==void 0?s.opacity:"":s.opacityExit!==void 0?s.opacityExit:0;for(const r in Bo){if(s[r]===void 0)continue;const{correct:d,applyTo:n}=Bo[r],h=u.transform==="none"?s[r]:d(s[r],l);if(n){const f=n.length;for(let c=0;c<f;c++)u[n[c]]=h}else u[r]=h}return this.options.layoutId&&(u.pointerEvents=l===this?Ka(p==null?void 0:p.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>{var T;return(T=p.currentAnimation)===null||T===void 0?void 0:T.stop()}),this.root.nodes.forEach(xp),this.root.sharedNodes.clear()}}}function HR(i){i.updateLayout()}function $R(i){var o;const x=((o=i.resumeFrom)===null||o===void 0?void 0:o.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&x&&i.hasListeners("didUpdate")){const{layoutBox:E,measuredBox:A}=i.layout,{animationType:M}=i.options,p=x.source!==i.layout.source;M==="size"?be(l=>{const s=p?x.measuredBox[l]:x.layoutBox[l],a=Ie(s);s.min=E[l].min,s.max=s.min+a}):gy(M,x.layoutBox,E)&&be(l=>{const s=p?x.measuredBox[l]:x.layoutBox[l],a=Ie(E[l]);s.max=s.min+a,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[l].max=i.relativeTarget[l].min+a)});const T=ls();Sr(T,E,x.layoutBox);const t=ls();p?Sr(t,i.applyTransform(A,!0),x.measuredBox):Sr(t,E,x.layoutBox);const u=!cy(T);let m=!1;if(!i.resumeFrom){const l=i.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:s,layout:a}=l;if(s&&a){const e=Zt();Cr(e,x.layoutBox,s.layoutBox);const r=Zt();Cr(r,E,a.layoutBox),vy(e,r)||(m=!0),l.options.layoutRoot&&(i.relativeTarget=r,i.relativeTargetOrigin=e,i.relativeParent=l)}}}i.notifyListeners("didUpdate",{layout:E,snapshot:x,delta:t,layoutDelta:T,hasLayoutChanged:u,hasRelativeTargetChanged:m})}else if(i.isLead()){const{onExitComplete:E}=i.options;E&&E()}i.options.transition=void 0}function jR(i){xn.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function KR(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function QR(i){i.clearSnapshot()}function xp(i){i.clearMeasurements()}function ZR(i){i.isLayoutDirty=!1}function JR(i){const{visualElement:o}=i.options;o&&o.getProps().onBeforeLayoutMeasure&&o.notify("BeforeLayoutMeasure"),i.resetTransform()}function yp(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function kR(i){i.resolveTargetDelta()}function qR(i){i.calcProjection()}function _R(i){i.resetSkewAndRotation()}function t5(i){i.removeLeadSnapshot()}function Tp(i,o,x){i.translate=Ht(o.translate,0,x),i.scale=Ht(o.scale,1,x),i.origin=o.origin,i.originPoint=o.originPoint}function Sp(i,o,x,E){i.min=Ht(o.min,x.min,E),i.max=Ht(o.max,x.max,E)}function e5(i,o,x,E){Sp(i.x,o.x,x.x,E),Sp(i.y,o.y,x.y,E)}function i5(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const n5={duration:.45,ease:[.4,0,.1,1]},Cp=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),Ep=Cp("applewebkit/")&&!Cp("chrome/")?Math.round:ve;function Pp(i){i.min=Ep(i.min),i.max=Ep(i.max)}function s5(i){Pp(i.x),Pp(i.y)}function gy(i,o,x){return i==="position"||i==="preserve-aspect"&&!Bu(pp(o),pp(x),.2)}const r5=my({attachResizeListener:(i,o)=>gi(i,"resize",o),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gh={current:void 0},xy=my({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!gh.current){const i=new r5({});i.mount(window),i.setOptions({layoutScroll:!0}),gh.current=i}return gh.current},resetTransform:(i,o)=>{i.style.transform=o!==void 0?o:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),a5={pan:{Feature:CR},drag:{Feature:SR,ProjectionNode:xy,MeasureLayout:uy}},Vu={current:null},yy={current:!1};function o5(){if(yy.current=!0,!!ad)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),o=()=>Vu.current=i.matches;i.addListener(o),o()}else Vu.current=!1}function l5(i,o,x){const{willChange:E}=o;for(const A in o){const M=o[A],p=x[A];if(ce(M))i.addValue(A,M),Uo(E)&&E.add(A);else if(ce(p))i.addValue(A,kr(M,{owner:i})),Uo(E)&&E.remove(A);else if(p!==M)if(i.hasValue(A)){const T=i.getValue(A);T.liveStyle===!0?T.jump(M):T.hasAnimated||T.set(M)}else{const T=i.getStaticValue(A);i.addValue(A,kr(T!==void 0?T:M,{owner:i}))}}for(const A in x)o[A]===void 0&&i.removeValue(A);return o}const wp=new WeakMap,h5=[...Lx,fe,ln],u5=i=>h5.find(Mx(i)),Ap=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],f5=fd.length;class d5{scrapeMotionValuesFromProps(o,x,E){return{}}constructor({parent:o,props:x,presenceContext:E,reducedMotionConfig:A,blockInitialAnimation:M,visualState:p},T={}){this.resolveKeyframes=(s,a,e,r)=>new this.KeyframeResolver(s,a,e,r,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ed,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>It.render(this.render,!1,!0);const{latestValues:t,renderState:u}=p;this.latestValues=t,this.baseTarget={...t},this.initialValues=x.initial?{...t}:{},this.renderState=u,this.parent=o,this.props=x,this.presenceContext=E,this.depth=o?o.depth+1:0,this.reducedMotionConfig=A,this.options=T,this.blockInitialAnimation=!!M,this.isControllingVariants=pl(x),this.isVariantNode=rx(x),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(o&&o.current);const{willChange:m,...l}=this.scrapeMotionValuesFromProps(x,{},this);for(const s in l){const a=l[s];t[s]!==void 0&&ce(a)&&(a.set(t[s],!1),Uo(m)&&m.add(s))}}mount(o){this.current=o,wp.set(o,this),this.projection&&!this.projection.instance&&this.projection.mount(o),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((x,E)=>this.bindToMotionValue(E,x)),yy.current||o5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wp.delete(this.current),this.projection&&this.projection.unmount(),Ai(this.notifyUpdate),Ai(this.render),this.valueSubscriptions.forEach(o=>o()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const o in this.events)this.events[o].clear();for(const o in this.features){const x=this.features[o];x&&(x.unmount(),x.isMounted=!1)}this.current=null}bindToMotionValue(o,x){const E=Xn.has(o),A=x.on("change",p=>{this.latestValues[o]=p,this.props.onUpdate&&It.preRender(this.notifyUpdate),E&&this.projection&&(this.projection.isTransformDirty=!0)}),M=x.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(o,()=>{A(),M(),x.owner&&x.stop()})}sortNodePosition(o){return!this.current||!this.sortInstanceNodePosition||this.type!==o.type?0:this.sortInstanceNodePosition(this.current,o.current)}updateFeatures(){let o="animation";for(o in Os){const x=Os[o];if(!x)continue;const{isEnabled:E,Feature:A}=x;if(!this.features[o]&&A&&E(this.props)&&(this.features[o]=new A(this)),this.features[o]){const M=this.features[o];M.isMounted?M.update():(M.mount(),M.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(o){return this.latestValues[o]}setStaticValue(o,x){this.latestValues[o]=x}update(o,x){(o.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=o,this.prevPresenceContext=this.presenceContext,this.presenceContext=x;for(let E=0;E<Ap.length;E++){const A=Ap[E];this.propEventSubscriptions[A]&&(this.propEventSubscriptions[A](),delete this.propEventSubscriptions[A]);const M="on"+A,p=o[M];p&&(this.propEventSubscriptions[A]=this.on(A,p))}this.prevMotionValues=l5(this,this.scrapeMotionValuesFromProps(o,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(o){return this.props.variants?this.props.variants[o]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(o=!1){if(o)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const E=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(E.initial=this.props.initial),E}const x={};for(let E=0;E<f5;E++){const A=fd[E],M=this.props[A];(Qr(M)||M===!1)&&(x[A]=M)}return x}addVariantChild(o){const x=this.getClosestVariantNode();if(x)return x.variantChildren&&x.variantChildren.add(o),()=>x.variantChildren.delete(o)}addValue(o,x){const E=this.values.get(o);x!==E&&(E&&this.removeValue(o),this.bindToMotionValue(o,x),this.values.set(o,x),this.latestValues[o]=x.get())}removeValue(o){this.values.delete(o);const x=this.valueSubscriptions.get(o);x&&(x(),this.valueSubscriptions.delete(o)),delete this.latestValues[o],this.removeValueFromRenderState(o,this.renderState)}hasValue(o){return this.values.has(o)}getValue(o,x){if(this.props.values&&this.props.values[o])return this.props.values[o];let E=this.values.get(o);return E===void 0&&x!==void 0&&(E=kr(x===null?void 0:x,{owner:this}),this.addValue(o,E)),E}readValue(o,x){var E;let A=this.latestValues[o]!==void 0||!this.current?this.latestValues[o]:(E=this.getBaseTargetFromProps(this.props,o))!==null&&E!==void 0?E:this.readValueFromInstance(this.current,o,this.options);return A!=null&&(typeof A=="string"&&(Ax(A)||wx(A))?A=parseFloat(A):!u5(A)&&ln.test(x)&&(A=bx(o,x)),this.setBaseTarget(o,ce(A)?A.get():A)),ce(A)?A.get():A}setBaseTarget(o,x){this.baseTarget[o]=x}getBaseTarget(o){var x;const{initial:E}=this.props;let A;if(typeof E=="string"||typeof E=="object"){const p=Sd(this.props,E,(x=this.presenceContext)===null||x===void 0?void 0:x.custom);p&&(A=p[o])}if(E&&A!==void 0)return A;const M=this.getBaseTargetFromProps(this.props,o);return M!==void 0&&!ce(M)?M:this.initialValues[o]!==void 0&&A===void 0?void 0:this.baseTarget[o]}on(o,x){return this.events[o]||(this.events[o]=new Bd),this.events[o].add(x)}notify(o,...x){this.events[o]&&this.events[o].notify(...x)}}class Ty extends d5{constructor(){super(...arguments),this.KeyframeResolver=Vx}sortInstanceNodePosition(o,x){return o.compareDocumentPosition(x)&2?1:-1}getBaseTargetFromProps(o,x){return o.style?o.style[x]:void 0}removeValueFromRenderState(o,{vars:x,style:E}){delete x[o],delete E[o]}}function c5(i){return window.getComputedStyle(i)}class v5 extends Ty{constructor(){super(...arguments),this.type="html"}readValueFromInstance(o,x){if(Xn.has(x)){const E=wd(x);return E&&E.default||0}else{const E=c5(o),A=(lx(x)?E.getPropertyValue(x):E[x])||0;return typeof A=="string"?A.trim():A}}measureInstanceViewportBox(o,{transformPagePoint:x}){return ly(o,x)}build(o,x,E,A){md(o,x,E,A.transformTemplate)}scrapeMotionValuesFromProps(o,x,E){return Td(o,x,E)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:o}=this.props;ce(o)&&(this.childSubscription=o.on("change",x=>{this.current&&(this.current.textContent=`${x}`)}))}renderInstance(o,x,E,A){cx(o,x,E,A)}}class p5 extends Ty{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(o,x){return o[x]}readValueFromInstance(o,x){if(Xn.has(x)){const E=wd(x);return E&&E.default||0}return x=vx.has(x)?x:ld(x),o.getAttribute(x)}measureInstanceViewportBox(){return Zt()}scrapeMotionValuesFromProps(o,x,E){return mx(o,x,E)}build(o,x,E,A){xd(o,x,E,this.isSVGTag,A.transformTemplate)}renderInstance(o,x,E,A){px(o,x,E,A)}mount(o){this.isSVGTag=yd(o.tagName),super.mount(o)}}const m5=(i,o)=>cd(i)?new p5(o,{enableHardwareAcceleration:!1}):new v5(o,{allowProjection:i!==Z.Fragment,enableHardwareAcceleration:!0}),g5={layout:{ProjectionNode:xy,MeasureLayout:uy}},x5={...eR,...fA,...a5,...g5},Sy=Tw((i,o)=>qw(i,o,x5,m5));function Cy(){const i=Z.useRef(!1);return od(()=>(i.current=!0,()=>{i.current=!1}),[]),i}function y5(){const i=Cy(),[o,x]=Z.useState(0),E=Z.useCallback(()=>{i.current&&x(o+1)},[o]);return[Z.useCallback(()=>It.postRender(E),[E]),o]}class T5 extends Z.Component{getSnapshotBeforeUpdate(o){const x=this.props.childRef.current;if(x&&o.isPresent&&!this.props.isPresent){const E=this.props.sizeRef.current;E.height=x.offsetHeight||0,E.width=x.offsetWidth||0,E.top=x.offsetTop,E.left=x.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function S5({children:i,isPresent:o}){const x=Z.useId(),E=Z.useRef(null),A=Z.useRef({width:0,height:0,top:0,left:0}),{nonce:M}=Z.useContext(rd);return Z.useInsertionEffect(()=>{const{width:p,height:T,top:t,left:u}=A.current;if(o||!E.current||!p||!T)return;E.current.dataset.motionPopId=x;const m=document.createElement("style");return M&&(m.nonce=M),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${x}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${T}px !important;
            top: ${t}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[o]),q.jsx(T5,{isPresent:o,childRef:E,sizeRef:A,children:Z.cloneElement(i,{ref:E})})}const xh=({children:i,initial:o,isPresent:x,onExitComplete:E,custom:A,presenceAffectsLayout:M,mode:p})=>{const T=gx(C5),t=Z.useId(),u=Z.useMemo(()=>({id:t,initial:o,isPresent:x,custom:A,onExitComplete:m=>{T.set(m,!0);for(const l of T.values())if(!l)return;E&&E()},register:m=>(T.set(m,!1),()=>T.delete(m))}),M?[Math.random()]:[x]);return Z.useMemo(()=>{T.forEach((m,l)=>T.set(l,!1))},[x]),Z.useEffect(()=>{!x&&!T.size&&E&&E()},[x]),p==="popLayout"&&(i=q.jsx(S5,{isPresent:x,children:i})),q.jsx(cl.Provider,{value:u,children:i})};function C5(){return new Map}function E5(i){return Z.useEffect(()=>()=>i(),[])}const yn=i=>i.key||"";function P5(i,o){i.forEach(x=>{const E=yn(x);o.set(E,x)})}function w5(i){const o=[];return Z.Children.forEach(i,x=>{Z.isValidElement(x)&&o.push(x)}),o}const A5=({children:i,custom:o,initial:x=!0,onExitComplete:E,exitBeforeEnter:A,presenceAffectsLayout:M=!0,mode:p="sync"})=>{const T=Z.useContext(dd).forceRender||y5()[0],t=Cy(),u=w5(i);let m=u;const l=Z.useRef(new Map).current,s=Z.useRef(m),a=Z.useRef(new Map).current,e=Z.useRef(!0);if(od(()=>{e.current=!1,P5(u,a),s.current=m}),E5(()=>{e.current=!0,a.clear(),l.clear()}),e.current)return q.jsx(q.Fragment,{children:m.map(h=>q.jsx(xh,{isPresent:!0,initial:x?void 0:!1,presenceAffectsLayout:M,mode:p,children:h},yn(h)))});m=[...m];const r=s.current.map(yn),d=u.map(yn),n=r.length;for(let h=0;h<n;h++){const f=r[h];d.indexOf(f)===-1&&!l.has(f)&&l.set(f,void 0)}return p==="wait"&&l.size&&(m=[]),l.forEach((h,f)=>{if(d.indexOf(f)!==-1)return;const c=a.get(f);if(!c)return;const v=r.indexOf(f);let g=h;if(!g){const y=()=>{l.delete(f);const C=Array.from(a.keys()).filter(S=>!d.includes(S));if(C.forEach(S=>a.delete(S)),s.current=u.filter(S=>{const P=yn(S);return P===f||C.includes(P)}),!l.size){if(t.current===!1)return;T(),E&&E()}};g=q.jsx(xh,{isPresent:!1,onExitComplete:y,custom:o,presenceAffectsLayout:M,mode:p,children:c},yn(c)),l.set(f,g)}m.splice(v,0,g)}),m=m.map(h=>{const f=h.key;return l.has(f)?h:q.jsx(xh,{isPresent:!0,presenceAffectsLayout:M,mode:p,children:h},yn(h))}),q.jsx(q.Fragment,{children:l.size?m:m.map(h=>Z.cloneElement(h))})},R5=({className:i,children:o})=>q.jsxs("div",{className:On("absolute inset-0 z-[5] opacity-[0.5] h-full w-full",i),children:[q.jsx("div",{className:"flex justify-center items-center",children:q.jsx(M5,{})}),q.jsx("div",{className:"px-2 pb-6",children:o})]}),M5=()=>{const[x,E]=Z.useState([]),A=Z.useRef([]);return Z.useEffect(()=>{const M=setInterval(()=>{A.current=Array.from({length:5},()=>Math.floor(Math.random()*108)),E([...A.current])},3e3);return()=>clearInterval(M)},[]),q.jsx("div",{className:"h-48 p-1 w-full",style:{display:"grid",gridTemplateColumns:"repeat(18, 1fr)",gap:"1px"},children:[...Array(108)].map((M,p)=>{const T=x.includes(p),t=p%10*.1;return q.jsxs("div",{className:"relative flex items-center justify-center",children:[q.jsx(L5,{isGlowing:T,delay:t}),!1,q.jsx(A5,{mode:"wait",children:T&&q.jsx(F5,{delay:t})})]},`matrix-col-${p}}`)})})},L5=({isGlowing:i,delay:o})=>q.jsx(Sy.div,{initial:{scale:1},animate:{scale:i?[1,1.2,2.5,2.2,1.5]:1,background:i?"#fff":"#666"},transition:{duration:2,ease:"easeInOut",delay:o},className:On("bg-[#666] h-[1px] w-[1px] rounded-full relative z-20")},o),F5=({delay:i})=>q.jsx(Sy.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:2,ease:"easeInOut",delay:i},exit:{opacity:0},className:"absolute left-1/2 -translate-x-1/2 z-10 h-[4px] w-[4px] rounded-full bg-blue-500 blur-[1px] shadow-2xl shadow-blue-400"}),O5="/Keyng-Coin/mb-logo.png",D5=()=>{const i=zs(),o=ol(tn.queries.userByTelegramId,{tgUserId:i==null?void 0:i.id});return q.jsxs(q.Fragment,{children:[q.jsx(pP,{position:"top-center",duration:3e3}),q.jsxs("main",{className:"justify-center mx-auto h-screen flex items-center",children:[q.jsx(R5,{}),q.jsx("div",{className:"absolute right-2 top-2",children:q.jsx("img",{src:O5,alt:"logo",className:"h-5"})}),q.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]"}),q.jsxs("div",{className:"flex flex-col space-y-10 text-center",children:[q.jsxs("div",{className:"flex flex-col relative z-[10]",children:[q.jsx(_g,{firstName:i==null?void 0:i.firstName,lastName:i==null?void 0:i.lastName,size:"medium"}),q.jsxs("div",{className:"mt-2 font-mono h-4",children:[o==null?void 0:o.firstName," ",o==null?void 0:o.lastName]})]}),q.jsxs("div",{className:"relative",children:[q.jsxs("p",{className:"text-[2rem] font-mono font-bold h-12",children:[(o==null?void 0:o.points)||0," P"]}),q.jsx("p",{children:"Help protect your device from malware."}),q.jsx("p",{children:"Join the protection squad!"})]}),q.jsx(Io,{to:"/game",className:"relative z-[10] px-5 py-3 text-sm font-medium text-center hover:text-white text-white bg-blue-700 rounded-lg cursor-pointer hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 ",children:"Start the game"})]})]})]})};function I5(i,o){typeof i=="function"?i(o):i!=null&&(i.current=o)}function Ey(...i){return o=>i.forEach(x=>I5(x,o))}function Yn(...i){return Z.useCallback(Ey(...i),i)}var Py=Z.forwardRef((i,o)=>{const{children:x,...E}=i,A=Z.Children.toArray(x),M=A.find(N5);if(M){const p=M.props.children,T=A.map(t=>t===M?Z.Children.count(p)>1?Z.Children.only(null):Z.isValidElement(p)?p.props.children:null:t);return q.jsx(Uu,{...E,ref:o,children:Z.isValidElement(p)?Z.cloneElement(p,void 0,T):null})}return q.jsx(Uu,{...E,ref:o,children:x})});Py.displayName="Slot";var Uu=Z.forwardRef((i,o)=>{const{children:x,...E}=i;if(Z.isValidElement(x)){const A=b5(x);return Z.cloneElement(x,{...G5(E,x.props),ref:o?Ey(o,A):A})}return Z.Children.count(x)>1?Z.Children.only(null):null});Uu.displayName="SlotClone";var B5=({children:i})=>q.jsx(q.Fragment,{children:i});function N5(i){return Z.isValidElement(i)&&i.type===B5}function G5(i,o){const x={...o};for(const E in o){const A=i[E],M=o[E];/^on[A-Z]/.test(E)?A&&M?x[E]=(...T)=>{M(...T),A(...T)}:A&&(x[E]=A):E==="style"?x[E]={...A,...M}:E==="className"&&(x[E]=[A,M].filter(Boolean).join(" "))}return{...i,...x}}function b5(i){var E,A;let o=(E=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:E.get,x=o&&"isReactWarning"in o&&o.isReactWarning;return x?i.ref:(o=(A=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:A.get,x=o&&"isReactWarning"in o&&o.isReactWarning,x?i.props.ref:i.props.ref||i.ref)}var V5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ha=V5.reduce((i,o)=>{const x=Z.forwardRef((E,A)=>{const{asChild:M,...p}=E,T=M?Py:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),q.jsx(T,{...p,ref:A})});return x.displayName=`Primitive.${o}`,{...i,[o]:x}},{}),zu=globalThis!=null&&globalThis.document?Z.useLayoutEffect:()=>{};function U5(i,o){return Z.useReducer((x,E)=>o[x][E]??x,i)}var ua=i=>{const{present:o,children:x}=i,E=z5(o),A=typeof x=="function"?x({present:E.isPresent}):Z.Children.only(x),M=Yn(E.ref,W5(A));return typeof x=="function"||E.isPresent?Z.cloneElement(A,{ref:M}):null};ua.displayName="Presence";function z5(i){const[o,x]=Z.useState(),E=Z.useRef({}),A=Z.useRef(i),M=Z.useRef("none"),p=i?"mounted":"unmounted",[T,t]=U5(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Z.useEffect(()=>{const u=Ba(E.current);M.current=T==="mounted"?u:"none"},[T]),zu(()=>{const u=E.current,m=A.current;if(m!==i){const s=M.current,a=Ba(u);i?t("MOUNT"):a==="none"||(u==null?void 0:u.display)==="none"?t("UNMOUNT"):t(m&&s!==a?"ANIMATION_OUT":"UNMOUNT"),A.current=i}},[i,t]),zu(()=>{if(o){const u=l=>{const a=Ba(E.current).includes(l.animationName);l.target===o&&a&&bf.flushSync(()=>t("ANIMATION_END"))},m=l=>{l.target===o&&(M.current=Ba(E.current))};return o.addEventListener("animationstart",m),o.addEventListener("animationcancel",u),o.addEventListener("animationend",u),()=>{o.removeEventListener("animationstart",m),o.removeEventListener("animationcancel",u),o.removeEventListener("animationend",u)}}else t("ANIMATION_END")},[o,t]),{isPresent:["mounted","unmountSuspended"].includes(T),ref:Z.useCallback(u=>{u&&(E.current=getComputedStyle(u)),x(u)},[])}}function Ba(i){return(i==null?void 0:i.animationName)||"none"}function W5(i){var E,A;let o=(E=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:E.get,x=o&&"isReactWarning"in o&&o.isReactWarning;return x?i.ref:(o=(A=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:A.get,x=o&&"isReactWarning"in o&&o.isReactWarning,x?i.props.ref:i.props.ref||i.ref)}function X5(i,o=[]){let x=[];function E(M,p){const T=Z.createContext(p),t=x.length;x=[...x,p];function u(l){const{scope:s,children:a,...e}=l,r=(s==null?void 0:s[i][t])||T,d=Z.useMemo(()=>e,Object.values(e));return q.jsx(r.Provider,{value:d,children:a})}function m(l,s){const a=(s==null?void 0:s[i][t])||T,e=Z.useContext(a);if(e)return e;if(p!==void 0)return p;throw new Error(`\`${l}\` must be used within \`${M}\``)}return u.displayName=M+"Provider",[u,m]}const A=()=>{const M=x.map(p=>Z.createContext(p));return function(T){const t=(T==null?void 0:T[i])||M;return Z.useMemo(()=>({[`__scope${i}`]:{...T,[i]:t}}),[T,t])}};return A.scopeName=i,[E,Y5(A,...o)]}function Y5(...i){const o=i[0];if(i.length===1)return o;const x=()=>{const E=i.map(A=>({useScope:A(),scopeName:A.scopeName}));return function(M){const p=E.reduce((T,{useScope:t,scopeName:u})=>{const l=t(M)[`__scope${u}`];return{...T,...l}},{});return Z.useMemo(()=>({[`__scope${o.scopeName}`]:p}),[p])}};return x.scopeName=o.scopeName,x}function Tn(i){const o=Z.useRef(i);return Z.useEffect(()=>{o.current=i}),Z.useMemo(()=>(...x)=>{var E;return(E=o.current)==null?void 0:E.call(o,...x)},[])}var H5=Z.createContext(void 0);function $5(i){const o=Z.useContext(H5);return i||o||"ltr"}function j5(i,[o,x]){return Math.min(x,Math.max(o,i))}function In(i,o,{checkForDefaultPrevented:x=!0}={}){return function(A){if(i==null||i(A),x===!1||!A.defaultPrevented)return o==null?void 0:o(A)}}function K5(i,o){return Z.useReducer((x,E)=>o[x][E]??x,i)}var Nd="ScrollArea",[wy,XM]=X5(Nd),[Q5,je]=wy(Nd),Ay=Z.forwardRef((i,o)=>{const{__scopeScrollArea:x,type:E="hover",dir:A,scrollHideDelay:M=600,...p}=i,[T,t]=Z.useState(null),[u,m]=Z.useState(null),[l,s]=Z.useState(null),[a,e]=Z.useState(null),[r,d]=Z.useState(null),[n,h]=Z.useState(0),[f,c]=Z.useState(0),[v,g]=Z.useState(!1),[y,C]=Z.useState(!1),S=Yn(o,w=>t(w)),P=$5(A);return q.jsx(Q5,{scope:x,type:E,dir:P,scrollHideDelay:M,scrollArea:T,viewport:u,onViewportChange:m,content:l,onContentChange:s,scrollbarX:a,onScrollbarXChange:e,scrollbarXEnabled:v,onScrollbarXEnabledChange:g,scrollbarY:r,onScrollbarYChange:d,scrollbarYEnabled:y,onScrollbarYEnabledChange:C,onCornerWidthChange:h,onCornerHeightChange:c,children:q.jsx(ha.div,{dir:P,...p,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":n+"px","--radix-scroll-area-corner-height":f+"px",...i.style}})})});Ay.displayName=Nd;var Ry="ScrollAreaViewport",My=Z.forwardRef((i,o)=>{const{__scopeScrollArea:x,children:E,nonce:A,...M}=i,p=je(Ry,x),T=Z.useRef(null),t=Yn(o,T,p.onViewportChange);return q.jsxs(q.Fragment,{children:[q.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:A}),q.jsx(ha.div,{"data-radix-scroll-area-viewport":"",...M,ref:t,style:{overflowX:p.scrollbarXEnabled?"scroll":"hidden",overflowY:p.scrollbarYEnabled?"scroll":"hidden",...i.style},children:q.jsx("div",{ref:p.onContentChange,style:{minWidth:"100%",display:"table"},children:E})})]})});My.displayName=Ry;var ui="ScrollAreaScrollbar",Ly=Z.forwardRef((i,o)=>{const{forceMount:x,...E}=i,A=je(ui,i.__scopeScrollArea),{onScrollbarXEnabledChange:M,onScrollbarYEnabledChange:p}=A,T=i.orientation==="horizontal";return Z.useEffect(()=>(T?M(!0):p(!0),()=>{T?M(!1):p(!1)}),[T,M,p]),A.type==="hover"?q.jsx(Z5,{...E,ref:o,forceMount:x}):A.type==="scroll"?q.jsx(J5,{...E,ref:o,forceMount:x}):A.type==="auto"?q.jsx(Fy,{...E,ref:o,forceMount:x}):A.type==="always"?q.jsx(Gd,{...E,ref:o}):null});Ly.displayName=ui;var Z5=Z.forwardRef((i,o)=>{const{forceMount:x,...E}=i,A=je(ui,i.__scopeScrollArea),[M,p]=Z.useState(!1);return Z.useEffect(()=>{const T=A.scrollArea;let t=0;if(T){const u=()=>{window.clearTimeout(t),p(!0)},m=()=>{t=window.setTimeout(()=>p(!1),A.scrollHideDelay)};return T.addEventListener("pointerenter",u),T.addEventListener("pointerleave",m),()=>{window.clearTimeout(t),T.removeEventListener("pointerenter",u),T.removeEventListener("pointerleave",m)}}},[A.scrollArea,A.scrollHideDelay]),q.jsx(ua,{present:x||M,children:q.jsx(Fy,{"data-state":M?"visible":"hidden",...E,ref:o})})}),J5=Z.forwardRef((i,o)=>{const{forceMount:x,...E}=i,A=je(ui,i.__scopeScrollArea),M=i.orientation==="horizontal",p=Tl(()=>t("SCROLL_END"),100),[T,t]=K5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return Z.useEffect(()=>{if(T==="idle"){const u=window.setTimeout(()=>t("HIDE"),A.scrollHideDelay);return()=>window.clearTimeout(u)}},[T,A.scrollHideDelay,t]),Z.useEffect(()=>{const u=A.viewport,m=M?"scrollLeft":"scrollTop";if(u){let l=u[m];const s=()=>{const a=u[m];l!==a&&(t("SCROLL"),p()),l=a};return u.addEventListener("scroll",s),()=>u.removeEventListener("scroll",s)}},[A.viewport,M,t,p]),q.jsx(ua,{present:x||T!=="hidden",children:q.jsx(Gd,{"data-state":T==="hidden"?"hidden":"visible",...E,ref:o,onPointerEnter:In(i.onPointerEnter,()=>t("POINTER_ENTER")),onPointerLeave:In(i.onPointerLeave,()=>t("POINTER_LEAVE"))})})}),Fy=Z.forwardRef((i,o)=>{const x=je(ui,i.__scopeScrollArea),{forceMount:E,...A}=i,[M,p]=Z.useState(!1),T=i.orientation==="horizontal",t=Tl(()=>{if(x.viewport){const u=x.viewport.offsetWidth<x.viewport.scrollWidth,m=x.viewport.offsetHeight<x.viewport.scrollHeight;p(T?u:m)}},10);return Is(x.viewport,t),Is(x.content,t),q.jsx(ua,{present:E||M,children:q.jsx(Gd,{"data-state":M?"visible":"hidden",...A,ref:o})})}),Gd=Z.forwardRef((i,o)=>{const{orientation:x="vertical",...E}=i,A=je(ui,i.__scopeScrollArea),M=Z.useRef(null),p=Z.useRef(0),[T,t]=Z.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Ny(T.viewport,T.content),m={...E,sizes:T,onSizesChange:t,hasThumb:u>0&&u<1,onThumbChange:s=>M.current=s,onThumbPointerUp:()=>p.current=0,onThumbPointerDown:s=>p.current=s};function l(s,a){return iM(s,p.current,T,a)}return x==="horizontal"?q.jsx(k5,{...m,ref:o,onThumbPositionChange:()=>{if(A.viewport&&M.current){const s=A.viewport.scrollLeft,a=Rp(s,T,A.dir);M.current.style.transform=`translate3d(${a}px, 0, 0)`}},onWheelScroll:s=>{A.viewport&&(A.viewport.scrollLeft=s)},onDragScroll:s=>{A.viewport&&(A.viewport.scrollLeft=l(s,A.dir))}}):x==="vertical"?q.jsx(q5,{...m,ref:o,onThumbPositionChange:()=>{if(A.viewport&&M.current){const s=A.viewport.scrollTop,a=Rp(s,T);M.current.style.transform=`translate3d(0, ${a}px, 0)`}},onWheelScroll:s=>{A.viewport&&(A.viewport.scrollTop=s)},onDragScroll:s=>{A.viewport&&(A.viewport.scrollTop=l(s))}}):null}),k5=Z.forwardRef((i,o)=>{const{sizes:x,onSizesChange:E,...A}=i,M=je(ui,i.__scopeScrollArea),[p,T]=Z.useState(),t=Z.useRef(null),u=Yn(o,t,M.onScrollbarXChange);return Z.useEffect(()=>{t.current&&T(getComputedStyle(t.current))},[t]),q.jsx(Dy,{"data-orientation":"horizontal",...A,ref:u,sizes:x,style:{bottom:0,left:M.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:M.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yl(x)+"px",...i.style},onThumbPointerDown:m=>i.onThumbPointerDown(m.x),onDragScroll:m=>i.onDragScroll(m.x),onWheelScroll:(m,l)=>{if(M.viewport){const s=M.viewport.scrollLeft+m.deltaX;i.onWheelScroll(s),by(s,l)&&m.preventDefault()}},onResize:()=>{t.current&&M.viewport&&p&&E({content:M.viewport.scrollWidth,viewport:M.viewport.offsetWidth,scrollbar:{size:t.current.clientWidth,paddingStart:Xo(p.paddingLeft),paddingEnd:Xo(p.paddingRight)}})}})}),q5=Z.forwardRef((i,o)=>{const{sizes:x,onSizesChange:E,...A}=i,M=je(ui,i.__scopeScrollArea),[p,T]=Z.useState(),t=Z.useRef(null),u=Yn(o,t,M.onScrollbarYChange);return Z.useEffect(()=>{t.current&&T(getComputedStyle(t.current))},[t]),q.jsx(Dy,{"data-orientation":"vertical",...A,ref:u,sizes:x,style:{top:0,right:M.dir==="ltr"?0:void 0,left:M.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yl(x)+"px",...i.style},onThumbPointerDown:m=>i.onThumbPointerDown(m.y),onDragScroll:m=>i.onDragScroll(m.y),onWheelScroll:(m,l)=>{if(M.viewport){const s=M.viewport.scrollTop+m.deltaY;i.onWheelScroll(s),by(s,l)&&m.preventDefault()}},onResize:()=>{t.current&&M.viewport&&p&&E({content:M.viewport.scrollHeight,viewport:M.viewport.offsetHeight,scrollbar:{size:t.current.clientHeight,paddingStart:Xo(p.paddingTop),paddingEnd:Xo(p.paddingBottom)}})}})}),[_5,Oy]=wy(ui),Dy=Z.forwardRef((i,o)=>{const{__scopeScrollArea:x,sizes:E,hasThumb:A,onThumbChange:M,onThumbPointerUp:p,onThumbPointerDown:T,onThumbPositionChange:t,onDragScroll:u,onWheelScroll:m,onResize:l,...s}=i,a=je(ui,x),[e,r]=Z.useState(null),d=Yn(o,S=>r(S)),n=Z.useRef(null),h=Z.useRef(""),f=a.viewport,c=E.content-E.viewport,v=Tn(m),g=Tn(t),y=Tl(l,10);function C(S){if(n.current){const P=S.clientX-n.current.left,w=S.clientY-n.current.top;u({x:P,y:w})}}return Z.useEffect(()=>{const S=P=>{const w=P.target;(e==null?void 0:e.contains(w))&&v(P,c)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[f,e,c,v]),Z.useEffect(g,[E,g]),Is(e,y),Is(a.content,y),q.jsx(_5,{scope:x,scrollbar:e,hasThumb:A,onThumbChange:Tn(M),onThumbPointerUp:Tn(p),onThumbPositionChange:g,onThumbPointerDown:Tn(T),children:q.jsx(ha.div,{...s,ref:d,style:{position:"absolute",...s.style},onPointerDown:In(i.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),n.current=e.getBoundingClientRect(),h.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",a.viewport&&(a.viewport.style.scrollBehavior="auto"),C(S))}),onPointerMove:In(i.onPointerMove,C),onPointerUp:In(i.onPointerUp,S=>{const P=S.target;P.hasPointerCapture(S.pointerId)&&P.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=h.current,a.viewport&&(a.viewport.style.scrollBehavior=""),n.current=null})})})}),Wo="ScrollAreaThumb",Iy=Z.forwardRef((i,o)=>{const{forceMount:x,...E}=i,A=Oy(Wo,i.__scopeScrollArea);return q.jsx(ua,{present:x||A.hasThumb,children:q.jsx(tM,{ref:o,...E})})}),tM=Z.forwardRef((i,o)=>{const{__scopeScrollArea:x,style:E,...A}=i,M=je(Wo,x),p=Oy(Wo,x),{onThumbPositionChange:T}=p,t=Yn(o,l=>p.onThumbChange(l)),u=Z.useRef(),m=Tl(()=>{u.current&&(u.current(),u.current=void 0)},100);return Z.useEffect(()=>{const l=M.viewport;if(l){const s=()=>{if(m(),!u.current){const a=nM(l,T);u.current=a,T()}};return T(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[M.viewport,m,T]),q.jsx(ha.div,{"data-state":p.hasThumb?"visible":"hidden",...A,ref:t,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...E},onPointerDownCapture:In(i.onPointerDownCapture,l=>{const a=l.target.getBoundingClientRect(),e=l.clientX-a.left,r=l.clientY-a.top;p.onThumbPointerDown({x:e,y:r})}),onPointerUp:In(i.onPointerUp,p.onThumbPointerUp)})});Iy.displayName=Wo;var bd="ScrollAreaCorner",By=Z.forwardRef((i,o)=>{const x=je(bd,i.__scopeScrollArea),E=!!(x.scrollbarX&&x.scrollbarY);return x.type!=="scroll"&&E?q.jsx(eM,{...i,ref:o}):null});By.displayName=bd;var eM=Z.forwardRef((i,o)=>{const{__scopeScrollArea:x,...E}=i,A=je(bd,x),[M,p]=Z.useState(0),[T,t]=Z.useState(0),u=!!(M&&T);return Is(A.scrollbarX,()=>{var l;const m=((l=A.scrollbarX)==null?void 0:l.offsetHeight)||0;A.onCornerHeightChange(m),t(m)}),Is(A.scrollbarY,()=>{var l;const m=((l=A.scrollbarY)==null?void 0:l.offsetWidth)||0;A.onCornerWidthChange(m),p(m)}),u?q.jsx(ha.div,{...E,ref:o,style:{width:M,height:T,position:"absolute",right:A.dir==="ltr"?0:void 0,left:A.dir==="rtl"?0:void 0,bottom:0,...i.style}}):null});function Xo(i){return i?parseInt(i,10):0}function Ny(i,o){const x=i/o;return isNaN(x)?0:x}function yl(i){const o=Ny(i.viewport,i.content),x=i.scrollbar.paddingStart+i.scrollbar.paddingEnd,E=(i.scrollbar.size-x)*o;return Math.max(E,18)}function iM(i,o,x,E="ltr"){const A=yl(x),M=A/2,p=o||M,T=A-p,t=x.scrollbar.paddingStart+p,u=x.scrollbar.size-x.scrollbar.paddingEnd-T,m=x.content-x.viewport,l=E==="ltr"?[0,m]:[m*-1,0];return Gy([t,u],l)(i)}function Rp(i,o,x="ltr"){const E=yl(o),A=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,M=o.scrollbar.size-A,p=o.content-o.viewport,T=M-E,t=x==="ltr"?[0,p]:[p*-1,0],u=j5(i,t);return Gy([0,p],[0,T])(u)}function Gy(i,o){return x=>{if(i[0]===i[1]||o[0]===o[1])return o[0];const E=(o[1]-o[0])/(i[1]-i[0]);return o[0]+E*(x-i[0])}}function by(i,o){return i>0&&i<o}var nM=(i,o=()=>{})=>{let x={left:i.scrollLeft,top:i.scrollTop},E=0;return function A(){const M={left:i.scrollLeft,top:i.scrollTop},p=x.left!==M.left,T=x.top!==M.top;(p||T)&&o(),x=M,E=window.requestAnimationFrame(A)}(),()=>window.cancelAnimationFrame(E)};function Tl(i,o){const x=Tn(i),E=Z.useRef(0);return Z.useEffect(()=>()=>window.clearTimeout(E.current),[]),Z.useCallback(()=>{window.clearTimeout(E.current),E.current=window.setTimeout(x,o)},[x,o])}function Is(i,o){const x=Tn(o);zu(()=>{let E=0;if(i){const A=new ResizeObserver(()=>{cancelAnimationFrame(E),E=window.requestAnimationFrame(x)});return A.observe(i),()=>{window.cancelAnimationFrame(E),A.unobserve(i)}}},[i,x])}var sM=Ay,rM=My,Mp=Ly,Lp=Iy,aM=By;const Ja=()=>q.jsxs("div",{className:"flex items-center h-20 ml-2",children:[q.jsx("svg",{className:"w-10 h-10 me-3 text-gray-200 dark:text-gray-700","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:q.jsx("path",{d:"M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"})}),q.jsxs("div",{children:[q.jsx("div",{className:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"}),q.jsx("div",{className:"w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"})]})]}),oM=()=>q.jsxs("div",{className:"flex flex-col space-y-2",children:[q.jsx(Ja,{}),q.jsx(Ja,{}),q.jsx(Ja,{})]}),lM=({_id:i,firstName:o,lastName:x,points:E})=>q.jsx("li",{className:"py-4",children:q.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[q.jsx("div",{className:"flex-shrink-0",children:q.jsx(_g,{size:"small",firstName:o,lastName:x})}),q.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[q.jsxs("p",{className:"text-sm font-medium text-white",children:[o," ",x]}),q.jsx("p",{className:"text-xs font-medium text-white",children:i.slice(0,6)})]}),q.jsx("div",{className:"inline-flex items-center text-base font-semibold text-white",children:E})]})},i),Vy=({users:i})=>q.jsx(q.Fragment,{children:q.jsxs(sM,{className:"ScrollAreaRoot",children:[q.jsx(rM,{className:"ScrollAreaViewport",children:q.jsx("ul",{className:"max-w-md divide-y divide-gray-200 divide-dashed pb-20",children:i==null?void 0:i.map(o=>q.jsx(lM,{...o},o._id))})}),q.jsx(Mp,{className:"ScrollAreaScrollbar",orientation:"vertical",children:q.jsx(Lp,{className:"ScrollAreaThumb"})}),q.jsx(Mp,{className:"ScrollAreaScrollbar",orientation:"horizontal",children:q.jsx(Lp,{className:"ScrollAreaThumb"})}),q.jsx(aM,{className:"ScrollAreaCorner"})]})}),Uy=()=>{const i=zs();return ol(tn.queries.invitees,{tgUserId:i.id})},hM=()=>{const i=y3(),o=zs(),x=Uy(),E=()=>{const p=`https://t.me/share/url?url=${`https://t.me/tapathon_bot/app?startapp=${o.id}`}&text=Join me in Tapathon! Let's see who can tap the fastest!`;i.openTelegramLink(p)};return q.jsxs("main",{className:"relative h-screen w-screen justify-center mx-auto p-10 flex items-center",children:[q.jsxs("div",{className:"flex flex-col space-y-4 text-center w-full h-full max-w-lg",children:[q.jsxs("div",{className:"text-center",children:[q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users mx-auto",children:[q.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),q.jsx("circle",{cx:"9",cy:"7",r:"4"}),q.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),q.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),q.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Invite friend!"}),q.jsx("p",{className:"text-sm text-white",children:"Invite your friends to join the Tapathon and gain score multiplier for each friend (5x max) that lasts 10 seconds. More friends, more points!"})]}),q.jsx("button",{onClick:E,className:"px-5 py-3 text-sm font-medium text-center hover:text-white text-white bg-blue-700 rounded-lg cursor-pointer hover:bg-blue-800 focus:ring-4 focus:ring-blue-300",children:"Invite friends"}),x===void 0?q.jsx(Ja,{}):null,x&&x.length===0&&q.jsx("div",{className:"rounded-md border-opacity-[0.2] border border-dashed border-white h-20 flex items-center justify-center",children:"List is empty"}),x&&(x==null?void 0:x.length)>0?q.jsx(Vy,{users:x||[]}):null]}),q.jsx("div",{className:"fixed inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]"})]})},uM=()=>{const i=ol(tn.queries.topTenUsers),{topTenUsers:o,totalUsers:x}=i||{};return q.jsxs("main",{className:"relative h-screen w-screen justify-center mx-auto p-10 flex items-center",children:[q.jsxs("div",{className:"flex flex-col space-y-4 text-center w-full h-full max-w-lg",children:[q.jsxs("div",{className:"text-center",children:[q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-crown mx-auto",children:[q.jsx("path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"}),q.jsx("path",{d:"M5 21h14"})]}),q.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Leaderboard"}),q.jsxs("p",{className:"text-sm text-white",children:["The top 10 protectors of the month",x&&x>10&&` out of ${x} users`]})]}),o===void 0?q.jsx(oM,{}):null,o&&o.length===0&&q.jsx("div",{className:"rounded-md border-opacity-[0.2] border border-dashed border-white h-20 flex items-center justify-center",children:"Leaderboard is empty"}),o&&(o==null?void 0:o.length)>0?q.jsx(Vy,{users:o||[]}):null]}),q.jsx("div",{className:"fixed inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]"})]})};function us(i,o){return Math.floor(Math.random()*(o-i+1))+i}function fM(i){var o=0;return i.length===2?o=us(i[0],i[1]):o=i[us(0,i.length-1)],String.fromCharCode(o)}var dM=function(o){var x=o.playOnMount,E=x===void 0?!0:x,A=o.text,M=A===void 0?"":A,p=o.speed,T=p===void 0?1:p,t=o.seed,u=t===void 0?1:t,m=o.step,l=m===void 0?1:m,s=o.tick,a=s===void 0?1:s,e=o.scramble,r=e===void 0?1:e,d=o.chance,n=d===void 0?1:d,h=o.overflow,f=h===void 0?!0:h,c=o.range,v=c===void 0?[65,125]:c,g=o.overdrive,y=g===void 0?!0:g,C=o.onAnimationStart,S=o.onAnimationFrame,P=o.onAnimationEnd,w=o.ignore,R=w===void 0?[" "]:w,L=typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1;L&&(l=M.length,n=0,y=!1);var D=Z.useRef(null),F=Z.useRef(0),O=Z.useRef(0),B=1e3/(60*T),N=Z.useRef(0),G=Z.useRef(0),z=Z.useRef([]),X=Z.useRef(0),H=function(k,_){return R.includes(""+k)?k:_},V=function(){if(G.current!==M.length)for(var k=0;k<u;k++){var _=us(G.current,z.current.length);typeof z.current[_]!="number"&&typeof z.current[_]<"u"&&(z.current[_]=H(z.current[_],us(0,10)>=(1-n)*10?r||u:0))}},W=function(){for(var k=0;k<l;k++)if(G.current<M.length){var _=G.current,et=us(0,10)>=(1-n)*10;z.current[_]=H(M[G.current],et?r+us(0,Math.ceil(r/2)):0),G.current++}},I=function(){M.length<z.current.length&&(z.current.pop(),z.current.splice(M.length,l));for(var k=0;k<l;k++)z.current.length<M.length&&z.current.push(H(M[z.current.length+1],null))},b=function(){if(y)for(var k=0;k<l;k++){var _=Math.max(z.current.length,M.length);X.current<_&&(z.current[X.current]=H(M[X.current],String.fromCharCode(typeof y=="boolean"?95:y)),X.current++)}},U=function(){W(),I(),V()},Y=function J(k){if(T){F.current=requestAnimationFrame(J),b();var _=k-O.current;_>B&&(O.current=k,N.current%a===0&&U(),$())}},$=function(){if(D.current){for(var k="",_=0;_<z.current.length;_++){var et=z.current[_];switch(!0){case(typeof et=="number"&&et>0):k+=fM(v),_<=G.current&&(z.current[_]=z.current[_]-1);break;case(typeof et=="string"&&(_>=M.length||_>=G.current)):k+=et;break;case(et===M[_]&&_<G.current):k+=M[_];break;case(et===0&&_<M.length):k+=M[_],z.current[_]=M[_];break;default:k+=""}}D.current.innerHTML=k,S&&S(k),k===M&&(z.current.splice(M.length,z.current.length),P&&P(),cancelAnimationFrame(F.current)),N.current++}},j=function(){N.current=0,G.current=0,X.current=0,f||(z.current=new Array(M==null?void 0:M.length))},K=function(){cancelAnimationFrame(F.current),j(),C&&C(),F.current=requestAnimationFrame(Y)};return Z.useEffect(function(){j()},[M]),Z.useEffect(function(){return cancelAnimationFrame(F.current),F.current=requestAnimationFrame(Y),function(){cancelAnimationFrame(F.current)}},[Y]),Z.useEffect(function(){E||(z.current=M.split(""),N.current=M.length,G.current=M.length,X.current=M.length,$(),cancelAnimationFrame(F.current))},[]),{ref:D,replay:K}};const cM=i=>{const o=zs(),x=DC(tn.queries.updateUserPoints);Z.useEffect(()=>{async function E(){await x({tgUserId:o.id,points:i})}!i||i===0||E()},[i,x,o.id])},vM=()=>{const i=ol(tn.queries.topTenUsers),{topTenUsers:o}=i||{},x=zs(),E=p=>{switch(p){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return""}},M=(o||[]).findIndex(p=>p.tgUserId===x.id)+1;return q.jsx("div",{className:"text-sm",children:M?`Place: ${M} ${E(M)}`:"Place: Not in Top 10"})},pM=()=>{var p;const o=((p=dn().state)==null?void 0:p.score)||0,x=z2();cM(o);const E=o>=50,{ref:A}=dM({text:"Malwarebytes.com",playOnMount:!0}),M=()=>{x.openLink("https://www.malwarebytes.com")};return q.jsxs("main",{className:"justify-center mx-auto p-10 h-screen flex items-center",children:[q.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]"}),q.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[E&&q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shield-check size-10 mx-auto",children:[q.jsx("path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}),q.jsx("path",{d:"m9 12 2 2 4-4"})]}),!E&&q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shield-alert size-12 mx-auto",children:[q.jsx("path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}),q.jsx("path",{d:"M12 8v4"}),q.jsx("path",{d:"M12 16h.01"})]}),q.jsxs("div",{className:"text-3xl",children:[o," points"]}),q.jsx(vM,{}),q.jsxs("div",{children:[q.jsx("div",{className:"text-sm",children:E?q.jsxs(q.Fragment,{children:[q.jsx("p",{children:"You've managed to protect your device from threats on your own!"}),q.jsx("p",{children:"Good luck with that, but there is a better way"})]}):q.jsx(q.Fragment,{children:q.jsxs("p",{children:["It's better to rely on professionals when ",q.jsx("br",{})," it comes to protecting your device from threats."]})})}),q.jsx("p",{onClick:M,className:"text-xl py-2 underline",ref:A})]}),q.jsxs("div",{className:"flex flex-col space-y-2",children:[q.jsx(Io,{to:"/invite-friends",className:"px-5 py-3 text-sm font-medium text-center hover:text-white text-white bg-blue-700 rounded-lg cursor-pointer hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 ",children:"Invite new friends"}),q.jsx(Io,{to:"/game",className:"px-5 py-3 text-sm font-medium text-center hover:text-white text-white bg-blue-700 rounded-lg cursor-pointer hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 ",children:"Start new game"})]})]})]})};var zy={exports:{}};(function(i,o){(function(E,A){i.exports=A()})(Ky,()=>(()=>{var x={50792:p=>{var T=Object.prototype.hasOwnProperty,t="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(t=!1));function m(e,r,d){this.fn=e,this.context=r,this.once=d||!1}function l(e,r,d,n,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new m(d,n||e,h),c=t?t+r:r;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],f]:e._events[c].push(f):(e._events[c]=f,e._eventsCount++),e}function s(e,r){--e._eventsCount===0?e._events=new u:delete e._events[r]}function a(){this._events=new u,this._eventsCount=0}a.prototype.eventNames=function(){var r=[],d,n;if(this._eventsCount===0)return r;for(n in d=this._events)T.call(d,n)&&r.push(t?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(d)):r},a.prototype.listeners=function(r){var d=t?t+r:r,n=this._events[d];if(!n)return[];if(n.fn)return[n.fn];for(var h=0,f=n.length,c=new Array(f);h<f;h++)c[h]=n[h].fn;return c},a.prototype.listenerCount=function(r){var d=t?t+r:r,n=this._events[d];return n?n.fn?1:n.length:0},a.prototype.emit=function(r,d,n,h,f,c){var v=t?t+r:r;if(!this._events[v])return!1;var g=this._events[v],y=arguments.length,C,S;if(g.fn){switch(g.once&&this.removeListener(r,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,n),!0;case 4:return g.fn.call(g.context,d,n,h),!0;case 5:return g.fn.call(g.context,d,n,h,f),!0;case 6:return g.fn.call(g.context,d,n,h,f,c),!0}for(S=1,C=new Array(y-1);S<y;S++)C[S-1]=arguments[S];g.fn.apply(g.context,C)}else{var P=g.length,w;for(S=0;S<P;S++)switch(g[S].once&&this.removeListener(r,g[S].fn,void 0,!0),y){case 1:g[S].fn.call(g[S].context);break;case 2:g[S].fn.call(g[S].context,d);break;case 3:g[S].fn.call(g[S].context,d,n);break;case 4:g[S].fn.call(g[S].context,d,n,h);break;default:if(!C)for(w=1,C=new Array(y-1);w<y;w++)C[w-1]=arguments[w];g[S].fn.apply(g[S].context,C)}}return!0},a.prototype.on=function(r,d,n){return l(this,r,d,n,!1)},a.prototype.once=function(r,d,n){return l(this,r,d,n,!0)},a.prototype.removeListener=function(r,d,n,h){var f=t?t+r:r;if(!this._events[f])return this;if(!d)return s(this,f),this;var c=this._events[f];if(c.fn)c.fn===d&&(!h||c.once)&&(!n||c.context===n)&&s(this,f);else{for(var v=0,g=[],y=c.length;v<y;v++)(c[v].fn!==d||h&&!c[v].once||n&&c[v].context!==n)&&g.push(c[v]);g.length?this._events[f]=g.length===1?g[0]:g:s(this,f)}return this},a.prototype.removeAllListeners=function(r){var d;return r?(d=t?t+r:r,this._events[d]&&s(this,d)):(this._events=new u,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,p.exports=a},11517:(p,T,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(38829),m=function(l,s,a,e){for(var r=l[0],d=1;d<l.length;d++){var n=l[d];u(n,r,s,a,e),r=n}return l};p.exports=m},80318:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66979),m=function(l,s,a,e,r){return u(l,"angle",s,a,e,r)};p.exports=m},60757:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){for(var l=0;l<t.length;l++){var s=t[l];u.call(m,s)}return t};p.exports=T},69927:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){m===void 0&&(m=0);for(var l=m;l<t.length;l++){var s=t[l],a=!0;for(var e in u)s[e]!==u[e]&&(a=!1);if(a)return s}return null};p.exports=T},32265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){m===void 0&&(m=0);for(var l=t.length-1;l>=m;l--){var s=t[l],a=!0;for(var e in u)s[e]!==u[e]&&(a=!1);if(a)return s}return null};p.exports=T},94420:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(11879),m=t(60461),l=t(95540),s=t(29747),a=t(41481),e=new a({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1).setOrigin(0,0),r=function(d,n){n===void 0&&(n={});var h=n.hasOwnProperty("width"),f=n.hasOwnProperty("height"),c=l(n,"width",-1),v=l(n,"height",-1),g=l(n,"cellWidth",1),y=l(n,"cellHeight",g),C=l(n,"position",m.TOP_LEFT),S=l(n,"x",0),P=l(n,"y",0),w=0,R=0,L=c*g,D=v*y;e.setPosition(S,P),e.setSize(g,y);for(var F=0;F<d.length;F++)if(u(d[F],e,C),h&&c===-1)e.x+=g;else if(f&&v===-1)e.y+=y;else if(f&&!h){if(R+=y,e.y+=y,R===D&&(R=0,w+=g,e.y=P,e.x+=g,w===L))break}else if(w+=g,e.x+=g,w===L&&(w=0,R+=y,e.x=S,e.y+=y,R===D))break;return d};p.exports=r},41721:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66979),m=function(l,s,a,e,r){return u(l,"alpha",s,a,e,r)};p.exports=m},67285:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66979),m=function(l,s,a,e,r){return u(l,"x",s,a,e,r)};p.exports=m},9074:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66979),m=function(l,s,a,e,r,d,n){return a==null&&(a=s),u(l,"x",s,e,d,n),u(l,"y",a,r,d,n)};p.exports=m},75222:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66979),m=function(l,s,a,e,r){return u(l,"y",s,a,e,r)};p.exports=m},22983:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m===void 0&&(m=0),l===void 0&&(l=6.28);for(var s=m,a=(l-m)/t.length,e=u.x,r=u.y,d=u.radius,n=0;n<t.length;n++)t[n].x=e+d*Math.cos(s),t[n].y=r+d*Math.sin(s),s+=a;return t};p.exports=T},95253:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m===void 0&&(m=0),l===void 0&&(l=6.28);for(var s=m,a=(l-m)/t.length,e=u.width/2,r=u.height/2,d=0;d<t.length;d++)t[d].x=u.x+e*Math.cos(s),t[d].y=u.y+r*Math.sin(s),s+=a;return t};p.exports=T},88505:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15258),m=t(26708),l=function(s,a,e){var r;e?r=m(a,e,s.length):r=u(a,s.length);for(var d=0;d<s.length;d++){var n=s[d],h=r[d];n.x=h.x,n.y=h.y}return s};p.exports=l},41346:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(14649),m=t(86003),l=t(49498),s=function(a,e,r){r===void 0&&(r=0);var d=u(e,!1,a.length);r>0?m(d,r):r<0&&l(d,Math.abs(r));for(var n=0;n<a.length;n++)a[n].x=d[n].x,a[n].y=d[n].y;return a};p.exports=s},11575:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84993),m=function(l,s,a){var e=u({x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},a),r=u({x1:s.x2,y1:s.y2,x2:s.x3,y2:s.y3},a),d=u({x1:s.x3,y1:s.y3,x2:s.x1,y2:s.y1},a);e.pop(),r.pop(),d.pop(),e=e.concat(r,d);for(var n=e.length/l.length,h=0,f=0;f<l.length;f++){var c=l[f],v=e[Math.floor(h)];c.x=v.x,c.y=v.y,h+=n}return l};p.exports=m},29953:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){for(var l=0;l<t.length;l++){var s=t[l];s.anims&&s.anims.play(u,m)}return t};p.exports=T},66979:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s,a){l===void 0&&(l=0),s===void 0&&(s=0),a===void 0&&(a=1);var e,r=0,d=t.length;if(a===1)for(e=s;e<d;e++)t[e][u]+=m+r*l,r++;else for(e=s;e>=0;e--)t[e][u]+=m+r*l,r++;return t};p.exports=T},43967:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s,a){l===void 0&&(l=0),s===void 0&&(s=0),a===void 0&&(a=1);var e,r=0,d=t.length;if(a===1)for(e=s;e<d;e++)t[e][u]=m+r*l,r++;else for(e=s;e>=0;e--)t[e][u]=m+r*l,r++;return t};p.exports=T},88926:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28176),m=function(l,s){for(var a=0;a<l.length;a++)u(s,l[a]);return l};p.exports=m},33286:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(24820),m=function(l,s){for(var a=0;a<l.length;a++)u(s,l[a]);return l};p.exports=m},96e3:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65822),m=function(l,s){for(var a=0;a<l.length;a++)u(s,l[a]);return l};p.exports=m},28789:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26597),m=function(l,s){for(var a=0;a<l.length;a++)u(s,l[a]);return l};p.exports=m},97154:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(90260),m=function(l,s){for(var a=0;a<l.length;a++)u(s,l[a]);return l};p.exports=m},20510:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66979),m=function(l,s,a,e,r){return u(l,"rotation",s,a,e,r)};p.exports=m},91051:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1163),m=t(20339),l=function(s,a,e){for(var r=a.x,d=a.y,n=0;n<s.length;n++){var h=s[n];u(h,r,d,e,Math.max(1,m(h.x,h.y,r,d)))}return s};p.exports=l},76332:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1163),m=function(l,s,a,e){var r=s.x,d=s.y;if(e===0)return l;for(var n=0;n<l.length;n++)u(l[n],r,d,a,e);return l};p.exports=m},61619:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66979),m=function(l,s,a,e,r){return u(l,"scaleX",s,a,e,r)};p.exports=m},94868:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66979),m=function(l,s,a,e,r,d,n){return a==null&&(a=s),u(l,"scaleX",s,e,d,n),u(l,"scaleY",a,r,d,n)};p.exports=m},95532:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66979),m=function(l,s,a,e,r){return u(l,"scaleY",s,a,e,r)};p.exports=m},8689:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r){return u(l,"alpha",s,a,e,r)};p.exports=m},2645:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e){return u(l,"blendMode",s,0,a,e)};p.exports=m},32372:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r){return u(l,"depth",s,a,e,r)};p.exports=m},85373:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){for(var l=0;l<t.length;l++)t[l].setInteractive(u,m);return t};p.exports=T},81583:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r,d,n){return a==null&&(a=s),u(l,"originX",s,e,d,n),u(l,"originY",a,r,d,n),l.forEach(function(h){h.updateDisplayOrigin()}),l};p.exports=m},79939:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r){return u(l,"rotation",s,a,e,r)};p.exports=m},2699:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r,d,n){return a==null&&(a=s),u(l,"scaleX",s,e,d,n),u(l,"scaleY",a,r,d,n)};p.exports=m},98739:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r){return u(l,"scaleX",s,a,e,r)};p.exports=m},98476:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r){return u(l,"scaleY",s,a,e,r)};p.exports=m},6207:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r,d,n){return a==null&&(a=s),u(l,"scrollFactorX",s,e,d,n),u(l,"scrollFactorY",a,r,d,n)};p.exports=m},6607:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r){return u(l,"scrollFactorX",s,a,e,r)};p.exports=m},72248:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r){return u(l,"scrollFactorY",s,a,e,r)};p.exports=m},14036:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s){for(var a=0;a<t.length;a++)t[a].setTint(u,m,l,s);return t};p.exports=T},50159:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e){return u(l,"visible",s,0,a,e)};p.exports=m},77597:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r){return u(l,"x",s,a,e,r)};p.exports=m},83194:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r,d,n){return a==null&&(a=s),u(l,"x",s,e,d,n),u(l,"y",a,r,d,n)};p.exports=m},67678:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43967),m=function(l,s,a,e,r){return u(l,"y",s,a,e,r)};p.exports=m},35850:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e,r){e===void 0&&(e=0),r===void 0&&(r=new u);var d,n,h=l.length;if(h===1)d=l[0].x,n=l[0].y,l[0].x=s,l[0].y=a;else{var f=1,c=0;e===0&&(c=h-1,f=h-2),d=l[c].x,n=l[c].y,l[c].x=s,l[c].y=a;for(var v=0;v<h;v++)if(!(f>=h||f===-1)){var g=l[f],y=g.x,C=g.y;g.x=d,g.y=n,d=y,n=C,e===0?f--:f++}}return r.x=d,r.y=n,r};p.exports=m},8628:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(33680),m=function(l){return u(l)};p.exports=m},21837:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7602),m=function(l,s,a,e,r){r===void 0&&(r=!1);var d=Math.abs(e-a)/l.length,n;if(r)for(n=0;n<l.length;n++)l[n][s]+=u(n*d,a,e);else for(n=0;n<l.length;n++)l[n][s]=u(n*d,a,e);return l};p.exports=m},21910:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(54261),m=function(l,s,a,e,r){r===void 0&&(r=!1);var d=Math.abs(e-a)/l.length,n;if(r)for(n=0;n<l.length;n++)l[n][s]+=u(n*d,a,e);else for(n=0;n<l.length;n++)l[n][s]=u(n*d,a,e);return l};p.exports=m},62054:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s){if(s===void 0&&(s=!1),t.length===0)return t;if(t.length===1)return s?t[0][u]+=(l+m)/2:t[0][u]=(l+m)/2,t;var a=Math.abs(l-m)/(t.length-1),e;if(s)for(e=0;e<t.length;e++)t[e][u]+=e*a+m;else for(e=0;e<t.length;e++)t[e][u]=e*a+m;return t};p.exports=T},79815:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var u=0;u<t.length;u++)t[u].visible=!t[u].visible;return t};p.exports=T},39665:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15994),m=function(l,s,a){a===void 0&&(a=0);for(var e=0;e<l.length;e++){var r=l[e];r.x=u(r.x,s.left-a,s.right+a),r.y=u(r.y,s.top-a,s.bottom+a)}return l};p.exports=m},61061:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(74943),s=t(81957),a=t(41138),e=t(35154),r=t(90126),d=new m({initialize:function(h,f,c){this.manager=h,this.key=f,this.type="frame",this.frames=this.getFrames(h.textureManager,e(c,"frames",[]),e(c,"defaultTextureKey",null),e(c,"sortFrames",!0)),this.frameRate=e(c,"frameRate",null),this.duration=e(c,"duration",null),this.msPerFrame,this.skipMissedFrames=e(c,"skipMissedFrames",!0),this.delay=e(c,"delay",0),this.repeat=e(c,"repeat",0),this.repeatDelay=e(c,"repeatDelay",0),this.yoyo=e(c,"yoyo",!1),this.showBeforeDelay=e(c,"showBeforeDelay",!1),this.showOnStart=e(c,"showOnStart",!1),this.hideOnComplete=e(c,"hideOnComplete",!1),this.randomFrame=e(c,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(l.PAUSE_ALL,this.pause,this),this.manager.on(l.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(n,h,f,c){f===null&&c===null?(n.frameRate=24,n.duration=24/h*1e3):f&&c===null?(n.duration=f,n.frameRate=h/(f/1e3)):(n.frameRate=c,n.duration=h/c*1e3),n.msPerFrame=1e3/n.frameRate},addFrame:function(n){return this.addFrameAt(this.frames.length,n)},addFrameAt:function(n,h){var f=this.getFrames(this.manager.textureManager,h);if(f.length>0){if(n===0)this.frames=f.concat(this.frames);else if(n===this.frames.length)this.frames=this.frames.concat(f);else{var c=this.frames.slice(0,n),v=this.frames.slice(n);this.frames=c.concat(f,v)}this.updateFrameSequence()}return this},checkFrame:function(n){return n>=0&&n<this.frames.length},getFirstTick:function(n){n.accumulator=0,n.nextTick=n.currentFrame.duration?n.currentFrame.duration:n.msPerFrame},getFrameAt:function(n){return this.frames[n]},getFrames:function(n,h,f,c){c===void 0&&(c=!0);var v=[],g,y,C=1,S,P;if(typeof h=="string"){if(P=h,!n.exists(P))return console.warn('Texture "%s" not found',P),v;var w=n.get(P),R=w.getFrameNames();c&&r(R),h=[],R.forEach(function(N){h.push({key:P,frame:N})})}if(!Array.isArray(h)||h.length===0)return v;for(S=0;S<h.length;S++){var L=h[S],D=e(L,"key",f);if(D){var F=e(L,"frame",0),O=n.getFrame(D,F);if(!O){console.warn('Texture "%s" not found',D);continue}y=new a(D,F,C,O),y.duration=e(L,"duration",0),y.isFirst=!g,g&&(g.nextFrame=y,y.prevFrame=g),v.push(y),g=y,C++}}if(v.length>0){y.isLast=!0,y.nextFrame=v[0],v[0].prevFrame=y;var B=1/(v.length-1);for(S=0;S<v.length;S++)v[S].progress=S*B}return v},getNextTick:function(n){n.accumulator-=n.nextTick,n.nextTick=n.currentFrame.duration?n.currentFrame.duration:n.msPerFrame},getFrameByProgress:function(n){return n=u(n,0,1),s(n,this.frames,"progress")},nextFrame:function(n){var h=n.currentFrame;h.isLast?n.yoyo?this.handleYoyoFrame(n,!1):n.repeatCounter>0?n.inReverse&&n.forward?n.forward=!1:this.repeatAnimation(n):n.complete():this.updateAndGetNextTick(n,h.nextFrame)},handleYoyoFrame:function(n,h){if(h||(h=!1),n.inReverse===!h&&n.repeatCounter>0){(n.repeatDelay===0||n.pendingRepeat)&&(n.forward=h),this.repeatAnimation(n);return}if(n.inReverse!==h&&n.repeatCounter===0){n.complete();return}n.forward=h;var f=h?n.currentFrame.nextFrame:n.currentFrame.prevFrame;this.updateAndGetNextTick(n,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(n){var h=n.currentFrame;h.isFirst?n.yoyo?this.handleYoyoFrame(n,!0):n.repeatCounter>0?n.inReverse&&!n.forward?this.repeatAnimation(n):(n.forward=!0,this.repeatAnimation(n)):n.complete():this.updateAndGetNextTick(n,h.prevFrame)},updateAndGetNextTick:function(n,h){n.setCurrentFrame(h),this.getNextTick(n)},removeFrame:function(n){var h=this.frames.indexOf(n);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(n){return this.frames.splice(n,1),this.updateFrameSequence(),this},repeatAnimation:function(n){if(n._pendingStop===2){if(n._pendingStopValue===0)return n.stop();n._pendingStopValue--}n.repeatDelay>0&&!n.pendingRepeat?(n.pendingRepeat=!0,n.accumulator-=n.nextTick,n.nextTick+=n.repeatDelay):(n.repeatCounter--,n.forward?n.setCurrentFrame(n.currentFrame.nextFrame):n.setCurrentFrame(n.currentFrame.prevFrame),n.isPlaying&&(this.getNextTick(n),n.handleRepeat()))},toJSON:function(){var n={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){n.frames.push(h.toJSON())}),n},updateFrameSequence:function(){for(var n=this.frames.length,h=1/(n-1),f,c=0;c<n;c++)f=this.frames[c],f.index=c+1,f.isFirst=!1,f.isLast=!1,f.progress=c*h,c===0?(f.isFirst=!0,n===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[n-1],f.nextFrame=this.frames[c+1])):c===n-1&&n>1?(f.isLast=!0,f.prevFrame=this.frames[n-2],f.nextFrame=this.frames[0]):n>1&&(f.prevFrame=this.frames[c-1],f.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(l.PAUSE_ALL,this.pause,this),this.manager.off(l.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var n=0;n<this.frames.length;n++)this.frames[n].destroy();this.frames=[],this.manager=null}});p.exports=d},41138:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e,r,d){d===void 0&&(d=!1),this.textureKey=s,this.textureFrame=a,this.index=e,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=d},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=m},60848:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(42099),m=t(83419),l=t(90330),s=t(50792),a=t(74943),e=t(8443),r=t(95540),d=t(35154),n=t(36383),h=t(20283),f=t(41836),c=new m({Extends:s,initialize:function(g){s.call(this),this.game=g,this.textureManager=null,this.globalTimeScale=1,this.anims=new l,this.mixes=new l,this.paused=!1,this.name="AnimationManager",g.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(v,g,y){var C=this.anims,S=this.mixes,P=typeof v=="string"?v:v.key,w=typeof g=="string"?g:g.key;if(C.has(P)&&C.has(w)){var R=S.get(P);R||(R={}),R[w]=y,S.set(P,R)}return this},removeMix:function(v,g){var y=this.mixes,C=typeof v=="string"?v:v.key,S=y.get(C);if(S)if(g){var P=typeof g=="string"?g:g.key;S.hasOwnProperty(P)&&delete S[P]}else g||y.delete(C);return this},getMix:function(v,g){var y=this.mixes,C=typeof v=="string"?v:v.key,S=typeof g=="string"?g:g.key,P=y.get(C);return P&&P.hasOwnProperty(S)?P[S]:0},add:function(v,g){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(g.key=v,this.anims.set(v,g),this.emit(a.ADD_ANIMATION,v,g),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,g,y){var C=[],S=this.game.cache.json.get(v);if(!S)return console.warn("No Aseprite data found for: "+v),C;var P=this,w=d(S,"meta",null),R=d(S,"frames",null);if(w&&R){var L=d(w,"frameTags",[]);L.forEach(function(D){var F=[],O=r(D,"name",null),B=r(D,"from",0),N=r(D,"to",0),G=r(D,"direction","forward");if(O&&(!g||g&&g.indexOf(O)>-1)){for(var z=0,X=B;X<=N;X++){var H=X.toString(),V=R[H];if(V){var W=r(V,"duration",n.MAX_SAFE_INTEGER);F.push({key:v,frame:H,duration:W}),z+=W}}G==="reverse"&&(F=F.reverse());var I={key:O,frames:F,duration:z,yoyo:G==="pingpong"},b;y?y.anims&&(b=y.anims.create(I)):b=P.create(I),b&&C.push(b)}})}return C},create:function(v){var g=v.key,y=!1;return g&&(y=this.get(g),y?console.warn("AnimationManager key already exists: "+g):(y=new u(this,g,v),this.anims.set(g,y),this.emit(a.ADD_ANIMATION,g,y))),y},fromJSON:function(v,g){g===void 0&&(g=!1),g&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var y=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var C=0;C<v.anims.length;C++)y.push(this.create(v.anims[C]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&y.push(this.create(v));return y},generateFrameNames:function(v,g){var y=d(g,"prefix",""),C=d(g,"start",0),S=d(g,"end",0),P=d(g,"suffix",""),w=d(g,"zeroPad",0),R=d(g,"outputArray",[]),L=d(g,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),R;var D=this.textureManager.get(v);if(!D)return R;var F;if(g)for(L||(L=h(C,S)),F=0;F<L.length;F++){var O=y+f(L[F],w,"0",1)+P;D.has(O)?R.push({key:v,frame:O}):console.warn('Frame "%s" not found in texture "%s"',O,v)}else for(L=D.getFrameNames(),F=0;F<L.length;F++)R.push({key:v,frame:L[F]});return R},generateFrameNumbers:function(v,g){var y=d(g,"start",0),C=d(g,"end",-1),S=d(g,"first",!1),P=d(g,"outputArray",[]),w=d(g,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),P;var R=this.textureManager.get(v);if(!R)return P;S&&R.has(S)&&P.push({key:v,frame:S}),w||(C===-1&&(C=R.frameTotal-2),w=h(y,C));for(var L=0;L<w.length;L++){var D=w[L];R.has(D)?P.push({key:v,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,v)}return P},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var g=this.textureManager.get(v),y=g.key,C=this.anims.getArray(),S=[],P=0;P<C.length;P++)for(var w=C[P],R=w.frames,L=0;L<R.length;L++)if(R[L].textureKey===y){S.push(w.key);break}return S},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(v,g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)g[y].anims.play(v);return this},staggerPlay:function(v,g,y,C){y===void 0&&(y=0),C===void 0&&(C=!0),Array.isArray(g)||(g=[g]);var S=g.length;C||S--;for(var P=0;P<g.length;P++){var w=y<0?Math.abs(y)*(S-P):y*P;g[P].anims.playAfterDelay(v,w)}return this},remove:function(v){var g=this.get(v);return g&&(this.emit(a.REMOVE_ANIMATION,v,g),this.anims.delete(v),this.removeMix(v)),g},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},toJSON:function(v){var g={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?g.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(y,C){g.anims.push(C.toJSON())}),g},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=c},9674:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(42099),m=t(30976),l=t(83419),s=t(90330),a=t(74943),e=t(95540),r=new l({initialize:function(n){this.parent=n,this.animationManager=n.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(d){var n=this.parent;if(d===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,n;Array.isArray(d)||(d=[d]);for(var h=0;h<d.length;h++){var f=d[h];this.nextAnim?this.nextAnimsQueue.push(f):this.nextAnim=f}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(d){this.isPlaying&&this.stop();var n=this.animationManager,h=typeof d=="string"?d:e(d,"key",null),f=this.exists(h)?this.get(h):n.get(h);if(!f)console.warn("Missing animation: "+h);else{this.currentAnim=f;var c=f.getTotalFrames(),v=e(d,"frameRate",f.frameRate),g=e(d,"duration",f.duration);f.calculateDuration(this,c,g,v),this.delay=e(d,"delay",f.delay),this.repeat=e(d,"repeat",f.repeat),this.repeatDelay=e(d,"repeatDelay",f.repeatDelay),this.yoyo=e(d,"yoyo",f.yoyo),this.showBeforeDelay=e(d,"showBeforeDelay",f.showBeforeDelay),this.showOnStart=e(d,"showOnStart",f.showOnStart),this.hideOnComplete=e(d,"hideOnComplete",f.hideOnComplete),this.skipMissedFrames=e(d,"skipMissedFrames",f.skipMissedFrames),this.randomFrame=e(d,"randomFrame",f.randomFrame),this.timeScale=e(d,"timeScale",this.timeScale);var y=e(d,"startFrame",0);y>c&&(y=0),this.randomFrame&&(y=m(0,c-1));var C=f.frames[y];y===0&&!this.forward&&(C=f.getLastFrame()),this.currentFrame=C}return this.parent},pause:function(d){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),d!==void 0&&this.setCurrentFrame(d),this.parent},resume:function(d){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),d!==void 0&&this.setCurrentFrame(d),this.parent},playAfterDelay:function(d,n){if(!this.isPlaying)this.delayCounter=n,this.play(d,!0);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.nextAnim=d,this._pendingStop=1,this._pendingStopValue=n}return this.parent},playAfterRepeat:function(d,n){if(n===void 0&&(n=1),!this.isPlaying)this.play(d);else{var h=this.nextAnim,f=this.nextAnimsQueue;h&&f.unshift(h),this.repeatCounter!==-1&&n>this.repeatCounter&&(n=this.repeatCounter),this.nextAnim=d,this._pendingStop=2,this._pendingStopValue=n}return this.parent},play:function(d,n){n===void 0&&(n=!1);var h=this.currentAnim,f=this.parent,c=typeof d=="string"?d:d.key;if(n&&this.isPlaying&&h.key===c)return f;if(h&&this.isPlaying){var v=this.animationManager.getMix(h.key,d);if(v>0)return this.playAfterDelay(d,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(d)},playReverse:function(d,n){n===void 0&&(n=!1);var h=typeof d=="string"?d:d.key;return n&&this.isPlaying&&this.currentAnim.key===h?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(d))},startAnimation:function(d){this.load(d);var n=this.currentAnim,h=this.parent;return n&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,n.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),h},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(d,n){var h=this.currentAnim;if(h){var f=this.currentFrame,c=this.parent,v=f.textureFrame;c.emit(d,h,f,c,v),n&&c.emit(n+h.key,h,f,c,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var d=this.currentFrame;if(!d)return 0;var n=d.progress;return this.inReverse&&(n*=-1),n},setProgress:function(d){return this.forward||(d=1-d),this.setCurrentFrame(this.currentAnim.getFrameByProgress(d)),this.parent},setRepeat:function(d){return this.repeatCounter=d===-1?Number.MAX_VALUE:d,this.parent},globalRemove:function(d,n){n===void 0&&(n=this.currentAnim),this.isPlaying&&n.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(d,n){d===void 0&&(d=!1),n===void 0&&(n=!1);var h=this.currentAnim,f=this.parent;return h?(n&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),h.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!d,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(h.frames[0]),this.parent):f},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var d=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(d)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var d=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(d)}return this.parent},stopAfterDelay:function(d){return this._pendingStop=1,this._pendingStopValue=d,this.parent},stopAfterRepeat:function(d){return d===void 0&&(d=1),this.repeatCounter!==-1&&d>this.repeatCounter&&(d=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=d,this.parent},stopOnFrame:function(d){return this._pendingStop=3,this._pendingStopValue=d,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(d,n){var h=this.currentAnim;if(!(!this.isPlaying||!h||h.paused)){if(this.accumulator+=n*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=n,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var f=0;do this.forward?h.nextFrame(this):h.previousFrame(this),f++;while(this.isPlaying&&this.accumulator>this.nextTick&&f<60)}}},setCurrentFrame:function(d){var n=this.parent;return this.currentFrame=d,n.texture=d.frame.texture,n.frame=d.frame,n.isCropped&&n.frame.updateCropUVs(n._crop,n.flipX,n.flipY),d.setAlpha&&(n.alpha=d.alpha),n.setSizeToFrame(),n._originComponent&&(d.frame.customPivot?n.setOrigin(d.frame.pivotX,d.frame.pivotY):n.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===d&&this.stop()),n},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(d){return this.anims?this.anims.get(d):null},exists:function(d){return this.anims?this.anims.has(d):!1},create:function(d){var n=d.key,h=!1;return n&&(h=this.get(n),h?console.warn("Animation key already exists: "+n):(h=new u(this,n,d),this.anims||(this.anims=new s),this.anims.set(n,h))),h},createFromAseprite:function(d,n){return this.animationManager.createFromAseprite(d,n,this.parent)},generateFrameNames:function(d,n){return this.animationManager.generateFrameNames(d,n)},generateFrameNumbers:function(d,n){return this.animationManager.generateFrameNumbers(d,n)},remove:function(d){var n=this.get(d);return n&&(this.currentAnim===n&&this.stop(),this.anims.delete(d)),n},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=r},57090:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},25312:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},89580:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},52860:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},63850:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},99085:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},28087:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},1794:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},52562:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},57953:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},68339:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},74943:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(90330),l=t(50792),s=t(24736),a=new u({initialize:function(){this.entries=new m,this.events=new l},add:function(e,r){return this.entries.set(e,r),this.events.emit(s.ADD,this,e,r),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var r=this.get(e);return r&&(this.entries.delete(e),this.events.emit(s.REMOVE,this,e,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=a},24047:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2161),m=t(83419),l=t(8443),s=new m({initialize:function(e){this.game=e,this.binary=new u,this.bitmapFont=new u,this.json=new u,this.physics=new u,this.shader=new u,this.audio=new u,this.video=new u,this.text=new u,this.html=new u,this.obj=new u,this.tilemap=new u,this.xml=new u,this.custom={},this.game.events.once(l.DESTROY,this.destroy,this)},addCustom:function(a){return this.custom.hasOwnProperty(a)||(this.custom[a]=new u),this.custom[a]},destroy:function(){for(var a=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<a.length;e++)this[a[e]].destroy(),this[a[e]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});p.exports=s},51464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},59261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},24736:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(39506),s=t(50792),a=t(19715),e=t(87841),r=t(61340),d=t(80333),n=t(26099),h=new u({Extends:s,Mixins:[m.AlphaSingle,m.Visible],initialize:function(c,v,g,y){c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=c,this._y=v,this._width=g,this._height=y,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=d("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new n(g/2,y/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,c){return f===void 0&&(f=.5),c===void 0&&(c=f),this.originX=f,this.originY=c,this},getScroll:function(f,c,v){v===void 0&&(v=new n);var g=this.width*.5,y=this.height*.5;return v.x=f-g,v.y=c-y,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(f){var c=this.width*.5;return this.midPoint.x=f,this.scrollX=f-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var c=this.height*.5;return this.midPoint.y=f,this.scrollY=f-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,c){return this.centerOnX(f),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,c=this.width*.5,v=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-c,this.scrollY=f.centerY-v}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var c=this.matrix.matrix,v=c[0],g=c[1],y=c[2],C=c[3],S=v*C-g*y;if(!S)return f;var P=c[4],w=c[5],R=this.scrollX,L=this.scrollY,D=this.width,F=this.height,O=this.y,B=O+F,N=this.x,G=N+D,z=this.culledObjects,X=f.length;S=1/S,z.length=0;for(var H=0;H<X;++H){var V=f[H];if(!V.hasOwnProperty("width")||V.parentContainer){z.push(V);continue}var W=V.width,I=V.height,b=V.x-R*V.scrollFactorX-W*V.originX,U=V.y-L*V.scrollFactorY-I*V.originY,Y=b*v+U*y+P,$=b*g+U*C+w,j=(b+W)*v+(U+I)*y+P,K=(b+W)*g+(U+I)*C+w;j>N&&Y<G&&K>O&&$<B&&z.push(V)}return z},getWorldPoint:function(f,c,v){v===void 0&&(v=new n);var g=this.matrix.matrix,y=g[0],C=g[1],S=g[2],P=g[3],w=g[4],R=g[5],L=y*P-C*S;if(!L)return v.x=f,v.y=c,v;L=1/L;var D=P*L,F=-C*L,O=-S*L,B=y*L,N=(S*R-P*w)*L,G=(C*w-y*R)*L,z=Math.cos(this.rotation),X=Math.sin(this.rotation),H=this.zoomX,V=this.zoomY,W=this.scrollX,I=this.scrollY,b=f+(W*z-I*X)*H,U=c+(W*X+I*z)*V;return v.x=b*D+U*O+N,v.y=b*F+U*B+G,v},ignore:function(f){var c=this.id;Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var g=f[v];Array.isArray(g)?this.ignore(g):g.isParent?this.ignore(g.getChildren()):g.cameraFilter|=c}return this},preRender:function(){this.renderList.length=0;var f=this.width,c=this.height,v=f*.5,g=c*.5,y=this.zoomX,C=this.zoomY,S=this.matrix,P=f*this.originX,w=c*this.originY,R=this.scrollX,L=this.scrollY;this.useBounds&&(R=this.clampX(R),L=this.clampY(L)),this.scrollX=R,this.scrollY=L;var D=R+v,F=L+g;this.midPoint.set(D,F);var O=f/y,B=c/C;this.worldView.setTo(D-O/2,F-B/2,O,B),S.applyITRS(this.x+P,this.y+w,this.rotation,y,C),S.translate(-P,-w)},clampX:function(f){var c=this._bounds,v=this.displayWidth,g=c.x+(v-this.width)/2,y=Math.max(g,g+c.width-v);return f<g?f=g:f>y&&(f=y),f},clampY:function(f){var c=this._bounds,v=this.displayHeight,g=c.y+(v-this.height)/2,y=Math.max(g,g+c.height-v);return f<g?f=g:f>y&&(f=y),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=l(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=d(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,c,v,g,y){return y===void 0&&(y=!1),this._bounds.setTo(f,c,v,g),this.dirty=!0,this.useBounds=!0,y?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var c=this._bounds;return f.setTo(c.x,c.y,c.width,c.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,c){return c===void 0&&(c=f),this.x=f,this.y=c,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=c;var v=f.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(f,c){return c===void 0&&(c=f),this.scrollX=f,this.scrollY=c,this},setSize:function(f,c){return c===void 0&&(c=f),this.width=f,this.height=c,this},setViewport:function(f,c,v,g){return this.x=f,this.y=c,this.width=v,this.height=g,this},setZoom:function(f,c){return f===void 0&&(f=1),c===void 0&&(c=f),f===0&&(f=.001),c===0&&(c=.001),this.zoomX=f,this.zoomY=c,this},setMask:function(f,c){return c===void 0&&(c=!0),this.mask=f,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;f&&!this._customViewport?c.customViewports++:!f&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=h},38058:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(71911),m=t(67502),l=t(45319),s=t(83419),a=t(31401),e=t(20052),r=t(19715),d=t(28915),n=t(87841),h=t(26099),f=new s({Extends:u,Mixins:[a.PostPipeline],initialize:function(v,g,y,C){u.call(this,v,g,y,C),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(c,v){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=v):this.deadzone=new n(0,0,c,v),this._follow){var g=this.width/2,y=this.height/2,C=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(C,S),this.scrollX=C-g,this.scrollY=S-y}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,v,g,y,C,S){return this.fadeEffect.start(!1,c,v,g,y,!0,C,S)},fadeOut:function(c,v,g,y,C,S){return this.fadeEffect.start(!0,c,v,g,y,!0,C,S)},fadeFrom:function(c,v,g,y,C,S,P){return this.fadeEffect.start(!1,c,v,g,y,C,S,P)},fade:function(c,v,g,y,C,S,P){return this.fadeEffect.start(!0,c,v,g,y,C,S,P)},flash:function(c,v,g,y,C,S,P){return this.flashEffect.start(c,v,g,y,C,S,P)},shake:function(c,v,g,y,C){return this.shakeEffect.start(c,v,g,y,C)},pan:function(c,v,g,y,C,S,P){return this.panEffect.start(c,v,g,y,C,S,P)},rotateTo:function(c,v,g,y,C,S,P){return this.rotateToEffect.start(c,v,g,y,C,S,P)},zoomTo:function(c,v,g,y,C,S){return this.zoomEffect.start(c,v,g,y,C,S)},preRender:function(){this.renderList.length=0;var c=this.width,v=this.height,g=c*.5,y=v*.5,C=this.zoom,S=this.matrix,P=c*this.originX,w=v*this.originY,R=this._follow,L=this.deadzone,D=this.scrollX,F=this.scrollY;L&&m(L,this.midPoint.x,this.midPoint.y);var O=!1;if(R&&!this.panEffect.isRunning){var B=this.lerp,N=R.x-this.followOffset.x,G=R.y-this.followOffset.y;L?(N<L.x?D=d(D,D-(L.x-N),B.x):N>L.right&&(D=d(D,D+(N-L.right),B.x)),G<L.y?F=d(F,F-(L.y-G),B.y):G>L.bottom&&(F=d(F,F+(G-L.bottom),B.y))):(D=d(D,N-P,B.x),F=d(F,G-w,B.y)),O=!0}this.useBounds&&(D=this.clampX(D),F=this.clampY(F)),this.scrollX=D,this.scrollY=F;var z=D+g,X=F+y;this.midPoint.set(z,X);var H=c/C,V=v/C,W=Math.floor(z-H/2),I=Math.floor(X-V/2);this.worldView.setTo(W,I,H,V),S.applyITRS(Math.floor(this.x+P),Math.floor(this.y+w),this.rotation,C,C),S.translate(-P,-w),this.shakeEffect.preRender(),O&&this.emit(r.FOLLOW_UPDATE,this,R)},setLerp:function(c,v){return c===void 0&&(c=1),v===void 0&&(v=c),this.lerp.set(c,v),this},setFollowOffset:function(c,v){return c===void 0&&(c=0),v===void 0&&(v=0),this.followOffset.set(c,v),this},startFollow:function(c,v,g,y,C,S){v===void 0&&(v=!1),g===void 0&&(g=1),y===void 0&&(y=g),C===void 0&&(C=0),S===void 0&&(S=C),this._follow=c,this.roundPixels=v,g=l(g,0,1),y=l(y,0,1),this.lerp.set(g,y),this.followOffset.set(C,S);var P=this.width/2,w=this.height/2,R=c.x-C,L=c.y-S;return this.midPoint.set(R,L),this.scrollX=R-P,this.scrollY=L-w,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,v){this.visible&&(this.rotateToEffect.update(c,v),this.panEffect.update(c,v),this.zoomEffect.update(c,v),this.shakeEffect.update(c,v),this.flashEffect.update(c,v),this.fadeEffect.update(c,v))},destroy:function(){this.resetFX(),u.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=f},32743:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(38058),m=t(83419),l=t(95540),s=t(37277),a=t(37303),e=t(97480),r=t(44594),d=new m({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(r.BOOT,this.boot,this),h.sys.events.on(r.START,this.start,this)},boot:function(){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new u(0,0,n.scale.width,n.scale.height).setScene(this.scene),n.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(r.UPDATE,this.update,this),h.once(r.SHUTDOWN,this.shutdown,this)},add:function(n,h,f,c,v,g){n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),v===void 0&&(v=!1),g===void 0&&(g="");var y=new u(n,h,f,c);return y.setName(g),y.setScene(this.scene),y.setRoundPixels(this.roundPixels),y.id=this.getNextID(),this.cameras.push(y),v&&(this.main=y),y},addExisting:function(n,h){h===void 0&&(h=!1);var f=this.cameras.indexOf(n);return f===-1?(n.id=this.getNextID(),n.setRoundPixels(this.roundPixels),this.cameras.push(n),h&&(this.main=n),n):null},getNextID:function(){for(var n=this.cameras,h=1,f=0;f<32;f++){for(var c=!1,v=0;v<n.length;v++){var g=n[v];if(g&&g.id===h){c=!0;continue}}if(c)h=h<<1;else return h}return 0},getTotal:function(n){n===void 0&&(n=!1);for(var h=0,f=this.cameras,c=0;c<f.length;c++){var v=f[c];(!n||n&&v.visible)&&h++}return h},fromJSON:function(n){Array.isArray(n)||(n=[n]);for(var h=this.scene.sys.scale.width,f=this.scene.sys.scale.height,c=0;c<n.length;c++){var v=n[c],g=l(v,"x",0),y=l(v,"y",0),C=l(v,"width",h),S=l(v,"height",f),P=this.add(g,y,C,S);P.name=l(v,"name",""),P.zoom=l(v,"zoom",1),P.rotation=l(v,"rotation",0),P.scrollX=l(v,"scrollX",0),P.scrollY=l(v,"scrollY",0),P.roundPixels=l(v,"roundPixels",!1),P.visible=l(v,"visible",!0);var w=l(v,"backgroundColor",!1);w&&P.setBackgroundColor(w);var R=l(v,"bounds",null);if(R){var L=l(R,"x",0),D=l(R,"y",0),F=l(R,"width",h),O=l(R,"height",f);P.setBounds(L,D,F,O)}}return this},getCamera:function(n){for(var h=this.cameras,f=0;f<h.length;f++)if(h[f].name===n)return h[f];return null},getCamerasBelowPointer:function(n){for(var h=this.cameras,f=n.x,c=n.y,v=[],g=0;g<h.length;g++){var y=h[g];y.visible&&y.inputEnabled&&a(y,f,c)&&v.unshift(y)}return v},remove:function(n,h){h===void 0&&(h=!0),Array.isArray(n)||(n=[n]);for(var f=0,c=this.cameras,v=0;v<n.length;v++){var g=c.indexOf(n[v]);g!==-1&&(h?c[g].destroy():c[g].renderList=[],c.splice(g,1),f++)}return!this.main&&c[0]&&(this.main=c[0]),f},render:function(n,h){for(var f=this.scene,c=this.cameras,v=0;v<c.length;v++){var g=c[v];if(g.visible&&g.alpha>0){g.preRender();var y=this.getVisibleChildren(h.getChildren(),g);n.render(f,y,g)}}},getVisibleChildren:function(n,h){return n.filter(function(f){return f.willRender(h)})},resetAll:function(){for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(n,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(n,h)},onResize:function(n,h,f,c,v){for(var g=0;g<this.cameras.length;g++){var y=this.cameras[g];y._x===0&&y._y===0&&y._width===c&&y._height===v&&y.setSize(h.width,h.height)}},resize:function(n,h){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(n,h)},shutdown:function(){this.main=void 0;for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();this.cameras=[];var h=this.systems.events;h.off(r.UPDATE,this.update,this),h.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(r.START,this.start,this),this.systems.events.off(r.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});s.register("CameraManager",d,"cameras"),p.exports=d},5020:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(19715),s=new m({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,e,r,d,n,h,f,c){if(a===void 0&&(a=!0),e===void 0&&(e=1e3),r===void 0&&(r=0),d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=a,this.progress=0,this.red=r,this.green=d,this.blue=n,this.alpha=a?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c;var v=a?l.FADE_OUT_START:l.FADE_IN_START;return this.camera.emit(v,this.camera,this,e,r,d,n),this.camera},update:function(a,e){this.isRunning&&(this._elapsed+=e,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(a){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(a,e){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,d=this.red/255,n=this.green/255,h=this.blue/255;return a.drawFillRect(r.x,r.y,r.width,r.height,e(h,n,d,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var a=this.direction?l.FADE_OUT_COMPLETE:l.FADE_IN_COMPLETE;this.camera.emit(a,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=s},10662:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(19715),s=new m({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(a,e,r,d,n,h,f){return a===void 0&&(a=250),e===void 0&&(e=255),r===void 0&&(r=255),d===void 0&&(d=255),n===void 0&&(n=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,this.red=e,this.green=r,this.blue=d,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(l.FLASH_START,this.camera,this,a,e,r,d),this.camera)},update:function(a,e){this.isRunning&&(this._elapsed+=e,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(a){if(!this.isRunning)return!1;var e=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(a,e){if(!this.isRunning)return!1;var r=this.camera,d=this.red/255,n=this.green/255,h=this.blue/255;return a.drawFillRect(r.x,r.y,r.width,r.height,e(h,n,d,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=s},20359:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(62640),s=t(19715),a=t(26099),e=new m({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,d,n,h,f,c,v){n===void 0&&(n=1e3),h===void 0&&(h=l.Linear),f===void 0&&(f=!1),c===void 0&&(c=null),v===void 0&&(v=this.camera.scene);var g=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(g.scrollX,g.scrollY),this.destination.set(r,d),g.getScroll(r,d,this.current),typeof h=="string"&&l.hasOwnProperty(h)?this.ease=l[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=v,this.camera.emit(s.PAN_START,this.camera,this,n,r,d)),g},update:function(r,d){if(this.isRunning){this._elapsed+=d;var n=u(this._elapsed/this.duration,0,1);this.progress=n;var h=this.camera;if(this._elapsed<this.duration){var f=this.ease(n);h.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*f,v=this.source.y+(this.current.y-this.source.y)*f;h.setScroll(c,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,n,c,v)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,n,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=e},34208:(p,T,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var u=t(45319),m=t(83419),l=t(19715),s=t(62640),a=new m({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,r,d,n,h,f,c){d===void 0&&(d=1e3),n===void 0&&(n=s.Linear),h===void 0&&(h=!1),f===void 0&&(f=null),c===void 0&&(c=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var v=e;e<0?(v=-1*e,this.clockwise=!1):this.clockwise=!0;var g=360*Math.PI/180;v=v-Math.floor(v/g)*g;var y=this.camera;if(!h&&this.isRunning)return y;if(this.isRunning=!0,this.duration=d,this.progress=0,this.source=y.rotation,this.destination=v,typeof n=="string"&&s.hasOwnProperty(n)?this.ease=s[n]:typeof n=="function"&&(this.ease=n),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=c,this.shortestPath){var C=0,S=0;this.destination>this.source?C=Math.abs(this.destination-this.source):C=Math.abs(this.destination+g)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+g)-this.destination,C<S?this.clockwise=!0:C>S&&(this.clockwise=!1)}return this.camera.emit(l.ROTATE_START,this.camera,this,d,v),y},update:function(e,r){if(this.isRunning){this._elapsed+=r;var d=u(this._elapsed/this.duration,0,1);this.progress=d;var n=this.camera;if(this._elapsed<this.duration){var h=this.ease(d);this.current=n.rotation;var f=0,c=360*Math.PI/180,v=this.destination,g=this.current;this.clockwise===!1&&(v=this.current,g=this.destination),v>=g?f=Math.abs(v-g):f=Math.abs(v+c)-g;var y=0;this.clockwise?y=n.rotation+f*h:y=n.rotation-f*h,n.rotation=y,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,d,y)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,d,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=a},30330:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(19715),s=t(26099),a=new m({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,r,d,n,h){return e===void 0&&(e=100),r===void 0&&(r=.05),d===void 0&&(d=!1),n===void 0&&(n=null),h===void 0&&(h=this.camera.scene),!d&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=h,this.camera.emit(l.SHAKE_START,this.camera,this,e,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,r){if(this.isRunning)if(this._elapsed+=r,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var d=this.intensity,n=this.camera.width,h=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*d.x*n*2-d.x*n)*f,this._offsetY=(Math.random()*d.y*h*2-d.y*h)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=a},45641:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(62640),s=t(19715),a=new m({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,r,d,n,h,f){r===void 0&&(r=1e3),d===void 0&&(d=l.Linear),n===void 0&&(n=!1),h===void 0&&(h=null),f===void 0&&(f=this.camera.scene);var c=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=c.zoom,this.destination=e,typeof d=="string"&&l.hasOwnProperty(d)?this.ease=l[d]:typeof d=="function"&&(this.ease=d),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=f,this.camera.emit(s.ZOOM_START,this.camera,this,r,e)),c},update:function(e,r){this.isRunning&&(this._elapsed+=r,this.progress=u(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=a},20052:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},32726:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},87807:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},45917:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},95666:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},47056:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},91261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},45047:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},81927:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},74264:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},54419:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},79330:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},93183:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},80112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},62252:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},86017:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},539:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},51892:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},19715:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(35154),l=new u({initialize:function(a){this.camera=m(a,"camera",null),this.left=m(a,"left",null),this.right=m(a,"right",null),this.up=m(a,"up",null),this.down=m(a,"down",null),this.zoomIn=m(a,"zoomIn",null),this.zoomOut=m(a,"zoomOut",null),this.zoomSpeed=m(a,"zoomSpeed",.01),this.minZoom=m(a,"minZoom",.001),this.maxZoom=m(a,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=m(a,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=m(a,"speed.x",0),this.speedY=m(a,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var a=this.camera;this.up&&this.up.isDown?a.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(a.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?a.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(a.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(a.zoom-=this.zoomSpeed,a.zoom<this.minZoom&&(a.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(a.zoom+=this.zoomSpeed,a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=l},58818:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(35154),l=new u({initialize:function(a){this.camera=m(a,"camera",null),this.left=m(a,"left",null),this.right=m(a,"right",null),this.up=m(a,"up",null),this.down=m(a,"down",null),this.zoomIn=m(a,"zoomIn",null),this.zoomOut=m(a,"zoomOut",null),this.zoomSpeed=m(a,"zoomSpeed",.01),this.minZoom=m(a,"minZoom",.001),this.maxZoom=m(a,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=m(a,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=m(a,"acceleration.x",0),this.accelY=m(a,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=m(a,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=m(a,"drag.x",0),this.dragY=m(a,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var d=m(a,"maxSpeed",null);typeof d=="number"?(this.maxSpeedX=d,this.maxSpeedY=d):(this.maxSpeedX=m(a,"maxSpeed.x",0),this.maxSpeedY=m(a,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var a=this.camera;this._speedX>0?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(a.scrollX-=this._speedX*s|0),this._speedY!==0&&(a.scrollY-=this._speedY*s|0),this._zoom!==0&&(a.zoom+=this._zoom,a.zoom<this.minZoom?a.zoom=this.minZoom:a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=l},38865:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={VERSION:"3.80.1",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=u},69547:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(8054),l=t(42363),s=t(82264),a=t(95540),e=t(35154),r=t(41212),d=t(29747),n=t(75508),h=t(36060),f=t(80333),c=new u({initialize:function(g){g===void 0&&(g={});var y=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],C="#ffffff",S=e(g,"scale",null);this.width=e(S,"width",1024,g),this.height=e(S,"height",768,g),this.zoom=e(S,"zoom",1,g),this.parent=e(S,"parent",void 0,g),this.scaleMode=e(S,S?"mode":"scaleMode",0,g),this.expandParent=e(S,"expandParent",!0,g),this.autoRound=e(S,"autoRound",!1,g),this.autoCenter=e(S,"autoCenter",0,g),this.resizeInterval=e(S,"resizeInterval",500,g),this.fullscreenTarget=e(S,"fullscreenTarget",null,g),this.minWidth=e(S,"min.width",0,g),this.maxWidth=e(S,"max.width",0,g),this.minHeight=e(S,"min.height",0,g),this.maxHeight=e(S,"max.height",0,g),this.snapWidth=e(S,"snap.width",0,g),this.snapHeight=e(S,"snap.height",0,g),this.renderType=e(g,"type",m.AUTO),this.canvas=e(g,"canvas",null),this.context=e(g,"context",null),this.canvasStyle=e(g,"canvasStyle",null),this.customEnvironment=e(g,"customEnvironment",!1),this.sceneConfig=e(g,"scene",null),this.seed=e(g,"seed",[(Date.now()*Math.random()).toString()]),n.RND=new n.RandomDataGenerator(this.seed),this.gameTitle=e(g,"title",""),this.gameURL=e(g,"url","https://phaser.io"),this.gameVersion=e(g,"version",""),this.autoFocus=e(g,"autoFocus",!0),this.stableSort=e(g,"stableSort",-1),this.stableSort===-1&&(this.stableSort=s.browser.es2019?1:0),s.features.stableSort=this.stableSort,this.domCreateContainer=e(g,"dom.createContainer",!1),this.domPointerEvents=e(g,"dom.pointerEvents","none"),this.inputKeyboard=e(g,"input.keyboard",!0),this.inputKeyboardEventTarget=e(g,"input.keyboard.target",window),this.inputKeyboardCapture=e(g,"input.keyboard.capture",[]),this.inputMouse=e(g,"input.mouse",!0),this.inputMouseEventTarget=e(g,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(g,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(g,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(g,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(g,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(g,"input.touch",s.input.touch),this.inputTouchEventTarget=e(g,"input.touch.target",null),this.inputTouchCapture=e(g,"input.touch.capture",!0),this.inputActivePointers=e(g,"input.activePointers",1),this.inputSmoothFactor=e(g,"input.smoothFactor",0),this.inputWindowEvents=e(g,"input.windowEvents",!0),this.inputGamepad=e(g,"input.gamepad",!1),this.inputGamepadEventTarget=e(g,"input.gamepad.target",window),this.disableContextMenu=e(g,"disableContextMenu",!1),this.audio=e(g,"audio",{}),this.hideBanner=e(g,"banner",null)===!1,this.hidePhaser=e(g,"banner.hidePhaser",!1),this.bannerTextColor=e(g,"banner.text",C),this.bannerBackgroundColor=e(g,"banner.background",y),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(g,"fps",null),this.disablePreFX=e(g,"disablePreFX",!1),this.disablePostFX=e(g,"disablePostFX",!1);var P=e(g,"render",null);this.pipeline=e(P,"pipeline",null,g),this.autoMobilePipeline=e(P,"autoMobilePipeline",!0,g),this.defaultPipeline=e(P,"defaultPipeline",h.MULTI_PIPELINE,g),this.antialias=e(P,"antialias",!0,g),this.antialiasGL=e(P,"antialiasGL",!0,g),this.mipmapFilter=e(P,"mipmapFilter","",g),this.desynchronized=e(P,"desynchronized",!1,g),this.roundPixels=e(P,"roundPixels",!0,g),this.pixelArt=e(P,"pixelArt",this.zoom!==1,g),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(P,"transparent",!1,g),this.clearBeforeRender=e(P,"clearBeforeRender",!0,g),this.preserveDrawingBuffer=e(P,"preserveDrawingBuffer",!1,g),this.premultipliedAlpha=e(P,"premultipliedAlpha",!0,g),this.failIfMajorPerformanceCaveat=e(P,"failIfMajorPerformanceCaveat",!1,g),this.powerPreference=e(P,"powerPreference","default",g),this.batchSize=e(P,"batchSize",4096,g),this.maxTextures=e(P,"maxTextures",-1,g),this.maxLights=e(P,"maxLights",10,g);var w=e(g,"backgroundColor",0);this.backgroundColor=f(w),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(g,"callbacks.preBoot",d),this.postBoot=e(g,"callbacks.postBoot",d),this.physics=e(g,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(g,"loader.baseURL",""),this.loaderPath=e(g,"loader.path",""),this.loaderMaxParallelDownloads=e(g,"loader.maxParallelDownloads",s.os.android?6:32),this.loaderCrossOrigin=e(g,"loader.crossOrigin",void 0),this.loaderResponseType=e(g,"loader.responseType",""),this.loaderAsync=e(g,"loader.async",!0),this.loaderUser=e(g,"loader.user",""),this.loaderPassword=e(g,"loader.password",""),this.loaderTimeout=e(g,"loader.timeout",0),this.loaderWithCredentials=e(g,"loader.withCredentials",!1),this.loaderImageLoadType=e(g,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(g,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(g,"fx.glow.quality",.1),this.glowFXDistance=e(g,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=e(g,"plugins",null),L=l.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:r(R)&&(this.installGlobalPlugins=a(R,"global",[]),this.installScenePlugins=a(R,"scene",[]),Array.isArray(R.default)?L=R.default:Array.isArray(R.defaultMerge)&&(L=L.concat(R.defaultMerge)))),this.defaultPlugins=L;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(g,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(g,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(g,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});p.exports=c},86054:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20623),m=t(27919),l=t(8054),s=t(89357),a=function(e){var r=e.config;if((r.customEnvironment||r.canvas)&&r.renderType===l.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==l.HEADLESS)if(r.renderType===l.AUTO&&(r.renderType=s.webGL?l.WEBGL:l.CANVAS),r.renderType===l.WEBGL){if(!s.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(r.renderType===l.CANVAS){if(!s.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+r.renderType);r.antialias||m.disableSmoothing();var d=e.scale.baseSize,n=d.width,h=d.height;if(r.canvas?(e.canvas=r.canvas,e.canvas.width=n,e.canvas.height=h):e.canvas=m.create(e,n,h,r.renderType),r.canvasStyle&&(e.canvas.style=r.canvasStyle),r.antialias||u.setCrisp(e.canvas),r.renderType!==l.HEADLESS){var f,c;f=t(68627),c=t(74797),r.renderType===l.WEBGL?e.renderer=new c(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};p.exports=a},96391:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8054),m=function(l){var s=l.config;if(!s.hideBanner){var a="WebGL";s.renderType===u.CANVAS?a="Canvas":s.renderType===u.HEADLESS&&(a="Headless");var e=s.audio,r=l.device.audio,d;if(r.webAudio&&!e.disableWebAudio?d="Web Audio":e.noAudio||!r.webAudio&&!r.audioData?d="No Audio":d="HTML5 Audio",l.device.browser.ie)window.console&&console.log("Phaser v"+u.VERSION+" / https://phaser.io");else{var n="",h=[n];if(Array.isArray(s.bannerBackgroundColor)){var f;s.bannerBackgroundColor.forEach(function(v){n=n.concat("%c "),h.push("background: "+v),f=v}),h[h.length-1]="color: "+s.bannerTextColor+"; background: "+f}else n=n.concat("%c "),h.push("color: "+s.bannerTextColor+"; background: "+s.bannerBackgroundColor);h.push("background: transparent"),s.gameTitle&&(n=n.concat(s.gameTitle),s.gameVersion&&(n=n.concat(" v"+s.gameVersion)),s.hidePhaser||(n=n.concat(" / ")));var c="";s.hidePhaser||(n=n.concat("Phaser v"+u.VERSION+c+" ("+a+" | "+d+")")),n=n.concat(" %c "+s.gameURL),h[0]=n,console.log.apply(console,h)}}};p.exports=m},50127:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40366),m=t(60848),l=t(24047),s=t(27919),a=t(83419),e=t(69547),r=t(83719),d=t(86054),n=t(45893),h=t(96391),f=t(82264),c=t(57264),v=t(50792),g=t(8443),y=t(7003),C=t(37277),S=t(77332),P=t(76531),w=t(60903),R=t(69442),L=t(17130),D=t(65898),F=t(51085),O=t(14747),B=new a({initialize:function(G){this.config=new e(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new m(this),this.textures=new L(this),this.cache=new l(this),this.registry=new n(this,new v),this.input=new y(this,this.config),this.scene=new w(this,this.config.sceneConfig),this.device=f,this.scale=new P(this,this.config),this.sound=null,this.sound=O.create(this),this.loop=new D(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!C.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),d(this),r(this),h(this),u(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(g.BOOT)},texturesReady:function(){this.events.emit(g.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var N=this.events;N.on(g.HIDDEN,this.onHidden,this),N.on(g.VISIBLE,this.onVisible,this),N.on(g.BLUR,this.onBlur,this),N.on(g.FOCUS,this.onFocus,this)},step:function(N,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(g.PRE_STEP,N,G),z.emit(g.STEP,N,G),this.scene.update(N,G),z.emit(g.POST_STEP,N,G);var X=this.renderer;X.preRender(),z.emit(g.PRE_RENDER,X,N,G),this.scene.render(X),X.postRender(),z.emit(g.POST_RENDER,X,N,G)}},headlessStep:function(N,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(g.PRE_STEP,N,G),z.emit(g.STEP,N,G),this.scene.update(N,G),z.emit(g.POST_STEP,N,G),this.scene.isProcessing=!1,z.emit(g.PRE_RENDER,null,N,G),z.emit(g.POST_RENDER,null,N,G)}},onHidden:function(){this.loop.pause(),this.events.emit(g.PAUSE)},pause:function(){var N=this.isPaused;this.isPaused=!0,N||this.events.emit(g.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(g.RESUME)},resume:function(){var N=this.isPaused;this.isPaused=!1,N&&this.events.emit(g.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(N,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=N,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(g.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=B},65898:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(35154),l=t(29747),s=t(43092),a=new u({initialize:function(r,d){this.game=r,this.raf=new s,this.started=!1,this.running=!1,this.minFps=m(d,"min",5),this.targetFps=m(d,"target",60),this.fpsLimit=m(d,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=l,this.forceSetTimeOut=m(d,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(d,"deltaHistory",10),this.panicMax=m(d,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(d,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var d=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(d,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var r=this.deltaIndex,d=this.deltaHistory,n=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=d[r],e=Math.min(e,this._min)),d[r]=e,this.deltaIndex++,this.deltaIndex>=n&&(this.deltaIndex=0);for(var h=0,f=0;f<n;f++)h+=d[f];return h/=n,h},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta+=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var r=Math.max(0,e-this.lastTime);this.rawDelta=r,this.time+=this.rawDelta,this.smoothStep&&(r=this.smoothDelta(r)),this.delta=r,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,r),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var r=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+r));var d=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(d,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=r+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=a},51085:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8443),m=function(l){var s,a=l.events;if(document.hidden!==void 0)s="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(d){document[d+"Hidden"]!==void 0&&(document.hidden=function(){return document[d+"Hidden"]},s=d+"visibilitychange")})}var r=function(d){document.hidden||d.type==="pause"?a.emit(u.HIDDEN):a.emit(u.VISIBLE)};s&&document.addEventListener(s,r,!1),window.onblur=function(){a.emit(u.BLUR)},window.onfocus=function(){a.emit(u.FOCUS)},window.focus&&l.config.autoFocus&&window.focus()};p.exports=m},97217:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},47548:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},19814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},68446:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},41700:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},25432:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},65942:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},59211:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},47789:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},39066:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},460:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},16175:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},42331:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},11966:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},32969:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="systemready"},94830:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},8443:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(5290),m=t(27919),l=t(35154),s=function(a){var e=l(a,"data",[]),r=l(a,"canvas",null),d=l(a,"palette",u),n=l(a,"pixelWidth",1),h=l(a,"pixelHeight",n),f=l(a,"resizeCanvas",!0),c=l(a,"clearCanvas",!0),v=l(a,"preRender",null),g=l(a,"postRender",null),y=Math.floor(Math.abs(e[0].length*n)),C=Math.floor(Math.abs(e.length*h));r||(r=m.create2D(this,y,C),f=!1,c=!1),f&&(r.width=y,r.height=C);var S=r.getContext("2d",{willReadFrequently:!0});c&&S.clearRect(0,0,y,C),v&&v(r,S);for(var P=0;P<e.length;P++)for(var w=e[P],R=0;R<w.length;R++){var L=w[R];L!=="."&&L!==" "&&(S.fillStyle=d[L],S.fillRect(R*n,P*h,n,h))}return g&&g(r,S),r};p.exports=s},15822:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(36316),l=t(80021),s=t(26099),a=new u({Extends:l,initialize:function(r,d,n,h){l.call(this,"CubicBezierCurve"),Array.isArray(r)&&(h=new s(r[6],r[7]),n=new s(r[4],r[5]),d=new s(r[2],r[3]),r=new s(r[0],r[1])),this.p0=r,this.p1=d,this.p2=n,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new s);var d=this.p0,n=this.p1,h=this.p2,f=this.p3;return r.set(m(e,d.x,n.x,h.x,f.x),m(e,d.y,n.y,h.y,f.y))},draw:function(e,r){r===void 0&&(r=32);var d=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<d.length;n++)e.lineTo(d[n].x,d[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(e){var r=e.points,d=new s(r[0],r[1]),n=new s(r[2],r[3]),h=new s(r[4],r[5]),f=new s(r[6],r[7]);return new a(d,n,h,f)},p.exports=a},80021:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(19217),l=t(87841),s=t(26099),a=new u({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(e,r){return r===void 0&&(r=32),e.strokePoints(this.getPoints(r))},getBounds:function(e,r){e||(e=new l),r===void 0&&(r=16);var d=this.getLength();r>d&&(r=d/2);var n=Math.max(1,Math.round(d/r));return m(this.getSpacedPoints(n),e)},getDistancePoints:function(e){var r=this.getLength(),d=Math.max(1,r/e);return this.getSpacedPoints(d)},getEndPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],d,n=this.getPoint(0,this._tmpVec2A),h=0;r.push(0);for(var f=1;f<=e;f++)d=this.getPoint(f/e,this._tmpVec2B),h+=d.distance(n),r.push(h),n.copy(d);return this.cacheArcLengths=r,r},getPointAt:function(e,r){var d=this.getUtoTmapping(e);return this.getPoint(d,r)},getPoints:function(e,r,d){d===void 0&&(d=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var n=0;n<=e;n++)d.push(this.getPoint(n/e));return d},getRandomPoint:function(e){return e===void 0&&(e=new s),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,r,d){d===void 0&&(d=[]),e||(r?e=this.getLength()/r:e=this.defaultDivisions);for(var n=0;n<=e;n++){var h=this.getUtoTmapping(n/e,null,e);d.push(this.getPoint(h))}return d},getStartPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(0,e)},getTangent:function(e,r){r===void 0&&(r=new s);var d=1e-4,n=e-d,h=e+d;return n<0&&(n=0),h>1&&(h=1),this.getPoint(n,this._tmpVec2A),this.getPoint(h,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,r){var d=this.getUtoTmapping(e);return this.getTangent(d,r)},getTFromDistance:function(e,r){return e<=0?0:this.getUtoTmapping(0,e,r)},getUtoTmapping:function(e,r,d){var n=this.getLengths(d),h=0,f=n.length,c;r?c=Math.min(r,n[f-1]):c=e*n[f-1];for(var v=0,g=f-1,y;v<=g;)if(h=Math.floor(v+(g-v)/2),y=n[h]-c,y<0)v=h+1;else if(y>0)g=h-1;else{g=h;break}if(h=g,n[h]===c)return h/(f-1);var C=n[h],S=n[h+1],P=S-C,w=(c-C)/P;return(h+w)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=a},73825:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(80021),l=t(39506),s=t(35154),a=t(43396),e=t(26099),r=new u({Extends:m,initialize:function(n,h,f,c,v,g,y,C){if(typeof n=="object"){var S=n;n=s(S,"x",0),h=s(S,"y",0),f=s(S,"xRadius",0),c=s(S,"yRadius",f),v=s(S,"startAngle",0),g=s(S,"endAngle",360),y=s(S,"clockwise",!1),C=s(S,"rotation",0)}else c===void 0&&(c=f),v===void 0&&(v=0),g===void 0&&(g=360),y===void 0&&(y=!1),C===void 0&&(C=0);m.call(this,"EllipseCurve"),this.p0=new e(n,h),this._xRadius=f,this._yRadius=c,this._startAngle=l(v),this._endAngle=l(g),this._clockwise=y,this._rotation=l(C)},getStartPoint:function(d){return d===void 0&&(d=new e),this.getPoint(0,d)},getResolution:function(d){return d*2},getPoint:function(d,n){n===void 0&&(n=new e);for(var h=Math.PI*2,f=this._endAngle-this._startAngle,c=Math.abs(f)<Number.EPSILON;f<0;)f+=h;for(;f>h;)f-=h;f<Number.EPSILON&&(c?f=0:f=h),this._clockwise&&!c&&(f===h?f=-h:f=f-h);var v=this._startAngle+d*f,g=this.p0.x+this._xRadius*Math.cos(v),y=this.p0.y+this._yRadius*Math.sin(v);if(this._rotation!==0){var C=Math.cos(this._rotation),S=Math.sin(this._rotation),P=g-this.p0.x,w=y-this.p0.y;g=P*C-w*S+this.p0.x,y=P*S+w*C+this.p0.y}return n.set(g,y)},setXRadius:function(d){return this.xRadius=d,this},setYRadius:function(d){return this.yRadius=d,this},setWidth:function(d){return this.xRadius=d/2,this},setHeight:function(d){return this.yRadius=d/2,this},setStartAngle:function(d){return this.startAngle=d,this},setEndAngle:function(d){return this.endAngle=d,this},setClockwise:function(d){return this.clockwise=d,this},setRotation:function(d){return this.rotation=d,this},x:{get:function(){return this.p0.x},set:function(d){this.p0.x=d}},y:{get:function(){return this.p0.y},set:function(d){this.p0.y=d}},xRadius:{get:function(){return this._xRadius},set:function(d){this._xRadius=d}},yRadius:{get:function(){return this._yRadius},set:function(d){this._yRadius=d}},startAngle:{get:function(){return a(this._startAngle)},set:function(d){this._startAngle=l(d)}},endAngle:{get:function(){return a(this._endAngle)},set:function(d){this._endAngle=l(d)}},clockwise:{get:function(){return this._clockwise},set:function(d){this._clockwise=d}},angle:{get:function(){return a(this._rotation)},set:function(d){this._rotation=l(d)}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});r.fromJSON=function(d){return new r(d)},p.exports=r},33951:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(80021),l=t(19217),s=t(87841),a=t(26099),e=new u({Extends:m,initialize:function(d,n){m.call(this,"LineCurve"),Array.isArray(d)&&(n=new a(d[2],d[3]),d=new a(d[0],d[1])),this.p0=d,this.p1=n,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new s),l([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new a),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,d){return d===void 0&&(d=new a),r===1?d.copy(this.p1):(d.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),d)},getPointAt:function(r,d){return this.getPoint(r,d)},getTangent:function(r,d){return d===void 0&&(d=new a),d.copy(this.p1).subtract(this.p0).normalize(),d},getUtoTmapping:function(r,d,n){var h;if(d){var f=this.getLengths(n),c=f[f.length-1],v=Math.min(d,c);h=v/c}else h=r;return h},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(r){var d=r.points,n=new a(d[0],d[1]),h=new a(d[2],d[3]);return new e(n,h)},p.exports=e},14744:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(80021),l=t(32112),s=t(26099),a=new u({Extends:m,initialize:function(r,d,n){m.call(this,"QuadraticBezierCurve"),Array.isArray(r)&&(n=new s(r[4],r[5]),d=new s(r[2],r[3]),r=new s(r[0],r[1])),this.p0=r,this.p1=d,this.p2=n},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,r){r===void 0&&(r=new s);var d=this.p0,n=this.p1,h=this.p2;return r.set(l(e,d.x,n.x,h.x),l(e,d.y,n.y,h.y))},draw:function(e,r){r===void 0&&(r=32);var d=this.getPoints(r);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<d.length;n++)e.lineTo(d[n].x,d[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(e){var r=e.points,d=new s(r[0],r[1]),n=new s(r[2],r[3]),h=new s(r[4],r[5]);return new a(d,n,h)},p.exports=a},42534:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87842),m=t(83419),l=t(80021),s=t(26099),a=new m({Extends:l,initialize:function(r){r===void 0&&(r=[]),l.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(e){for(var r=0;r<e.length;r++){var d=new s;typeof e[r]=="number"?(d.x=e[r],d.y=e[r+1],r++):Array.isArray(e[r])?(d.x=e[r][0],d.y=e[r][1]):(d.x=e[r].x,d.y=e[r].y),this.points.push(d)}return this},addPoint:function(e,r){var d=new s(e,r);return this.points.push(d),d},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,r){r===void 0&&(r=new s);var d=this.points,n=(d.length-1)*e,h=Math.floor(n),f=n-h,c=d[h===0?h:h-1],v=d[h],g=d[h>d.length-2?d.length-1:h+1],y=d[h>d.length-3?d.length-1:h+2];return r.set(u(f,c.x,v.x,g.x,y.x),u(f,c.y,v.y,g.y,y.y))},toJSON:function(){for(var e=[],r=0;r<this.points.length;r++)e.push(this.points[r].x),e.push(this.points[r].y);return{type:this.type,points:e}}});a.fromJSON=function(e){return new a(e.points)},p.exports=a},25410:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(26099),l=new u({initialize:function(a,e){this.active=!1,this.p0=new m(a,e)},getPoint:function(s,a){return a===void 0&&(a=new m),a.copy(this.p0)},getPointAt:function(s,a){return this.getPoint(s,a)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=l},46669:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(46728),l=t(73825),s=t(39429),a=t(33951),e=t(68618),r=t(14744),d=t(87841),n=t(42534),h=t(26099),f=t(36383),c=new u({initialize:function(g,y){g===void 0&&(g=0),y===void 0&&(y=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof g=="object"?this.fromJSON(g):this.startPoint.set(g,y)},add:function(v){return this.curves.push(v),this},circleTo:function(v,g,y){return g===void 0&&(g=!1),this.ellipseTo(v,v,0,360,g,y)},closePath:function(){var v=this.curves[0].getPoint(0),g=this.curves[this.curves.length-1].getPoint(1);return v.equals(g)||this.curves.push(new a(g,v)),this},cubicBezierTo:function(v,g,y,C,S,P){var w=this.getEndPoint(),R,L,D;return v instanceof h?(R=v,L=g,D=y):(R=new h(y,C),L=new h(S,P),D=new h(v,g)),this.add(new m(w,R,L,D))},quadraticBezierTo:function(v,g,y,C){var S=this.getEndPoint(),P,w;return v instanceof h?(P=v,w=g):(P=new h(y,C),w=new h(v,g)),this.add(new r(S,P,w))},draw:function(v,g){for(var y=0;y<this.curves.length;y++){var C=this.curves[y];C.active&&C.draw(v,g)}return v},ellipseTo:function(v,g,y,C,S,P){var w=new l(0,0,v,g,y,C,S,P),R=this.getEndPoint(this._tmpVec2A),L=w.getStartPoint(this._tmpVec2B);return R.subtract(L),w.x=R.x,w.y=R.y,this.add(w)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var g=0;g<v.curves.length;g++){var y=v.curves[g];switch(y.type){case"LineCurve":this.add(a.fromJSON(y));break;case"EllipseCurve":this.add(l.fromJSON(y));break;case"SplineCurve":this.add(n.fromJSON(y));break;case"CubicBezierCurve":this.add(m.fromJSON(y));break;case"QuadraticBezierCurve":this.add(r.fromJSON(y));break}}return this},getBounds:function(v,g){v===void 0&&(v=new d),g===void 0&&(g=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var y=new d,C=f.MIN_SAFE_INTEGER,S=f.MIN_SAFE_INTEGER,P=0;P<this.curves.length;P++){var w=this.curves[P];w.active&&(w.getBounds(y,g),v.x=Math.min(v.x,y.x),v.y=Math.min(v.y,y.y),C=Math.max(C,y.right),S=Math.max(S,y.bottom))}return v.right=C,v.bottom=S,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],g=0,y=0;y<this.curves.length;y++)g+=this.curves[y].getLength(),v.push(g);return this.cacheLengths=v,v},getCurveAt:function(v){for(var g=v*this.getLength(),y=this.getCurveLengths(),C=0;C<y.length;){if(y[C]>=g)return this.curves[C];C++}return null},getEndPoint:function(v){return v===void 0&&(v=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,g){g===void 0&&(g=new h);for(var y=v*this.getLength(),C=this.getCurveLengths(),S=0;S<C.length;){if(C[S]>=y){var P=C[S]-y,w=this.curves[S],R=w.getLength(),L=R===0?0:1-P/R;return w.getPointAt(L,g)}S++}return null},getPoints:function(v,g){!v&&!g&&(v=this.defaultDivisions);for(var y=[],C,S=0;S<this.curves.length;S++){var P=this.curves[S];if(P.active)for(var w=P.getResolution(v),R=P.getPoints(w,g),L=0;L<R.length;L++){var D=R[L];C&&C.equals(D)||(y.push(D),C=D)}}return this.autoClose&&y.length>1&&!y[y.length-1].equals(y[0])&&y.push(y[0]),y},getRandomPoint:function(v){return v===void 0&&(v=new h),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){v===void 0&&(v=40);for(var g=[],y=0;y<=v;y++)g.push(this.getPoint(y/v));return this.autoClose&&g.push(g[0]),g},getStartPoint:function(v){return v===void 0&&(v=new h),v.copy(this.startPoint)},getTangent:function(v,g){g===void 0&&(g=new h);for(var y=v*this.getLength(),C=this.getCurveLengths(),S=0;S<C.length;){if(C[S]>=y){var P=C[S]-y,w=this.curves[S],R=w.getLength(),L=R===0?0:1-P/R;return w.getTangentAt(L,g)}S++}return null},lineTo:function(v,g){v instanceof h?this._tmpVec2B.copy(v):typeof v=="object"?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,g);var y=this.getEndPoint(this._tmpVec2A);return this.add(new a([y.x,y.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new n(v))},moveTo:function(v,g){return v instanceof h?this.add(new e(v.x,v.y)):this.add(new e(v,g))},toJSON:function(){for(var v=[],g=0;g<this.curves.length;g++)v.push(this.curves[g].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(v,g){return new c(v,g)}),p.exports=c},45893:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(24882),l=new u({initialize:function(a,e){this.parent=a,this.events=e,e||(this.events=a.events?a.events:a),this.list={},this.values={},this._frozen=!1,!a.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},get:function(s){var a=this.list;if(Array.isArray(s)){for(var e=[],r=0;r<s.length;r++)e.push(a[s[r]]);return e}else return a[s]},getAll:function(){var s={};for(var a in this.list)this.list.hasOwnProperty(a)&&(s[a]=this.list[a]);return s},query:function(s){var a={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(s)&&(a[e]=this.list[e]);return a},set:function(s,a){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,a);for(var e in s)this.setValue(e,s[e]);return this},inc:function(s,a){if(this._frozen)return this;a===void 0&&(a=1);var e=this.get(s);return e===void 0&&(e=0),this.set(s,e+a),this},toggle:function(s){return this._frozen?this:(this.set(s,!this.get(s)),this)},setValue:function(s,a){if(this._frozen)return this;if(this.has(s))this.values[s]=a;else{var e=this,r=this.list,d=this.events,n=this.parent;Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return r[s]},set:function(h){if(!e._frozen){var f=r[s];r[s]=h,d.emit(m.CHANGE_DATA,n,s,h,f),d.emit(m.CHANGE_DATA_KEY+s,n,h,f)}}}),r[s]=a,d.emit(m.SET_DATA,n,s,a)}return this},each:function(s,a){for(var e=[this.parent,null,void 0],r=1;r<arguments.length;r++)e.push(arguments[r]);for(var d in this.list)e[1]=d,e[2]=this.list[d],s.apply(a,e);return this},merge:function(s,a){a===void 0&&(a=!0);for(var e in s)s.hasOwnProperty(e)&&(a||!a&&!this.has(e))&&this.setValue(e,s[e]);return this},remove:function(s){if(this._frozen)return this;if(Array.isArray(s))for(var a=0;a<s.length;a++)this.removeValue(s[a]);else return this.removeValue(s);return this},removeValue:function(s){if(this.has(s)){var a=this.list[s];delete this.list[s],delete this.values[s],this.events.emit(m.REMOVE_DATA,this.parent,s,a)}return this},pop:function(s){var a=void 0;return!this._frozen&&this.has(s)&&(a=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(m.REMOVE_DATA,this.parent,s,a)),a},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var a in this.list)this.list[a]!==void 0&&s++;return s}}});p.exports=l},63646:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(45893),l=t(37277),s=t(44594),a=new u({Extends:m,initialize:function(r){m.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(s.BOOT,this.boot,this),r.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){m.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});l.register("DataManagerPlugin",a,"data"),p.exports=a},10700:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},93608:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},60883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},69780:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},22166:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},24882:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84148),m={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function l(){if(typeof importScripts=="function")return m;m.audioData=!!window.Audio,m.webAudio=!!(window.AudioContext||window.webkitAudioContext);var s=document.createElement("audio"),a=!!s.canPlayType;try{if(a){var e=function(n,h){var f=s.canPlayType("audio/"+n).replace(/^no$/,"");return h?!!(f||s.canPlayType("audio/"+h).replace(/^no$/,"")):!!f};if(m.ogg=e('ogg; codecs="vorbis"'),m.opus=e('ogg; codecs="opus"',"opus"),m.mp3=e("mpeg"),m.wav=e("wav"),m.m4a=e("x-m4a"),m.aac=e("aac"),m.flac=e("flac","x-flac"),m.webm=e('webm; codecs="vorbis"'),s.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(u.edge)m.dolby=!0;else if(u.safari&&u.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),d=parseInt(RegExp.$2,10);(r===10&&d>=11||r>10)&&(m.dolby=!0)}}}}catch{}return m}p.exports=l()},84148:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25892),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function l(){var s=navigator.userAgent;return/Edg\/\d+/.test(s)?(m.edge=!0,m.es2019=!0):/OPR/.test(s)?(m.opera=!0,m.es2019=!0):/Chrome\/(\d+)/.test(s)&&!u.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10),m.es2019=m.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10),m.es2019=m.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(s)&&u.iOS?(m.mobileSafari=!0,m.es2019=!0):/MSIE (\d+\.\d+);/.test(s)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(s)&&!u.windowsPhone?(m.safari=!0,m.safariVersion=parseInt(RegExp.$1,10),m.es2019=m.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(m.silk=!0),m}p.exports=l()},89289:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27919),m={supportInverseAlpha:!1,supportNewBlendModes:!1};function l(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",d=new Image;return d.onload=function(){var n=new Image;n.onload=function(){var h=u.create2D(n,6),f=h.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(d,0,0),f.drawImage(n,2,0),!f.getImageData(2,0,1,1))return!1;var c=f.getImageData(2,0,1,1).data;u.remove(n),m.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},n.src=e+"/wCKxvRF"+r},d.src=e+"AP804Oa6"+r,!1}function s(){var e=u.create2D(this,2),r=e.getContext("2d",{willReadFrequently:!0});r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var d=r.getImageData(0,0,1,1);if(d===null)return!1;r.putImageData(d,1,0);var n=r.getImageData(1,0,1,1),h=n.data[0]===d.data[0]&&n.data[1]===d.data[1]&&n.data[2]===d.data[2]&&n.data[3]===d.data[3];return u.remove(this),h}function a(){return typeof importScripts!="function"&&document!==void 0&&(m.supportNewBlendModes=l(),m.supportInverseAlpha=s()),m}p.exports=a()},89357:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25892),m=t(84148),l=t(27919),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function a(){var r=new ArrayBuffer(4),d=new Uint8Array(r),n=new Uint32Array(r);return d[0]=161,d[1]=178,d[2]=195,d[3]=212,n[0]===3569595041?!0:n[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,s.fileSystem=!!window.requestFileSystem;var r=!1,d=function(){if(window.WebGLRenderingContext)try{var n=l.createWebGL(this),h=n.getContext("webgl")||n.getContext("experimental-webgl"),f=l.create2D(this),c=f.getContext("2d",{willReadFrequently:!0}),v=c.createImageData(1,1);return r=v.data instanceof Uint8ClampedArray,l.remove(n),l.remove(f),!!h}catch{return!1}return!1};return s.webGL=d(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(s.getUserMedia=!1),!u.iOS&&(m.ie||m.firefox||m.chrome)&&(s.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=a()),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&r,s}p.exports=e()},91639:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return T;var u,m="Fullscreen",l="FullScreen",s=["request"+m,"request"+l,"webkitRequest"+m,"webkitRequest"+l,"msRequest"+m,"msRequest"+l,"mozRequest"+l,"mozRequest"+m];for(u=0;u<s.length;u++)if(document.documentElement[s[u]]){T.available=!0,T.request=s[u];break}var a=["cancel"+l,"exit"+m,"webkitCancel"+l,"webkitExit"+m,"msCancel"+l,"msExit"+m,"mozCancel"+l,"mozExit"+m];if(T.available){for(u=0;u<a.length;u++)if(document[a[u]]){T.cancel=a[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}p.exports=t()},31784:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84148),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function l(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||u.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":u.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}p.exports=l()},25892:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return T;var u=navigator.userAgent;/Windows/.test(u)?T.windows=!0:/Mac OS/.test(u)&&!/like Mac OS/.test(u)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(u)?T.android=!0:/Linux/.test(u)?T.linux=!0:/iP[ao]d|iPhone/i.test(u)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=u.toLowerCase().indexOf("iphone")!==-1,T.iPad=u.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(u)||/\bKF[A-Z][A-Z]+/.test(u)||/Silk.*Mobile Safari/.test(u)?T.kindle=!0:/CrOS/.test(u)&&(T.chromeOS=!0),(/Windows Phone/i.test(u)||/IEMobile/i.test(u))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var m=/Silk/.test(u);return(T.windows||T.macOS||T.linux&&!m||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(u)&&/Touch/i.test(u))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(u)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}p.exports=t()},43267:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95540),m={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function l(){if(typeof importScripts=="function")return m;var s=document.createElement("video"),a=!!s.canPlayType,e=/^no$/;try{a&&(s.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(m.ogg=!0),s.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(m.h264=!0,m.mp4=!0),s.canPlayType("video/x-m4v").replace(e,"")&&(m.m4v=!0),s.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(m.webm=!0),s.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(m.vp9=!0),s.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(m.hls=!0))}catch{}return s.parentNode&&s.parentNode.removeChild(s),m.getVideoURL=function(r){Array.isArray(r)||(r=[r]);for(var d=0;d<r.length;d++){var n=u(r[d],"url",r[d]);if(n.indexOf("blob:")===0)return{url:n,type:""};var h;if(n.indexOf("data:")===0?h=n.split(",")[0].match(/\/(.*?);/):h=n.match(/\.([a-zA-Z0-9]+)($|\?)/),h=u(r[d],"type",h?h[1]:"").toLowerCase(),m[h])return{url:n,type:h}}return null},m}p.exports=l()},82264:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new Float32Array(20),l=new u({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(s){return this._matrix.set(s),this._dirty=!0,this},reset:function(){var s=this._matrix;return s.fill(0),s[0]=1,s[6]=1,s[12]=1,s[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var s=this._data;return this._dirty&&(s.set(this._matrix),s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._dirty=!1),s},brightness:function(s,a){s===void 0&&(s=0),a===void 0&&(a=!1);var e=s;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],a)},saturate:function(s,a){s===void 0&&(s=0),a===void 0&&(a=!1);var e=s*2/3+1,r=(e-1)*-.5;return this.multiply([e,r,r,0,0,r,e,r,0,0,r,r,e,0,0,0,0,0,1,0],a)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,a){s===void 0&&(s=0),a===void 0&&(a=!1),s=s/180*Math.PI;var e=Math.cos(s),r=Math.sin(s),d=.213,n=.715,h=.072;return this.multiply([d+e*(1-d)+r*-d,n+e*-n+r*-n,h+e*-h+r*(1-h),0,0,d+e*-d+r*.143,n+e*(1-n)+r*.14,h+e*-h+r*-.283,0,0,d+e*-d+r*-(1-d),n+e*-n+r*n,h+e*(1-h)+r*h,0,0,0,0,0,1,0],a)},grayscale:function(s,a){return s===void 0&&(s=1),a===void 0&&(a=!1),this.saturate(-s,a)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply(l.BLACK_WHITE,s)},contrast:function(s,a){s===void 0&&(s=0),a===void 0&&(a=!1);var e=s+1,r=-.5*(e-1);return this.multiply([e,0,0,0,r,0,e,0,0,r,0,0,e,0,r,0,0,0,1,0],a)},negative:function(s){return s===void 0&&(s=!1),this.multiply(l.NEGATIVE,s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply(l.DESATURATE_LUMINANCE,s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply(l.SEPIA,s)},night:function(s,a){return s===void 0&&(s=.1),a===void 0&&(a=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],a)},lsd:function(s){return s===void 0&&(s=!1),this.multiply(l.LSD,s)},brown:function(s){return s===void 0&&(s=!1),this.multiply(l.BROWN,s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply(l.VINTAGE,s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply(l.KODACHROME,s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply(l.TECHNICOLOR,s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply(l.POLAROID,s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply(l.SHIFT_BGR,s)},multiply:function(s,a){a===void 0&&(a=!1),a||this.reset();var e=this._matrix,r=m;return r.set(e),e.set([r[0]*s[0]+r[1]*s[5]+r[2]*s[10]+r[3]*s[15],r[0]*s[1]+r[1]*s[6]+r[2]*s[11]+r[3]*s[16],r[0]*s[2]+r[1]*s[7]+r[2]*s[12]+r[3]*s[17],r[0]*s[3]+r[1]*s[8]+r[2]*s[13]+r[3]*s[18],r[0]*s[4]+r[1]*s[9]+r[2]*s[14]+r[3]*s[19]+r[4],r[5]*s[0]+r[6]*s[5]+r[7]*s[10]+r[8]*s[15],r[5]*s[1]+r[6]*s[6]+r[7]*s[11]+r[8]*s[16],r[5]*s[2]+r[6]*s[7]+r[7]*s[12]+r[8]*s[17],r[5]*s[3]+r[6]*s[8]+r[7]*s[13]+r[8]*s[18],r[5]*s[4]+r[6]*s[9]+r[7]*s[14]+r[8]*s[19]+r[9],r[10]*s[0]+r[11]*s[5]+r[12]*s[10]+r[13]*s[15],r[10]*s[1]+r[11]*s[6]+r[12]*s[11]+r[13]*s[16],r[10]*s[2]+r[11]*s[7]+r[12]*s[12]+r[13]*s[17],r[10]*s[3]+r[11]*s[8]+r[12]*s[13]+r[13]*s[18],r[10]*s[4]+r[11]*s[9]+r[12]*s[14]+r[13]*s[19]+r[14],r[15]*s[0]+r[16]*s[5]+r[17]*s[10]+r[18]*s[15],r[15]*s[1]+r[16]*s[6]+r[17]*s[11]+r[18]*s[16],r[15]*s[2]+r[16]*s[7]+r[17]*s[12]+r[18]*s[17],r[15]*s[3]+r[16]*s[8]+r[17]*s[13]+r[18]*s[18],r[15]*s[4]+r[16]*s[9]+r[17]*s[14]+r[18]*s[19]+r[19]]),this._dirty=!0,this}});l.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],l.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],l.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],l.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],l.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],l.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],l.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],l.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],l.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],l.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],l.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=l},51767:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(29747),l=new u({initialize:function(a,e,r){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(a,e,r)},set:function(s,a,e){return s===void 0&&(s=0),a===void 0&&(a=0),e===void 0&&(e=0),this._rgb=[s,a,e],this.onChange(),this},equals:function(s,a,e){var r=this._rgb;return r[0]===s&&r[1]===a&&r[2]===e},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=l},60461:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=T},54312:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62235),m=t(35893),l=t(86327),s=t(88417),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,m(r)+d),l(e,u(r)+n),e};p.exports=a},46768:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62235),m=t(26541),l=t(86327),s=t(385),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,m(r)-d),l(e,u(r)+n),e};p.exports=a},35827:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62235),m=t(54380),l=t(86327),s=t(40136),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,m(r)+d),l(e,u(r)+n),e};p.exports=a},46871:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66786),m=t(35893),l=t(7702),s=function(a,e,r,d){return r===void 0&&(r=0),d===void 0&&(d=0),u(a,m(e)+r,l(e)+d),a};p.exports=s},5198:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7702),m=t(26541),l=t(20786),s=t(385),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,m(r)-d),l(e,u(r)+n),e};p.exports=a},11879:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(60461),m=[];m[u.BOTTOM_CENTER]=t(54312),m[u.BOTTOM_LEFT]=t(46768),m[u.BOTTOM_RIGHT]=t(35827),m[u.CENTER]=t(46871),m[u.LEFT_CENTER]=t(5198),m[u.RIGHT_CENTER]=t(80503),m[u.TOP_CENTER]=t(89698),m[u.TOP_LEFT]=t(922),m[u.TOP_RIGHT]=t(21373),m[u.LEFT_BOTTOM]=m[u.BOTTOM_LEFT],m[u.LEFT_TOP]=m[u.TOP_LEFT],m[u.RIGHT_BOTTOM]=m[u.BOTTOM_RIGHT],m[u.RIGHT_TOP]=m[u.TOP_RIGHT];var l=function(s,a,e,r,d){return m[e](s,a,r,d)};p.exports=l},80503:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7702),m=t(54380),l=t(20786),s=t(40136),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,m(r)+d),l(e,u(r)+n),e};p.exports=a},89698:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35893),m=t(17717),l=t(88417),s=t(66737),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),l(e,u(r)+d),s(e,m(r)-n),e};p.exports=a},922:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26541),m=t(17717),l=t(385),s=t(66737),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),l(e,u(r)-d),s(e,m(r)-n),e};p.exports=a},21373:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(54380),m=t(17717),l=t(40136),s=t(66737),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),l(e,u(r)+d),s(e,m(r)-n),e};p.exports=a},91660:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(60461),m=t(79291),l={In:t(91660),To:t(16694)};l=m(!1,l,u),p.exports=l},21578:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62235),m=t(35893),l=t(88417),s=t(66737),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),l(e,m(r)+d),s(e,u(r)+n),e};p.exports=a},10210:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62235),m=t(26541),l=t(385),s=t(66737),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),l(e,m(r)-d),s(e,u(r)+n),e};p.exports=a},82341:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62235),m=t(54380),l=t(40136),s=t(66737),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),l(e,m(r)+d),s(e,u(r)+n),e};p.exports=a},87958:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62235),m=t(26541),l=t(86327),s=t(40136),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,m(r)-d),l(e,u(r)+n),e};p.exports=a},40080:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7702),m=t(26541),l=t(20786),s=t(40136),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,m(r)-d),l(e,u(r)+n),e};p.exports=a},88466:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26541),m=t(17717),l=t(40136),s=t(66737),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),l(e,u(r)-d),s(e,m(r)-n),e};p.exports=a},38829:(p,T,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(60461),m=[];m[u.BOTTOM_CENTER]=t(21578),m[u.BOTTOM_LEFT]=t(10210),m[u.BOTTOM_RIGHT]=t(82341),m[u.LEFT_BOTTOM]=t(87958),m[u.LEFT_CENTER]=t(40080),m[u.LEFT_TOP]=t(88466),m[u.RIGHT_BOTTOM]=t(19211),m[u.RIGHT_CENTER]=t(34609),m[u.RIGHT_TOP]=t(48741),m[u.TOP_CENTER]=t(49440),m[u.TOP_LEFT]=t(81288),m[u.TOP_RIGHT]=t(61323);var l=function(s,a,e,r,d){return m[e](s,a,r,d)};p.exports=l},19211:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62235),m=t(54380),l=t(86327),s=t(385),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,m(r)+d),l(e,u(r)+n),e};p.exports=a},34609:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7702),m=t(54380),l=t(20786),s=t(385),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,m(r)+d),l(e,u(r)+n),e};p.exports=a},48741:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(54380),m=t(17717),l=t(385),s=t(66737),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),l(e,u(r)+d),s(e,m(r)-n),e};p.exports=a},49440:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35893),m=t(17717),l=t(86327),s=t(88417),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,u(r)+d),l(e,m(r)-n),e};p.exports=a},81288:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26541),m=t(17717),l=t(86327),s=t(385),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,u(r)-d),l(e,m(r)-n),e};p.exports=a},61323:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(54380),m=t(17717),l=t(86327),s=t(40136),a=function(e,r,d,n){return d===void 0&&(d=0),n===void 0&&(n=0),s(e,u(r)+d),l(e,m(r)-n),e};p.exports=a},16694:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88417),m=t(20786),l=function(s,a,e){return u(s,a),m(s,e)};p.exports=l},62235:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.y+t.height-t.height*t.originY};p.exports=T},72873:(p,T,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62235),m=t(26541),l=t(54380),s=t(17717),a=t(87841),e=function(r,d){d===void 0&&(d=new a);var n=m(r),h=s(r);return d.x=n,d.y=h,d.width=l(r)-n,d.height=u(r)-h,d};p.exports=e},35893:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=T},7702:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=T},26541:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x-t.width*t.originX};p.exports=T},87431:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.width*t.originX};p.exports=T},46928:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.height*t.originY};p.exports=T},54380:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x+t.width-t.width*t.originX};p.exports=T},17717:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.y-t.height*t.originY};p.exports=T},86327:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.y=u-t.height+t.height*t.originY,t};p.exports=T},88417:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.width*t.originX;return t.x=u+m-t.width*.5,t};p.exports=T},20786:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.height*t.originY;return t.y=u+m-t.height*.5,t};p.exports=T},385:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x=u+t.width*t.originX,t};p.exports=T},40136:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x=u-t.width+t.width*t.originX,t};p.exports=T},66737:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.y=u+t.height*t.originY,t};p.exports=T},58724:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(t){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(m){t.style["image-rendering"]=m}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=T},27919:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8054),m=t(68703),l=[],s=!1,a=function(){var e=function(y,C,S,P,w){C===void 0&&(C=1),S===void 0&&(S=1),P===void 0&&(P=u.CANVAS),w===void 0&&(w=!1);var R,L=n(P);return L===null?(L={parent:y,canvas:document.createElement("canvas"),type:P},P===u.CANVAS&&l.push(L),R=L.canvas):(L.parent=y,R=L.canvas),w&&(L.parent=R),R.width=C,R.height=S,s&&P===u.CANVAS&&m.disable(R.getContext("2d",{willReadFrequently:!1})),R},r=function(y,C,S){return e(y,C,S,u.CANVAS)},d=function(y,C,S){return e(y,C,S,u.WEBGL)},n=function(y){if(y===void 0&&(y=u.CANVAS),y===u.WEBGL)return null;for(var C=0;C<l.length;C++){var S=l[C];if(!S.parent&&S.type===y)return S}return null},h=function(y){var C=y instanceof HTMLCanvasElement;l.forEach(function(S){(C&&S.canvas===y||!C&&S.parent===y)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},f=function(){var y=0;return l.forEach(function(C){C.parent&&y++}),y},c=function(){return l.length-f()},v=function(){s=!0},g=function(){s=!1};return{create2D:r,create:e,createWebGL:d,disableSmoothing:v,enableSmoothing:g,first:n,free:c,pool:l,remove:h,total:f}};p.exports=a()},68703:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",t=function(){var u=function(a){for(var e=["i","webkitI","msI","mozI","oI"],r=0;r<e.length;r++){var d=e[r]+"mageSmoothingEnabled";if(d in a)return d}return null},m=function(a){return T===""&&(T=u(a)),T&&(a[T]=!0),a},l=function(a){return T===""&&(T=u(a)),T&&(a[T]=!1),a},s=function(a){return T!==null?a[T]:null};return{disable:l,enable:m,getPrefix:u,isEnabled:s}};p.exports=t()},65208:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u="none"),t.style.msTouchAction=u,t.style["ms-touch-action"]=u,t.style["touch-action"]=u,t};p.exports=T},91610:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u="none");var m=["-webkit-","-khtml-","-moz-","-ms-",""];return m.forEach(function(l){t.style[l+"user-select"]=u}),t.style["-webkit-touch-callout"]=u,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=T},26253:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(37589),l=t(1e3),s=t(7537),a=t(87837),e=new u({initialize:function(d,n,h,f){d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(d,n,h,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,d,n,h,f){return h===void 0&&(h=255),f===void 0&&(f=!0),this._locked=!0,this.red=r,this.green=d,this.blue=n,this.alpha=h,this._locked=!1,this.update(f)},setGLTo:function(r,d,n,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=r,this.greenGL=d,this.blueGL=n,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,d,n){return s(r,d,n,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var d=this.r,n=this.g,h=this.b,f=this.a;return this._color=m(d,n,h),this._color32=l(d,n,h,f),this._rgba="rgba("+d+","+n+","+h+","+f/255+")",r&&a(d,n,h,this),this},updateHSV:function(){var r=this.r,d=this.g,n=this.b;return a(r,d,n,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,d){r===void 0&&(r=0),d===void 0&&(d=255);var n=Math.floor(r+Math.random()*(d-r)),h=Math.floor(r+Math.random()*(d-r)),f=Math.floor(r+Math.random()*(d-r));return this.setTo(n,h,f)},randomGray:function(r,d){r===void 0&&(r=0),d===void 0&&(d=255);var n=Math.floor(r+Math.random()*(d-r));return this.setTo(n,n,n)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var d=this.r,n=this.g,h=this.b;return d=Math.max(0,Math.min(255,d-Math.round(255*-(r/100)))),n=Math.max(0,Math.min(255,n-Math.round(255*-(r/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(r/100)))),this.setTo(d,n,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,s(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,s(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,s(this._h,this._s,r,this)}}});p.exports=e},92728:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37589),m=function(l){l===void 0&&(l=1024);var s=[],a=255,e,r=255,d=0,n=0;for(e=0;e<=a;e++)s.push({r,g:e,b:n,color:u(r,e,n)});for(d=255,e=a;e>=0;e--)s.push({r:e,g:d,b:n,color:u(e,d,n)});for(r=0,e=0;e<=a;e++,d--)s.push({r,g:d,b:e,color:u(r,d,e)});for(d=0,n=255,e=0;e<=a;e++,n--,r++)s.push({r,g:d,b:n,color:u(r,d,n)});if(l===1024)return s;var h=[],f=0,c=1024/l;for(e=0;e<l;e++)h.push(s[Math.floor(f)]),f+=c;return h};p.exports=m},91588:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(u.a=t>>>24),u};p.exports=T},62957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u=t.toString(16);return u.length===1?"0"+u:u};p.exports=T},37589:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t<<16|u<<8|m};p.exports=T},1e3:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){return l<<24|t<<16|u<<8|m};p.exports=T},62183:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40987),m=t(89528),l=function(s,a,e){var r=e,d=e,n=e;if(a!==0){var h=e<.5?e*(1+a):e+a-e*a,f=2*e-h;r=m(f,h,s+1/3),d=m(f,h,s),n=m(f,h,s-1/3)}var c=new u;return c.setGLTo(r,d,n,1)};p.exports=l},27939:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7537),m=function(l,s){l===void 0&&(l=1),s===void 0&&(s=1);for(var a=[],e=0;e<=359;e++)a.push(u(e/359,l,s));return a};p.exports=m},7537:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37589);function m(s,a,e,r){var d=(s+a*6)%6,n=Math.min(d,4-d,1);return Math.round(255*(r-r*e*Math.max(0,n)))}var l=function(s,a,e,r){a===void 0&&(a=1),e===void 0&&(e=1);var d=m(5,s,a,e),n=m(3,s,a,e),h=m(1,s,a,e);return r?r.setTo?r.setTo(d,n,h,r.alpha,!0):(r.r=d,r.g=n,r.b=h,r.color=u(d,n,h),r):{r:d,g:n,b:h,color:u(d,n,h)}};p.exports=l},70238:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40987),m=function(l){var s=new u;l=l.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,h,f,c){return h+h+f+f+c+c});var a=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);if(a){var e=parseInt(a[1],16),r=parseInt(a[2],16),d=parseInt(a[3],16);s.setTo(e,r,d)}return s};p.exports=m},89528:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?t+(u-t)*6*m:m<.5?u:m<.6666666666666666?t+(u-t)*(.6666666666666666-m)*6:t};p.exports=T},30100:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40987),m=t(90664),l=function(s){var a=m(s);return new u(a.r,a.g,a.b,a.a)};p.exports=l},90664:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=T},13699:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28915),m=function(a,e,r,d,n,h,f,c){f===void 0&&(f=100),c===void 0&&(c=0);var v=c/f;return{r:u(a,d,v),g:u(e,n,v),b:u(r,h,v)}},l=function(a,e,r,d){return r===void 0&&(r=100),d===void 0&&(d=0),m(a.r,a.g,a.b,e.r,e.g,e.b,r,d)},s=function(a,e,r,d,n,h){return n===void 0&&(n=100),h===void 0&&(h=0),m(a.r,a.g,a.b,e,r,d,n,h)};p.exports={RGBWithRGB:m,ColorWithRGB:s,ColorWithColor:l}},68957:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40987),m=function(l){return new u(l.r,l.g,l.b,l.a)};p.exports=m},87388:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40987),m=function(l){var s=new u,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(l.toLowerCase());if(a){var e=parseInt(a[1],10),r=parseInt(a[2],10),d=parseInt(a[3],10),n=a[4]!==void 0?parseFloat(a[4]):1;s.setTo(e,r,d,n*255)}return s};p.exports=m},87837:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){l===void 0&&(l={h:0,s:0,v:0}),t/=255,u/=255,m/=255;var s=Math.min(t,u,m),a=Math.max(t,u,m),e=a-s,r=0,d=a===0?0:e/a,n=a;return a!==s&&(a===t?r=(u-m)/e+(u<m?6:0):a===u?r=(m-t)/e+2:a===m&&(r=(t-u)/e+4),r/=6),l.hasOwnProperty("_h")?(l._h=r,l._s=d,l._v=n):(l.h=r,l.s=d,l.v=n),l};p.exports=T},75723:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62957),m=function(l,s,a,e,r){return e===void 0&&(e=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(l<<16)+(s<<8)+a).toString(16).slice(1,7):"0x"+u(e)+u(l)+u(s)+u(a)};p.exports=m},85386:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(30976),m=t(40987),l=function(s,a){return s===void 0&&(s=0),a===void 0&&(a=255),new m(u(s,a),u(s,a),u(s,a))};p.exports=l},80333:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70238),m=t(30100),l=t(68957),s=t(87388),a=function(e){var r=typeof e;switch(r){case"string":return e.substr(0,3).toLowerCase()==="rgb"?s(e):u(e);case"number":return m(e);case"object":return l(e)}};p.exports=a},3956:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40987);u.ColorSpectrum=t(92728),u.ColorToRGBA=t(91588),u.ComponentToHex=t(62957),u.GetColor=t(37589),u.GetColor32=t(1e3),u.HexStringToColor=t(70238),u.HSLToColor=t(62183),u.HSVColorWheel=t(27939),u.HSVToRGB=t(7537),u.HueToComponent=t(89528),u.IntegerToColor=t(30100),u.IntegerToRGB=t(90664),u.Interpolate=t(13699),u.ObjectToColor=t(68957),u.RandomRGB=t(85386),u.RGBStringToColor=t(87388),u.RGBToHSV=t(87837),u.RGBToString=t(75723),u.ValueToColor=t(80333),p.exports=u},27460:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(39429),l=new u({initialize:function(a,e,r,d,n,h){e||(e=a.sys.make.image({x:r,y:d,key:n,frame:h,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,a,e){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,a,e)},postRenderWebGL:function(s,a,e){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,a,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});m.register("bitmapMask",function(s,a,e,r,d){return new l(this.scene,s,a,e,r,d)}),p.exports=l},80661:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a){this.geometryMask=a,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(l){return this.geometryMask=l,this},setInvertAlpha:function(l){return l===void 0&&(l=!0),this.invertAlpha=l,this},preRenderWebGL:function(l,s,a){var e=l.gl;l.flush(),l.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),l.maskCount=0),l.currentCameraMask.mask!==this&&(l.currentMask.mask=this),l.maskStack.push({mask:this,camera:a}),this.applyStencil(l,a,!0),l.maskCount++},applyStencil:function(l,s,a){var e=l.gl,r=this.geometryMask,d=l.maskCount,n=255;e.colorMask(!1,!1,!1,!1),a?(e.stencilFunc(e.EQUAL,d,n),e.stencilOp(e.KEEP,e.KEEP,e.INCR),d++):(e.stencilFunc(e.EQUAL,d+1,n),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=d,r.renderWebGL(l,r,s),l.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,d,n):e.stencilFunc(e.EQUAL,d,n)},postRenderWebGL:function(l){var s=l.gl;l.maskStack.pop(),l.maskCount--,l.flush();var a=l.currentMask;if(l.maskStack.length===0)a.mask=null,s.disable(s.STENCIL_TEST);else{var e=l.maskStack[l.maskStack.length-1];e.mask.applyStencil(l,e.camera,!1),l.currentCameraMask.mask!==e.mask?(a.mask=e.mask,a.camera=e.camera):a.mask=null}},preRenderCanvas:function(l,s,a){var e=this.geometryMask;l.currentContext.save(),e.renderCanvas(l,e,a,null,null,!0),l.currentContext.clip()},postRenderCanvas:function(l){l.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=m},69781:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e,r){(!a||a==="")&&(a=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=s,this.fragmentSrc=a,this.vertexSrc=e,this.uniforms=r}});p.exports=m},40366:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m;if(u)typeof u=="string"?m=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(m=u);else if(t.parentElement||u===null)return t;return m||(m=document.body),m.appendChild(t),t};p.exports=T},83719:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40366),m=function(l){var s=l.config;if(!(!s.parent||!s.domCreateContainer)){var a=document.createElement("div");a.style.cssText=["display: block;","width: "+l.scale.width+"px;","height: "+l.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),l.domContainer=a,u(a,s.parent)}};p.exports=m},57264:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25892),m=function(l){if(document.readyState==="complete"||document.readyState==="interactive"){l();return}var s=function(){document.removeEventListener("deviceready",s,!0),document.removeEventListener("DOMContentLoaded",s,!0),window.removeEventListener("load",s,!0),l()};document.body?u.cordova?document.addEventListener("deviceready",s,!1):(document.addEventListener("DOMContentLoaded",s,!0),window.addEventListener("load",s,!0)):window.setTimeout(s,20)};p.exports=m},57811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){if(!t)return window.innerHeight;var u=Math.abs(window.orientation),m={w:0,h:0},l=document.createElement("div");return l.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(l),m.w=u===90?l.offsetHeight:window.innerWidth,m.h=u===90?window.innerWidth:l.offsetHeight,document.documentElement.removeChild(l),l=null,Math.abs(window.orientation)!==90?m.h:m.w};p.exports=T},45818:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13560),m=function(l,s){var a=window.screen,e=a?a.orientation||a.mozOrientation||a.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return u.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return u.ORIENTATION.LANDSCAPE}else return s>l?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE};p.exports=m},74403:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u;return t!==""&&(typeof t=="string"?u=document.getElementById(t):t&&t.nodeType===1&&(u=t)),u||(u=document.body),u};p.exports=T},56836:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u="";try{if(window.DOMParser){var m=new DOMParser;u=m.parseFromString(t,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(t)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};p.exports=T},35846:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=T},43092:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(29747),l=new u({initialize:function(){this.isRunning=!1,this.callback=m,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var a=this;this.step=function e(r){a.callback(r),a.isRunning&&(a.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){a.isRunning&&(a.timeOutID=window.setTimeout(e,a.delay)),a.callback(window.performance.now())}},start:function(s,a,e){this.isRunning||(this.callback=s,this.isSetTimeOut=a,this.delay=e,this.isRunning=!0,this.timeOutID=a?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=m}});p.exports=l},84902:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};p.exports=u},47565:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50792),l=t(37277),s=new u({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});l.register("EventEmitter",s,"events"),p.exports=s},93055:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(47565)}},20122:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r){r===void 0&&(r=1),m.call(this,l.BARREL,e),this.amount=r}});p.exports=s},32251:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h,f,c){d===void 0&&(d=1),n===void 0&&(n=1),h===void 0&&(h=1),f===void 0&&(f=1),c===void 0&&(c=4),m.call(this,l.BLOOM,e),this.steps=c,this.offsetX=d,this.offsetY=n,this.blurStrength=h,this.strength=f,this.glcolor=[1,1,1],r!=null&&(this.color=r)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var e=this.glcolor;e[0]=(a>>16&255)/255,e[1]=(a>>8&255)/255,e[2]=(a&255)/255}}});p.exports=s},9047:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h,f,c){r===void 0&&(r=0),d===void 0&&(d=2),n===void 0&&(n=2),h===void 0&&(h=1),c===void 0&&(c=4),m.call(this,l.BLUR,e),this.quality=r,this.x=d,this.y=n,this.steps=c,this.strength=h,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var e=this.glcolor;e[0]=(a>>16&255)/255,e[1]=(a>>8&255)/255,e[2]=(a&255)/255}}});p.exports=s},27885:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h,f,c,v){r===void 0&&(r=.5),d===void 0&&(d=1),n===void 0&&(n=.2),h===void 0&&(h=!1),f===void 0&&(f=1),c===void 0&&(c=1),v===void 0&&(v=1),m.call(this,l.BOKEH,e),this.radius=r,this.amount=d,this.contrast=n,this.isTiltShift=h,this.strength=v,this.blurX=f,this.blurY=c}});p.exports=s},12578:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h,f){r===void 0&&(r=8),h===void 0&&(h=1),f===void 0&&(f=.005),m.call(this,l.CIRCLE,e),this.scale=h,this.feather=f,this.thickness=r,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],d!=null&&(this.color=d),n!=null&&(this.backgroundColor=n)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var e=this.glcolor;e[0]=(a>>16&255)/255,e[1]=(a>>8&255)/255,e[2]=(a&255)/255}},backgroundColor:{get:function(){var a=this.glcolor2;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var e=this.glcolor2;e[0]=(a>>16&255)/255,e[1]=(a>>8&255)/255,e[2]=(a&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(a){this.glcolor2[3]=a}}});p.exports=s},15802:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(89422),l=t(14811),s=new u({Extends:m,initialize:function(e){m.call(this),this.type=l.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=s},72898:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a){this.type=s,this.gameObject=a,this.active=!0},setActive:function(l){return this.active=l,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=m},44553:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n){r===void 0&&(r="__WHITE"),d===void 0&&(d=.005),n===void 0&&(n=.005),m.call(this,l.DISPLACEMENT,e),this.x=d,this.y=n,this.glTexture,this.setTexture(r)},setTexture:function(a){var e=this.gameObject.scene.sys.textures.getFrame(a);return e&&(this.glTexture=e.glTexture),this}});p.exports=s},68531:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h){d===void 0&&(d=4),n===void 0&&(n=0),h===void 0&&(h=!1),m.call(this,l.GLOW,e),this.outerStrength=d,this.innerStrength=n,this.knockout=h,this.glcolor=[1,1,1,1],r!==void 0&&(this.color=r)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var e=this.glcolor;e[0]=(a>>16&255)/255,e[1]=(a>>8&255)/255,e[2]=(a&255)/255}}});p.exports=s},37102:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h,f,c,v,g){n===void 0&&(n=.2),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=1),g===void 0&&(g=0),m.call(this,l.GRADIENT,e),this.alpha=n,this.size=g,this.fromX=h,this.fromY=f,this.toX=c,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],r!=null&&(this.color1=r),d!=null&&(this.color2=d)},color1:{get:function(){var a=this.glcolor1;return(a[0]<<16)+(a[1]<<8)+(a[2]|0)},set:function(a){var e=this.glcolor1;e[0]=a>>16&255,e[1]=a>>8&255,e[2]=a&255}},color2:{get:function(){var a=this.glcolor2;return(a[0]<<16)+(a[1]<<8)+(a[2]|0)},set:function(a){var e=this.glcolor2;e[0]=a>>16&255,e[1]=a>>8&255,e[2]=a&255}}});p.exports=s},86886:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r){r===void 0&&(r=1),m.call(this,l.PIXELATE,e),this.amount=r}});p.exports=s},92322:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h,f,c,v){r===void 0&&(r=0),d===void 0&&(d=0),n===void 0&&(n=.1),h===void 0&&(h=1),c===void 0&&(c=6),v===void 0&&(v=1),m.call(this,l.SHADOW,e),this.x=r,this.y=d,this.decay=n,this.power=h,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=v,f!==void 0&&(this.color=f)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var e=this.glcolor;e[0]=(a>>16&255)/255,e[1]=(a>>8&255)/255,e[2]=(a&255)/255}}});p.exports=s},39563:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h){r===void 0&&(r=.5),d===void 0&&(d=.5),n===void 0&&(n=3),h===void 0&&(h=!1),m.call(this,l.SHINE,e),this.speed=r,this.lineWidth=d,this.gradient=n,this.reveal=h}});p.exports=s},56448:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h){r===void 0&&(r=.5),d===void 0&&(d=.5),n===void 0&&(n=.5),h===void 0&&(h=.5),m.call(this,l.VIGNETTE,e),this.x=r,this.y=d,this.radius=n,this.strength=h}});p.exports=s},38433:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72898),l=t(14811),s=new u({Extends:m,initialize:function(e,r,d,n,h){r===void 0&&(r=.1),d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=!1),m.call(this,l.WIPE,e),this.progress=0,this.wipeWidth=r,this.direction=d,this.axis=n,this.reveal=h}});p.exports=s},14811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=T},66064:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79291),m=t(14811),l={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};l=u(!1,l,m),p.exports=l},25305:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10312),m=t(23568),l=function(s,a,e){a.x=m(e,"x",0),a.y=m(e,"y",0),a.depth=m(e,"depth",0),a.flipX=m(e,"flipX",!1),a.flipY=m(e,"flipY",!1);var r=m(e,"scale",null);typeof r=="number"?a.setScale(r):r!==null&&(a.scaleX=m(r,"x",1),a.scaleY=m(r,"y",1));var d=m(e,"scrollFactor",null);typeof d=="number"?a.setScrollFactor(d):d!==null&&(a.scrollFactorX=m(d,"x",1),a.scrollFactorY=m(d,"y",1)),a.rotation=m(e,"rotation",0);var n=m(e,"angle",null);n!==null&&(a.angle=n),a.alpha=m(e,"alpha",1);var h=m(e,"origin",null);if(typeof h=="number")a.setOrigin(h);else if(h!==null){var f=m(h,"x",.5),c=m(h,"y",.5);a.setOrigin(f,c)}a.blendMode=m(e,"blendMode",u.NORMAL),a.visible=m(e,"visible",!0);var v=m(e,"add",!0);return v&&s.sys.displayList.add(a),a.preUpdate&&s.sys.updateList.add(a),a};p.exports=l},13059:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23568),m=function(l,s){var a=u(s,"anims",null);if(a===null)return l;if(typeof a=="string")l.anims.play(a);else if(typeof a=="object"){var e=l.anims,r=u(a,"key",void 0);if(r){var d=u(a,"startFrame",void 0),n=u(a,"delay",0),h=u(a,"repeat",0),f=u(a,"repeatDelay",0),c=u(a,"yoyo",!1),v=u(a,"play",!1),g=u(a,"delayedPlay",0),y={key:r,delay:n,repeat:h,repeatDelay:f,yoyo:c,startFrame:d};v?e.play(y):g>0?e.playAfterDelay(y,g):e.load(y)}}return l};p.exports=m},8050:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(73162),l=t(37277),s=t(51708),a=t(44594),e=t(19186),r=new u({Extends:m,initialize:function(n){m.call(this,n),this.sortChildrenFlag=!1,this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},addChildCallback:function(d){d.displayList&&d.displayList!==this&&d.removeFromDisplayList(),d.parentContainer&&d.parentContainer.remove(d),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(s.ADDED_TO_SCENE,d,this.scene),this.events.emit(a.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(s.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,d,this.scene)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,n){return d._depth-n._depth},getChildren:function(){return this.list},shutdown:function(){for(var d=this.list;d.length;)d[0].destroy(!0);this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});l.register("DisplayList",r,"displayList"),p.exports=r},95643:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(53774),l=t(45893),s=t(50792),a=t(51708),e=t(44594),r=new u({Extends:s,initialize:function(n,h){s.call(this),this.scene=n,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this),n.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(d,n){return this.data||(this.data=new l(this)),this.data.set(d,n),this},incData:function(d,n){return this.data||(this.data=new l(this)),this.data.inc(d,n),this},toggleData:function(d){return this.data||(this.data=new l(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new l(this)),this.data.get(d)},setInteractive:function(d,n,h){return this.scene.sys.input.enable(this,d,n,h),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(d){var n=this.displayList&&this.displayList.active?this.displayList.willRender(d):!0;return!(!n||r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,n=this.parentContainer,h=[];n&&(h.unshift(n.getIndex(d)),d=n,n.parentContainer);)n=n.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(d)):h.unshift(this.scene.sys.displayList.getIndex(d)),h},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),d.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d&&d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(d){!this.scene||this.ignoreDestroy||(d===void 0&&(d=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this,d),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,p.exports=r},44603:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(37277),l=t(44594),s=new u({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(a,e){s.prototype.hasOwnProperty(a)||(s.prototype[a]=e)},s.remove=function(a){s.prototype.hasOwnProperty(a)&&delete s.prototype[a]},m.register("GameObjectCreator",s,"make"),p.exports=s},39429:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(37277),l=t(44594),s=new u({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},existing:function(a){return(a.renderCanvas||a.renderWebGL)&&this.displayList.add(a),a.preUpdate&&this.updateList.add(a),a},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(a,e){s.prototype.hasOwnProperty(a)||(s.prototype[a]=e)},s.remove=function(a){s.prototype.hasOwnProperty(a)&&delete s.prototype[a]},m.register("GameObjectFactory",s,"add"),p.exports=s},91296:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61340),m=new u,l=new u,s=new u,a={camera:m,sprite:l,calc:s},e=function(r,d,n){var h=m,f=l,c=s;return f.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(d.matrix),n?(h.multiplyWithOffset(n,-d.scrollX*r.scrollFactorX,-d.scrollY*r.scrollFactorY),f.e=r.x,f.f=r.y):(f.e-=d.scrollX*r.scrollFactorX,f.f-=d.scrollY*r.scrollFactorY),h.multiply(f,c),a};p.exports=e},45027:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(25774),l=t(37277),s=t(44594),a=new u({Extends:m,initialize:function(r){m.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(s.BOOT,this.boot,this),r.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(s.PRE_UPDATE,this.update,this),e.on(s.UPDATE,this.sceneUpdate,this),e.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,r){for(var d=this._active,n=d.length,h=0;h<n;h++){var f=d[h];f.active&&f.preUpdate.call(f,e,r)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(s.PRE_UPDATE,this.update,this),r.off(s.UPDATE,this.sceneUpdate,this),r.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});l.register("UpdateList",a,"updateList"),p.exports=a},3217:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s,a,e,r,d,n,h,f,c,v,g){var y=m.x-u.displayOriginX+s,C=m.y-u.displayOriginY+a,S=y+m.w,P=C+m.h,w=e.getXRound(y,C,r),R=e.getYRound(y,C,r),L=e.getXRound(y,P,r),D=e.getYRound(y,P,r),F=e.getXRound(S,P,r),O=e.getYRound(S,P,r),B=e.getXRound(S,C,r),N=e.getYRound(S,C,r);t.batchQuad(u,w,R,L,D,F,O,B,N,l.u0,l.v0,l.u1,l.v1,d,n,h,f,c,v,g)};p.exports=T},53048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){if(m===void 0&&(m=!1),l===void 0)return l={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},l;var s=t.text,a=s.length,e=t.maxWidth,r=t.wordWrapCharCode,d=Number.MAX_VALUE,n=Number.MAX_VALUE,h=0,f=0,c=t.fontData.chars,v=t.fontData.lineHeight,g=t.letterSpacing,y=t.lineSpacing,C=0,S=0,P=0,w=null,R=t._align,L=0,D=0,F=t.fontSize/t.fontData.size,O=F*t.scaleX,B=F*t.scaleY,N=null,G=0,z=[],X=Number.MAX_VALUE,H=0,V=0,W=0,I,b=[],U=[],Y=null;if(e>0){for(I=0;I<a;I++){if(P=s.charCodeAt(I),P===10){Y!==null&&(b.push({word:Y.word,i:Y.i,x:Y.x*O,y:Y.y*B,w:Y.w*O,h:Y.h*B,cr:!0}),Y=null),C=0,S+=v+y,N=null;continue}if(w=c[P],!!w){if(N!==null)var $=w.kerning[G];P===r?Y!==null&&(b.push({word:Y.word,i:Y.i,x:Y.x*O,y:Y.y*B,w:Y.w*O,h:Y.h*B,cr:!1}),Y=null):(Y===null&&(Y={word:"",i:I,x:C,y:S,w:0,h:v,cr:!1}),Y.word=Y.word.concat(s[I]),Y.w+=w.xOffset+w.xAdvance+($!==void 0?$:0)),C+=w.xAdvance+g,N=w,G=P}}Y!==null&&b.push({word:Y.word,i:Y.i,x:Y.x*O,y:Y.y*B,w:Y.w*O,h:Y.h*B,cr:!1}),C=0,S=0,N=null,G=0;var j,K=0,J=[];for(I=0;I<b.length;I++){var k=b[I],_=k.x,et=k.x+k.w;if(j){var nt=_-(j.x+j.w);K=_-(nt+j.w),j=null}var it=_-K,ot=et-K;it>e||ot>e?(J.push(k.i-1),k.cr?(J.push(k.i+k.word.length),K=0,j=null):j=k):k.cr&&(J.push(k.i+k.word.length),K=0,j=null)}var ft=function(Q,tt,at){return Q.substr(0,tt)+at+Q.substr(tt+1)};for(I=J.length-1;I>=0;I--)s=ft(s,J[I],`
`);l.wrappedText=s,a=s.length,b=[],Y=null}var pt=0;for(I=0;I<a;I++){if(P=s.charCodeAt(I),P===10){Y!==null&&(b.push({word:Y.word,i:Y.i,x:Y.x*O,y:Y.y*B,w:Y.w*O,h:Y.h*B}),Y=null),C=0,S+=v+y,N=null,z[V]=W,W>H&&(H=W),W<X&&(X=W),V++,W=0;continue}if(w=c[P],!!w){if(L=C,D=S,N!==null){var mt=w.kerning[G];L+=mt!==void 0?mt:0}d>L&&(d=L),n>D&&(n=D);var rt=L+w.xAdvance,dt=D+v;h<rt&&(h=rt),f<dt&&(f=dt);var ct=w.xOffset+w.xAdvance+(mt!==void 0?mt:0);P===r?Y!==null&&(b.push({word:Y.word,i:Y.i,x:Y.x*O,y:Y.y*B,w:Y.w*O,h:Y.h*B}),Y=null):(Y===null&&(Y={word:"",i:pt,x:C,y:S,w:0,h:v}),Y.word=Y.word.concat(s[I]),Y.w+=ct),U.push({i:pt,idx:I,char:s[I],code:P,x:(w.xOffset+L)*F,y:(w.yOffset+S)*F,w:w.width*F,h:w.height*F,t:S*F,r:rt*F,b:v*F,line:V,glyph:w}),C+=w.xAdvance+g+(mt!==void 0?mt:0),N=w,G=P,W=rt*F,pt++}}if(Y!==null&&b.push({word:Y.word,i:Y.i,x:Y.x*O,y:Y.y*B,w:Y.w*O,h:Y.h*B}),z[V]=W,W>H&&(H=W),W<X&&(X=W),R>0)for(var Pt=0;Pt<U.length;Pt++){var Et=U[Pt];if(R===1){var Mt=(H-z[Et.line])/2;Et.x+=Mt,Et.r+=Mt}else if(R===2){var Dt=H-z[Et.line];Et.x+=Dt,Et.r+=Dt}}var wt=l.local,St=l.global,Nt=l.lines;return wt.x=d*F,wt.y=n*F,wt.width=h*F,wt.height=f*F,St.x=t.x-t._displayOriginX+d*O,St.y=t.y-t._displayOriginY+n*B,St.width=h*O,St.height=f*B,Nt.shortest=X,Nt.longest=H,Nt.lengths=z,u&&(wt.x=Math.ceil(wt.x),wt.y=Math.ceil(wt.y),wt.width=Math.ceil(wt.width),wt.height=Math.ceil(wt.height),St.x=Math.ceil(St.x),St.y=Math.ceil(St.y),St.width=Math.ceil(St.width),St.height=Math.ceil(St.height),Nt.shortest=Math.ceil(X),Nt.longest=Math.ceil(H)),m&&(t._displayOriginX=t.originX*wt.width,t._displayOriginY=t.originY*wt.height,St.x=t.x-t._displayOriginX*t.scaleX,St.y=t.y-t._displayOriginY*t.scaleY,u&&(St.x=Math.ceil(St.x),St.y=Math.ceil(St.y))),l.words=b,l.characters=U,l.lines.height=v,l.scale=F,l.scaleX=t.scaleX,l.scaleY=t.scaleY,l};p.exports=T},61327:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(21859),m=function(l,s,a,e,r,d,n){var h=l.sys.textures.get(a),f=h.get(e),c=l.sys.cache.xml.get(r);if(f&&c){var v=u(c,f,d,n,h);return l.sys.cache.bitmapFont.add(s,{data:v,texture:a,frame:e,fromAtlas:!0}),!0}else return!1};p.exports=m},6925:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35154),m=function(l,s){var a=s.width,e=s.height,r=Math.floor(a/2),d=Math.floor(e/2),n=u(s,"chars","");if(n!==""){var h=u(s,"image",""),f=l.sys.textures.getFrame(h),c=f.cutX,v=f.cutY,g=f.source.width,y=f.source.height,C=u(s,"offset.x",0),S=u(s,"offset.y",0),P=u(s,"spacing.x",0),w=u(s,"spacing.y",0),R=u(s,"lineSpacing",0),L=u(s,"charsPerRow",null);L===null&&(L=g/a,L>n.length&&(L=n.length));for(var D=C,F=S,O={retroFont:!0,font:h,size:a,lineHeight:e+R,chars:{}},B=0,N=0;N<n.length;N++){var G=n.charCodeAt(N),z=(c+D)/g,X=(v+F)/y,H=(c+D+a)/g,V=(v+F+e)/y;O.chars[G]={x:D,y:F,width:a,height:e,centerX:r,centerY:d,xOffset:0,yOffset:0,xAdvance:a,data:{},kerning:{},u0:z,v0:X,u1:H,v1:V},B++,B===L?(B=0,D=C,F+=e+w):D+=a+P}var W={data:O,frame:null,texture:h};return W}};p.exports=m},21859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(u,m){return parseInt(u.getAttribute(m),10)}var t=function(u,m,l,s,a){l===void 0&&(l=0),s===void 0&&(s=0);var e=m.cutX,r=m.cutY,d=m.source.width,n=m.source.height,h=m.sourceIndex,f={},c=u.getElementsByTagName("info")[0],v=u.getElementsByTagName("common")[0];f.font=c.getAttribute("face"),f.size=T(c,"size"),f.lineHeight=T(v,"lineHeight")+s,f.chars={};var g=u.getElementsByTagName("char"),y=m!==void 0&&m.trimmed;if(y)var C=m.height,S=m.width;for(var P=0;P<g.length;P++){var w=g[P],R=T(w,"id"),L=String.fromCharCode(R),D=T(w,"x"),F=T(w,"y"),O=T(w,"width"),B=T(w,"height");y&&(D<S&&(S=D),F<C&&(C=F)),y&&C!==0&&S!==0&&(D-=m.x,F-=m.y);var N=(e+D)/d,G=(r+F)/n,z=(e+D+O)/d,X=(r+F+B)/n;if(f.chars[R]={x:D,y:F,width:O,height:B,centerX:Math.floor(O/2),centerY:Math.floor(B/2),xOffset:T(w,"xoffset"),yOffset:T(w,"yoffset"),xAdvance:T(w,"xadvance")+l,data:{},kerning:{},u0:N,v0:G,u1:z,v1:X},a&&O!==0&&B!==0){var H=a.add(L,h,D,F,O,B);H&&H.setUVs(O,B,N,G,z,X)}}var V=u.getElementsByTagName("kerning");for(P=0;P<V.length;P++){var W=V[P],I=T(W,"first"),b=T(W,"second"),U=T(W,"amount");f.chars[b].kerning[I]=U}return f};p.exports=t},196:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87662),m=t(79291),l={Parse:t(6925)};l=m(!1,l,u),p.exports=l},87662:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=T},2638:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22186),m=t(83419),l=t(12310),s=new m({Extends:u,Mixins:[l],initialize:function(e,r,d,n,h,f,c){u.call(this,e,r,d,n,h,f,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(a,e){return this.cropWidth=a,this.cropHeight=e,this},setDisplayCallback:function(a){return this.displayCallback=a,this},setScrollX:function(a){return this.scrollX=a,this},setScrollY:function(a){return this.scrollY=a,this}});p.exports=s},86741:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20926),m=function(l,s,a,e){var r=s._text,d=r.length,n=l.currentContext;if(!(d===0||!u(l,n,s,a,e))){a.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.displayCallback,c=s.callbackData,v=s.fontData.chars,g=s.fontData.lineHeight,y=s._letterSpacing,C=0,S=0,P=0,w=null,R=0,L=0,D=0,F=0,O=0,B=0,N=null,G=0,z=s.frame.source.image,X=h.cutX,H=h.cutY,V=0,W=0,I=s._fontSize/s.fontData.size,b=s._align,U=0,Y=0;s.getTextBounds(!1);var $=s._bounds.lines;b===1?Y=($.longest-$.lengths[0])/2:b===2&&(Y=$.longest-$.lengths[0]),n.translate(-s.displayOriginX,-s.displayOriginY);var j=a.roundPixels;s.cropWidth>0&&s.cropHeight>0&&(n.beginPath(),n.rect(0,0,s.cropWidth,s.cropHeight),n.clip());for(var K=0;K<d;K++){if(W=I,V=0,P=r.charCodeAt(K),P===10){U++,b===1?Y=($.longest-$.lengths[U])/2:b===2&&(Y=$.longest-$.lengths[U]),C=0,S+=g,N=null;continue}if(w=v[P],!!w){if(R=X+w.x,L=H+w.y,D=w.width,F=w.height,O=w.xOffset+C-s.scrollX,B=w.yOffset+S-s.scrollY,N!==null){var J=w.kerning[G];O+=J!==void 0?J:0}if(f){c.index=K,c.charCode=P,c.x=O,c.y=B,c.scale=W,c.rotation=V,c.data=w.data;var k=f(c);O=k.x,B=k.y,W=k.scale,V=k.rotation}O*=W,B*=W,O+=Y,C+=w.xAdvance+y+(J!==void 0?J:0),N=w,G=P,!(D===0||F===0||P===32)&&(j&&(O=Math.round(O),B=Math.round(B)),n.save(),n.translate(O,B),n.rotate(V),n.scale(W,W),n.drawImage(z,R,L,D,F,0,0,D,F),n.restore())}}n.restore()}};p.exports=m},11164:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2638),m=t(25305),l=t(44603),s=t(23568);l.register("dynamicBitmapText",function(a,e){a===void 0&&(a={});var r=s(a,"font",""),d=s(a,"text",""),n=s(a,"size",!1),h=new u(this.scene,0,0,r,d,n);return e!==void 0&&(a.add=e),m(this.scene,h,a),h})},72566:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2638),m=t(39429);m.register("dynamicBitmapText",function(l,s,a,e,r){return this.displayList.add(new u(this.scene,l,s,a,e,r))})},12310:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(73482),l=t(86741),p.exports={renderWebGL:m,renderCanvas:l}},73482:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(61340),l=t(70554),s=new m,a=function(e,r,d,n){var h=r.text,f=h.length;if(f!==0){d.addToRenderList(r);var c=e.pipelines.set(r.pipeline,r),v=u(r,d,n);e.pipelines.preBatch(r);var g=v.sprite,y=v.calc,C=s,S=r.cropWidth>0||r.cropHeight>0;S&&(c.flush(),e.pushScissor(y.tx,y.ty,r.cropWidth*y.scaleX,r.cropHeight*y.scaleY));var P=r.frame,w=P.glTexture,R=r.tintFill,L=l.getTintAppendFloatAlpha(r.tintTopLeft,d.alpha*r._alphaTL),D=l.getTintAppendFloatAlpha(r.tintTopRight,d.alpha*r._alphaTR),F=l.getTintAppendFloatAlpha(r.tintBottomLeft,d.alpha*r._alphaBL),O=l.getTintAppendFloatAlpha(r.tintBottomRight,d.alpha*r._alphaBR),B=c.setGameObject(r),N=0,G=0,z=0,X=0,H=r.letterSpacing,V,W=0,I=0,b,U=r.scrollX,Y=r.scrollY,$=r.fontData,j=$.chars,K=$.lineHeight,J=r.fontSize/$.size,k=0,_=r._align,et=0,nt=0,it=r.getTextBounds(!1);r.maxWidth>0&&(h=it.wrappedText,f=h.length);var ot=r._bounds.lines;_===1?nt=(ot.longest-ot.lengths[0])/2:_===2&&(nt=ot.longest-ot.lengths[0]);for(var ft=d.roundPixels,pt=r.displayCallback,mt=r.callbackData,rt=0;rt<f;rt++){if(z=h.charCodeAt(rt),z===10){et++,_===1?nt=(ot.longest-ot.lengths[et])/2:_===2&&(nt=ot.longest-ot.lengths[et]),N=0,G+=K,b=null;continue}if(V=j[z],!!V){W=V.width,I=V.height;var dt=V.xOffset+N-U,ct=V.yOffset+G-Y;if(b!==null){var Pt=V.kerning[X];dt+=Pt!==void 0?Pt:0}if(N+=V.xAdvance+H,b=V,X=z,!(W===0||I===0||z===32)){if(J=r.fontSize/r.fontData.size,k=0,pt){mt.color=0,mt.tint.topLeft=L,mt.tint.topRight=D,mt.tint.bottomLeft=F,mt.tint.bottomRight=O,mt.index=rt,mt.charCode=z,mt.x=dt,mt.y=ct,mt.scale=J,mt.rotation=k,mt.data=V.data;var Et=pt(mt);dt=Et.x,ct=Et.y,J=Et.scale,k=Et.rotation,Et.color?(L=Et.color,D=Et.color,F=Et.color,O=Et.color):(L=Et.tint.topLeft,D=Et.tint.topRight,F=Et.tint.bottomLeft,O=Et.tint.bottomRight),L=l.getTintAppendFloatAlpha(L,d.alpha*r._alphaTL),D=l.getTintAppendFloatAlpha(D,d.alpha*r._alphaTR),F=l.getTintAppendFloatAlpha(F,d.alpha*r._alphaBL),O=l.getTintAppendFloatAlpha(O,d.alpha*r._alphaBR)}dt*=J,ct*=J,dt-=r.displayOriginX,ct-=r.displayOriginY,dt+=nt,C.applyITRS(dt,ct,k,J,J),y.multiply(C,g);var Mt=V.u0,Dt=V.v0,wt=V.u1,St=V.v1,Nt=W,Q=I,tt=g.e,at=g.f,st=Q*g.c+g.e,ht=Q*g.d+g.f,gt=Nt*g.a+Q*g.c+g.e,lt=Nt*g.b+Q*g.d+g.f,yt=Nt*g.a+g.e,Tt=Nt*g.b+g.f;ft&&(tt=Math.round(tt),at=Math.round(at),st=Math.round(st),ht=Math.round(ht),gt=Math.round(gt),lt=Math.round(lt),yt=Math.round(yt),Tt=Math.round(Tt)),c.shouldFlush(6)&&(c.flush(),B=c.setGameObject(r)),c.batchQuad(r,tt,at,st,ht,gt,lt,yt,Tt,Mt,Dt,wt,St,L,D,F,O,R,w,B)}}}S&&(c.flush(),e.popScissor()),e.pipelines.postBatch(r)}};p.exports=a},22186:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(45319),l=t(31401),s=t(95643),a=t(53048),e=t(61327),r=t(21859),d=t(87841),n=t(18658),h=new u({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Texture,l.Tint,l.Transform,l.Visible,n],initialize:function(c,v,g,y,C,S,P){C===void 0&&(C=""),P===void 0&&(P=0),s.call(this,c,"BitmapText"),this.font=y;var w=this.scene.sys.cache.bitmapFont.get(y);w||console.warn("Invalid BitmapText key: "+y),this.fontData=w.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=P,this._bounds=a(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=w.fromAtlas,this.setTexture(w.texture,w.frame),this.setPosition(v,g),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(C)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,c,v,g){return f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=.5),this.dropShadowX=f,this.dropShadowY=c,this.dropShadowColor=v,this.dropShadowAlpha=g,this},setCharacterTint:function(f,c,v,g,y,C,S){f===void 0&&(f=0),c===void 0&&(c=1),v===void 0&&(v=!1),g===void 0&&(g=-1),y===void 0&&(y=g,C=g,S=g);var P=this.text.length;c===-1&&(c=P),f<0&&(f=P+f),f=m(f,0,P-1);for(var w=m(f+c,f,P),R=this.charColors,L=f;L<w;L++){var D=R[L];if(g===-1)R[L]=null;else{var F=v?1:0;D?(D.tintEffect=F,D.tintTL=g,D.tintTR=y,D.tintBL=C,D.tintBR=S):R[L]={tintEffect:F,tintTL:g,tintTR:y,tintBL:C,tintBR:S}}}return this},setWordTint:function(f,c,v,g,y,C,S){c===void 0&&(c=1);for(var P=this.getTextBounds(),w=P.words,R=typeof f=="number",L=0,D=0;D<w.length;D++){var F=w[D];if((R&&D===f||!R&&F.word===f)&&(this.setCharacterTint(F.i,F.word.length,v,g,y,C,S),L++,L===c))return this}return this},getTextBounds:function(f){var c=this._bounds;return(this._dirty||f||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(a(this,f,!0,c),this._dirty=!1),c},getCharacterAt:function(f,c,v){for(var g=this.getLocalPoint(f,c,null,v),y=this.getTextBounds(),C=y.characters,S=new d,P=0;P<C.length;P++){var w=C[P];if(S.setTo(w.x,w.t,w.r-w.x,w.b),S.contains(g.x,g.y))return w}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,c,v){c===void 0&&(c=this._fontSize),v===void 0&&(v=this._align);var g=this.scene.sys.cache.bitmapFont.get(f);return g&&(this.font=f,this.fontData=g.data,this._fontSize=c,this._align=v,this.fromAtlas=g.fromAtlas===!0,this.setTexture(g.texture,g.frame),a(this,!1,!0,this._bounds)),this},setMaxWidth:function(f,c){return this._maxWidth=f,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=l.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=c,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=e,h.ParseXMLBitmapFont=r,p.exports=h},37289:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20926),m=function(l,s,a,e){var r=s._text,d=r.length,n=l.currentContext;if(!(d===0||!u(l,n,s,a,e))){a.addToRenderList(s);var h=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.fontData.chars,c=s.fontData.lineHeight,v=s._letterSpacing,g=s._lineSpacing,y=0,C=0,S=0,P=null,w=0,R=0,L=0,D=0,F=0,O=0,B=null,N=0,G=h.source.image,z=h.cutX,X=h.cutY,H=s._fontSize/s.fontData.size,V=s._align,W=0,I=0,b=s.getTextBounds(!1);s.maxWidth>0&&(r=b.wrappedText,d=r.length);var U=s._bounds.lines;V===1?I=(U.longest-U.lengths[0])/2:V===2&&(I=U.longest-U.lengths[0]),n.translate(-s.displayOriginX,-s.displayOriginY);for(var Y=a.roundPixels,$=0;$<d;$++){if(S=r.charCodeAt($),S===10){W++,V===1?I=(U.longest-U.lengths[W])/2:V===2&&(I=U.longest-U.lengths[W]),y=0,C+=c+g,B=null;continue}if(P=f[S],!!P){if(w=z+P.x,R=X+P.y,L=P.width,D=P.height,F=P.xOffset+y,O=P.yOffset+C,B!==null){var j=P.kerning[N];F+=j!==void 0?j:0}F*=H,O*=H,F+=I,y+=P.xAdvance+v+(j!==void 0?j:0),B=P,N=S,!(L===0||D===0||S===32)&&(Y&&(F=Math.round(F),O=Math.round(O)),n.save(),n.translate(F,O),n.scale(H,H),n.drawImage(G,w,R,L,D,0,0,L,D),n.restore())}}n.restore()}};p.exports=m},57336:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22186),m=t(25305),l=t(44603),s=t(23568),a=t(35154);l.register("bitmapText",function(e,r){e===void 0&&(e={});var d=a(e,"font",""),n=s(e,"text",""),h=s(e,"size",!1),f=a(e,"align",0),c=new u(this.scene,0,0,d,n,h,f);return r!==void 0&&(e.add=r),m(this.scene,c,e),c})},34914:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22186),m=t(39429);m.register("bitmapText",function(l,s,a,e,r,d){return this.displayList.add(new u(this.scene,l,s,a,e,r,d))})},18658:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(33590),l=t(37289),p.exports={renderWebGL:m,renderCanvas:l}},33590:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(3217),m=t(91296),l=t(70554),s=function(a,e,r,d){var n=e._text,h=n.length;if(h!==0){r.addToRenderList(e);var f=a.pipelines.set(e.pipeline,e),c=m(e,r,d).calc;a.pipelines.preBatch(e);var v=r.roundPixels,g=r.alpha,y=e.charColors,C=e.tintFill,S=l.getTintAppendFloatAlpha,P=S(e.tintTopLeft,g*e._alphaTL),w=S(e.tintTopRight,g*e._alphaTR),R=S(e.tintBottomLeft,g*e._alphaBL),L=S(e.tintBottomRight,g*e._alphaBR),D=e.frame.glTexture,F=f.setGameObject(e),O=e.getTextBounds(!1),B,N,G,z=O.characters,X=e.dropShadowX,H=e.dropShadowY,V=X!==0||H!==0;if(V){var W=e.dropShadowColor,I=e.dropShadowAlpha,b=S(W,g*I*e._alphaTL),U=S(W,g*I*e._alphaTR),Y=S(W,g*I*e._alphaBL),$=S(W,g*I*e._alphaBR);for(B=0;B<z.length;B++)N=z[B],G=N.glyph,!(N.code===32||G.width===0||G.height===0)&&u(f,e,N,G,X,H,c,v,b,U,Y,$,1,D,F)}for(B=0;B<z.length;B++)if(N=z[B],G=N.glyph,!(N.code===32||G.width===0||G.height===0))if(f.shouldFlush(6)&&(f.flush(),F=f.setGameObject(e)),y[N.i]){var j=y[N.i],K=j.tintEffect,J=S(j.tintTL,g*e._alphaTL),k=S(j.tintTR,g*e._alphaTR),_=S(j.tintBL,g*e._alphaBL),et=S(j.tintBR,g*e._alphaBR);u(f,e,N,G,0,0,c,v,J,k,_,et,K,D,F)}else u(f,e,N,G,0,0,c,v,P,w,R,L,C,D,F);a.pipelines.postBatch(e)}};p.exports=s},6107:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(48011),m=t(46590),l=t(83419),s=t(31401),a=t(4327),e=t(95643),r=t(73162),d=new l({Extends:e,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,u],initialize:function(h,f,c,v,g){e.call(this,h,"Blitter"),this.setTexture(v,g),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(n,h,f,c,v){c===void 0&&(c=!0),v===void 0&&(v=this.children.length),f===void 0?f=this.frame:f instanceof a||(f=this.texture.get(f));var g=new m(this,n,h,f,c);return this.children.addAt(g,v,!1),this.dirty=!0,g},createFromCallback:function(n,h,f,c){for(var v=this.createMultiple(h,f,c),g=0;g<v.length;g++){var y=v[g];n.call(this,y,g)}return v},createMultiple:function(n,h,f){h===void 0&&(h=this.frame.name),f===void 0&&(f=!0),Array.isArray(h)||(h=[h]);var c=[],v=this;return h.forEach(function(g){for(var y=0;y<n;y++)c.push(v.create(0,0,g,f))}),c},childCanRender:function(n){return n.visible&&n.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=d},72396:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=u.getRenderList();if(s.length!==0){var a=t.currentContext,e=m.alpha*u.alpha;if(e!==0){m.addToRenderList(u),a.globalCompositeOperation=t.blendModes[u.blendMode],a.imageSmoothingEnabled=!u.frame.source.scaleMode;var r=u.x-m.scrollX*u.scrollFactorX,d=u.y-m.scrollY*u.scrollFactorY;a.save(),l&&l.copyToContext(a);for(var n=m.roundPixels,h=0;h<s.length;h++){var f=s[h],c=f.flipX||f.flipY,v=f.frame,g=v.canvasData,y=v.x,C=v.y,S=1,P=1,w=f.alpha*e;w!==0&&(a.globalAlpha=w,c?(f.flipX&&(S=-1,y-=g.width),f.flipY&&(P=-1,C-=g.height),g.width>0&&g.height>0&&(a.save(),a.translate(f.x+r,f.y+d),a.scale(S,P),a.drawImage(v.source.image,g.x,g.y,g.width,g.height,y,C,g.width,g.height),a.restore())):(n&&(y=Math.round(y),C=Math.round(C)),g.width>0&&g.height>0&&a.drawImage(v.source.image,g.x,g.y,g.width,g.height,y+f.x+r,C+f.y+d,g.width,g.height)))}a.restore()}}};p.exports=T},9403:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6107),m=t(25305),l=t(44603),s=t(23568);l.register("blitter",function(a,e){a===void 0&&(a={});var r=s(a,"key",null),d=s(a,"frame",null),n=new u(this.scene,0,0,r,d);return e!==void 0&&(a.add=e),m(this.scene,n,a),n})},12709:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6107),m=t(39429);m.register("blitter",function(l,s,a,e){return this.displayList.add(new u(this.scene,l,s,a,e))})},48011:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(99485),l=t(72396),p.exports={renderWebGL:m,renderCanvas:l}},99485:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61340),m=t(70554),l=new u,s=function(a,e,r,d){var n=e.getRenderList(),h=r.alpha*e.alpha;if(!(n.length===0||h===0)){r.addToRenderList(e);var f=a.pipelines.set(this.pipeline,e),c=r.scrollX*e.scrollFactorX,v=r.scrollY*e.scrollFactorY,g=l.copyFrom(r.matrix);d&&(g.multiplyWithOffset(d,-c,-v),c=0,v=0);var y=e.x-c,C=e.y-v,S=-1,P=!1;a.pipelines.preBatch(e);for(var w=0;w<n.length;w++){var R=n[w],L=R.frame,D=R.alpha*h;if(D!==0){var F=L.width,O=L.height,B=y+R.x+L.x,N=C+R.y+L.y;R.flipX&&(F*=-1,B+=L.width),R.flipY&&(O*=-1,N+=L.height);var G=g.setQuad(B,N,B+F,N+O),z=m.getTintAppendFloatAlpha(R.tint,D);if(L.sourceIndex!==S){var X=f.setGameObject(e,L);S=L.sourceIndex}f.batchQuad(e,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],L.u0,L.v0,L.u1,L.v1,z,z,z,z,P,L.glTexture,X)&&(S=-1)}}a.pipelines.postBatch(e)}};p.exports=s},46590:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(4327),l=new u({initialize:function(a,e,r,d,n){this.parent=a,this.x=e,this.y=r,this.frame=d,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof m&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,a,e){return this.x=s,this.y=a,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(s,a){return this.x=s,this.y=a,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,a){return this.flipX=s,this.flipY=a,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=this._alpha>0!=s>0,this._alpha=s}}});p.exports=l},16005:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=2,l={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s,a,e,r){return s===void 0&&(s=1),a===void 0?this.alpha=s:(this._alphaTL=u(s,0,1),this._alphaTR=u(a,0,1),this._alphaBL=u(e,0,1),this._alphaBR=u(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(s){var a=u(s,0,1);this._alpha=a,this._alphaTL=a,this._alphaTR=a,this._alphaBL=a,this._alphaBR=a,a===0?this.renderFlags&=~m:this.renderFlags|=m}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(s){var a=u(s,0,1);this._alphaTL=a,a!==0&&(this.renderFlags|=m)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(s){var a=u(s,0,1);this._alphaTR=a,a!==0&&(this.renderFlags|=m)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(s){var a=u(s,0,1);this._alphaBL=a,a!==0&&(this.renderFlags|=m)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(s){var a=u(s,0,1);this._alphaBR=a,a!==0&&(this.renderFlags|=m)}}};p.exports=l},88509:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=2,l={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s){return s===void 0&&(s=1),this.alpha=s,this},alpha:{get:function(){return this._alpha},set:function(s){var a=u(s,0,1);this._alpha=a,a===0?this.renderFlags&=~m:this.renderFlags|=m}}};p.exports=l},90065:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10312),m={_blendMode:u.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(l){typeof l=="string"&&(l=u[l]),l|=0,l>=-1&&(this._blendMode=l)}},setBlendMode:function(l){return this.blendMode=l,this}};p.exports=m},94215:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,u){return this.width=t,this.height=u,this},setDisplaySize:function(t,u){return this.displayWidth=t,this.displayHeight=u,this}};p.exports=T},61683:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(t,u,m,l){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,u,m,l,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=T},89272:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};p.exports=T},47059:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(66064),l=t(19133),s=new u({initialize:function(e,r){this.gameObject=e,this.isPost=r,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(a){return a===void 0&&(a=0),this.padding=a,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(a){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,a!==void 0&&(this.padding=a),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var a=this.list,e=0;e<a.length;e++)a[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(a){var e;if(this.isPost){var r=this.gameObject.getPostPipeline(String(a.type));for(Array.isArray(r)||(r=[r]),e=0;e<r.length;e++){var d=r[e];if(d.controller===a){this.gameObject.removePostPipeline(d),a.destroy();break}}}else{var n=this.list;for(e=0;e<n.length;e++)n[e]===a&&(l(n,e),a.destroy())}return this.gameObject},disable:function(a){return a===void 0&&(a=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,a&&this.clear(),this.gameObject},add:function(a,e){if(this.isPost){var r=String(a.type);this.gameObject.setPostPipeline(r,e);var d=this.gameObject.getPostPipeline(r);if(d)return Array.isArray(d)&&(d=d.pop()),d.controller=a,a}else return this.enabled||this.enable(),this.list.push(a),a},addGlow:function(a,e,r,d,n,h){return this.add(new m.Glow(this.gameObject,a,e,r,d),{quality:n,distance:h})},addShadow:function(a,e,r,d,n,h,f){return this.add(new m.Shadow(this.gameObject,a,e,r,d,n,h,f))},addPixelate:function(a){return this.add(new m.Pixelate(this.gameObject,a))},addVignette:function(a,e,r,d){return this.add(new m.Vignette(this.gameObject,a,e,r,d))},addShine:function(a,e,r,d){return this.add(new m.Shine(this.gameObject,a,e,r,d))},addBlur:function(a,e,r,d,n,h){return this.add(new m.Blur(this.gameObject,a,e,r,d,n,h))},addGradient:function(a,e,r,d,n,h,f,c){return this.add(new m.Gradient(this.gameObject,a,e,r,d,n,h,f,c))},addBloom:function(a,e,r,d,n,h){return this.add(new m.Bloom(this.gameObject,a,e,r,d,n,h))},addColorMatrix:function(){return this.add(new m.ColorMatrix(this.gameObject))},addCircle:function(a,e,r,d,n){return this.add(new m.Circle(this.gameObject,a,e,r,d,n))},addBarrel:function(a){return this.add(new m.Barrel(this.gameObject,a))},addDisplacement:function(a,e,r){return this.add(new m.Displacement(this.gameObject,a,e,r))},addWipe:function(a,e,r){return this.add(new m.Wipe(this.gameObject,a,e,r))},addReveal:function(a,e,r){return this.add(new m.Wipe(this.gameObject,a,e,r,!0))},addBokeh:function(a,e,r){return this.add(new m.Bokeh(this.gameObject,a,e,r))},addTiltShift:function(a,e,r,d,n,h){return this.add(new m.Bokeh(this.gameObject,a,e,r,!0,d,n,h))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=s},54434:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,u){return this.flipX=t,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=T},8004:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=t(11520),l=t(26099),s={prepareBoundsOutput:function(a,e){if(e===void 0&&(e=!1),this.rotation!==0&&m(a,this.x,this.y,this.rotation),e&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(a.x,a.y,a)}return a},getCenter:function(a,e){return a===void 0&&(a=new l),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,e)},getTopLeft:function(a,e){return a||(a=new l),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,e)},getTopCenter:function(a,e){return a||(a=new l),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,e)},getTopRight:function(a,e){return a||(a=new l),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,e)},getLeftCenter:function(a,e){return a||(a=new l),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,e)},getRightCenter:function(a,e){return a||(a=new l),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,e)},getBottomLeft:function(a,e){return a||(a=new l),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,e)},getBottomCenter:function(a,e){return a||(a=new l),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,e)},getBottomRight:function(a,e){return a||(a=new l),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,e)},getBounds:function(a){a===void 0&&(a=new u);var e,r,d,n,h,f,c,v;if(this.parentContainer){var g=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(a),g.transformPoint(a.x,a.y,a),e=a.x,r=a.y,this.getTopRight(a),g.transformPoint(a.x,a.y,a),d=a.x,n=a.y,this.getBottomLeft(a),g.transformPoint(a.x,a.y,a),h=a.x,f=a.y,this.getBottomRight(a),g.transformPoint(a.x,a.y,a),c=a.x,v=a.y}else this.getTopLeft(a),e=a.x,r=a.y,this.getTopRight(a),d=a.x,n=a.y,this.getBottomLeft(a),h=a.x,f=a.y,this.getBottomRight(a),c=a.x,v=a.y;return a.x=Math.min(e,d,h,c),a.y=Math.min(r,n,f,v),a.width=Math.max(e,d,h,c)-a.x,a.height=Math.max(r,n,f,v)-a.y,a}};p.exports=s},8573:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6858),m=t(80661),l={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s,a,e,r,d){return s===void 0&&(this.texture||this.shader||this.geom)&&(s=this),new u(this.scene,s,a,e,r,d)},createGeometryMask:function(s){return s===void 0&&(this.type==="Graphics"||this.geom)&&(s=this),new m(this.scene,s)}};p.exports=l},27387:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,u){return t===void 0&&(t=.5),u===void 0&&(u=t),this.originX=t,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,u){return t===void 0&&(t=0),u===void 0&&(u=t),this.displayOriginX=t,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=T},37640:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39506),m=t(57355),l=t(35154),s=t(86353),a=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(r,d){d===void 0&&(d=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=r,d&&this.startFollow(d),this},setRotateToPath:function(r,d){return d===void 0&&(d=0),this.rotateToPath=r,this.pathRotationOffset=d,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,d){r===void 0&&(r={}),d===void 0&&(d=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),typeof r=="number"&&(r={duration:r}),r.from=l(r,"from",0),r.to=l(r,"to",1);var h=m(r,"positionOnPath",!1);this.rotateToPath=m(r,"rotateToPath",!1),this.pathRotationOffset=l(r,"rotationOffset",0);var f=l(r,"startAt",d);if(f&&(r.onStart=function(v){var g=v.data[0];g.progress=f,g.elapsed=g.duration*f;var y=g.ease(g.progress);g.current=g.start+(g.end-g.start)*y,g.setTargetValue()}),this.pathOffset||(this.pathOffset=new a(this.x,this.y)),this.pathVector||(this.pathVector=new a),this.pathDelta||(this.pathDelta=new a),this.pathDelta.reset(),r.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+u(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r&&r.data){var d=r.data[0],n=this.pathDelta,h=this.pathVector;if(n.copy(h).negate(),d.state===s.COMPLETE){this.path.getPoint(d.end,h),n.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(d.state!==s.PLAYING_FORWARD&&d.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),h),n.add(h),h.add(this.pathOffset);var f=this.x,c=this.y;this.setPosition(h.x,h.y);var v=this.x-f,g=this.y-c;if(v===0&&g===0)return;if(d.state!==this._prevDirection){this._prevDirection=d.state;return}this.rotateToPath&&(this.rotation=Math.atan2(g,v)+u(this.pathRotationOffset))}}};p.exports=e},72699:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62644),m={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(l){this.pipelineData={};var s=this.scene.sys.renderer;if(!s)return!1;var a=s.pipelines;if(a){l===void 0&&(l=a.default);var e=a.get(l);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(l,s,a){var e=this.scene.sys.renderer;if(!e)return this;var r=e.pipelines;if(r){var d=r.get(l);d&&(this.pipeline=d),s&&(this.pipelineData=a?u(s):s)}return this},setPipelineData:function(l,s){var a=this.pipelineData;return s===void 0?delete a[l]:a[l]=s,this},resetPipeline:function(l){return l===void 0&&(l=!1),this.pipeline=this.defaultPipeline,l&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};p.exports=m},17581:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62644),m=t(47059),l=t(19133),s={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(a){this.postPipelines=[],this.postPipelineData={},this.postFX=new m(this,!0),a&&(this.preFX=new m(this,!1))},setPostPipeline:function(a,e,r){var d=this.scene.sys.renderer;if(!d)return this;var n=d.pipelines;if(n){Array.isArray(a)||(a=[a]);for(var h=0;h<a.length;h++){var f=n.getPostPipeline(a[h],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=r?u(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(a,e){var r=this.postPipelineData;return e===void 0?delete r[a]:r[a]=e,this},getPostPipeline:function(a){for(var e=typeof a=="string",r=this.postPipelines,d=[],n=0;n<r.length;n++){var h=r[n];(e&&h.name===a||!e&&h instanceof a)&&d.push(h)}return d.length===1?d[0]:d},resetPostPipeline:function(a){a===void 0&&(a=!1);for(var e=this.postPipelines,r=0;r<e.length;r++)e[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,a&&(this.postPipelineData={})},removePostPipeline:function(a){for(var e=typeof a=="string",r=this.postPipelines,d=r.length-1;d>=0;d--){var n=r[d];(e&&n.name===a||!e&&n===a)&&(n.destroy(),l(r,d))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=s},80227:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,u){return u===void 0&&(u=t),this.scrollFactorX=t,this.scrollFactorY=u,this}};p.exports=T},16736:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setSize:function(t,u){return this.width=t,this.height=u,this},setDisplaySize:function(t,u){return this.displayWidth=t,this.displayHeight=u,this}};p.exports=T},37726:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(4327),m=8,l={texture:null,frame:null,isCropped:!1,setTexture:function(s,a,e,r){return this.texture=this.scene.sys.textures.get(s),this.setFrame(a,e,r)},setFrame:function(s,a,e){return a===void 0&&(a=!0),e===void 0&&(e=!0),s instanceof u?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&a&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=l},79812:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(4327),m=8,l={texture:null,frame:null,isCropped:!1,setCrop:function(s,a,e,r){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,a,e,r,this.flipX,this.flipY);else{var d=s;this.frame.setCropUVs(this._crop,d.x,d.y,d.width,d.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(s,a){return this.texture=this.scene.sys.textures.get(s),this.setFrame(a)},setFrame:function(s,a,e){return a===void 0&&(a=!0),e===void 0&&(e=!0),s instanceof u?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&a&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=l},27472:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,u,m,l){return t===void 0&&(t=16777215),u===void 0&&(u=t,m=t,l=t),this.tintTopLeft=t,this.tintTopRight=u,this.tintBottomLeft=m,this.tintBottomRight=l,this.tintFill=!1,this},setTintFill:function(t,u,m,l){return this.setTint(t,u,m,l),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=T},53774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(u.textureKey=t.texture.key,u.frameKey=t.frame.name),u};p.exports=T},16901:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=t(61340),l=t(85955),s=t(86554),a=t(30954),e=t(26099),r=4,d={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this._scaleX=n,this._scaleY=n,n===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(n){this._scaleX=n,n===0?this.renderFlags&=~r:this._scaleY!==0&&(this.renderFlags|=r)}},scaleY:{get:function(){return this._scaleY},set:function(n){this._scaleY=n,n===0?this.renderFlags&=~r:this._scaleX!==0&&(this.renderFlags|=r)}},angle:{get:function(){return a(this._rotation*u.RAD_TO_DEG)},set:function(n){this.rotation=a(n)*u.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(n){this._rotation=s(n)}},setPosition:function(n,h,f,c){return n===void 0&&(n=0),h===void 0&&(h=n),f===void 0&&(f=0),c===void 0&&(c=0),this.x=n,this.y=h,this.z=f,this.w=c,this},copyPosition:function(n){return n.x!==void 0&&(this.x=n.x),n.y!==void 0&&(this.y=n.y),n.z!==void 0&&(this.z=n.z),n.w!==void 0&&(this.w=n.w),this},setRandomPosition:function(n,h,f,c){return n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=n+Math.random()*f,this.y=h+Math.random()*c,this},setRotation:function(n){return n===void 0&&(n=0),this.rotation=n,this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,this},setScale:function(n,h){return n===void 0&&(n=1),h===void 0&&(h=n),this.scaleX=n,this.scaleY=h,this},setX:function(n){return n===void 0&&(n=0),this.x=n,this},setY:function(n){return n===void 0&&(n=0),this.y=n,this},setZ:function(n){return n===void 0&&(n=0),this.z=n,this},setW:function(n){return n===void 0&&(n=0),this.w=n,this},getLocalTransformMatrix:function(n){return n===void 0&&(n=new m),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(n,h){n===void 0&&(n=new m);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(n);for(h||(h=new m),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)h.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),h.multiply(n,n),f=f.parentContainer;return n},getLocalPoint:function(n,h,f,c){f||(f=new e),c||(c=this.scene.sys.cameras.main);var v=c.scrollX,g=c.scrollY,y=n+v*this.scrollFactorX-v,C=h+g*this.scrollFactorY-g;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(y,C,f):l(y,C,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var n=0,h=this.parentContainer;h;)n+=h.rotation,h=h.parentContainer;return n}};p.exports=d},61340:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(36383),l=t(26099),s=new u({initialize:function(e,r,d,n,h,f){e===void 0&&(e=1),r===void 0&&(r=0),d===void 0&&(d=0),n===void 0&&(n=1),h===void 0&&(h=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,r,d,n,h,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(a){this.matrix[0]=a}},b:{get:function(){return this.matrix[1]},set:function(a){this.matrix[1]=a}},c:{get:function(){return this.matrix[2]},set:function(a){this.matrix[2]=a}},d:{get:function(){return this.matrix[3]},set:function(a){this.matrix[3]=a}},e:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},f:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},tx:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},ty:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var a=this.matrix,e=a[0],r=a[1],d=a[2],n=a[3];return e||r?r>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):d||n?m.TAU-(n>0?Math.acos(-d/this.scaleY):-Math.acos(d/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var a=this.matrix;return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,this},translate:function(a,e){var r=this.matrix;return r[4]=r[0]*a+r[2]*e+r[4],r[5]=r[1]*a+r[3]*e+r[5],this},scale:function(a,e){var r=this.matrix;return r[0]*=a,r[1]*=a,r[2]*=e,r[3]*=e,this},rotate:function(a){var e=Math.sin(a),r=Math.cos(a),d=this.matrix,n=d[0],h=d[1],f=d[2],c=d[3];return d[0]=n*r+f*e,d[1]=h*r+c*e,d[2]=n*-e+f*r,d[3]=h*-e+c*r,this},multiply:function(a,e){var r=this.matrix,d=a.matrix,n=r[0],h=r[1],f=r[2],c=r[3],v=r[4],g=r[5],y=d[0],C=d[1],S=d[2],P=d[3],w=d[4],R=d[5],L=e===void 0?r:e.matrix;return L[0]=y*n+C*f,L[1]=y*h+C*c,L[2]=S*n+P*f,L[3]=S*h+P*c,L[4]=w*n+R*f+v,L[5]=w*h+R*c+g,L},multiplyWithOffset:function(a,e,r){var d=this.matrix,n=a.matrix,h=d[0],f=d[1],c=d[2],v=d[3],g=d[4],y=d[5],C=e*h+r*c+g,S=e*f+r*v+y,P=n[0],w=n[1],R=n[2],L=n[3],D=n[4],F=n[5];return d[0]=P*h+w*c,d[1]=P*f+w*v,d[2]=R*h+L*c,d[3]=R*f+L*v,d[4]=D*h+F*c+C,d[5]=D*f+F*v+S,this},transform:function(a,e,r,d,n,h){var f=this.matrix,c=f[0],v=f[1],g=f[2],y=f[3],C=f[4],S=f[5];return f[0]=a*c+e*g,f[1]=a*v+e*y,f[2]=r*c+d*g,f[3]=r*v+d*y,f[4]=n*c+h*g+C,f[5]=n*v+h*y+S,this},transformPoint:function(a,e,r){r===void 0&&(r={x:0,y:0});var d=this.matrix,n=d[0],h=d[1],f=d[2],c=d[3],v=d[4],g=d[5];return r.x=a*n+e*f+v,r.y=a*h+e*c+g,r},invert:function(){var a=this.matrix,e=a[0],r=a[1],d=a[2],n=a[3],h=a[4],f=a[5],c=e*n-r*d;return a[0]=n/c,a[1]=-r/c,a[2]=-d/c,a[3]=e/c,a[4]=(d*f-n*h)/c,a[5]=-(e*f-r*h)/c,this},copyFrom:function(a){var e=this.matrix;return e[0]=a.a,e[1]=a.b,e[2]=a.c,e[3]=a.d,e[4]=a.e,e[5]=a.f,this},copyFromArray:function(a){var e=this.matrix;return e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e[4]=a[4],e[5]=a[5],this},copyToContext:function(a){var e=this.matrix;return a.transform(e[0],e[1],e[2],e[3],e[4],e[5]),a},setToContext:function(a){return a.setTransform(this),a},copyToArray:function(a){var e=this.matrix;return a===void 0?a=[e[0],e[1],e[2],e[3],e[4],e[5]]:(a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=e[3],a[4]=e[4],a[5]=e[5]),a},setTransform:function(a,e,r,d,n,h){var f=this.matrix;return f[0]=a,f[1]=e,f[2]=r,f[3]=d,f[4]=n,f[5]=h,this},decomposeMatrix:function(){var a=this.decomposedMatrix,e=this.matrix,r=e[0],d=e[1],n=e[2],h=e[3],f=r*h-d*n;if(a.translateX=e[4],a.translateY=e[5],r||d){var c=Math.sqrt(r*r+d*d);a.rotation=d>0?Math.acos(r/c):-Math.acos(r/c),a.scaleX=c,a.scaleY=f/c}else if(n||h){var v=Math.sqrt(n*n+h*h);a.rotation=Math.PI*.5-(h>0?Math.acos(-n/v):-Math.acos(n/v)),a.scaleX=f/v,a.scaleY=v}else a.rotation=0,a.scaleX=0,a.scaleY=0;return a},applyITRS:function(a,e,r,d,n){var h=this.matrix,f=Math.sin(r),c=Math.cos(r);return h[4]=a,h[5]=e,h[0]=c*d,h[1]=f*d,h[2]=-f*n,h[3]=c*n,this},applyInverse:function(a,e,r){r===void 0&&(r=new l);var d=this.matrix,n=d[0],h=d[1],f=d[2],c=d[3],v=d[4],g=d[5],y=1/(n*c+f*-h);return r.x=c*y*a+-f*y*e+(g*f-v*c)*y,r.y=n*y*e+-h*y*a+(-g*n+v*h)*y,r},setQuad:function(a,e,r,d,n,h){n===void 0&&(n=!1),h===void 0&&(h=this.quad);var f=this.matrix,c=f[0],v=f[1],g=f[2],y=f[3],C=f[4],S=f[5];return n?(h[0]=Math.round(a*c+e*g+C),h[1]=Math.round(a*v+e*y+S),h[2]=Math.round(a*c+d*g+C),h[3]=Math.round(a*v+d*y+S),h[4]=Math.round(r*c+d*g+C),h[5]=Math.round(r*v+d*y+S),h[6]=Math.round(r*c+e*g+C),h[7]=Math.round(r*v+e*y+S)):(h[0]=a*c+e*g+C,h[1]=a*v+e*y+S,h[2]=a*c+d*g+C,h[3]=a*v+d*y+S,h[4]=r*c+d*g+C,h[5]=r*v+d*y+S,h[6]=r*c+e*g+C,h[7]=r*v+e*y+S),h},getX:function(a,e){return a*this.a+e*this.c+this.e},getY:function(a,e){return a*this.b+e*this.d+this.f},getXRound:function(a,e,r){var d=this.getX(a,e);return r&&(d=Math.round(d)),d},getYRound:function(a,e,r){var d=this.getY(a,e);return r&&(d=Math.round(d)),d},getCSSMatrix:function(){var a=this.matrix;return"matrix("+a[0]+","+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=s},59715:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(u){return this.visible=u,this}};p.exports=t},31401:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37105),m=t(10312),l=t(83419),s=t(31401),a=t(51708),e=t(95643),r=t(87841),d=t(29959),n=t(36899),h=t(26099),f=new l({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.PostPipeline,s.Transform,s.Visible,d],initialize:function(v,g,y,C){e.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this.tempTransformMatrix=new s.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(g,y),this.setBlendMode(m.SKIP_CHECK),C&&this.add(C)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(c){return c===void 0&&(c=!0),this.exclusive=c,this},getBounds:function(c){if(c===void 0&&(c=new r),c.setTo(this.x,this.y,0,0),this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix(),g=v.transformPoint(this.x,this.y);c.setTo(g.x,g.y,0,0)}if(this.list.length>0){var y=this.list,C=new r,S=!1;c.setEmpty();for(var P=0;P<y.length;P++){var w=y[P];w.getBounds&&(w.getBounds(C),S?n(C,c,c):(c.setTo(C.x,C.y,C.width,C.height),S=!0))}}return c},addHandler:function(c){c.once(a.DESTROY,this.onChildDestroyed,this),this.exclusive&&(c.parentContainer&&c.parentContainer.remove(c),c.parentContainer=this,c.removeFromDisplayList(),c.addedToScene())},removeHandler:function(c){c.off(a.DESTROY,this.remove,this),this.exclusive&&(c.parentContainer=null,c.removedFromScene(),c.addToDisplayList())},pointToContainer:function(c,v){v===void 0&&(v=new h),this.parentContainer?this.parentContainer.pointToContainer(c,v):(v.x=c.x,v.y=c.y);var g=this.tempTransformMatrix;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(c.x,c.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(c){return u.Add(this.list,c,this.maxSize,this.addHandler,this),this},addAt:function(c,v){return u.AddAt(this.list,c,v,this.maxSize,this.addHandler,this),this},getAt:function(c){return this.list[c]},getIndex:function(c){return this.list.indexOf(c)},sort:function(c,v){return c?(v===void 0&&(v=function(g,y){return g[c]-y[c]}),u.StableSort(this.list,v),this):this},getByName:function(c){return u.GetFirst(this.list,"name",c)},getRandom:function(c,v){return u.GetRandom(this.list,c,v)},getFirst:function(c,v,g,y){return u.GetFirst(this.list,c,v,g,y)},getAll:function(c,v,g,y){return u.GetAll(this.list,c,v,g,y)},count:function(c,v,g,y){return u.CountAllMatching(this.list,c,v,g,y)},swap:function(c,v){return u.Swap(this.list,c,v),this},moveTo:function(c,v){return u.MoveTo(this.list,c,v),this},moveAbove:function(c,v){return u.MoveAbove(this.list,c,v),this},moveBelow:function(c,v){return u.MoveBelow(this.list,c,v),this},remove:function(c,v){var g=u.Remove(this.list,c,this.removeHandler,this);if(v&&g){Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++)g[y].destroy()}return this},removeAt:function(c,v){var g=u.RemoveAt(this.list,c,this.removeHandler,this);return v&&g&&g.destroy(),this},removeBetween:function(c,v,g){var y=u.RemoveBetween(this.list,c,v,this.removeHandler,this);if(g)for(var C=0;C<y.length;C++)y[C].destroy();return this},removeAll:function(c){var v=this.list;if(c){for(var g=0;g<v.length;g++)v[g]&&v[g].scene&&(v[g].off(a.DESTROY,this.onChildDestroyed,this),v[g].destroy());this.list=[]}else u.RemoveBetween(v,0,v.length,this.removeHandler,this);return this},bringToTop:function(c){return u.BringToTop(this.list,c),this},sendToBack:function(c){return u.SendToBack(this.list,c),this},moveUp:function(c){return u.MoveUp(this.list,c),this},moveDown:function(c){return u.MoveDown(this.list,c),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(c,v,g){var y=u.Replace(this.list,c,v);return y&&(this.addHandler(v),this.removeHandler(c),g&&c.destroy()),this},exists:function(c){return this.list.indexOf(c)>-1},setAll:function(c,v,g,y){return u.SetAll(this.list,c,v,g,y),this},each:function(c,v){var g=[null],y,C=this.list.slice(),S=C.length;for(y=2;y<arguments.length;y++)g.push(arguments[y]);for(y=0;y<S;y++)g[0]=C[y],c.apply(v,g);return this},iterate:function(c,v){var g=[null],y;for(y=2;y<arguments.length;y++)g.push(arguments[y]);for(y=0;y<this.list.length;y++)g[0]=this.list[y],c.apply(v,g);return this},setScrollFactor:function(c,v,g){return v===void 0&&(v=c),g===void 0&&(g=!1),this.scrollFactorX=c,this.scrollFactorY=v,g&&(u.SetAll(this.list,"scrollFactorX",c),u.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(c){u.Remove(this.list,c),this.exclusive&&(c.parentContainer=null,c.removedFromScene())}});p.exports=f},53584:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m.addToRenderList(u);var s=u.list;if(s.length!==0){var a=u.localTransform;l?(a.loadIdentity(),a.multiply(l),a.translate(u.x,u.y),a.rotate(u.rotation),a.scale(u.scaleX,u.scaleY)):a.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var e=u.blendMode!==-1;e||t.setBlendMode(0);var r=u._alpha,d=u.scrollFactorX,n=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(t,null,m);for(var h=0;h<s.length;h++){var f=s[h];if(f.willRender(m)){var c=f.alpha,v=f.scrollFactorX,g=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(v*d,g*n),f.setAlpha(c*r),f.renderCanvas(t,f,m,a),f.setAlpha(c),f.setScrollFactor(v,g)}}u.mask&&u.mask.postRenderCanvas(t)}};p.exports=T},77143:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(31559),l=t(44603),s=t(23568),a=t(95540);l.register("container",function(e,r){e===void 0&&(e={});var d=s(e,"x",0),n=s(e,"y",0),h=a(e,"children",null),f=new m(this.scene,d,n,h);return r!==void 0&&(e.add=r),u(this.scene,f,e),f})},24961:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(31559),m=t(39429);m.register("container",function(l,s,a){return this.displayList.add(new u(this.scene,l,s,a))})},29959:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(72249),l=t(53584),p.exports={renderWebGL:m,renderCanvas:l}},72249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m.addToRenderList(u);var s=u.list,a=s.length;if(a!==0){var e=u.localTransform;l?(e.loadIdentity(),e.multiply(l),e.translate(u.x,u.y),e.rotate(u.rotation),e.scale(u.scaleX,u.scaleY)):e.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),t.pipelines.preBatch(u);var r=u.blendMode!==-1;r||t.setBlendMode(0);for(var d=u.alpha,n=u.scrollFactorX,h=u.scrollFactorY,f=0;f<a;f++){var c=s[f];if(c.willRender(m)){var v,g,y,C;if(c.alphaTopLeft!==void 0)v=c.alphaTopLeft,g=c.alphaTopRight,y=c.alphaBottomLeft,C=c.alphaBottomRight;else{var S=c.alpha;v=S,g=S,y=S,C=S}var P=c.scrollFactorX,w=c.scrollFactorY;!r&&c.blendMode!==t.currentBlendMode&&t.setBlendMode(c.blendMode);var R=c.mask;R&&R.preRenderWebGL(t,c,m);var L=c.type;L!==t.currentType&&(t.newType=!0,t.currentType=L),t.nextTypeMatch=f<a-1?s[f+1].type===t.currentType:!1,c.setScrollFactor(P*n,w*h),c.setAlpha(v*d,g*d,y*d,C*d),c.renderWebGL(t,c,m,e,u),c.setAlpha(v,g,y,C),c.setScrollFactor(P,w),R&&R.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(u)}};p.exports=T},47407:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(441),s=t(95643),a=t(41212),e=t(35846),r=t(44594),d=t(61369),n=new u({Extends:s,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,l],initialize:function(f,c,v,g,y,C){s.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new d,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,v),typeof g=="string"?g[0]==="#"?this.setElement(g.substr(1),y,C):this.createElement(g,y,C):g&&this.setElement(g,y,C),f.sys.events.on(r.SLEEP,this.handleSceneEvent,this),f.sys.events.on(r.WAKE,this.handleSceneEvent,this),f.sys.events.on(r.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(h){var f=this.node,c=f.style;f&&(c.display=h.settings.visible?"block":"none")},setSkew:function(h,f){return h===void 0&&(h=0),f===void 0&&(f=h),this.skewX=h,this.skewY=f,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.addEventListener(h[f],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var f=0;f<h.length;f++)this.node.removeEventListener(h[f],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,f,c){return this.setElement(document.createElement(h),f,c)},setElement:function(h,f,c){this.removeElement();var v;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),v=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(v=h),!v)return this;if(this.node=v,f&&a(f))for(var g in f)v.style[g]=f[g];else typeof f=="string"&&(v.style=f);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),c&&(v.innerText=c),this.updateSize()},createFromCache:function(h,f){var c=this.cache.get(h);return c&&this.createFromHTML(c,f),this},createFromHTML:function(h,f){f===void 0&&(f="div"),this.removeElement();var c=document.createElement(f);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),c.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node,f=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(h,f){if(this.node){for(var c=this.node.querySelectorAll("*"),v=0;v<c.length;v++)if(c[v][h]===f)return c[v]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preRender:function(){var h=this.parentContainer,f=this.node;f&&h&&!h.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(r.PRE_RENDER,this.preRender,this)}});p.exports=n},49381:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(47407),m=t(95643),l=t(61340),s=new l,a=new l,e=new l,r=function(d,n,h,f){if(n.node){var c=n.node.style,v=n.scene.sys.settings;if(!c||!v.visible||m.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&h.id||n.parentContainer&&!n.parentContainer.willRender()){c.display="none";return}var g=n.parentContainer,y=h.alpha*n.alpha;g&&(y*=g.alpha);var C=s,S=a,P=e,w=0,R=0,L="0%",D="0%";f?(w=n.width*n.scaleX*n.originX,R=n.height*n.scaleY*n.originY,S.applyITRS(n.x-w,n.y-R,n.rotation,n.scaleX,n.scaleY),C.copyFrom(h.matrix),C.multiplyWithOffset(f,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),S.e=n.x-w,S.f=n.y-R,C.multiply(S,P)):(w=n.width*n.originX,R=n.height*n.originY,S.applyITRS(n.x-w,n.y-R,n.rotation,n.scaleX,n.scaleY),C.copyFrom(h.matrix),L=100*n.originX+"%",D=100*n.originY+"%",S.e-=h.scrollX*n.scrollFactorX,S.f-=h.scrollY*n.scrollFactorY,C.multiply(S,P)),n.transformOnly||(c.display="block",c.opacity=y,c.zIndex=n._depth,c.pointerEvents=n.pointerEvents,c.mixBlendMode=u[n._blendMode]),c.transform=P.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",c.transformOrigin=L+" "+D}};p.exports=r},2611:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(3069),m=t(39429);m.register("dom",function(l,s,a,e,r){var d=new u(this.scene,l,s,a,e,r);return this.displayList.add(d),d})},441:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(49381),l=t(49381),p.exports={renderWebGL:m,renderCanvas:l}},62980:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},41337:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},44947:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},49358:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},35163:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},97249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},19483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},56059:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},26772:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="metadata"},64437:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},83411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},75780:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},67799:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},63500:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},55541:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},53208:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4992:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},12:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},51708:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(95643),s=t(64993),a=new u({Extends:l,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,s],initialize:function(r){l.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=a},70217:()=>{},56315:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(42421),m=t(39429);m.register("extern",function(){var l=new u(this.scene);return this.displayList.add(l),l})},64993:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(80287),l=t(70217),p.exports={renderWebGL:m,renderCanvas:l}},80287:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=function(l,s,a,e){l.pipelines.clear();var r=u(s,a,e).calc;s.render.call(s,l,a,r),l.pipelines.rebind()};p.exports=m},85592:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(71911),m=t(83419),l=t(85592),s=t(31401),a=t(8497),e=t(95643),r=t(95540),d=t(35154),n=t(36383),h=t(84503),f=new m({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,h],initialize:function(v,g){var y=d(g,"x",0),C=d(g,"y",0);e.call(this,v,"Graphics"),this.setPosition(y,C),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(g)},setDefaultStyles:function(c){return d(c,"lineStyle",null)&&(this.defaultStrokeWidth=d(c,"lineStyle.width",1),this.defaultStrokeColor=d(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=d(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),d(c,"fillStyle",null)&&(this.defaultFillColor=d(c,"fillStyle.color",16777215),this.defaultFillAlpha=d(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,v,g){return g===void 0&&(g=1),this.commandBuffer.push(l.LINE_STYLE,c,v,g),this._lineWidth=c,this},fillStyle:function(c,v){return v===void 0&&(v=1),this.commandBuffer.push(l.FILL_STYLE,c,v),this},fillGradientStyle:function(c,v,g,y,C,S,P,w){return C===void 0&&(C=1),S===void 0&&(S=C),P===void 0&&(P=C),w===void 0&&(w=C),this.commandBuffer.push(l.GRADIENT_FILL_STYLE,C,S,P,w,c,v,g,y),this},lineGradientStyle:function(c,v,g,y,C,S){return S===void 0&&(S=1),this.commandBuffer.push(l.GRADIENT_LINE_STYLE,c,S,v,g,y,C),this},beginPath:function(){return this.commandBuffer.push(l.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(l.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(l.FILL_PATH),this},fill:function(){return this.commandBuffer.push(l.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(l.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(l.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,v,g){return this.beginPath(),this.arc(c,v,g,0,n.PI2),this.fillPath(),this},strokeCircle:function(c,v,g){return this.beginPath(),this.arc(c,v,g,0,n.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,v,g,y){return this.commandBuffer.push(l.FILL_RECT,c,v,g,y),this},strokeRect:function(c,v,g,y){var C=this._lineWidth/2,S=c-C,P=c+C;return this.beginPath(),this.moveTo(c,v),this.lineTo(c,v+y),this.strokePath(),this.beginPath(),this.moveTo(c+g,v),this.lineTo(c+g,v+y),this.strokePath(),this.beginPath(),this.moveTo(S,v),this.lineTo(P+g,v),this.strokePath(),this.beginPath(),this.moveTo(S,v+y),this.lineTo(P+g,v+y),this.strokePath(),this},fillRoundedRect:function(c,v,g,y,C){C===void 0&&(C=20);var S=C,P=C,w=C,R=C;typeof C!="number"&&(S=r(C,"tl",20),P=r(C,"tr",20),w=r(C,"bl",20),R=r(C,"br",20));var L=S>=0,D=P>=0,F=w>=0,O=R>=0;return S=Math.abs(S),P=Math.abs(P),w=Math.abs(w),R=Math.abs(R),this.beginPath(),this.moveTo(c+S,v),this.lineTo(c+g-P,v),D?this.arc(c+g-P,v+P,P,-n.TAU,0):this.arc(c+g,v,P,Math.PI,n.TAU,!0),this.lineTo(c+g,v+y-R),O?this.arc(c+g-R,v+y-R,R,0,n.TAU):this.arc(c+g,v+y,R,-n.TAU,Math.PI,!0),this.lineTo(c+w,v+y),F?this.arc(c+w,v+y-w,w,n.TAU,Math.PI):this.arc(c,v+y,w,0,-n.TAU,!0),this.lineTo(c,v+S),L?this.arc(c+S,v+S,S,-Math.PI,-n.TAU):this.arc(c,v,S,n.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,v,g,y,C){C===void 0&&(C=20);var S=C,P=C,w=C,R=C,L=Math.min(g,y)/2;typeof C!="number"&&(S=r(C,"tl",20),P=r(C,"tr",20),w=r(C,"bl",20),R=r(C,"br",20));var D=S>=0,F=P>=0,O=w>=0,B=R>=0;return S=Math.min(Math.abs(S),L),P=Math.min(Math.abs(P),L),w=Math.min(Math.abs(w),L),R=Math.min(Math.abs(R),L),this.beginPath(),this.moveTo(c+S,v),this.lineTo(c+g-P,v),this.moveTo(c+g-P,v),F?this.arc(c+g-P,v+P,P,-n.TAU,0):this.arc(c+g,v,P,Math.PI,n.TAU,!0),this.lineTo(c+g,v+y-R),this.moveTo(c+g,v+y-R),B?this.arc(c+g-R,v+y-R,R,0,n.TAU):this.arc(c+g,v+y,R,-n.TAU,Math.PI,!0),this.lineTo(c+w,v+y),this.moveTo(c+w,v+y),O?this.arc(c+w,v+y-w,w,n.TAU,Math.PI):this.arc(c,v+y,w,0,-n.TAU,!0),this.lineTo(c,v+S),this.moveTo(c,v+S),D?this.arc(c+S,v+S,S,-Math.PI,-n.TAU):this.arc(c,v,S,n.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,v){return this.fillPoint(c.x,c.y,v)},fillPoint:function(c,v,g){return!g||g<1?g=1:(c-=g/2,v-=g/2),this.commandBuffer.push(l.FILL_RECT,c,v,g,g),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,v,g,y,C,S){return this.commandBuffer.push(l.FILL_TRIANGLE,c,v,g,y,C,S),this},strokeTriangle:function(c,v,g,y,C,S){return this.commandBuffer.push(l.STROKE_TRIANGLE,c,v,g,y,C,S),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,v,g,y){return this.beginPath(),this.moveTo(c,v),this.lineTo(g,y),this.strokePath(),this},lineTo:function(c,v){return this.commandBuffer.push(l.LINE_TO,c,v),this},moveTo:function(c,v){return this.commandBuffer.push(l.MOVE_TO,c,v),this},strokePoints:function(c,v,g,y){v===void 0&&(v=!1),g===void 0&&(g=!1),y===void 0&&(y=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var C=1;C<y;C++)this.lineTo(c[C].x,c[C].y);return v&&this.lineTo(c[0].x,c[0].y),g&&this.closePath(),this.strokePath(),this},fillPoints:function(c,v,g,y){v===void 0&&(v=!1),g===void 0&&(g=!1),y===void 0&&(y=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var C=1;C<y;C++)this.lineTo(c[C].x,c[C].y);return v&&this.lineTo(c[0].x,c[0].y),g&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,v){v===void 0&&(v=32);var g=c.getPoints(v);return this.strokePoints(g,!0)},strokeEllipse:function(c,v,g,y,C){C===void 0&&(C=32);var S=new a(c,v,g,y),P=S.getPoints(C);return this.strokePoints(P,!0)},fillEllipseShape:function(c,v){v===void 0&&(v=32);var g=c.getPoints(v);return this.fillPoints(g,!0)},fillEllipse:function(c,v,g,y,C){C===void 0&&(C=32);var S=new a(c,v,g,y),P=S.getPoints(C);return this.fillPoints(P,!0)},arc:function(c,v,g,y,C,S,P){return S===void 0&&(S=!1),P===void 0&&(P=0),this.commandBuffer.push(l.ARC,c,v,g,y,C,S,P),this},slice:function(c,v,g,y,C,S,P){return S===void 0&&(S=!1),P===void 0&&(P=0),this.commandBuffer.push(l.BEGIN_PATH),this.commandBuffer.push(l.MOVE_TO,c,v),this.commandBuffer.push(l.ARC,c,v,g,y,C,S,P),this.commandBuffer.push(l.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(l.SAVE),this},restore:function(){return this.commandBuffer.push(l.RESTORE),this},translateCanvas:function(c,v){return this.commandBuffer.push(l.TRANSLATE,c,v),this},scaleCanvas:function(c,v){return this.commandBuffer.push(l.SCALE,c,v),this},rotateCanvas:function(c){return this.commandBuffer.push(l.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,v,g){var y=this.scene.sys,C=y.game.renderer;v===void 0&&(v=y.scale.width),g===void 0&&(g=y.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,v,g),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var S,P,w={willReadFrequently:!0};if(typeof c=="string")if(y.textures.exists(c)){S=y.textures.get(c);var R=S.getSourceImage();R instanceof HTMLCanvasElement&&(P=R.getContext("2d",w))}else S=y.textures.createCanvas(c,v,g),P=S.getSourceImage().getContext("2d",w);else c instanceof HTMLCanvasElement&&(P=c.getContext("2d",w));return P&&(this.renderCanvas(C,this,f.TargetCamera,null,P,!1),S&&S.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new u,p.exports=f},32768:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85592),m=t(20926),l=function(s,a,e,r,d,n){var h=a.commandBuffer,f=h.length,c=d||s.currentContext;if(!(f===0||!m(s,c,a,e,r))){e.addToRenderList(a);var v=1,g=1,y=0,C=0,S=1,P=0,w=0,R=0;c.beginPath();for(var L=0;L<f;++L){var D=h[L];switch(D){case u.ARC:c.arc(h[L+1],h[L+2],h[L+3],h[L+4],h[L+5],h[L+6]),L+=7;break;case u.LINE_STYLE:S=h[L+1],y=h[L+2],v=h[L+3],P=(y&16711680)>>>16,w=(y&65280)>>>8,R=y&255,c.strokeStyle="rgba("+P+","+w+","+R+","+v+")",c.lineWidth=S,L+=3;break;case u.FILL_STYLE:C=h[L+1],g=h[L+2],P=(C&16711680)>>>16,w=(C&65280)>>>8,R=C&255,c.fillStyle="rgba("+P+","+w+","+R+","+g+")",L+=2;break;case u.BEGIN_PATH:c.beginPath();break;case u.CLOSE_PATH:c.closePath();break;case u.FILL_PATH:n||c.fill();break;case u.STROKE_PATH:n||c.stroke();break;case u.FILL_RECT:n?c.rect(h[L+1],h[L+2],h[L+3],h[L+4]):c.fillRect(h[L+1],h[L+2],h[L+3],h[L+4]),L+=4;break;case u.FILL_TRIANGLE:c.beginPath(),c.moveTo(h[L+1],h[L+2]),c.lineTo(h[L+3],h[L+4]),c.lineTo(h[L+5],h[L+6]),c.closePath(),n||c.fill(),L+=6;break;case u.STROKE_TRIANGLE:c.beginPath(),c.moveTo(h[L+1],h[L+2]),c.lineTo(h[L+3],h[L+4]),c.lineTo(h[L+5],h[L+6]),c.closePath(),n||c.stroke(),L+=6;break;case u.LINE_TO:c.lineTo(h[L+1],h[L+2]),L+=2;break;case u.MOVE_TO:c.moveTo(h[L+1],h[L+2]),L+=2;break;case u.LINE_FX_TO:c.lineTo(h[L+1],h[L+2]),L+=5;break;case u.MOVE_FX_TO:c.moveTo(h[L+1],h[L+2]),L+=5;break;case u.SAVE:c.save();break;case u.RESTORE:c.restore();break;case u.TRANSLATE:c.translate(h[L+1],h[L+2]),L+=2;break;case u.SCALE:c.scale(h[L+1],h[L+2]),L+=2;break;case u.ROTATE:c.rotate(h[L+1]),L+=1;break;case u.GRADIENT_FILL_STYLE:L+=5;break;case u.GRADIENT_LINE_STYLE:L+=6;break}}c.restore()}};p.exports=l},87079:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(44603),m=t(43831);u.register("graphics",function(l,s){l===void 0&&(l={}),s!==void 0&&(l.add=s);var a=new m(this.scene,l);return l.add&&this.scene.sys.displayList.add(a),a})},1201:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43831),m=t(39429);m.register("graphics",function(l){return this.displayList.add(new u(this.scene,l))})},84503:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(77545),l=t(32768),l=t(32768),p.exports={renderWebGL:m,renderCanvas:l}},77545:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85592),m=t(91296),l=t(61340),s=t(70554),a=function(h,f,c){this.x=h,this.y=f,this.width=c},e=function(h,f,c){this.points=[],this.pointsLength=1,this.points[0]=new a(h,f,c)},r=[],d=new l,n=function(h,f,c,v){if(f.commandBuffer.length!==0){c.addToRenderList(f);var g=h.pipelines.set(f.pipeline,f);h.pipelines.preBatch(f);for(var y=m(f,c,v).calc,C=d.loadIdentity(),S=f.commandBuffer,P=c.alpha*f.alpha,w=1,R=g.fillTint,L=g.strokeTint,D=0,F=0,O=0,B=.01,N=Math.PI*2,G,z=[],X=0,H=!0,V=null,W=s.getTintAppendFloatAlpha,I=0;I<S.length;I++)switch(G=S[I],G){case u.BEGIN_PATH:{z.length=0,V=null,H=!0;break}case u.CLOSE_PATH:{H=!1,V&&V.points.length&&V.points.push(V.points[0]);break}case u.FILL_PATH:{for(X=0;X<z.length;X++)g.batchFillPath(z[X].points,C,y);break}case u.STROKE_PATH:{for(X=0;X<z.length;X++)g.batchStrokePath(z[X].points,w,H,C,y);break}case u.LINE_STYLE:{w=S[++I];var b=S[++I],U=S[++I]*P,Y=W(b,U);L.TL=Y,L.TR=Y,L.BL=Y,L.BR=Y;break}case u.FILL_STYLE:{var $=S[++I],j=S[++I]*P,K=W($,j);R.TL=K,R.TR=K,R.BL=K,R.BR=K;break}case u.GRADIENT_FILL_STYLE:{var J=S[++I]*P,k=S[++I]*P,_=S[++I]*P,et=S[++I]*P;R.TL=W(S[++I],J),R.TR=W(S[++I],k),R.BL=W(S[++I],_),R.BR=W(S[++I],et);break}case u.GRADIENT_LINE_STYLE:{w=S[++I];var nt=S[++I]*P;L.TL=W(S[++I],nt),L.TR=W(S[++I],nt),L.BL=W(S[++I],nt),L.BR=W(S[++I],nt);break}case u.ARC:{var it=0,ot=S[++I],ft=S[++I],pt=S[++I],mt=S[++I],rt=S[++I],dt=S[++I],ct=S[++I];for(rt-=mt,dt?rt<-N?rt=-N:rt>0&&(rt=-N+rt%N):rt>N?rt=N:rt<0&&(rt=N+rt%N),V===null&&(V=new e(ot+Math.cos(mt)*pt,ft+Math.sin(mt)*pt,w),z.push(V),it+=B);it<1+ct;)O=rt*it+mt,D=ot+Math.cos(O)*pt,F=ft+Math.sin(O)*pt,V.points.push(new a(D,F,w)),it+=B;O=rt+mt,D=ot+Math.cos(O)*pt,F=ft+Math.sin(O)*pt,V.points.push(new a(D,F,w));break}case u.FILL_RECT:{g.batchFillRect(S[++I],S[++I],S[++I],S[++I],C,y);break}case u.FILL_TRIANGLE:{g.batchFillTriangle(S[++I],S[++I],S[++I],S[++I],S[++I],S[++I],C,y);break}case u.STROKE_TRIANGLE:{g.batchStrokeTriangle(S[++I],S[++I],S[++I],S[++I],S[++I],S[++I],w,C,y);break}case u.LINE_TO:{V!==null?V.points.push(new a(S[++I],S[++I],w)):(V=new e(S[++I],S[++I],w),z.push(V));break}case u.MOVE_TO:{V=new e(S[++I],S[++I],w),z.push(V);break}case u.SAVE:{r.push(C.copyToArray());break}case u.RESTORE:{C.copyFromArray(r.pop());break}case u.TRANSLATE:{ot=S[++I],ft=S[++I],C.translate(ot,ft);break}case u.SCALE:{ot=S[++I],ft=S[++I],C.scale(ot,ft);break}case u.ROTATE:{C.rotate(S[++I]);break}}h.pipelines.postBatch(f)}};p.exports=n},26479:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61061),m=t(83419),l=t(51708),s=t(50792),a=t(46710),e=t(95540),r=t(35154),d=t(97022),n=t(41212),h=t(88492),f=t(35072),c=t(68287),v=new m({Extends:s,initialize:function(y,C,S){s.call(this),S?C&&!Array.isArray(C)&&(C=[C]):Array.isArray(C)?n(C[0])&&(S=C,C=null):n(C)&&(S=C,C=null),this.scene=y,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(S,"classType",c),this.name=e(S,"name",""),this.active=e(S,"active",!0),this.maxSize=e(S,"maxSize",-1),this.defaultKey=e(S,"defaultKey",null),this.defaultFrame=e(S,"defaultFrame",null),this.runChildUpdate=e(S,"runChildUpdate",!1),this.createCallback=e(S,"createCallback",null),this.removeCallback=e(S,"removeCallback",null),this.createMultipleCallback=e(S,"createMultipleCallback",null),this.internalCreateCallback=e(S,"internalCreateCallback",null),this.internalRemoveCallback=e(S,"internalRemoveCallback",null),C&&this.addMultiple(C),S&&this.createMultiple(S),this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(g,y,C,S,P,w){if(g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=this.defaultKey),S===void 0&&(S=this.defaultFrame),P===void 0&&(P=!0),w===void 0&&(w=!0),this.isFull())return null;var R=new this.classType(this.scene,g,y,C,S);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=P,R.setActive(w),this.add(R),R},createMultiple:function(g){if(this.isFull())return[];Array.isArray(g)||(g=[g]);var y=[];if(g[0].key)for(var C=0;C<g.length;C++){var S=this.createFromConfig(g[C]);y=y.concat(S)}return y},createFromConfig:function(g){if(this.isFull())return[];this.classType=e(g,"classType",this.classType);var y=e(g,"key",void 0),C=e(g,"frame",null),S=e(g,"visible",!0),P=e(g,"active",!0),w=[];if(y===void 0)return w;Array.isArray(y)||(y=[y]),Array.isArray(C)||(C=[C]);var R=e(g,"repeat",0),L=e(g,"randomKey",!1),D=e(g,"randomFrame",!1),F=e(g,"yoyo",!1),O=e(g,"quantity",!1),B=e(g,"frameQuantity",1),N=e(g,"max",0),G=h(y,C,{max:N,qty:O||B,random:L,randomB:D,repeat:R,yoyo:F});g.createCallback&&(this.createCallback=g.createCallback),g.removeCallback&&(this.removeCallback=g.removeCallback),g.internalCreateCallback&&(this.internalCreateCallback=g.internalCreateCallback),g.internalRemoveCallback&&(this.internalRemoveCallback=g.internalRemoveCallback);for(var z=0;z<G.length;z++){var X=this.create(0,0,G[z].a,G[z].b,S,P);if(!X)break;w.push(X)}if(d(g,"setXY")){var H=r(g,"setXY.x",0),V=r(g,"setXY.y",0),W=r(g,"setXY.stepX",0),I=r(g,"setXY.stepY",0);u.SetXY(w,H,V,W,I)}if(d(g,"setRotation")){var b=r(g,"setRotation.value",0),U=r(g,"setRotation.step",0);u.SetRotation(w,b,U)}if(d(g,"setScale")){var Y=r(g,"setScale.x",1),$=r(g,"setScale.y",Y),j=r(g,"setScale.stepX",0),K=r(g,"setScale.stepY",0);u.SetScale(w,Y,$,j,K)}if(d(g,"setOrigin")){var J=r(g,"setOrigin.x",.5),k=r(g,"setOrigin.y",J),_=r(g,"setOrigin.stepX",0),et=r(g,"setOrigin.stepY",0);u.SetOrigin(w,J,k,_,et)}if(d(g,"setAlpha")){var nt=r(g,"setAlpha.value",1),it=r(g,"setAlpha.step",0);u.SetAlpha(w,nt,it)}if(d(g,"setDepth")){var ot=r(g,"setDepth.value",0),ft=r(g,"setDepth.step",0);u.SetDepth(w,ot,ft)}if(d(g,"setScrollFactor")){var pt=r(g,"setScrollFactor.x",1),mt=r(g,"setScrollFactor.y",pt),rt=r(g,"setScrollFactor.stepX",0),dt=r(g,"setScrollFactor.stepY",0);u.SetScrollFactor(w,pt,mt,rt,dt)}var ct=e(g,"hitArea",null),Pt=e(g,"hitAreaCallback",null);ct&&u.SetHitArea(w,ct,Pt);var Et=e(g,"gridAlign",!1);return Et&&u.GridAlign(w,Et),this.createMultipleCallback&&this.createMultipleCallback.call(this,w),w},preUpdate:function(g,y){if(!(!this.runChildUpdate||this.children.size===0))for(var C=this.children.entries.slice(),S=0;S<C.length;S++){var P=C[S];P.active&&P.update(g,y)}},add:function(g,y){return y===void 0&&(y=!1),this.isFull()?this:(this.children.set(g),this.internalCreateCallback&&this.internalCreateCallback.call(this,g),this.createCallback&&this.createCallback.call(this,g),y&&(g.addToDisplayList(this.scene.sys.displayList),g.addToUpdateList()),g.on(l.DESTROY,this.remove,this),this)},addMultiple:function(g,y){if(y===void 0&&(y=!1),Array.isArray(g))for(var C=0;C<g.length;C++)this.add(g[C],y);return this},remove:function(g,y,C){return y===void 0&&(y=!1),C===void 0&&(C=!1),this.children.contains(g)?(this.children.delete(g),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,g),this.removeCallback&&this.removeCallback.call(this,g),g.off(l.DESTROY,this.remove,this),C?g.destroy():y&&(g.removeFromDisplayList(),g.removeFromUpdateList()),this):this},clear:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!1);for(var C=this.children,S=0;S<C.size;S++){var P=C.entries[S];P.off(l.DESTROY,this.remove,this),y?P.destroy():g&&(P.removeFromDisplayList(),P.removeFromUpdateList())}return this.children.clear(),this},contains:function(g){return this.children.contains(g)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(g,y,C,S){return a(this.children.entries,g,y,C,S)},getFirst:function(g,y,C,S,P,w,R){return this.getHandler(!0,1,g,y,C,S,P,w,R)},getFirstNth:function(g,y,C,S,P,w,R,L){return this.getHandler(!0,g,y,C,S,P,w,R,L)},getLast:function(g,y,C,S,P,w,R){return this.getHandler(!1,1,g,y,C,S,P,w,R)},getLastNth:function(g,y,C,S,P,w,R,L){return this.getHandler(!1,g,y,C,S,P,w,R,L)},getHandler:function(g,y,C,S,P,w,R,L,D){C===void 0&&(C=!1),S===void 0&&(S=!1);var F,O,B=0,N=this.children.entries;if(g)for(O=0;O<N.length;O++)if(F=N[O],F.active===C){if(B++,B===y)break}else F=null;else for(O=N.length-1;O>=0;O--)if(F=N[O],F.active===C){if(B++,B===y)break}else F=null;return F?(typeof P=="number"&&(F.x=P),typeof w=="number"&&(F.y=w),F):S?this.create(P,w,R,L,D):null},get:function(g,y,C,S,P){return this.getFirst(!1,!0,g,y,C,S,P)},getFirstAlive:function(g,y,C,S,P,w){return this.getFirst(!0,g,y,C,S,P,w)},getFirstDead:function(g,y,C,S,P,w){return this.getFirst(!1,g,y,C,S,P,w)},playAnimation:function(g,y){return u.PlayAnimation(this.children.entries,g,y),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(g){g===void 0&&(g=!0);for(var y=0,C=0;C<this.children.size;C++)this.children.entries[C].active===g&&y++;return y},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var g=this.getTotalUsed(),y=this.maxSize===-1?999999999999:this.maxSize;return y-g},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},propertyValueSet:function(g,y,C,S,P){return u.PropertyValueSet(this.children.entries,g,y,C,S,P),this},propertyValueInc:function(g,y,C,S,P){return u.PropertyValueInc(this.children.entries,g,y,C,S,P),this},setX:function(g,y){return u.SetX(this.children.entries,g,y),this},setY:function(g,y){return u.SetY(this.children.entries,g,y),this},setXY:function(g,y,C,S){return u.SetXY(this.children.entries,g,y,C,S),this},incX:function(g,y){return u.IncX(this.children.entries,g,y),this},incY:function(g,y){return u.IncY(this.children.entries,g,y),this},incXY:function(g,y,C,S){return u.IncXY(this.children.entries,g,y,C,S),this},shiftPosition:function(g,y,C){return u.ShiftPosition(this.children.entries,g,y,C),this},angle:function(g,y){return u.Angle(this.children.entries,g,y),this},rotate:function(g,y){return u.Rotate(this.children.entries,g,y),this},rotateAround:function(g,y){return u.RotateAround(this.children.entries,g,y),this},rotateAroundDistance:function(g,y,C){return u.RotateAroundDistance(this.children.entries,g,y,C),this},setAlpha:function(g,y){return u.SetAlpha(this.children.entries,g,y),this},setTint:function(g,y,C,S){return u.SetTint(this.children.entries,g,y,C,S),this},setOrigin:function(g,y,C,S){return u.SetOrigin(this.children.entries,g,y,C,S),this},scaleX:function(g,y){return u.ScaleX(this.children.entries,g,y),this},scaleY:function(g,y){return u.ScaleY(this.children.entries,g,y),this},scaleXY:function(g,y,C,S){return u.ScaleXY(this.children.entries,g,y,C,S),this},setDepth:function(g,y){return u.SetDepth(this.children.entries,g,y),this},setBlendMode:function(g){return u.SetBlendMode(this.children.entries,g),this},setHitArea:function(g,y){return u.SetHitArea(this.children.entries,g,y),this},shuffle:function(){return u.Shuffle(this.children.entries),this},kill:function(g){this.children.contains(g)&&g.setActive(!1)},killAndHide:function(g){this.children.contains(g)&&(g.setActive(!1),g.setVisible(!1))},setVisible:function(g,y,C){return u.SetVisible(this.children.entries,g,y,C),this},toggleVisible:function(){return u.ToggleVisible(this.children.entries),this},destroy:function(g,y){g===void 0&&(g=!1),y===void 0&&(y=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(l.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(y,g),this.scene=void 0,this.children=void 0)}});p.exports=v},94975:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(44603),m=t(26479);u.register("group",function(l){return new m(this.scene,null,l)})},3385:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26479),m=t(39429);m.register("group",function(l,s){return this.updateList.add(new u(this.scene,l,s))})},88571:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(95643),s=t(59819),a=new u({Extends:l,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,s],initialize:function(r,d,n,h,f){l.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,f),this.setPosition(d,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=a},40652:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m.addToRenderList(u),t.batchSprite(u,u.frame,m,l)};p.exports=T},82459:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(88571);m.register("image",function(a,e){a===void 0&&(a={});var r=l(a,"key",null),d=l(a,"frame",null),n=new s(this.scene,0,0,r,d);return e!==void 0&&(a.add=e),u(this.scene,n,a),n})},2117:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(88571),m=t(39429);m.register("image",function(l,s,a,e){return this.displayList.add(new u(this.scene,l,s,a,e))})},59819:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(99517),l=t(40652),p.exports={renderWebGL:m,renderCanvas:l}},99517:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m.addToRenderList(u),this.pipeline.batchSprite(u,m,l)};p.exports=T},77856:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};u.Shader=t(20071),u.Mesh=t(4703),u.NineSlice=t(28103),u.PointLight=t(80321),u.Plane=t(33663),u.Factories.Shader=t(74177),u.Factories.Mesh=t(9225),u.Factories.NineSlice=t(47521),u.Factories.PointLight=t(71255),u.Factories.Plane=t(30985),u.Creators.Shader=t(54935),u.Creators.Mesh=t(20527),u.Creators.NineSlice=t(28279),u.Creators.PointLight=t(39829),u.Creators.Plane=t(56015),u.Light=t(41432),u.LightsManager=t(61356),u.LightsPlugin=t(88992),p.exports=u},93595:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10312),m=t(83419),l=t(31401),s=t(53774),a=t(45893),e=t(50792),r=t(51708),d=t(73162),n=t(33963),h=t(44594),f=t(19186),c=new m({Extends:d,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.PostPipeline,l.Visible,e,n],initialize:function(g,y){d.call(this,g),e.call(this),this.scene=g,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=g.sys,this.events=g.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),y&&this.add(y),g.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(v,g){return this.data||(this.data=new a(this)),this.data.set(v,g),this},incData:function(v,g){return this.data||(this.data=new a(this)),this.data.inc(v,g),this},toggleData:function(v){return this.data||(this.data=new a(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new a(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(v){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,g=this.parentContainer,y=[];g&&(y.unshift(g.getIndex(v)),v=g,g.parentContainer);)g=g.parentContainer;return y.unshift(this.displayList.getIndex(v)),y},addChildCallback:function(v){var g=v.displayList;g&&g!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(r.ADDED_TO_SCENE,v,this.scene),this.events.emit(h.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(r.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,g){return v._depth-g._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),v.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(v){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var g=this.list;g.length;)g[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=c},2956:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=u.list;if(l.length!==0){u.depthSort();var s=u.blendMode!==-1;s||t.setBlendMode(0);var a=u._alpha;u.mask&&u.mask.preRenderCanvas(t,null,m);for(var e=0;e<l.length;e++){var r=l[e];if(r.willRender(m)){var d=r.alpha;!s&&r.blendMode!==t.currentBlendMode&&t.setBlendMode(r.blendMode),r.setAlpha(d*a),r.renderCanvas(t,r,m),r.setAlpha(d)}}u.mask&&u.mask.postRenderCanvas(t)}};p.exports=T},25179:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(93595),l=t(44603),s=t(23568);l.register("layer",function(a,e){a===void 0&&(a={});var r=s(a,"children",null),d=new m(this.scene,r);return e!==void 0&&(a.add=e),u(this.scene,d,a),d})},20005:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93595),m=t(39429);m.register("layer",function(l){return this.displayList.add(new u(this.scene,l))})},33963:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(15869),l=t(2956),p.exports={renderWebGL:m,renderCanvas:l}},15869:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=u.list,s=l.length;if(s!==0){u.depthSort(),t.pipelines.preBatch(u);var a=u.blendMode!==-1;a||t.setBlendMode(0);for(var e=u.alpha,r=0;r<s;r++){var d=l[r];if(d.willRender(m)){var n,h,f,c;if(d.alphaTopLeft!==void 0)n=d.alphaTopLeft,h=d.alphaTopRight,f=d.alphaBottomLeft,c=d.alphaBottomRight;else{var v=d.alpha;n=v,h=v,f=v,c=v}!a&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var g=d.mask;g&&g.preRenderWebGL(t,d,m);var y=d.type;y!==t.currentType&&(t.newType=!0,t.currentType=y),t.nextTypeMatch=r<s-1?l[r+1].type===t.currentType:!1,d.setAlpha(n*e,h*e,f*e,c*e),d.renderWebGL(t,d,m),d.setAlpha(n,h,f,c),g&&g.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(u)}};p.exports=T},41432:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(96503),m=t(83419),l=t(31401),s=t(51767),a=t(70554),e=new m({Extends:u,Mixins:[l.Origin,l.ScrollFactor,l.Visible],initialize:function(d,n,h,f,c,v,g){u.call(this,d,n,h),this.color=new s(f,c,v),this.intensity=g,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(h)},displayWidth:{get:function(){return this.diameter},set:function(r){this.diameter=r}},displayHeight:{get:function(){return this.diameter},set:function(r){this.diameter=r}},width:{get:function(){return this.diameter},set:function(r){this.diameter=r}},height:{get:function(){return this.diameter},set:function(r){this.diameter=r}},willRender:function(r){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var d=a.getFloatsFromUintRGB(r);return this.color.set(d[0],d[1],d[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});e.RENDER_MASK=15,p.exports=e},61356:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(81491),m=t(83419),l=t(20339),s=t(41432),a=t(80321),e=t(51767),r=t(19133),d=t(19186),n=t(70554),h=new m({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,c,v,g,y,C){return this.systems.displayList.add(new a(this.scene,f,c,v,g,y,C))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var c=this.lights,v=f.worldView,g=[],y=0;y<c.length;y++){var C=c[y];C.willRender(f)&&u(C,v)&&g.push({light:C,distance:l(C.x,C.y,v.centerX,v.centerY)})}return g.length>this.maxLights&&(d(g,this.sortByDistance),g=g.slice(0,this.maxLights)),this.visibleLights=g.length,g},sortByDistance:function(f,c){return f.distance>=c.distance},setAmbientColor:function(f){var c=n.getFloatsFromUintRGB(f);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,c,v,g,y){f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=128),g===void 0&&(g=16777215),y===void 0&&(y=1);var C=n.getFloatsFromUintRGB(g),S=new s(f,c,v,C[0],C[1],C[2],y);return this.lights.push(S),S},removeLight:function(f){var c=this.lights.indexOf(f);return c>=0&&r(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=h},88992:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(61356),l=t(37277),s=t(44594),a=new u({Extends:m,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(s.BOOT,this.boot,this),m.call(this)},boot:function(){var e=this.systems.events;e.on(s.SHUTDOWN,this.shutdown,this),e.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});l.register("LightsPlugin",a,"lights"),p.exports=a},4703:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(39506),s=t(83997),a=t(95643),e=t(34684),r=t(92515),d=t(91296),n=t(37867),h=t(29807),f=t(43396),c=t(19186),v=t(25836),g=t(39318),y=new u({Extends:a,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,h],initialize:function(S,P,w,R,L,D,F,O,B,N,G,z){P===void 0&&(P=0),w===void 0&&(w=0),R===void 0&&(R="__WHITE"),a.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new n,this.viewPosition=new v,this.viewMatrix=new n,this.projectionMatrix=new n,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var X=S.sys.renderer;this.setPosition(P,w),this.setTexture(R,L),this.setSize(X.width,X.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(X.width,X.height),D&&this.addVertices(D,F,O,B,N,G,z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(C){return this.viewPosition.addScale(v.LEFT,C),this.dirtyCache[10]=1,this},panY:function(C){return this.viewPosition.y+=v.DOWN.y*C,this.dirtyCache[10]=1,this},panZ:function(C){return this.viewPosition.z+=C,this.dirtyCache[10]=1,this},setPerspective:function(C,S,P,w,R){return P===void 0&&(P=45),w===void 0&&(w=.01),R===void 0&&(R=1e3),this.fov=P,this.projectionMatrix.perspective(l(P),C/S,w,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(C,S,P,w){return C===void 0&&(C=this.scene.sys.renderer.getAspectRatio()),S===void 0&&(S=1),P===void 0&&(P=-1e3),w===void 0&&(w=1e3),this.fov=0,this.projectionMatrix.ortho(-C,C,-S,S,P,w),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(C){C.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(C,S,P,w,R,L,D,F,O){var B=this.scene.sys.cache.obj.get(C),N;return B&&(N=e(B,this,S,P,w,R,L,D,F,O)),(!N||N.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",C),this},sortByDepth:function(C,S){return C.depth-S.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(C,S,P,w,R,L,D){var F=new g(C,S,P,w,R,L,D);return this.vertices.push(F),F},addFace:function(C,S,P){var w=new s(C,S,P);return this.faces.push(w),this.dirtyCache[9]=-1,w},addVertices:function(C,S,P,w,R,L,D){var F=r(C,S,P,w,R,L,D);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(C){return this.faces[C]},hasFaceAt:function(C,S,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var w=d(this,P).calc,R=this.faces,L=0;L<R.length;L++){var D=R[L];if(D.contains(C,S,w))return!0}return!1},getFaceAt:function(C,S,P){P===void 0&&(P=this.scene.sys.cameras.main);for(var w=d(this,P).calc,R=this.faces,L=[],D=0;D<R.length;D++){var F=R[D];F.contains(C,S,w)&&L.push(F)}return c(L,this.sortByDepth)},setDebug:function(C,S){return this.debugGraphic=C,!C&&!S?this.debugCallback=null:S?this.debugCallback=S:this.debugCallback=this.renderDebug,this},isDirty:function(){var C=this.modelPosition,S=this.modelRotation,P=this.modelScale,w=this.dirtyCache,R=C.x,L=C.y,D=C.z,F=S.x,O=S.y,B=S.z,N=P.x,G=P.y,z=P.z,X=this.getFaceCount(),H=w[0],V=w[1],W=w[2],I=w[3],b=w[4],U=w[5],Y=w[6],$=w[7],j=w[8],K=w[9];return w[0]=R,w[1]=L,w[2]=D,w[3]=F,w[4]=O,w[5]=B,w[6]=N,w[7]=G,w[8]=z,w[9]=X,H!==R||V!==L||W!==D||I!==F||b!==O||U!==B||Y!==N||$!==G||j!==z||K!==X},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var C=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!C[10]&&!this.isDirty())){var S=this.width,P=this.height,w=this.viewMatrix,R=this.viewPosition;C[10]&&(w.identity(),w.translate(R),w.invert(),C[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=R.z,F=this.faces,O=0;O<F.length;O++)F[O].transformCoordinatesLocal(L,S,P,D);this.depthSort()}},renderDebug:function(C,S){for(var P=C.debugGraphic,w=0;w<S.length;w++){var R=S[w],L=R.vertex1.tx,D=R.vertex1.ty,F=R.vertex2.tx,O=R.vertex2.ty,B=R.vertex3.tx,N=R.vertex3.ty;P.strokeTriangle(L,D,F,O,B,N)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(C){C===void 0&&(C={});var S=(function(P,w,R){for(var L=this.faces,D=0;D<L.length;D++){var F=L[D];if(F.contains(w,R))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,C,S),this},setTint:function(C){C===void 0&&(C=16777215);for(var S=this.vertices,P=0;P<S.length;P++)S[P].color=C;return this},uvScroll:function(C,S){for(var P=this.faces,w=0;w<P.length;w++)P[w].scrollUV(C,S);return this},uvScale:function(C,S){for(var P=this.faces,w=0;w<P.length;w++)P[w].scaleUV(C,S);return this},tint:{set:function(C){this.setTint(C)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(C){this.modelRotation.x=l(C)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(C){this.modelRotation.y=l(C)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(C){this.modelRotation.z=l(C)}}});p.exports=y},36488:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};p.exports=T},20527:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(35154),a=t(4703);m.register("mesh",function(e,r){e===void 0&&(e={});var d=l(e,"key",null),n=l(e,"frame",null),h=s(e,"vertices",[]),f=s(e,"uvs",[]),c=s(e,"indicies",[]),v=s(e,"containsZ",!1),g=s(e,"normals",[]),y=s(e,"colors",16777215),C=s(e,"alphas",1),S=new a(this.scene,0,0,d,n,h,f,c,v,g,y,C);return r!==void 0&&(e.add=r),u(this.scene,S,e),S})},9225:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(4703),m=t(39429);m.register("mesh",function(l,s,a,e,r,d,n,h,f,c,v){return this.displayList.add(new u(this.scene,l,s,a,e,r,d,n,h,f,c,v))})},29807:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(48833),l=t(36488),p.exports={renderWebGL:m,renderCanvas:l}},48833:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=function(l,s,a,e){var r=s.faces,d=r.length;if(d!==0){a.addToRenderList(s);var n=l.pipelines.set(s.pipeline,s),h=u(s,a,e).calc;l.pipelines.preBatch(s);for(var f=n.setGameObject(s),c=n.vertexViewF32,v=n.vertexViewU32,g=n.vertexCount*n.currentShader.vertexComponentCount-1,y=s.tintFill,C=[],S=s.debugCallback,P=h.a,w=h.b,R=h.c,L=h.d,D=h.e,F=h.f,O=s.viewPosition.z,B=s.hideCCW,N=a.roundPixels,G=a.alpha*s.alpha,z=0,X=0;X<d;X++){var H=r[X];H.isInView(a,B,O,G,P,w,R,L,D,F,N)&&(n.shouldFlush(3)&&(n.flush(),f=n.setGameObject(s),g=0),g=H.load(c,v,g,f,y),z++,n.vertexCount+=3,n.currentBatch.count=n.vertexCount-n.currentBatch.start,S&&C.push(H))}s.totalFrame+=z,S&&S.call(s,s,C),l.pipelines.postBatch(s)}};p.exports=m},28103:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(95643),s=t(78023),a=t(39318),e=new u({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,s],initialize:function(d,n,h,f,c,v,g,y,C,S,P){l.call(this,d,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var w=d.textures.getFrame(f,c);this.is3Slice=!S&&!P,w.scale9&&(this.is3Slice=w.is3Slice);for(var R=this.is3Slice?18:54,L=0;L<R;L++)this.vertices.push(new a);this.setPosition(n,h),this.setTexture(f,c),this.setSlices(v,g,y,C,S,P,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(r,d,n,h,f,c,v){n===void 0&&(n=10),h===void 0&&(h=10),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=!1);var g=this.frame,y=!1;if(this.is3Slice&&v&&f!==0&&c!==0&&(y=!0),y)console.warn("Cannot change 9 slice to 3 slice");else{if(g.scale9&&!v){var C=g.data.scale9Borders,S=C.x,P=C.y;n=S,h=g.width-C.w-S,f=P,c=g.height-C.h-P,r===void 0&&(r=g.width),d===void 0&&(d=g.height)}else r===void 0&&(r=256),d===void 0&&(d=256);this._width=r,this._height=d,this.leftWidth=n,this.rightWidth=h,this.topHeight=f,this.bottomHeight=c,this.is3Slice&&(d=g.height,this._height=d,this.topHeight=d,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var r=this.leftWidth,d=this.rightWidth,n=this.topHeight,h=this.bottomHeight,f=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,r/f,n/c),this.updateQuadUVs(6,r/f,0,1-d/f,n/c),this.updateQuadUVs(12,1-d/f,0,1,n/c),this.is3Slice||(this.updateQuadUVs(18,0,n/c,r/f,1-h/c),this.updateQuadUVs(24,r/f,n/c,1-d/f,1-h/c),this.updateQuadUVs(30,1-d/f,n/c,1,1-h/c),this.updateQuadUVs(36,0,1-h/c,r/f,1),this.updateQuadUVs(42,r/f,1-h/c,1-d/f,1),this.updateQuadUVs(48,1-d/f,1-h/c,1,1))},updateVertices:function(){var r=this.leftWidth,d=this.rightWidth,n=this.topHeight,h=this.bottomHeight,f=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+r/f,.5-n/c),this.updateQuad(6,-.5+r/f,.5,.5-d/f,.5-n/c),this.updateQuad(12,.5-d/f,.5,.5,.5-n/c),this.is3Slice||(this.updateQuad(18,-.5,.5-n/c,-.5+r/f,-.5+h/c),this.updateQuad(24,-.5+r/f,.5-n/c,.5-d/f,-.5+h/c),this.updateQuad(30,.5-d/f,.5-n/c,.5,-.5+h/c),this.updateQuad(36,-.5,-.5+h/c,-.5+r/f,-.5),this.updateQuad(42,-.5+r/f,-.5+h/c,.5-d/f,-.5),this.updateQuad(48,.5-d/f,-.5+h/c,.5,-.5))},updateQuad:function(r,d,n,h,f){var c=this.width,v=this.height,g=this.originX,y=this.originY,C=this.vertices;C[r+0].resize(d,n,c,v,g,y),C[r+1].resize(d,f,c,v,g,y),C[r+2].resize(h,n,c,v,g,y),C[r+3].resize(d,f,c,v,g,y),C[r+4].resize(h,f,c,v,g,y),C[r+5].resize(h,n,c,v,g,y)},updateQuadUVs:function(r,d,n,h,f){var c=this.vertices,v=this.frame,g=v.u0,y=v.v0,C=v.u1,S=v.v1;if(g!==0||C!==1){var P=C-g;d=g+d*P,h=g+h*P}if(y!==0||S!==1){var w=S-y;n=y+n*w,f=y+f*w}c[r+0].setUVs(d,n),c[r+1].setUVs(d,f),c[r+2].setUVs(h,n),c[r+3].setUVs(d,f),c[r+4].setUVs(h,f),c[r+5].setUVs(h,n)},clearTint:function(){return this.setTint(16777215),this},setTint:function(r){return r===void 0&&(r=16777215),this.tint=r,this.tintFill=!1,this},setTintFill:function(r){return this.setTint(r),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(r){this._width=Math.max(r,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(r){this.is3Slice||(this._height=Math.max(r,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,d){this.width=r,this.height=d,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},setDisplaySize:function(r,d){return this.displayWidth=r,this.displayHeight=d,this},originX:{get:function(){return this._originX},set:function(r){this._originX=r,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(r){this._originY=r,this.updateVertices()}},setOrigin:function(r,d){return r===void 0&&(r=.5),d===void 0&&(d=r),this._originX=r,this._originY=d,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var r=this.frame.height;this._height=r,this.topHeight=r,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=e},28279:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(35154),a=t(28103);m.register("nineslice",function(e,r){e===void 0&&(e={});var d=l(e,"key",null),n=l(e,"frame",null),h=s(e,"width",256),f=s(e,"height",256),c=s(e,"leftWidth",10),v=s(e,"rightWidth",10),g=s(e,"topHeight",0),y=s(e,"bottomHeight",0),C=new a(this.scene,0,0,d,n,h,f,c,v,g,y);return r!==void 0&&(e.add=r),u(this.scene,C,e),C})},47521:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28103),m=t(39429);m.register("nineslice",function(l,s,a,e,r,d,n,h,f,c){return this.displayList.add(new u(this.scene,l,s,a,e,r,d,n,h,f,c))})},78023:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(52230),p.exports={renderWebGL:m,renderCanvas:l}},52230:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(70554),l=function(s,a,e,r){var d=a.vertices,n=d.length;if(n!==0){e.addToRenderList(a);var h=s.pipelines.set(a.pipeline,a),f=u(a,e,r,!1).calc;s.pipelines.preBatch(a);var c=h.setGameObject(a),v=h.vertexViewF32,g=h.vertexViewU32,y=h.vertexCount*h.currentShader.vertexComponentCount-1,C=e.roundPixels,S=a.tintFill,P=e.alpha*a.alpha,w=m.getTintAppendFloatAlpha(a.tint,P),R=h.vertexAvailable(),L=-1;R<n&&(L=R);for(var D=0;D<n;D++){var F=d[D];D===L&&(h.flush(),c=h.setGameObject(a),y=0),v[++y]=f.getXRound(F.vx,F.vy,C),v[++y]=f.getYRound(F.vx,F.vy,C),v[++y]=F.u,v[++y]=F.v,v[++y]=c,v[++y]=S,g[++y]=w,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}s.pipelines.postBatch(a)}};p.exports=l},76472:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(44777),l=t(37589),s=t(6113),a=t(91389),e=t(90664),r=new u({Extends:m,initialize:function(n){m.call(this,n,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var d=this.propertyValue,n=d,h=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=d[0],this.ease=s("Linear"),this.interpolation=a("linear"),h=this.easedValueEmit,f=this.easeValueUpdate,n=d[0],this.active=!0;for(var c=0;c<d.length;c++){var v=e(d[c]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=h,this.onUpdate=f,this.current=n,this},setEase:function(d){this.easeName=d,this.ease=s(d)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(d,n,h){var f=this.ease(h),c=this.interpolation(this.r,f),v=this.interpolation(this.g,f),g=this.interpolation(this.b,f),y=l(c,v,g);return this.current=y,y}});p.exports=r},44777:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(30976),m=t(45319),l=t(83419),s=t(99472),a=t(6113),e=t(95540),r=t(91389),d=t(77720),n=t(15994),h=new l({initialize:function(c,v,g){g===void 0&&(g=!1),this.propertyKey=c,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=g,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,c){f===void 0&&(f={}),c&&(this.propertyKey=c),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var c;switch(this.method){case 1:case 3:case 8:c=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(c=f);break;case 4:var v=(this.end-this.start)/this.steps;c=d(f,v),this.counter=c;break;case 5:case 6:case 7:c=m(f,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var c=typeof f;if(c==="number")return 1;if(Array.isArray(f))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,c=f,v=this.defaultEmit,g=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,c=f[0];break;case 3:this._onEmit=f,v=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,v=this.steppedEmit,c=this.start;break;case 5:this.start=f.start,this.end=f.end;var y=this.has(f,"ease")?f.ease:"Linear";this.ease=a(y,f.easeParams),v=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,g=this.easeValueUpdate,c=this.start;break;case 6:this.start=f.min,this.end=f.max,v=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var C=f.random;Array.isArray(C)&&(this.start=C[0],this.end=C[1]),v=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,v=this.proxyEmit,g=this.proxyUpdate;break;case 9:this.start=f.values;var S=this.has(f,"ease")?f.ease:"Linear";this.ease=a(S,f.easeParams),this.interpolation=r(f.interpolation),v=this.easedValueEmit,g=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=v,this.onUpdate=g,this.current=c,this},has:function(f,c){return f.hasOwnProperty(c)},hasBoth:function(f,c,v){return f.hasOwnProperty(c)&&f.hasOwnProperty(v)},hasEither:function(f,c,v){return f.hasOwnProperty(c)||f.hasOwnProperty(v)},defaultEmit:function(f,c,v){return v},defaultUpdate:function(f,c,v,g){return g},proxyEmit:function(f,c,v){var g=this._onEmit(f,c,v);return this.current=g,g},proxyUpdate:function(f,c,v,g){var y=this._onUpdate(f,c,v,g);return this.current=y,y},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,c){var v=s(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=v,f.data[c].max=this.end),this.current=v,v},randomRangedIntEmit:function(f,c){var v=u(this.start,this.end);return f&&f.data[c]&&(f.data[c].min=v,f.data[c].max=this.end),this.current=v,v},steppedEmit:function(){var f=this.counter,c=f,v=(this.end-this.start)/this.steps;if(this.yoyo){var g;this.direction===0?(c+=v,c>=this.end&&(g=c-this.end,c=this.end-g,this.direction=1)):(c-=v,c<=this.start&&(g=this.start-c,c=this.start+g,this.direction=0)),this.counter=c}else this.counter=n(c+v,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,c){if(f&&f.data[c]){var v=f.data[c];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,c,v){var g=f.data[c],y,C=this.ease(v);return this.interpolation?y=this.interpolation(this.start,C):y=(g.max-g.min)*C+g.min,this.current=y,y},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=h},24502:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=t(20286),s=new u({Extends:l,initialize:function(e,r,d,n,h){if(typeof e=="object"){var f=e;e=m(f,"x",0),r=m(f,"y",0),d=m(f,"power",0),n=m(f,"epsilon",100),h=m(f,"gravity",50)}else e===void 0&&(e=0),r===void 0&&(r=0),d===void 0&&(d=0),n===void 0&&(n=100),h===void 0&&(h=50);l.call(this,e,r,!0),this._gravity=h,this._power=d*h,this._epsilon=n*n},update:function(a,e){var r=this.x-a.x,d=this.y-a.y,n=r*r+d*d;if(n!==0){var h=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var f=this._power*e/(n*h)*100;a.velocityX+=r*f,a.velocityY+=d*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(a){this._epsilon=a*a}},power:{get:function(){return this._power/this._gravity},set:function(a){this._power=a*this._gravity}},gravity:{get:function(){return this._gravity},set:function(a){var e=this.power;this._gravity=a,this.power=e}}});p.exports=s},56480:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(9674),m=t(45319),l=t(83419),s=t(39506),a=t(87841),e=t(11520),r=t(26099),d=new l({initialize:function(h){this.emitter=h,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new r,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=h.scene,this.anims=new u(this),this.bounds=new a},emit:function(n,h,f,c,v,g){return this.emitter.emit(n,h,f,c,v,g)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(n,h){n===void 0&&(n=0),h===void 0&&(h=0),this.x=n,this.y=h},fire:function(n,h){var f=this.emitter,c=f.ops,v=f.getAnim();if(v?this.anims.play(v):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),n===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=n+c.x.onEmit(this,"x"):this.x+=n,h===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=h+c.y.onEmit(this,"y"):this.y+=h,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var g=c.speedX.onEmit(this,"speedX"),y=c.speedY.active?c.speedY.onEmit(this,"speedY"):g;if(f.radial){var C=s(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(C)*Math.abs(g),this.velocityY=Math.sin(C)*Math.abs(y)}else if(f.moveTo){var S=c.moveToX.onEmit(this,"moveToX"),P=c.moveToY.onEmit(this,"moveToY"),w=this.life/1e3;this.velocityX=(S-this.x)/w,this.velocityY=(P-this.y)/w}else this.velocityX=g,this.velocityY=y;return f.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(n,h,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=n,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=n,!1;this.anims.update(0,n);var c=this.emitter,v=c.ops,g=1-this.lifeCurrent/this.life;if(this.lifeT=g,this.x=v.x.onUpdate(this,"x",g,this.x),this.y=v.y.onUpdate(this,"y",g,this.y),c.moveTo){var y=v.moveToX.onUpdate(this,"moveToX",g,c.moveToX),C=v.moveToY.onUpdate(this,"moveToY",g,c.moveToY),S=this.lifeCurrent/1e3;this.velocityX=(y-this.x)/S,this.velocityY=(C-this.y)/S}return this.computeVelocity(c,n,h,f,g),this.scaleX=v.scaleX.onUpdate(this,"scaleX",g,this.scaleX),v.scaleY.active?this.scaleY=v.scaleY.onUpdate(this,"scaleY",g,this.scaleY):this.scaleY=this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",g,this.angle),this.rotation=s(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=m(v.alpha.onUpdate(this,"alpha",g,this.alpha),0,1),v.color.active?this.tint=v.color.onUpdate(this,"color",g,this.tint):this.tint=v.tint.onUpdate(this,"tint",g,this.tint),this.lifeCurrent-=n,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(n,h,f,c,v){var g=n.ops,y=this.velocityX,C=this.velocityY,S=g.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),P=g.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),w=g.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),R=g.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=g.bounce.onUpdate(this,"bounce",v,this.bounce),y+=n.gravityX*f+S*f,C+=n.gravityY*f+P*f,y=m(y,-w,w),C=m(C,-R,R),this.velocityX=y,this.velocityY=C,this.x+=y*f,this.y+=C*f,n.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<c.length;L++){var D=c[L];D.active&&D.update(this,h,f,v)}},setSizeToFrame:function(){},getBounds:function(n){n===void 0&&(n=this.emitter.getWorldTransformMatrix());var h=Math.abs(n.scaleX)*this.scaleX,f=Math.abs(n.scaleY)*this.scaleY,c=this.x,v=this.y,g=this.rotation,y=this.frame.width*h/2,C=this.frame.height*f/2,S=this.bounds,P=new r(c-y,v-C),w=new r(c+y,v-C),R=new r(c-y,v+C),L=new r(c+y,v+C);return g!==0&&(e(P,c,v,g),e(w,c,v,g),e(R,c,v,g),e(L,c,v,g)),n.transformPoint(P.x,P.y,P),n.transformPoint(w.x,w.y,w),n.transformPoint(R.x,R.y,R),n.transformPoint(L.x,L.y,L),S.x=Math.min(P.x,w.x,R.x,L.x),S.y=Math.min(P.y,w.y,R.y,L.y),S.width=Math.max(P.x,w.x,R.x,L.x)-S.x,S.height=Math.max(P.y,w.y,R.y,L.y)-S.y,S},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=d},69601:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(20286),l=t(87841),s=new u({Extends:m,initialize:function(e,r,d,n,h,f,c,v){h===void 0&&(h=!0),f===void 0&&(f=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),m.call(this,e,r,!0),this.bounds=new l(e,r,d,n),this.collideLeft=h,this.collideRight=f,this.collideTop=c,this.collideBottom=v},update:function(a){var e=this.bounds,r=-a.bounce,d=a.worldPosition;d.x<e.x&&this.collideLeft?(a.x+=e.x-d.x,a.velocityX*=r):d.x>e.right&&this.collideRight&&(a.x-=d.x-e.right,a.velocityX*=r),d.y<e.y&&this.collideTop?(a.y+=e.y-d.y,a.velocityY*=r):d.y>e.bottom&&this.collideBottom&&(a.y-=d.y-e.bottom,a.velocityY*=r)}});p.exports=s},31600:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(53774),s=t(43459),a=t(26388),e=t(19909),r=t(76472),d=t(44777),n=t(20696),h=t(95643),f=t(95540),c=t(26546),v=t(24502),g=t(1985),y=t(97022),C=t(86091),S=t(73162),P=t(20074),w=t(56480),R=t(68875),L=t(87841),D=t(59996),F=t(72905),O=t(90668),B=t(19186),N=t(61340),G=t(26099),z=t(15994),X=t(69601),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],V=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],W=new u({Extends:h,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,O],initialize:function(b,U,Y,$,j){h.call(this,b,"ParticleEmitter"),this.particleClass=w,this.ops={accelerationX:new d("accelerationX",0),accelerationY:new d("accelerationY",0),alpha:new d("alpha",1),angle:new d("angle",{min:0,max:360},!0),bounce:new d("bounce",0),color:new r("color"),delay:new d("delay",0,!0),hold:new d("hold",0,!0),lifespan:new d("lifespan",1e3,!0),maxVelocityX:new d("maxVelocityX",1e4),maxVelocityY:new d("maxVelocityY",1e4),moveToX:new d("moveToX",0),moveToY:new d("moveToY",0),quantity:new d("quantity",1,!0),rotate:new d("rotate",0),scaleX:new d("scaleX",1),scaleY:new d("scaleY",1),speedX:new d("speedX",0,!0),speedY:new d("speedY",0,!0),tint:new d("tint",16777215),x:new d("x",0),y:new d("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new G,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new N,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new S(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(U,Y),this.setTexture($),j&&this.setConfig(j)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(I){if(!I)return this;var b=0,U="",Y=this.ops;for(b=0;b<V.length;b++)U=V[b],Y[U].loadConfig(I);for(b=0;b<H.length;b++)U=H[b],y(I,U)&&(this[U]=f(I,U));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,y(I,"speed")&&(Y.speedX.loadConfig(I,"speed"),Y.speedY.active=!1),(g(I,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(I,"scale")&&(Y.scaleX.loadConfig(I,"scale"),Y.scaleY.active=!1),y(I,"callbackScope")){var $=f(I,"callbackScope",null);this.emitCallbackScope=$,this.deathCallbackScope=$}if(y(I,"emitZone")&&this.addEmitZone(I.emitZone),y(I,"deathZone")&&this.addDeathZone(I.deathZone),y(I,"bounds")){var j=this.addParticleBounds(I.bounds);j.collideLeft=f(I,"collideLeft",!0),j.collideRight=f(I,"collideRight",!0),j.collideTop=f(I,"collideTop",!0),j.collideBottom=f(I,"collideBottom",!0)}return y(I,"followOffset")&&this.followOffset.setFromObject(f(I,"followOffset",0)),y(I,"texture")&&this.setTexture(I.texture),y(I,"frame")?this.setEmitterFrame(I.frame):y(I,"anim")&&this.setAnim(I.anim),y(I,"reserve")&&this.reserve(I.reserve),y(I,"advance")&&this.fastForward(I.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(n.START,this),this},toJSON:function(){var I=l(this),b=0,U="";for(b=0;b<H.length;b++)U=H[b],I[U]=this[U];var Y=this.ops;for(b=0;b<V.length;b++)U=V[b],Y[U]&&(I[U]=Y[U].toJSON());return Y.speedY.active||(delete I.speedX,I.speed=Y.speedX.toJSON()),this.scaleX===this.scaleY&&(delete I.scaleX,delete I.scaleY,I.scale=Y.scaleX.toJSON()),I},resetCounters:function(I,b){var U=this.counters;U.fill(0),U[0]=I,b&&(U[5]=1)},startFollow:function(I,b,U,Y){return b===void 0&&(b=0),U===void 0&&(U=0),Y===void 0&&(Y=!1),this.follow=I,this.followOffset.set(b,U),this.trackVisible=Y,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var I=this.frames,b=I.length,U;return b===1?U=I[0]:this.randomFrame?U=c(I):(U=I[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===b&&(this.currentFrame=0))),this.texture.get(U)},setEmitterFrame:function(I,b,U){b===void 0&&(b=!0),U===void 0&&(U=1),this.randomFrame=b,this.frameQuantity=U,this.currentFrame=0;var Y=typeof I;if(this.frames.length=0,Array.isArray(I))this.frames=this.frames.concat(I);else if(Y==="string"||Y==="number")this.frames.push(I);else if(Y==="object"){var $=I;I=f($,"frames",null),I&&(this.frames=this.frames.concat(I));var j=f($,"cycle",!1);this.randomFrame=!j,this.frameQuantity=f($,"quantity",U)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var I=this.anims,b=I.length;if(b===0)return null;if(b===1)return I[0];if(this.randomAnim)return c(I);var U=I[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=z(this.currentAnim+1,0,b)),U},setAnim:function(I,b,U){b===void 0&&(b=!0),U===void 0&&(U=1),this.randomAnim=b,this.animQuantity=U,this.currentAnim=0;var Y=typeof I;if(this.anims.length=0,Array.isArray(I))this.anims=this.anims.concat(I);else if(Y==="string")this.anims.push(I);else if(Y==="object"){var $=I;I=f($,"anims",null),I&&(this.anims=this.anims.concat(I));var j=f($,"cycle",!1);this.randomAnim=!j,this.animQuantity=f($,"quantity",U)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(I){return I===void 0&&(I=!0),this.radial=I,this},addParticleBounds:function(I,b,U,Y,$,j,K,J){if(typeof I=="object"){var k=I;I=k.x,b=k.y,U=y(k,"w")?k.w:k.width,Y=y(k,"h")?k.h:k.height}return this.addParticleProcessor(new X(I,b,U,Y,$,j,K,J))},setParticleSpeed:function(I,b){return b===void 0&&(b=I),this.ops.speedX.onChange(I),I===b?this.ops.speedY.active=!1:this.ops.speedY.onChange(b),this.radial=!0,this},setParticleScale:function(I,b){return I===void 0&&(I=1),b===void 0&&(b=I),this.ops.scaleX.onChange(I),this.ops.scaleY.onChange(b),this},setParticleGravity:function(I,b){return this.gravityX=I,this.gravityY=b,this},setParticleAlpha:function(I){return this.ops.alpha.onChange(I),this},setParticleTint:function(I){return this.ops.tint.onChange(I),this},setEmitterAngle:function(I){return this.ops.angle.onChange(I),this},setParticleLifespan:function(I){return this.ops.lifespan.onChange(I),this},setQuantity:function(I){return this.quantity=I,this},setFrequency:function(I,b){return this.frequency=I,this.flowCounter=I>0?I:0,b&&(this.quantity=b),this},addDeathZone:function(I){Array.isArray(I)||(I=[I]);for(var b,U=[],Y=0;Y<I.length;Y++)if(b=I[Y],b instanceof a)U.push(b);else if(typeof b.contains=="function")b=new a(b,!0),U.push(b);else{var $=f(b,"type","onEnter"),j=f(b,"source",null);if(j&&typeof j.contains=="function"){var K=$==="onEnter";b=new a(j,K),U.push(b)}}return this.deathZones=this.deathZones.concat(U),U},removeDeathZone:function(I){return F(this.deathZones,I),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(I){Array.isArray(I)||(I=[I]);for(var b,U=[],Y=0;Y<I.length;Y++)if(b=I[Y],b instanceof R||b instanceof e)U.push(b);else{var $=f(b,"source",null);if($){var j=f(b,"type","random");if(j==="random"&&typeof $.getRandomPoint=="function")b=new R($),U.push(b);else if(j==="edge"&&typeof $.getPoints=="function"){var K=f(b,"quantity",1),J=f(b,"stepRate",0),k=f(b,"yoyo",!1),_=f(b,"seamless",!0),et=f(b,"total",-1);b=new e($,K,J,k,_,et),U.push(b)}}}return this.emitZones=this.emitZones.concat(U),U},removeEmitZone:function(I){return F(this.emitZones,I),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(I){var b=this.emitZones,U=b.length;if(U!==0){var Y=b[this.zoneIndex];Y.getPoint(I),Y.total>-1&&(this.zoneTotal++,this.zoneTotal===Y.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===U&&(this.zoneIndex=0)))}},getDeathZone:function(I){for(var b=this.deathZones,U=0;U<b.length;U++){var Y=b[U];if(Y.willKill(I))return this.emit(n.DEATH_ZONE,this,I,Y),!0}return!1},setEmitZone:function(I){var b;return isFinite(I)?b=I:b=this.emitZones.indexOf(I),b>=0&&(this.zoneIndex=b),this},addParticleProcessor:function(I){return this.processors.exists(I)||(I.emitter&&I.emitter.removeParticleProcessor(I),this.processors.add(I),I.emitter=this),I},removeParticleProcessor:function(I){return this.processors.exists(I)&&(this.processors.remove(I,!0),I.emitter=null),I},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(I){return this.addParticleProcessor(new v(I))},reserve:function(I){var b=this.dead;if(this.maxParticles>0){var U=this.getParticleCount();U+I>this.maxParticles&&(I=this.maxParticles-(U+I))}for(var Y=0;Y<I;Y++)b.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(I,b){return I===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof I=="function"&&(this.emitCallback=I,b&&(this.emitCallbackScope=b)),this},onParticleDeath:function(I,b){return I===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof I=="function"&&(this.deathCallback=I,b&&(this.deathCallbackScope=b)),this},killAll:function(){for(var I=this.dead,b=this.alive;b.length>0;)I.push(b.pop());return this},forEachAlive:function(I,b){for(var U=this.alive,Y=U.length,$=0;$<Y;$++)I.call(b,U[$],this);return this},forEachDead:function(I,b){for(var U=this.dead,Y=U.length,$=0;$<Y;$++)I.call(b,U[$],this);return this},start:function(I,b){return I===void 0&&(I=0),this.emitting||(I>0&&this.fastForward(I),this.emitting=!0,this.resetCounters(this.frequency,!0),b!==void 0&&(this.duration=Math.abs(b)),this.emit(n.START,this)),this},stop:function(I){return I===void 0&&(I=!1),this.emitting&&(this.emitting=!1,I&&this.killAll(),this.emit(n.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(I,b){return I===void 0&&(I=""),b===void 0&&(b=this.true),this.sortProperty=I,this.sortOrderAsc=b,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(I){return this.sortProperty!==""?I=this.depthSortCallback:I=null,this.sortCallback=I,this},depthSort:function(){return B(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(I,b){var U=this.sortProperty;return this.sortOrderAsc?I[U]-b[U]:b[U]-I[U]},flow:function(I,b,U){return b===void 0&&(b=1),this.emitting=!1,this.frequency=I,this.quantity=b,U!==void 0&&(this.stopAfter=U),this.start()},explode:function(I,b,U){this.frequency=-1,this.resetCounters(-1,!0);var Y=this.emitParticle(I,b,U);return this.emit(n.EXPLODE,this,Y),Y},emitParticleAt:function(I,b,U){return this.emitParticle(U,I,b)},emitParticle:function(I,b,U){if(!this.atLimit()){I===void 0&&(I=this.ops.quantity.onEmit());for(var Y=this.dead,$=this.stopAfter,j=this.follow?this.follow.x+this.followOffset.x:b,K=this.follow?this.follow.y+this.followOffset.y:U,J=0;J<I;J++){var k=Y.pop();if(k||(k=new this.particleClass(this)),k.fire(j,K)?(this.particleBringToTop?this.alive.push(k):this.alive.unshift(k),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,k,this)):this.dead.push(k),$>0&&(this.stopCounter++,this.stopCounter>=$)||this.atLimit())break}return k}},fastForward:function(I,b){b===void 0&&(b=1e3/60);var U=0;for(this.skipping=!0;U<Math.abs(I);)this.preUpdate(0,b),U+=b;return this.skipping=!1,this},preUpdate:function(I,b){b*=this.timeScale;var U=b/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var Y=this.getProcessors(),$=this.alive,j=this.dead,K=0,J=[],k=$.length;for(K=0;K<k;K++){var _=$[K];_.update(b,U,Y)&&J.push({index:K,particle:_})}if(k=J.length,k>0){var et=this.deathCallback,nt=this.deathCallbackScope;for(K=k-1;K>=0;K--){var it=J[K];$.splice(it.index,1),j.push(it.particle),et&&et.call(nt,it.particle),it.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&$.length===0&&(this.completeFlag=0,this.emit(n.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=b;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=b,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(I){for(var b=this.getWorldTransformMatrix(),U=this.alive,Y=U.length,$=[],j=0;j<Y;j++){var K=U[j];D(I,K.getBounds(b))&&$.push(K)}return $},getBounds:function(I,b,U,Y){I===void 0&&(I=0),b===void 0&&(b=0),U===void 0&&(U=1e3/60),Y===void 0&&(Y=new L);var $=this.getWorldTransformMatrix(),j,K,J=this.alive,k=!1;if(Y.setTo(0,0,0,0),b>0){var _=0;for(this.skipping=!0;_<Math.abs(b);){for(this.preUpdate(0,U),j=0;j<J.length;j++)K=J[j].getBounds($),k?P(Y,K):(k=!0,s(K,Y));_+=U}this.skipping=!1}else for(j=0;j<J.length;j++)K=J[j].getBounds($),k?P(Y,K):(k=!0,s(K,Y));return I>0&&C(Y,I,I),Y},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(I){this.ops.x.onChange(I)}},particleY:{get:function(){return this.ops.y.current},set:function(I){this.ops.y.onChange(I)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(I){this.ops.accelerationX.onChange(I)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(I){this.ops.accelerationY.onChange(I)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(I){this.ops.maxVelocityX.onChange(I)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(I){this.ops.maxVelocityY.onChange(I)}},speed:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I),this.ops.speedY.onChange(I)}},speedX:{get:function(){return this.ops.speedX.current},set:function(I){this.ops.speedX.onChange(I)}},speedY:{get:function(){return this.ops.speedY.current},set:function(I){this.ops.speedY.onChange(I)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(I){this.ops.moveToX.onChange(I)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(I){this.ops.moveToY.onChange(I)}},bounce:{get:function(){return this.ops.bounce.current},set:function(I){this.ops.bounce.onChange(I)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(I){this.ops.scaleX.onChange(I)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(I){this.ops.scaleY.onChange(I)}},particleColor:{get:function(){return this.ops.color.current},set:function(I){this.ops.color.onChange(I)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(I){this.ops.color.setEase(I)}},particleTint:{get:function(){return this.ops.tint.current},set:function(I){this.ops.tint.onChange(I)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(I){this.ops.alpha.onChange(I)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(I){this.ops.lifespan.onChange(I)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(I){this.ops.angle.onChange(I)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(I){this.ops.rotate.onChange(I)}},quantity:{get:function(){return this.ops.quantity.current},set:function(I){this.ops.quantity.onChange(I)}},delay:{get:function(){return this.ops.delay.current},set:function(I){this.ops.delay.onChange(I)}},hold:{get:function(){return this.ops.hold.current},set:function(I){this.ops.hold.onChange(I)}},flowCounter:{get:function(){return this.counters[0]},set:function(I){this.counters[0]=I}},frameCounter:{get:function(){return this.counters[1]},set:function(I){this.counters[1]=I}},animCounter:{get:function(){return this.counters[2]},set:function(I){this.counters[2]=I}},elapsed:{get:function(){return this.counters[3]},set:function(I){this.counters[3]=I}},stopCounter:{get:function(){return this.counters[4]},set:function(I){this.counters[4]=I}},completeFlag:{get:function(){return this.counters[5]},set:function(I){this.counters[5]=I}},zoneIndex:{get:function(){return this.counters[6]},set:function(I){this.counters[6]=I}},zoneTotal:{get:function(){return this.counters[7]},set:function(I){this.counters[7]=I}},currentFrame:{get:function(){return this.counters[8]},set:function(I){this.counters[8]=I}},currentAnim:{get:function(){return this.counters[9]},set:function(I){this.counters[9]=I}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var I,b=this.ops;for(I=0;I<V.length;I++){var U=V[I];b[U].destroy()}for(I=0;I<this.alive.length;I++)this.alive[I].destroy();for(I=0;I<this.dead.length;I++)this.dead[I].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=W},9871:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(59996),m=t(61340),l=new m,s=new m,a=new m,e=new m,r=function(d,n,h,f){var c=l,v=s,g=a,y=e;f?(y.loadIdentity(),y.multiply(f),y.translate(n.x,n.y),y.rotate(n.rotation),y.scale(n.scaleX,n.scaleY)):y.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY);var C=d.currentContext,S=h.roundPixels,P=h.alpha,w=n.alpha,R=n.alive,L=R.length,D=n.viewBounds;if(!(!n.visible||L===0||D&&!u(D,h.worldView))){n.sortCallback&&n.depthSort(),h.addToRenderList(n);var F=n.scrollFactorX,O=n.scrollFactorY;C.save(),C.globalCompositeOperation=d.blendModes[n.blendMode];for(var B=0;B<L;B++){var N=R[B],G=N.alpha*w*P;if(!(G<=0||N.scaleX===0||N.scaleY===0)){g.applyITRS(N.x,N.y,N.rotation,N.scaleX,N.scaleY),c.copyFrom(h.matrix),c.multiplyWithOffset(y,-h.scrollX*F,-h.scrollY*O),g.e=N.x,g.f=N.y,c.multiply(g,v);var z=N.frame,X=z.canvasData;if(X.width>0&&X.height>0){var H=-z.halfWidth,V=-z.halfHeight;C.globalAlpha=G,C.save(),v.setToContext(C),S&&(H=Math.round(H),V=Math.round(V)),C.imageSmoothingEnabled=!z.source.scaleMode,C.drawImage(z.source.image,X.x,X.y,X.width,X.height,H,V,X.width,X.height),C.restore()}}}C.restore()}};p.exports=r},92730:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(95540),a=t(31600);m.register("particles",function(e,r){e===void 0&&(e={});var d=l(e,"key",null),n=s(e,"config",null),h=new a(this.scene,0,0,d);return r!==void 0&&(e.add=r),u(this.scene,h,e),n&&h.setConfig(n),h})},676:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(31600);u.register("particles",function(l,s,a,e){return l!==void 0&&typeof l=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new m(this.scene,l,s,a,e))})},90668:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(21188),l=t(9871),p.exports={renderWebGL:m,renderCanvas:l}},21188:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(59996),m=t(61340),l=t(70554),s=new m,a=new m,e=new m,r=new m,d=function(n,h,f,c){var v=n.pipelines.set(h.pipeline),g=s,y=a,C=e,S=r;c?(S.loadIdentity(),S.multiply(c),S.translate(h.x,h.y),S.rotate(h.rotation),S.scale(h.scaleX,h.scaleY)):S.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var P=l.getTintAppendFloatAlpha,w=f.alpha,R=h.alpha;n.pipelines.preBatch(h);var L=h.alive,D=L.length,F=h.viewBounds;if(!(D===0||F&&!u(F,f.worldView))){h.sortCallback&&h.depthSort(),f.addToRenderList(h),g.copyFrom(f.matrix),g.multiplyWithOffset(S,-f.scrollX*h.scrollFactorX,-f.scrollY*h.scrollFactorY),n.setBlendMode(h.blendMode),h.mask&&(h.mask.preRenderWebGL(n,h,f),n.pipelines.set(h.pipeline));for(var O=h.tintFill,B,N,G=0;G<D;G++){var z=L[G],X=z.alpha*R*w;if(!(X<=0||z.scaleX===0||z.scaleY===0)){C.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),C.e=z.x,C.f=z.y,g.multiply(C,y);var H=z.frame;H.glTexture!==N&&(N=H.glTexture,B=v.setGameObject(h,H));var V=-H.halfWidth,W=-H.halfHeight,I=y.setQuad(V,W,V+H.width,W+H.height),b=P(z.tint,X);v.shouldFlush(6)&&(v.flush(),B=v.setGameObject(h,H)),v.batchQuad(h,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],H.u0,H.v0,H.u1,H.v1,b,b,b,b,O,N,B)}}h.mask&&h.mask.postRenderWebGL(n,f),n.pipelines.postBatch(h)}};p.exports=d},20286:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e){s===void 0&&(s=0),a===void 0&&(a=0),e===void 0&&(e=!0),this.emitter,this.x=s,this.y=a,this.active=e},update:function(){},destroy:function(){this.emitter=null}});p.exports=m},9774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},812:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},30522:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},96695:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},18677:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},20696:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a){this.source=s,this.killOnEnter=a},willKill:function(l){var s=l.worldPosition,a=this.source.contains(s.x,s.y);return a&&this.killOnEnter||!a&&!this.killOnEnter}});p.exports=m},19909:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e,r,d,n){r===void 0&&(r=!1),d===void 0&&(d=!0),n===void 0&&(n=-1),this.source=s,this.points=[],this.quantity=a,this.stepRate=e,this.yoyo=r,this.counter=-1,this.seamless=d,this._length=0,this._direction=0,this.total=n,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var l=this.points[0],s=this.points[this.points.length-1];l.x===s.x&&l.y===s.y&&this.points.pop()}var a=this._length;return this._length=this.points.length,this._length<a&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(l){return this.source=l,this.updateSource()},getPoint:function(l){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var s=this.points[this.counter];s&&(l.x=s.x,l.y=s.y)}});p.exports=m},68875:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(26099),l=new u({initialize:function(a){this.source=a,this._tempVec=new m,this.total=-1},getPoint:function(s){var a=this._tempVec;this.source.getRandomPoint(a),s.x=a.x,s.y=a.y}});p.exports=l},21024:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(68287),s=new u({Extends:l,Mixins:[m.PathFollower],initialize:function(e,r,d,n,h,f){l.call(this,e,d,n,h,f),this.path=r},preUpdate:function(a,e){this.anims.update(a,e),this.pathUpdate(a)}});p.exports=s},90145:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(1159);u.register("follower",function(l,s,a,e,r){var d=new m(this.scene,l,s,a,e,r);return this.displayList.add(d),this.updateList.add(d),d})},33663:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(9674),m=t(83419),l=t(48803),s=t(90664),a=t(4703),e=t(45650),r=new m({Extends:a,initialize:function(n,h,f,c,v,g,y,C){c||(c="__DEFAULT"),a.call(this,n,h,f,c,v),this.type="Plane",this.anims=new u(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(g,y,C),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(d,n,h){d===void 0&&(d=8),n===void 0&&(n=8),h===void 0&&(h=!1);var f=!1;return h&&(f=!0),this.gridWidth=d,this.gridHeight=n,this.isTiled=h,this.clear(),l({mesh:this,widthSegments:d,heightSegments:n,isOrtho:!1,tile:h,flipY:f}),this},setSizeToFrame:function(d){d===void 0&&(d=!0);var n=this.frame;if(this.setPerspective(this.width/n.width,this.height/n.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!d)return this;var h=this.gridWidth,f=this.gridHeight,c=this.vertices,v=n.u0,g=n.u1,y=n.v0,C=n.v1,S,P,w=0;if(this.isTiled)for(y=n.v1,C=n.v0,P=0;P<f;P++)for(S=0;S<h;S++)c[w++].setUVs(v,C),c[w++].setUVs(v,y),c[w++].setUVs(g,C),c[w++].setUVs(v,y),c[w++].setUVs(g,y),c[w++].setUVs(g,C);else{var R=h+1,L=f+1,D=g-v,F=C-y,O=[];for(P=0;P<L;P++)for(S=0;S<R;S++){var B=v+D*(S/h),N=y+F*(P/f);O.push(B,N)}for(P=0;P<f;P++)for(S=0;S<h;S++){var G=(S+R*P)*2,z=(S+R*(P+1))*2,X=(S+1+R*(P+1))*2,H=(S+1+R*P)*2;c[w++].setUVs(O[G],O[G+1]),c[w++].setUVs(O[z],O[z+1]),c[w++].setUVs(O[H],O[H+1]),c[w++].setUVs(O[z],O[z+1]),c[w++].setUVs(O[X],O[X+1]),c[w++].setUVs(O[H],O[H+1])}}return this},setViewHeight:function(d){d===void 0&&(d=this.frame.height);var n=this.fov*(Math.PI/180);this.viewPosition.z=this.height/d/Math.tan(n/2),this.dirtyCache[10]=1},createCheckerboard:function(d,n,h,f,c){d===void 0&&(d=16777215),n===void 0&&(n=255),h===void 0&&(h=255),f===void 0&&(f=255),c===void 0&&(c=128);for(var v=s(d),g=s(n),y=[],C=0;C<16;C++)for(var S=0;S<16;S++)C<8&&S<8||C>7&&S>7?y.push(v.r,v.g,v.b,h):y.push(g.r,g.g,g.b,f);var P=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(y),16,16);return this.removeCheckerboard(),this.setTexture(P),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(d,n){return this.anims.play(d,n)},playReverse:function(d,n){return this.anims.playReverse(d,n)},playAfterDelay:function(d,n){return this.anims.playAfterDelay(d,n)},playAfterRepeat:function(d,n){return this.anims.playAfterRepeat(d,n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},preUpdate:function(d,n){a.prototype.preUpdate.call(this,d,n),this.anims.update(d,n)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=r},56015:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(13059),l=t(44603),s=t(23568),a=t(35154),e=t(33663);l.register("plane",function(r,d){r===void 0&&(r={});var n=s(r,"key",null),h=s(r,"frame",null),f=a(r,"width",8),c=a(r,"height",8),v=a(r,"tile",!1),g=new e(this.scene,0,0,n,h,f,c,v);d!==void 0&&(r.add=d);var y=a(r,"checkerboard",null);if(y){var C=a(y,"color1",16777215),S=a(y,"color2",255),P=a(y,"alpha1",255),w=a(y,"alpha2",255),R=a(y,"height",128);g.createCheckerboard(C,S,P,w,R)}return u(this.scene,g,r),m(g,r),g})},30985:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(33663),m=t(39429);m.register("plane",function(l,s,a,e,r,d,n){return this.displayList.add(new u(this.scene,l,s,a,e,r,d,n))})},80321:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(95643),s=t(30100),a=t(36060),e=t(67277),r=new u({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,e],initialize:function(n,h,f,c,v,g,y){c===void 0&&(c=16777215),v===void 0&&(v=128),g===void 0&&(g=1),y===void 0&&(y=.1),l.call(this,n,"PointLight"),this.initPipeline(a.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(h,f),this.color=s(c),this.intensity=g,this.attenuation=y,this.width=v*2,this.height=v*2,this._radius=v},radius:{get:function(){return this._radius},set:function(d){this._radius=d,this.width=d*2,this.height=d*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=r},39829:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(80321);m.register("pointlight",function(a,e){a===void 0&&(a={});var r=l(a,"color",16777215),d=l(a,"radius",128),n=l(a,"intensity",1),h=l(a,"attenuation",.1),f=new s(this.scene,0,0,r,d,n,h);return e!==void 0&&(a.add=e),u(this.scene,f,a),f})},71255:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(80321);u.register("pointlight",function(l,s,a,e,r,d){return this.displayList.add(new m(this.scene,l,s,a,e,r,d))})},67277:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(57787),p.exports={renderWebGL:m,renderCanvas:l}},57787:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=function(l,s,a,e){a.addToRenderList(s);var r=l.pipelines.set(s.pipeline),d=u(s,a,e).calc,n=s.width,h=s.height,f=-s._radius,c=-s._radius,v=f+n,g=c+h,y=d.getX(0,0),C=d.getY(0,0),S=d.getX(f,c),P=d.getY(f,c),w=d.getX(f,g),R=d.getY(f,g),L=d.getX(v,g),D=d.getY(v,g),F=d.getX(v,c),O=d.getY(v,c);l.pipelines.preBatch(s),r.batchPointLight(s,a,S,P,w,R,L,D,F,O,y,C),l.pipelines.postBatch(s)};p.exports=m},591:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(81320),l=t(88571),s=new u({Extends:l,initialize:function(e,r,d,n,h){r===void 0&&(r=0),d===void 0&&(d=0),n===void 0&&(n=32),h===void 0&&(h=32);var f=new m(e.sys.textures,"",n,h);l.call(this,e,r,d,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(a,e){this.width=a,this.height=e,this.texture.setSize(a,e),this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=a,r.hitArea.height=e),this},resize:function(a,e){return this.setSize(a,e),this},saveTexture:function(a){var e=this.texture;return e.key=a,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(a,e,r,d,n,h){return this.texture.fill(a,e,r,d,n,h),this},clear:function(){return this.texture.clear(),this},stamp:function(a,e,r,d,n){return this.texture.stamp(a,e,r,d,n),this},erase:function(a,e,r){return this.texture.erase(a,e,r),this},draw:function(a,e,r,d,n){return this.texture.draw(a,e,r,d,n),this},drawFrame:function(a,e,r,d,n,h){return this.texture.drawFrame(a,e,r,d,n,h),this},repeat:function(a,e,r,d,n,h,f,c,v){return this.texture.repeat(a,e,r,d,n,h,f,c,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(a,e,r,d,n){return this.texture.batchDraw(a,e,r,d,n),this},batchDrawFrame:function(a,e,r,d,n,h){return this.texture.batchDrawFrame(a,e,r,d,n,h),this},endDraw:function(a){return this.texture.endDraw(a),this},snapshotArea:function(a,e,r,d,n,h,f){return this.texture.snapshotArea(a,e,r,d,n,h,f),this},snapshot:function(a,e,r){return this.snapshotArea(0,0,this.width,this.height,a,e,r)},snapshotPixel:function(a,e,r){return this.snapshotArea(a,e,1,1,r,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});p.exports=s},34495:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(591);m.register("renderTexture",function(a,e){a===void 0&&(a={});var r=l(a,"x",0),d=l(a,"y",0),n=l(a,"width",32),h=l(a,"height",32),f=new s(this.scene,r,d,n,h);return e!==void 0&&(a.add=e),u(this.scene,f,a),f})},60505:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(591);u.register("renderTexture",function(l,s,a,e){return this.displayList.add(new m(this.scene,l,s,a,e))})},77757:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(9674),m=t(83419),l=t(31401),s=t(95643),a=t(36060),e=t(38745),r=t(26099),d=new m({Extends:s,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Flip,l.Mask,l.Pipeline,l.PostPipeline,l.Size,l.Texture,l.Transform,l.Visible,l.ScrollFactor,e],initialize:function(h,f,c,v,g,y,C,S,P){v===void 0&&(v="__DEFAULT"),y===void 0&&(y=2),C===void 0&&(C=!0),s.call(this,h,"Rope"),this.anims=new u(this),this.points=y,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=v==="__DEFAULT",this.dirty=!1,this.horizontal=C,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,g),this.setPosition(f,c),this.setSizeToFrame(),this.initPipeline(a.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(y)&&this.resizeArrays(y.length),this.setPoints(y,S,P),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,h){var f=this.anims.currentFrame;this.anims.update(n,h),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(n,h,f){return this.anims.play(n,h,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(n,h,f){return n===void 0&&(n=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(n,h,f))},setVertical:function(n,h,f){return n===void 0&&(n=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(n,h,f)):this},setTintFill:function(n){return n===void 0&&(n=!1),this.tintFill=n,this},setAlphas:function(n,h){var f=this.points.length;if(f<1)return this;var c=this.alphas;n===void 0?n=[1]:!Array.isArray(n)&&h===void 0&&(n=[n]);var v,g=0;if(h!==void 0)for(v=0;v<f;v++)g=v*2,c[g]=n,c[g+1]=h;else if(n.length===f)for(v=0;v<f;v++)g=v*2,c[g]=n[v],c[g+1]=n[v];else{var y=n[0];for(v=0;v<f;v++)g=v*2,n.length>g&&(y=n[g]),c[g]=y,n.length>g+1&&(y=n[g+1]),c[g+1]=y}return this},setColors:function(n){var h=this.points.length;if(h<1)return this;var f=this.colors;n===void 0?n=[16777215]:Array.isArray(n)||(n=[n]);var c,v=0;if(n.length===h)for(c=0;c<h;c++)v=c*2,f[v]=n[c],f[v+1]=n[c];else{var g=n[0];for(c=0;c<h;c++)v=c*2,n.length>v&&(g=n[v]),f[v]=g,n.length>v+1&&(g=n[v+1]),f[v+1]=g}return this},setPoints:function(n,h,f){if(n===void 0&&(n=2),typeof n=="number"){var c=n;c<2&&(c=2),n=[];var v,g,y;if(this.horizontal)for(y=-this.frame.halfWidth,g=this.frame.width/(c-1),v=0;v<c;v++)n.push({x:y+v*g,y:0});else for(y=-this.frame.halfHeight,g=this.frame.height/(c-1),v=0;v<c;v++)n.push({x:0,y:y+v*g})}var C=n.length,S=this.points.length;return C<1?(console.warn("Rope: Not enough points given"),this):(C===1&&(n.unshift({x:0,y:0}),C++),S!==C&&this.resizeArrays(C),this.dirty=!0,this.points=n,this.updateUVs(),h!=null&&this.setColors(h),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var n=this.uv,h=this.points.length,f=this.frame.u0,c=this.frame.v0,v=this.frame.u1,g=this.frame.v1,y=(v-f)/(h-1),C=(g-c)/(h-1),S=0;S<h;S++){var P=S*4,w,R,L,D;this.horizontal?(this._flipX?(w=v-S*y,L=v-S*y):(w=f+S*y,L=f+S*y),this._flipY?(R=g,D=c):(R=c,D=g)):(this._flipX?(w=f,L=v):(w=v,L=f),this._flipY?(R=g-S*C,D=g-S*C):(R=c+S*C,D=c+S*C)),n[P+0]=w,n[P+1]=R,n[P+2]=L,n[P+3]=D}return this},resizeArrays:function(n){var h=this.colors,f=this.alphas;this.vertices=new Float32Array(n*4),this.uv=new Float32Array(n*4),h=new Uint32Array(n*2),f=new Float32Array(n*2);for(var c=0;c<n*2;c++)h[c]=16777215,f[c]=1;return this.colors=h,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var n=this._perp,h=this.points,f=this.vertices,c=h.length;if(this.dirty=!1,!(c<1)){for(var v,g=h[0],y=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,C=0;C<c;C++){var S=h[C],P=C*4;C<c-1?v=h[C+1]:v=S,n.x=v.y-g.y,n.y=-(v.x-g.x);var w=n.length();n.x/=w,n.y/=w,n.x*=y,n.y*=y,f[P]=S.x+n.x,f[P+1]=S.y+n.y,f[P+2]=S.x-n.x,f[P+3]=S.y-n.y,g=S}return this}},setDebug:function(n,h){return this.debugGraphic=n,!n&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(n,h,f){var c=n.debugGraphic,v=f[0],g=f[1],y=f[2],C=f[3];c.lineBetween(v,g,y,C);for(var S=4;S<h;S+=4){var P=f[S+0],w=f[S+1],R=f[S+2],L=f[S+3];c.lineBetween(v,g,P,w),c.lineBetween(y,C,R,L),c.lineBetween(y,C,P,w),c.lineBetween(P,w,R,L),v=P,g=w,y=R,C=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(n){return this._flipX=n,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(n){return this._flipY=n,this.updateUVs()}}});p.exports=d},95262:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};p.exports=T},26209:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(35154),a=t(77757);m.register("rope",function(e,r){e===void 0&&(e={});var d=l(e,"key",null),n=l(e,"frame",null),h=l(e,"horizontal",!0),f=s(e,"points",void 0),c=s(e,"colors",void 0),v=s(e,"alphas",void 0),g=new a(this.scene,0,0,d,n,f,h,c,v);return r!==void 0&&(e.add=r),u(this.scene,g,e),g})},96819:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(77757),m=t(39429);m.register("rope",function(l,s,a,e,r,d,n,h){return this.displayList.add(new u(this.scene,l,s,a,e,r,d,n,h))})},38745:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(20439),l=t(95262),p.exports={renderWebGL:m,renderCanvas:l}},20439:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(70554),l=function(s,a,e,r){e.addToRenderList(a);var d=s.pipelines.set(a.pipeline,a),n=u(a,e,r).calc,h=a.vertices,f=a.uv,c=a.colors,v=a.alphas,g=a.alpha,y=m.getTintAppendFloatAlpha,C=e.roundPixels,S=h.length,P=Math.floor(S*.5);d.flush(),s.pipelines.preBatch(a);var w=d.setGameObject(a),R=d.vertexViewF32,L=d.vertexViewU32,D=d.vertexCount*d.currentShader.vertexComponentCount-1,F=0,O=a.tintFill;a.dirty&&a.updateVertices();for(var B=a.debugCallback,N=[],G=0;G<S;G+=2){var z=h[G+0],X=h[G+1],H=z*n.a+X*n.c+n.e,V=z*n.b+X*n.d+n.f;C&&(H=Math.round(H),V=Math.round(V)),R[++D]=H,R[++D]=V,R[++D]=f[G+0],R[++D]=f[G+1],R[++D]=w,R[++D]=O,L[++D]=y(c[F],e.alpha*(v[F]*g)),F++,B&&(N[G+0]=H,N[G+1]=V)}B&&B.call(a,a,S,N),d.vertexCount+=P,d.currentBatch.count=d.vertexCount-d.currentBatch.start,s.pipelines.postBatch(a)};p.exports=l},20071:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(95643),s=t(95540),a=t(79291),e=t(61622),r=t(25479),d=t(61340),n=t(95428),h=t(92503),f=new u({Extends:l,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,r],initialize:function(v,g,y,C,S,P,w,R){y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=128),P===void 0&&(P=128),l.call(this,v,"Shader"),this.blendMode=-1,this.shader;var L=v.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(y,C),this.setSize(S,P),this.setOrigin(.5,.5),this.setShader(g,w,R),this.renderer.on(h.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(c){return this.renderToTexture?!0:!(l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,v){if(!this.renderToTexture){var g=this.width,y=this.height,C=this.renderer;this.glTexture=C.createTextureFromSource(null,g,y,0),this.framebuffer=C.createFramebuffer(g,y,this.glTexture,!1),this._rendererWidth=g,this._rendererHeight=y,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture))}return this.shader&&(C.pipelines.clear(),this.load(),this.flush(),C.pipelines.rebind()),this},setShader:function(c,v,g){if(this.renderer.contextLost)return this._deferSetShader={key:c,textures:v,textureData:g},this;if(v===void 0&&(v=[]),typeof c=="string"){var y=this.scene.sys.cache.shader;if(!y.has(c))return console.warn("Shader missing: "+c),this;this.shader=y.get(c)}else this.shader=c;var C=this.gl,S=this.renderer;this.program&&S.deleteProgram(this.program);var P=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);C.uniformMatrix4fv(C.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),C.uniformMatrix4fv(C.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),C.uniform2f(C.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height),this.program=P;var w=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[w.getFullYear(),w.getMonth(),w.getDate(),w.getHours()*60*60+w.getMinutes()*60+w.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=a(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var L=0;L<4;L++)v[L]&&this.setSampler2D("iChannel"+L,v[L],L,g);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,v,g,y){if(this.renderer.contextLost){this._deferProjOrtho={left:c,right:v,bottom:g,top:y};return}var C=-1e3,S=1e3,P=1/(c-v),w=1/(g-y),R=1/(C-S),L=this.projectionMatrix;L[0]=-2*P,L[5]=-2*w,L[10]=2*R,L[12]=(c+v)*P,L[13]=(y+g)*w,L[14]=(S+C)*R;var D=this.program,F=this.gl,O=this.renderer;O.setProgram(D),F.uniformMatrix4fv(F.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=g},initUniforms:function(){var c=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var g in this.uniforms){var y=this.uniforms[g],C=y.type,S=c[C];y.uniformLocation=this.renderer.createUniformLocation(v,g),C!=="sampler2D"&&(y.glMatrix=S.matrix,y.glValueLength=S.length,y.glFunc=S.func)}},setSampler2DBuffer:function(c,v,g,y,C,S){C===void 0&&(C=0),S===void 0&&(S={});var P=this.uniforms[c];return P.value=v,S.width=g,S.height=y,P.textureData=S,this._textureCount=C,this.initSampler2D(P),this},setSampler2D:function(c,v,g,y){g===void 0&&(g=0);var C=this.scene.sys.textures;if(C.exists(v)){var S=C.getFrame(v);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,S.glTexture,S.width,S.height,g,y);var P=this.uniforms[c],w=S.source;P.textureKey=v,P.source=w.image,P.value=S.glTexture,w.isGLTexture&&(y||(y={}),y.width=w.width,y.height=w.height),y&&(P.textureData=y),this._textureCount=g,this.initSampler2D(P)}return this},setUniform:function(c,v){return e(this.uniforms,c,v),this},getUniform:function(c){return s(this.uniforms,c,null)},setChannel0:function(c,v){return this.setSampler2D("iChannel0",c,0,v)},setChannel1:function(c,v){return this.setSampler2D("iChannel1",c,1,v)},setChannel2:function(c,v){return this.setSampler2D("iChannel2",c,2,v)},setChannel3:function(c,v){return this.setSampler2D("iChannel3",c,3,v)},initSampler2D:function(c){if(c.value){var v=c.textureData;if(v&&!c.value.isRenderTexture){var g=this.gl,y=c.value,C=g[s(v,"magFilter","linear").toUpperCase()],S=g[s(v,"minFilter","linear").toUpperCase()],P=g[s(v,"wrapS","repeat").toUpperCase()],w=g[s(v,"wrapT","repeat").toUpperCase()],R=g[s(v,"format","rgba").toUpperCase()],L=s(v,"flipY",!1),D=s(v,"width",y.width),F=s(v,"height",y.height),O=s(v,"source",y.pixels);v.repeat&&(P=g.REPEAT,w=g.REPEAT),v.width&&(O=null),y.update(O,D,F,L,P,w,S,C,R)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var c=this.gl,v=this.uniforms,g,y,C,S,P,w=0;for(var R in v)g=v[R],C=g.glFunc,y=g.glValueLength,S=g.uniformLocation,P=g.value,P!==null&&(y===1?g.glMatrix?C.call(c,S.webGLUniformLocation,g.transpose,P):C.call(c,S.webGLUniformLocation,P):y===2?C.call(c,S.webGLUniformLocation,P.x,P.y):y===3?C.call(c,S.webGLUniformLocation,P.x,P.y,P.z):y===4?C.call(c,S.webGLUniformLocation,P.x,P.y,P.z,P.w):g.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+w),c.bindTexture(c.TEXTURE_2D,P.webGLTexture),c.uniform1i(S.webGLUniformLocation,w),w++))},load:function(c){var v=this.gl,g=this.width,y=this.height,C=this.renderer,S=this.program,P=this.viewMatrix;if(!this.renderToTexture){var w=-this._displayOriginX,R=-this._displayOriginY;P[0]=c[0],P[1]=c[1],P[4]=c[2],P[5]=c[3],P[8]=c[4],P[9]=c[5],P[12]=P[0]*w+P[4]*R,P[13]=P[1]*w+P[5]*R}v.useProgram(S.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,P),v.uniformMatrix4fv(v.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,D=L.resolution;D.value.x=g,D.value.y=y,L.time.value=C.game.loop.getDuration();var F=this.pointer;if(F){var O=L.mouse,B=F.x/g,N=1-F.y/y;O.value.x=B.toFixed(2),O.value.y=N.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,v=this.height,g=this.program,y=this.gl,C=this.vertexBuffer,S=this.renderer,P=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT)),y.bindBuffer(y.ARRAY_BUFFER,C.webGLBuffer);var w=y.getAttribLocation(g.webGLProgram,"inPosition");w!==-1&&(y.enableVertexAttribArray(w),y.vertexAttribPointer(w,2,y.FLOAT,!1,P,0));var R=this.vertexViewF32;R[3]=v,R[4]=c,R[5]=v,R[8]=c,R[9]=v,R[10]=c;var L=6;y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,L*P)),y.drawArrays(y.TRIANGLES,0,L),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var c=this._deferSetShader.key,v=this._deferSetShader.textures,g=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(c,v,g)}if(this._deferProjOrtho!==null){var y=this._deferProjOrtho.left,C=this._deferProjOrtho.right,S=this._deferProjOrtho.bottom,P=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(y,C,S,P)}},preDestroy:function(){var c=this.renderer;c.off(h.RESTORE_WEBGL,this.onContextRestored,this),c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(c.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),n(this.uniforms,function(v){c.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});p.exports=f},80464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};p.exports=T},54935:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(20071);m.register("shader",function(a,e){a===void 0&&(a={});var r=l(a,"key",null),d=l(a,"x",0),n=l(a,"y",0),h=l(a,"width",128),f=l(a,"height",128),c=new s(this.scene,r,d,n,h,f);return e!==void 0&&(a.add=e),u(this.scene,c,a),c})},74177:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20071),m=t(39429);m.register("shader",function(l,s,a,e,r,d,n){return this.displayList.add(new u(this.scene,l,s,a,e,r,d,n))})},25479:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(19257),l=t(80464),p.exports={renderWebGL:m,renderCanvas:l}},19257:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=function(l,s,a,e){if(s.shader){if(a.addToRenderList(s),l.pipelines.clear(),s.renderToTexture)s.load(),s.flush();else{var r=u(s,a,e).calc;(l.width!==s._rendererWidth||l.height!==s._rendererHeight)&&s.projOrtho(0,l.width,l.height,0),s.load(r.matrix),s.flush()}l.pipelines.rebind()}};p.exports=m},10441:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70554),m=function(l,s,a,e,r,d){for(var n=u.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*e),h=a.pathData,f=a.pathIndexes,c=0;c<f.length;c+=3){var v=f[c]*2,g=f[c+1]*2,y=f[c+2]*2,C=h[v+0]-r,S=h[v+1]-d,P=h[g+0]-r,w=h[g+1]-d,R=h[y+0]-r,L=h[y+1]-d,D=s.getX(C,S),F=s.getY(C,S),O=s.getX(P,w),B=s.getY(P,w),N=s.getX(R,L),G=s.getY(R,L);l.batchTri(a,D,F,O,B,N,G,0,0,1,1,n,n,n,2)}};p.exports=m},65960:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=m||u.fillColor,a=l||u.fillAlpha,e=(s&16711680)>>>16,r=(s&65280)>>>8,d=s&255;t.fillStyle="rgba("+e+","+r+","+d+","+a+")"};p.exports=T},75177:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=m||u.strokeColor,a=l||u.strokeAlpha,e=(s&16711680)>>>16,r=(s&65280)>>>8,d=s&255;t.strokeStyle="rgba("+e+","+r+","+d+","+a+")",t.lineWidth=u.lineWidth};p.exports=T},17803:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(95643),s=t(23031),a=new u({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(r,d,n){d===void 0&&(d="Shape"),l.call(this,r,d),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,r){return r===void 0&&(r=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(e,r,d){return d===void 0&&(d=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=r,this.strokeAlpha=d,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,r){return this.width=e,this.height=r,this},setDisplaySize:function(e,r){return this.displayWidth=e,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});p.exports=a},34682:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70554),m=function(l,s,a,e,r){var d=l.strokeTint,n=u.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*a);d.TL=n,d.TR=n,d.BL=n,d.BR=n;var h=s.pathData,f=h.length-1,c=s.lineWidth,v=c/2,g=h[0]-e,y=h[1]-r;s.closePath||(f-=2);for(var C=2;C<f;C+=2){var S=h[C]-e,P=h[C+1]-r;l.batchLine(g,y,S,P,v,v,c,C-2,s.closePath?C===f-1:!1),g=S,y=P}};p.exports=m},23629:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13609),m=t(83419),l=t(39506),s=t(94811),a=t(96503),e=t(36383),r=t(17803),d=new m({Extends:r,Mixins:[u],initialize:function(h,f,c,v,g,y,C,S,P){f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=128),g===void 0&&(g=0),y===void 0&&(y=360),C===void 0&&(C=!1),r.call(this,h,"Arc",new a(0,0,v)),this._startAngle=g,this._endAngle=y,this._anticlockwise=C,this._iterations=.01,this.setPosition(f,c);var w=this.geom.radius*2;this.setSize(w,w),S!==void 0&&this.setFillStyle(S,P),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(n){this._iterations=n,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(n){this.geom.radius=n;var h=n*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(n){this._startAngle=n,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(n){this._endAngle=n,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(n){this._anticlockwise=n,this.updateData()}},setRadius:function(n){return this.radius=n,this},setIterations:function(n){return n===void 0&&(n=.01),this.iterations=n,this},setStartAngle:function(n,h){return this._startAngle=n,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(n,h){return this._endAngle=n,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var n=this._iterations,h=n,f=this.geom.radius,c=l(this._startAngle),v=l(this._endAngle),g=this._anticlockwise,y=f,C=f;v-=c,g?v<-e.PI2?v=-e.PI2:v>0&&(v=-e.PI2+v%e.PI2):v>e.PI2?v=e.PI2:v<0&&(v=e.PI2+v%e.PI2);for(var S=[y+Math.cos(c)*f,C+Math.sin(c)*f],P;h<1;)P=v*h+c,S.push(y+Math.cos(P)*f,C+Math.sin(P)*f),h+=n;return P=v+c,S.push(y+Math.cos(P)*f,C+Math.sin(P)*f),S.push(y+Math.cos(c)*f,C+Math.sin(c)*f),this.pathIndexes=s(S),this.pathData=S,this}});p.exports=d},42542:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39506),m=t(65960),l=t(75177),s=t(20926),a=function(e,r,d,n){d.addToRenderList(r);var h=e.currentContext;if(s(e,h,r,d,n)){var f=r.radius;h.beginPath(),h.arc(f-r.originX*(f*2),f-r.originY*(f*2),f,u(r._startAngle),u(r._endAngle),r.anticlockwise),r.closePath&&h.closePath(),r.isFilled&&(m(h,r),h.fill()),r.isStroked&&(l(h,r),h.stroke()),h.restore()}};p.exports=a},42563:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23629),m=t(39429);m.register("arc",function(l,s,a,e,r,d,n,h){return this.displayList.add(new u(this.scene,l,s,a,e,r,d,n,h))}),m.register("circle",function(l,s,a,e,r){return this.displayList.add(new u(this.scene,l,s,a,0,360,!1,e,r))})},13609:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(41447),l=t(42542),p.exports={renderWebGL:m,renderCanvas:l}},41447:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(10441),l=t(34682),s=function(a,e,r,d){r.addToRenderList(e);var n=a.pipelines.set(e.pipeline),h=u(e,r,d),f=n.calcMatrix.copyFrom(h.calc),c=e._displayOriginX,v=e._displayOriginY,g=r.alpha*e.alpha;a.pipelines.preBatch(e),e.isFilled&&m(n,f,e,g,c,v),e.isStroked&&l(n,e,g,c,v),a.pipelines.postBatch(e)};p.exports=s},89:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(33141),l=t(94811),s=t(87841),a=t(17803),e=new u({Extends:a,Mixins:[m],initialize:function(d,n,h,f,c,v){n===void 0&&(n=0),h===void 0&&(h=0),a.call(this,d,"Curve",f),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(n,h),c!==void 0&&this.setFillStyle(c,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,d=this._smoothness;this.geom.getBounds(r,d),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var n=[],h=this.geom.getPoints(d),f=0;f<h.length;f++)n.push(h[f].x,h[f].y);return n.push(h[0].x,h[0].y),this.pathIndexes=l(n),this.pathData=n,this}});p.exports=e},3170:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65960),m=t(75177),l=t(20926),s=function(a,e,r,d){r.addToRenderList(e);var n=a.currentContext;if(l(a,n,e,r,d)){var h=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,c=e.pathData,v=c.length-1,g=c[0]-h,y=c[1]-f;n.beginPath(),n.moveTo(g,y),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=c[C]-h,P=c[C+1]-f;n.lineTo(S,P)}e.closePath&&n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(m(n,e),n.stroke()),n.restore()}};p.exports=s},40511:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(89);u.register("curve",function(l,s,a,e,r){return this.displayList.add(new m(this.scene,l,s,a,e,r))})},33141:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(53987),l=t(3170),p.exports={renderWebGL:m,renderCanvas:l}},53987:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10441),m=t(91296),l=t(34682),s=function(a,e,r,d){r.addToRenderList(e);var n=a.pipelines.set(e.pipeline),h=m(e,r,d),f=n.calcMatrix.copyFrom(h.calc),c=e._displayOriginX+e._curveBounds.x,v=e._displayOriginY+e._curveBounds.y,g=r.alpha*e.alpha;a.pipelines.preBatch(e),e.isFilled&&u(n,f,e,g,c,v),e.isStroked&&l(n,e,g,c,v),a.pipelines.postBatch(e)};p.exports=s},19921:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(94811),l=t(54205),s=t(8497),a=t(17803),e=new u({Extends:a,Mixins:[l],initialize:function(d,n,h,f,c,v,g){n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=128),c===void 0&&(c=128),a.call(this,d,"Ellipse",new s(f/2,c/2,f,c)),this._smoothness=64,this.setPosition(n,h),this.width=f,this.height=c,v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,d){return this.width=r,this.height=d,this.geom.setPosition(r/2,d/2),this.geom.setSize(r,d),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],d=this.geom.getPoints(this._smoothness),n=0;n<d.length;n++)r.push(d[n].x,d[n].y);return r.push(d[0].x,d[0].y),this.pathIndexes=m(r),this.pathData=r,this}});p.exports=e},7930:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65960),m=t(75177),l=t(20926),s=function(a,e,r,d){r.addToRenderList(e);var n=a.currentContext;if(l(a,n,e,r,d)){var h=e._displayOriginX,f=e._displayOriginY,c=e.pathData,v=c.length-1,g=c[0]-h,y=c[1]-f;n.beginPath(),n.moveTo(g,y),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=c[C]-h,P=c[C+1]-f;n.lineTo(S,P)}n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(m(n,e),n.stroke()),n.restore()}};p.exports=s},1543:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19921),m=t(39429);m.register("ellipse",function(l,s,a,e,r,d){return this.displayList.add(new u(this.scene,l,s,a,e,r,d))})},54205:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(19467),l=t(7930),p.exports={renderWebGL:m,renderCanvas:l}},19467:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10441),m=t(91296),l=t(34682),s=function(a,e,r,d){r.addToRenderList(e);var n=a.pipelines.set(e.pipeline),h=m(e,r,d),f=n.calcMatrix.copyFrom(h.calc),c=e._displayOriginX,v=e._displayOriginY,g=r.alpha*e.alpha;a.pipelines.preBatch(e),e.isFilled&&u(n,f,e,g,c,v),e.isStroked&&l(n,e,g,c,v),a.pipelines.postBatch(e)};p.exports=s},30479:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(17803),l=t(26015),s=new u({Extends:m,Mixins:[l],initialize:function(e,r,d,n,h,f,c,v,g,y,C){r===void 0&&(r=0),d===void 0&&(d=0),n===void 0&&(n=128),h===void 0&&(h=128),f===void 0&&(f=32),c===void 0&&(c=32),m.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,d),this.setSize(n,h),this.setFillStyle(v,g),y!==void 0&&this.setOutlineStyle(y,C),this.updateDisplayOrigin()},setFillStyle:function(a,e){return e===void 0&&(e=1),a===void 0?this.showCells=!1:(this.fillColor=a,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(a,e){return e===void 0&&(e=1),a===void 0?this.showAltCells=!1:(this.altFillColor=a,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(a,e){return e===void 0&&(e=1),a===void 0?this.showOutline=!1:(this.outlineFillColor=a,this.outlineFillAlpha=e,this.showOutline=!0),this}});p.exports=s},49912:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65960),m=t(75177),l=t(20926),s=function(a,e,r,d){r.addToRenderList(e);var n=a.currentContext;if(l(a,n,e,r,d)){var h=-e._displayOriginX,f=-e._displayOriginY,c=r.alpha*e.alpha,v=e.width,g=e.height,y=e.cellWidth,C=e.cellHeight,S=Math.ceil(v/y),P=Math.ceil(g/C),w=y,R=C,L=y-(S*y-v),D=C-(P*C-g),F=e.showCells,O=e.showAltCells,B=e.showOutline,N=0,G=0,z=0,X=0,H=0;if(B&&(w--,R--,L===y&&L--,D===C&&D--),F&&e.fillAlpha>0)for(u(n,e),G=0;G<P;G++)for(O&&(z=G%2),N=0;N<S;N++){if(O&&z){z=0;continue}z++,X=N<S-1?w:L,H=G<P-1?R:D,n.fillRect(h+N*y,f+G*C,X,H)}if(O&&e.altFillAlpha>0)for(u(n,e,e.altFillColor,e.altFillAlpha*c),G=0;G<P;G++)for(O&&(z=G%2),N=0;N<S;N++){if(O&&!z){z=1;continue}z=0,X=N<S-1?w:L,H=G<P-1?R:D,n.fillRect(h+N*y,f+G*C,X,H)}if(B&&e.outlineFillAlpha>0){for(m(n,e,e.outlineFillColor,e.outlineFillAlpha*c),N=1;N<S;N++){var V=N*y;n.beginPath(),n.moveTo(V+h,f),n.lineTo(V+h,g+f),n.stroke()}for(G=1;G<P;G++){var W=G*C;n.beginPath(),n.moveTo(h,W+f),n.lineTo(h+v,W+f),n.stroke()}}n.restore()}};p.exports=s},34137:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(30479);u.register("grid",function(l,s,a,e,r,d,n,h,f,c){return this.displayList.add(new m(this.scene,l,s,a,e,r,d,n,h,f,c))})},26015:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(46161),l=t(49912),p.exports={renderWebGL:m,renderCanvas:l}},46161:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(70554),l=function(s,a,e,r){e.addToRenderList(a);var d=s.pipelines.set(a.pipeline),n=u(a,e,r),h=d.calcMatrix.copyFrom(n.calc);h.translate(-a._displayOriginX,-a._displayOriginY);var f=e.alpha*a.alpha,c=a.width,v=a.height,g=a.cellWidth,y=a.cellHeight,C=Math.ceil(c/g),S=Math.ceil(v/y),P=g,w=y,R=g-(C*g-c),L=y-(S*y-v),D,F,O=a.showCells,B=a.showAltCells,N=a.showOutline,G=0,z=0,X=0,H=0,V=0;if(N&&(P--,w--,R===g&&R--,L===y&&L--),s.pipelines.preBatch(a),O&&a.fillAlpha>0)for(D=d.fillTint,F=m.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*f),D.TL=F,D.TR=F,D.BL=F,D.BR=F,z=0;z<S;z++)for(B&&(X=z%2),G=0;G<C;G++){if(B&&X){X=0;continue}X++,H=G<C-1?P:R,V=z<S-1?w:L,d.batchFillRect(G*g,z*y,H,V)}if(B&&a.altFillAlpha>0)for(D=d.fillTint,F=m.getTintAppendFloatAlpha(a.altFillColor,a.altFillAlpha*f),D.TL=F,D.TR=F,D.BL=F,D.BR=F,z=0;z<S;z++)for(B&&(X=z%2),G=0;G<C;G++){if(B&&!X){X=1;continue}X=0,H=G<C-1?P:R,V=z<S-1?w:L,d.batchFillRect(G*g,z*y,H,V)}if(N&&a.outlineFillAlpha>0){var W=d.strokeTint,I=m.getTintAppendFloatAlpha(a.outlineFillColor,a.outlineFillAlpha*f);for(W.TL=I,W.TR=I,W.BL=I,W.BR=I,G=1;G<C;G++){var b=G*g;d.batchLine(b,0,b,v,1,1,1,0,!1)}for(z=1;z<S;z++){var U=z*y;d.batchLine(0,U,c,U,1,1,1,0,!1)}}s.pipelines.postBatch(a)};p.exports=l},61475:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99651),m=t(83419),l=t(17803),s=new m({Extends:l,Mixins:[u],initialize:function(e,r,d,n,h,f,c,v){r===void 0&&(r=0),d===void 0&&(d=0),n===void 0&&(n=48),h===void 0&&(h=32),f===void 0&&(f=15658734),c===void 0&&(c=10066329),v===void 0&&(v=13421772),l.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=c,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,d),this.setSize(n,h),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setFaces:function(a,e,r){return a===void 0&&(a=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=a,this.showLeft=e,this.showRight=r,this},setFillStyle:function(a,e,r){return this.fillTop=a,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});p.exports=s},11508:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65960),m=t(20926),l=function(s,a,e,r){e.addToRenderList(a);var d=s.currentContext;if(m(s,d,a,e,r)&&a.isFilled){var n=a.width,h=a.height,f=n/2,c=n/a.projection;a.showTop&&(u(d,a,a.fillTop),d.beginPath(),d.moveTo(-f,-h),d.lineTo(0,-c-h),d.lineTo(f,-h),d.lineTo(f,-1),d.lineTo(0,c-1),d.lineTo(-f,-1),d.lineTo(-f,-h),d.fill()),a.showLeft&&(u(d,a,a.fillLeft),d.beginPath(),d.moveTo(-f,0),d.lineTo(0,c),d.lineTo(0,c-h),d.lineTo(-f,-h),d.lineTo(-f,0),d.fill()),a.showRight&&(u(d,a,a.fillRight),d.beginPath(),d.moveTo(f,0),d.lineTo(0,c),d.lineTo(0,c-h),d.lineTo(f,-h),d.lineTo(f,0),d.fill()),d.restore()}};p.exports=l},3933:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(61475);u.register("isobox",function(l,s,a,e,r,d,n){return this.displayList.add(new m(this.scene,l,s,a,e,r,d,n))})},99651:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(68149),l=t(11508),p.exports={renderWebGL:m,renderCanvas:l}},68149:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(70554),l=function(s,a,e,r){e.addToRenderList(a);var d=s.pipelines.set(a.pipeline),n=u(a,e,r),h=d.calcMatrix.copyFrom(n.calc),f=a.width,c=a.height,v=f/2,g=f/a.projection,y=e.alpha*a.alpha;if(a.isFilled){var C,S,P,w,R,L,D,F,O;s.pipelines.preBatch(a),a.showTop&&(C=m.getTintAppendFloatAlpha(a.fillTop,y),S=h.getX(-v,-c),P=h.getY(-v,-c),w=h.getX(0,-g-c),R=h.getY(0,-g-c),L=h.getX(v,-c),D=h.getY(v,-c),F=h.getX(0,g-c),O=h.getY(0,g-c),d.batchQuad(a,S,P,w,R,L,D,F,O,0,0,1,1,C,C,C,C,2)),a.showLeft&&(C=m.getTintAppendFloatAlpha(a.fillLeft,y),S=h.getX(-v,0),P=h.getY(-v,0),w=h.getX(0,g),R=h.getY(0,g),L=h.getX(0,g-c),D=h.getY(0,g-c),F=h.getX(-v,-c),O=h.getY(-v,-c),d.batchQuad(a,S,P,w,R,L,D,F,O,0,0,1,1,C,C,C,C,2)),a.showRight&&(C=m.getTintAppendFloatAlpha(a.fillRight,y),S=h.getX(v,0),P=h.getY(v,0),w=h.getX(0,g),R=h.getY(0,g),L=h.getX(0,g-c),D=h.getY(0,g-c),F=h.getX(v,-c),O=h.getY(v,-c),d.batchQuad(a,S,P,w,R,L,D,F,O,0,0,1,1,C,C,C,C,2)),s.pipelines.postBatch(a)}};p.exports=l},16933:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(60561),l=t(17803),s=new u({Extends:l,Mixins:[m],initialize:function(e,r,d,n,h,f,c,v,g){r===void 0&&(r=0),d===void 0&&(d=0),n===void 0&&(n=48),h===void 0&&(h=32),f===void 0&&(f=!1),c===void 0&&(c=15658734),v===void 0&&(v=10066329),g===void 0&&(g=13421772),l.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=v,this.fillRight=g,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(r,d),this.setSize(n,h),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setReversed:function(a){return this.isReversed=a,this},setFaces:function(a,e,r){return a===void 0&&(a=!0),e===void 0&&(e=!0),r===void 0&&(r=!0),this.showTop=a,this.showLeft=e,this.showRight=r,this},setFillStyle:function(a,e,r){return this.fillTop=a,this.fillLeft=e,this.fillRight=r,this.isFilled=!0,this}});p.exports=s},79590:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65960),m=t(20926),l=function(s,a,e,r){e.addToRenderList(a);var d=s.currentContext;if(m(s,d,a,e,r)&&a.isFilled){var n=a.width,h=a.height,f=n/2,c=n/a.projection,v=a.isReversed;a.showTop&&v&&(u(d,a,a.fillTop),d.beginPath(),d.moveTo(-f,-h),d.lineTo(0,-c-h),d.lineTo(f,-h),d.lineTo(0,c-h),d.fill()),a.showLeft&&(u(d,a,a.fillLeft),d.beginPath(),v?(d.moveTo(-f,-h),d.lineTo(0,c),d.lineTo(0,c-h)):(d.moveTo(-f,0),d.lineTo(0,c),d.lineTo(0,c-h)),d.fill()),a.showRight&&(u(d,a,a.fillRight),d.beginPath(),v?(d.moveTo(f,-h),d.lineTo(0,c),d.lineTo(0,c-h)):(d.moveTo(f,0),d.lineTo(0,c),d.lineTo(0,c-h)),d.fill()),d.restore()}};p.exports=l},49803:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(16933);u.register("isotriangle",function(l,s,a,e,r,d,n,h){return this.displayList.add(new m(this.scene,l,s,a,e,r,d,n,h))})},60561:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(51503),l=t(79590),p.exports={renderWebGL:m,renderCanvas:l}},51503:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(70554),l=function(s,a,e,r){e.addToRenderList(a);var d=s.pipelines.set(a.pipeline),n=u(a,e,r),h=d.calcMatrix.copyFrom(n.calc),f=a.width,c=a.height,v=f/2,g=f/a.projection,y=a.isReversed,C=e.alpha*a.alpha;if(a.isFilled){s.pipelines.preBatch(a);var S,P,w,R,L,D,F;if(a.showTop&&y){S=m.getTintAppendFloatAlpha(a.fillTop,C),P=h.getX(-v,-c),w=h.getY(-v,-c),R=h.getX(0,-g-c),L=h.getY(0,-g-c),D=h.getX(v,-c),F=h.getY(v,-c);var O=h.getX(0,g-c),B=h.getY(0,g-c);d.batchQuad(a,P,w,R,L,D,F,O,B,0,0,1,1,S,S,S,S,2)}a.showLeft&&(S=m.getTintAppendFloatAlpha(a.fillLeft,C),y?(P=h.getX(-v,-c),w=h.getY(-v,-c),R=h.getX(0,g),L=h.getY(0,g),D=h.getX(0,g-c),F=h.getY(0,g-c)):(P=h.getX(-v,0),w=h.getY(-v,0),R=h.getX(0,g),L=h.getY(0,g),D=h.getX(0,g-c),F=h.getY(0,g-c)),d.batchTri(a,P,w,R,L,D,F,0,0,1,1,S,S,S,2)),a.showRight&&(S=m.getTintAppendFloatAlpha(a.fillRight,C),y?(P=h.getX(v,-c),w=h.getY(v,-c),R=h.getX(0,g),L=h.getY(0,g),D=h.getX(0,g-c),F=h.getY(0,g-c)):(P=h.getX(v,0),w=h.getY(v,0),R=h.getX(0,g),L=h.getY(0,g),D=h.getX(0,g-c),F=h.getY(0,g-c)),d.batchTri(a,P,w,R,L,D,F,0,0,1,1,S,S,S,2)),s.pipelines.postBatch(a)}};p.exports=l},57847:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(17803),l=t(23031),s=t(36823),a=new u({Extends:m,Mixins:[s],initialize:function(r,d,n,h,f,c,v,g,y){d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=128),v===void 0&&(v=0),m.call(this,r,"Line",new l(h,f,c,v));var C=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(d,n),this.setSize(C,S),g!==void 0&&this.setStrokeStyle(1,g,y),this.updateDisplayOrigin()},setLineWidth:function(e,r){return r===void 0&&(r=e),this._startWidth=e,this._endWidth=r,this.lineWidth=e,this},setTo:function(e,r,d,n){return this.geom.setTo(e,r,d,n),this}});p.exports=a},17440:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75177),m=t(20926),l=function(s,a,e,r){e.addToRenderList(a);var d=s.currentContext;if(m(s,d,a,e,r)){var n=a._displayOriginX,h=a._displayOriginY;a.isStroked&&(u(d,a),d.beginPath(),d.moveTo(a.geom.x1-n,a.geom.y1-h),d.lineTo(a.geom.x2-n,a.geom.y2-h),d.stroke()),d.restore()}};p.exports=l},2481:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(57847);u.register("line",function(l,s,a,e,r,d,n,h){return this.displayList.add(new m(this.scene,l,s,a,e,r,d,n,h))})},36823:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(77385),l=t(17440),p.exports={renderWebGL:m,renderCanvas:l}},77385:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(70554),l=function(s,a,e,r){e.addToRenderList(a);var d=s.pipelines.set(a.pipeline),n=u(a,e,r);d.calcMatrix.copyFrom(n.calc);var h=a._displayOriginX,f=a._displayOriginY,c=e.alpha*a.alpha;if(s.pipelines.preBatch(a),a.isStroked){var v=d.strokeTint,g=m.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*c);v.TL=g,v.TR=g,v.BL=g,v.BR=g,d.batchLine(a.geom.x1-h,a.geom.y1-f,a.geom.x2-h,a.geom.y2-f,a._startWidth/2,a._endWidth/2,1,0,!1,n.sprite,n.camera)}s.pipelines.postBatch(a)};p.exports=l},24949:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(90273),m=t(83419),l=t(94811),s=t(13829),a=t(25717),e=t(17803),r=t(5469),d=new m({Extends:e,Mixins:[u],initialize:function(h,f,c,v,g,y){f===void 0&&(f=0),c===void 0&&(c=0),e.call(this,h,"Polygon",new a(v));var C=s(this.geom);this.setPosition(f,c),this.setSize(C.width,C.height),g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},smooth:function(n){n===void 0&&(n=1);for(var h=0;h<n;h++)r(this.geom);return this.updateData()},setTo:function(n){this.geom.setTo(n);var h=s(this.geom);return this.setSize(h.width,h.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var n=[],h=this.geom.points,f=0;f<h.length;f++)n.push(h[f].x,h[f].y);return n.push(h[0].x,h[0].y),this.pathIndexes=l(n),this.pathData=n,this}});p.exports=d},38710:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65960),m=t(75177),l=t(20926),s=function(a,e,r,d){r.addToRenderList(e);var n=a.currentContext;if(l(a,n,e,r,d)){var h=e._displayOriginX,f=e._displayOriginY,c=e.pathData,v=c.length-1,g=c[0]-h,y=c[1]-f;n.beginPath(),n.moveTo(g,y),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=c[C]-h,P=c[C+1]-f;n.lineTo(S,P)}e.closePath&&n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(m(n,e),n.stroke()),n.restore()}};p.exports=s},64827:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(24949);u.register("polygon",function(l,s,a,e,r){return this.displayList.add(new m(this.scene,l,s,a,e,r))})},90273:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(73695),l=t(38710),p.exports={renderWebGL:m,renderCanvas:l}},73695:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10441),m=t(91296),l=t(34682),s=function(a,e,r,d){r.addToRenderList(e);var n=a.pipelines.set(e.pipeline),h=m(e,r,d),f=n.calcMatrix.copyFrom(h.calc),c=e._displayOriginX,v=e._displayOriginY,g=r.alpha*e.alpha;a.pipelines.preBatch(e),e.isFilled&&u(n,f,e,g,c,v),e.isStroked&&l(n,e,g,c,v),a.pipelines.postBatch(e)};p.exports=s},74561:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(87841),l=t(17803),s=t(95597),a=new u({Extends:l,Mixins:[s],initialize:function(r,d,n,h,f,c,v){d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=128),f===void 0&&(f=128),l.call(this,r,"Rectangle",new m(0,0,h,f)),this.setPosition(d,n),this.setSize(h,f),c!==void 0&&this.setFillStyle(c,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,r){this.width=e,this.height=r,this.geom.setSize(e,r),this.updateData(),this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=e,d.hitArea.height=r),this},updateData:function(){var e=[],r=this.geom,d=this._tempLine;return r.getLineA(d),e.push(d.x1,d.y1,d.x2,d.y2),r.getLineB(d),e.push(d.x2,d.y2),r.getLineC(d),e.push(d.x2,d.y2),r.getLineD(d),e.push(d.x2,d.y2),this.pathData=e,this}});p.exports=a},48682:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65960),m=t(75177),l=t(20926),s=function(a,e,r,d){r.addToRenderList(e);var n=a.currentContext;if(l(a,n,e,r,d)){var h=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(u(n,e),n.fillRect(-h,-f,e.width,e.height)),e.isStroked&&(m(n,e),n.beginPath(),n.rect(-h,-f,e.width,e.height),n.stroke()),n.restore()}};p.exports=s},87959:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(74561);u.register("rectangle",function(l,s,a,e,r,d){return this.displayList.add(new m(this.scene,l,s,a,e,r,d))})},95597:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(52059),l=t(48682),p.exports={renderWebGL:m,renderCanvas:l}},52059:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(34682),l=t(70554),s=function(a,e,r,d){r.addToRenderList(e);var n=a.pipelines.set(e.pipeline),h=u(e,r,d);n.calcMatrix.copyFrom(h.calc);var f=e._displayOriginX,c=e._displayOriginY,v=r.alpha*e.alpha;if(a.pipelines.preBatch(e),e.isFilled){var g=n.fillTint,y=l.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*v);g.TL=y,g.TR=y,g.BL=y,g.BR=y,n.batchFillRect(-f,-c,e.width,e.height)}e.isStroked&&m(n,e,v,f,c),a.pipelines.postBatch(e)};p.exports=s},55911:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(81991),m=t(83419),l=t(94811),s=t(17803),a=new m({Extends:s,Mixins:[u],initialize:function(r,d,n,h,f,c,v,g){d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=5),f===void 0&&(f=32),c===void 0&&(c=64),s.call(this,r,"Star",null),this._points=h,this._innerRadius=f,this._outerRadius=c,this.setPosition(d,n),this.setSize(c*2,c*2),v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],r=this._points,d=this._innerRadius,n=this._outerRadius,h=Math.PI/2*3,f=Math.PI/r,c=n,v=n;e.push(c,v+-n);for(var g=0;g<r;g++)e.push(c+Math.cos(h)*n,v+Math.sin(h)*n),h+=f,e.push(c+Math.cos(h)*d,v+Math.sin(h)*d),h+=f;return e.push(c,v+-n),this.pathIndexes=l(e),this.pathData=e,this}});p.exports=a},64272:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65960),m=t(75177),l=t(20926),s=function(a,e,r,d){r.addToRenderList(e);var n=a.currentContext;if(l(a,n,e,r,d)){var h=e._displayOriginX,f=e._displayOriginY,c=e.pathData,v=c.length-1,g=c[0]-h,y=c[1]-f;n.beginPath(),n.moveTo(g,y),e.closePath||(v-=2);for(var C=2;C<v;C+=2){var S=c[C]-h,P=c[C+1]-f;n.lineTo(S,P)}n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(m(n,e),n.stroke()),n.restore()}};p.exports=s},93697:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(55911),m=t(39429);m.register("star",function(l,s,a,e,r,d,n){return this.displayList.add(new u(this.scene,l,s,a,e,r,d,n))})},81991:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(57017),l=t(64272),p.exports={renderWebGL:m,renderCanvas:l}},57017:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10441),m=t(91296),l=t(34682),s=function(a,e,r,d){r.addToRenderList(e);var n=a.pipelines.set(e.pipeline),h=m(e,r,d),f=n.calcMatrix.copyFrom(h.calc),c=e._displayOriginX,v=e._displayOriginY,g=r.alpha*e.alpha;a.pipelines.preBatch(e),e.isFilled&&u(n,f,e,g,c,v),e.isStroked&&l(n,e,g,c,v),a.pipelines.postBatch(e)};p.exports=s},36931:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(17803),l=t(16483),s=t(96195),a=new u({Extends:m,Mixins:[s],initialize:function(r,d,n,h,f,c,v,g,y,C,S){d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=128),c===void 0&&(c=64),v===void 0&&(v=0),g===void 0&&(g=128),y===void 0&&(y=128),m.call(this,r,"Triangle",new l(h,f,c,v,g,y));var P=this.geom.right-this.geom.left,w=this.geom.bottom-this.geom.top;this.setPosition(d,n),this.setSize(P,w),C!==void 0&&this.setFillStyle(C,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,r,d,n,h,f){return this.geom.setTo(e,r,d,n,h,f),this.updateData()},updateData:function(){var e=[],r=this.geom,d=this._tempLine;return r.getLineA(d),e.push(d.x1,d.y1,d.x2,d.y2),r.getLineB(d),e.push(d.x2,d.y2),r.getLineC(d),e.push(d.x2,d.y2),this.pathData=e,this}});p.exports=a},85172:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(65960),m=t(75177),l=t(20926),s=function(a,e,r,d){r.addToRenderList(e);var n=a.currentContext;if(l(a,n,e,r,d)){var h=e._displayOriginX,f=e._displayOriginY,c=e.geom.x1-h,v=e.geom.y1-f,g=e.geom.x2-h,y=e.geom.y2-f,C=e.geom.x3-h,S=e.geom.y3-f;n.beginPath(),n.moveTo(c,v),n.lineTo(g,y),n.lineTo(C,S),n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(m(n,e),n.stroke()),n.restore()}};p.exports=s},45245:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(36931);u.register("triangle",function(l,s,a,e,r,d,n,h,f,c){return this.displayList.add(new m(this.scene,l,s,a,e,r,d,n,h,f,c))})},96195:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(83253),l=t(85172),p.exports={renderWebGL:m,renderCanvas:l}},83253:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=t(34682),l=t(70554),s=function(a,e,r,d){r.addToRenderList(e);var n=a.pipelines.set(e.pipeline),h=u(e,r,d);n.calcMatrix.copyFrom(h.calc);var f=e._displayOriginX,c=e._displayOriginY,v=r.alpha*e.alpha;if(a.pipelines.preBatch(e),e.isFilled){var g=n.fillTint,y=l.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*v);g.TL=y,g.TR=y,g.BL=y,g.BR=y;var C=e.geom.x1-f,S=e.geom.y1-c,P=e.geom.x2-f,w=e.geom.y2-c,R=e.geom.x3-f,L=e.geom.y3-c;n.batchFillTriangle(C,S,P,w,R,L,h.sprite,h.camera)}e.isStroked&&m(n,e,v,f,c),a.pipelines.postBatch(e)};p.exports=s},68287:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(9674),m=t(83419),l=t(31401),s=t(95643),a=t(92751),e=new m({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,a],initialize:function(d,n,h,f,c){s.call(this,d,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(f,c),this.setPosition(n,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,d){this.anims.update(r,d)},play:function(r,d){return this.anims.play(r,d)},playReverse:function(r,d){return this.anims.playReverse(r,d)},playAfterDelay:function(r,d){return this.anims.playAfterDelay(r,d)},playAfterRepeat:function(r,d){return this.anims.playAfterRepeat(r,d)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return l.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=e},76552:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m.addToRenderList(u),t.batchSprite(u,u.frame,m,l)};p.exports=T},15567:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(13059),l=t(44603),s=t(23568),a=t(68287);l.register("sprite",function(e,r){e===void 0&&(e={});var d=s(e,"key",null),n=s(e,"frame",null),h=new a(this.scene,0,0,d,n);return r!==void 0&&(e.add=r),u(this.scene,h,e),m(h,e),h})},46409:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(68287);u.register("sprite",function(l,s,a,e){return this.displayList.add(new m(this.scene,l,s,a,e))})},92751:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(9409),l=t(76552),p.exports={renderWebGL:m,renderCanvas:l}},9409:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m.addToRenderList(u),u.pipeline.batchSprite(u,m,l)};p.exports=T},14220:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=t.canvas,s=t.context,a=t.style,e=[],r=0,d=m.length;a.maxLines>0&&a.maxLines<m.length&&(d=a.maxLines),a.syncFont(l,s);for(var n=0;n<d;n++){var h=a.strokeThickness;h+=s.measureText(m[n]).width,m[n].length>1&&(h+=t.letterSpacing*(m[n].length-1)),a.wordWrap&&(h-=s.measureText(" ").width),e[n]=Math.ceil(h),r=Math.max(r,e[n])}var f=u.fontSize+a.strokeThickness,c=f*d,v=t.lineSpacing;return d>1&&(c+=v*(d-1)),{width:r,height:c,lines:d,lineWidths:e,lineSpacing:v,lineHeight:f}};p.exports=T},79557:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27919),m=function(l){var s=u.create(this),a=s.getContext("2d",{willReadFrequently:!0});l.syncFont(s,a);var e=a.measureText(l.testString);if("actualBoundingBoxAscent"in e){var r=e.actualBoundingBoxAscent,d=e.actualBoundingBoxDescent;return u.remove(s),{ascent:r,descent:d,fontSize:r+d}}var n=Math.ceil(e.width*l.baselineX),h=n,f=2*h;h=h*l.baselineY|0,s.width=n,s.height=f,a.fillStyle="#f00",a.fillRect(0,0,n,f),a.font=l._font,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(l.testString,0,h);var c={ascent:0,descent:0,fontSize:0},v=a.getImageData(0,0,n,f);if(!v)return c.ascent=h,c.descent=h+6,c.fontSize=c.ascent+c.descent,u.remove(s),c;var g=v.data,y=g.length,C=n*4,S,P,w=0,R=!1;for(S=0;S<h;S++){for(P=0;P<C;P+=4)if(g[w+P]!==255){R=!0;break}if(!R)w+=C;else break}for(c.ascent=h-S,w=y-C,R=!1,S=f;S>h;S--){for(P=0;P<C;P+=4)if(g[w+P]!==255){R=!0;break}if(!R)w-=C;else break}return c.descent=S-h,c.fontSize=c.ascent+c.descent,u.remove(s),c};p.exports=m},50171:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(40366),m=t(27919),l=t(83419),s=t(31401),a=t(95643),e=t(14220),r=t(35154),d=t(35846),n=t(61771),h=t(35762),f=t(45650),c=new l({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,n],initialize:function(g,y,C,S,P){y===void 0&&(y=0),C===void 0&&(C=0),a.call(this,g,"Text"),this.renderer=g.sys.renderer,this.setPosition(y,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=m.create(this),this.context,this.style=new h(this,P),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=g.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),P&&P.padding&&this.setPadding(P.padding),P&&P.lineSpacing&&this.setLineSpacing(P.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var g=this.style;if(g.wordWrapCallback){var y=g.wordWrapCallback.call(g.wordWrapCallbackScope,v,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return g.wordWrapWidth?g.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,g,y){for(var C="",S=v.replace(/ +/gi," ").split(this.splitRegExp),P=S.length,w=0;w<P;w++){var R=S[w],L="";R=R.replace(/^ *|\s*$/gi,"");var D=g.measureText(R).width;if(D<y){C+=R+`
`;continue}for(var F=y,O=R.split(" "),B=0;B<O.length;B++){var N=O[B],G=N+" ",z=g.measureText(G).width;if(z>F){if(B===0){for(var X=G;X.length&&(X=X.slice(0,-1),z=g.measureText(X).width,!(z<=F)););if(!X.length)throw new Error("wordWrapWidth < a single character");var H=N.substr(X.length);O[B]=H,L+=X}var V=O[B].length?B:B+1,W=O.slice(V).join(" ").replace(/[ \n]*$/gi,"");S.splice(w+1,0,W),P=S.length;break}else L+=G,F-=z}C+=L.replace(/[ \n]*$/gi,"")+`
`}return C=C.replace(/[\s|\n]*$/gi,""),C},basicWordWrap:function(v,g,y){for(var C="",S=v.split(this.splitRegExp),P=S.length-1,w=g.measureText(" ").width,R=0;R<=P;R++){for(var L=y,D=S[R].split(" "),F=D.length-1,O=0;O<=F;O++){var B=D[O],N=g.measureText(B).width,G=N;O<F&&(G+=w),G>L&&O>0&&(C+=`
`,L=y),C+=B,O<F?(C+=" ",L-=G):L-=N}R<P&&(C+=`
`)}return C},getWrappedText:function(v){v===void 0&&(v=this._text),this.style.syncFont(this.canvas,this.context);var g=this.runWordWrap(v);return g.split(this.splitRegExp)},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,g){g===void 0&&(g=!0),!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v=v.toString();var y=this._text.concat(g?`
`+v:v);return y!==this._text&&(this._text=y,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,g){return this.style.setFixedSize(v,g)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,g){return this.style.setStroke(v,g)},setShadow:function(v,g,y,C,S,P){return this.style.setShadow(v,g,y,C,S,P)},setShadowOffset:function(v,g){return this.style.setShadowOffset(v,g)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,g){return this.style.setWordWrapWidth(v,g)},setWordWrapCallback:function(v,g){return this.style.setWordWrapCallback(v,g)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,g,y,C){if(typeof v=="object"){var S=v,P=r(S,"x",null);P!==null?(v=P,y=P):(v=r(S,"left",0),y=r(S,"right",v));var w=r(S,"y",null);w!==null?(g=w,C=w):(g=r(S,"top",0),C=r(S,"bottom",g))}else v===void 0&&(v=0),g===void 0&&(g=v),y===void 0&&(y=v),C===void 0&&(C=g);return this.padding.left=v,this.padding.top=g,this.padding.right=y,this.padding.bottom=C,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){v===void 0&&(v=!0);var g=this.style;return g.rtl===v?this:(g.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),g.align==="left"?g.align="right":g.align==="right"&&(g.align="left"),this)},updateText:function(){var v=this.canvas,g=this.context,y=this.style,C=y.resolution,S=y.metrics;y.syncFont(v,g);var P=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(P=this.runWordWrap(this._text));var w=P.split(this.splitRegExp),R=e(this,S,w),L=this.padding,D;y.fixedWidth===0?(this.width=R.width+L.left+L.right,D=R.width):(this.width=y.fixedWidth,D=this.width-L.left-L.right,D<R.width&&(D=R.width)),y.fixedHeight===0?this.height=R.height+L.top+L.bottom:this.height=y.fixedHeight;var F=this.width,O=this.height;this.updateDisplayOrigin(),F*=C,O*=C,F=Math.max(F,1),O=Math.max(O,1),v.width!==F||v.height!==O?(v.width=F,v.height=O,this.frame.setSize(F,O),y.syncFont(v,g),y.rtl&&(g.direction="rtl")):g.clearRect(0,0,F,O),g.save(),g.scale(C,C),y.backgroundColor&&(g.fillStyle=y.backgroundColor,g.fillRect(0,0,F,O)),y.syncStyle(v,g),g.translate(L.left,L.top);for(var B,N,G=0;G<R.lines;G++){if(B=y.strokeThickness/2,N=y.strokeThickness/2+G*R.lineHeight+S.ascent,G>0&&(N+=R.lineSpacing*G),y.rtl)B=F-B-L.left-L.right;else if(y.align==="right")B+=D-R.lineWidths[G];else if(y.align==="center")B+=(D-R.lineWidths[G])/2;else if(y.align==="justify"){var z=.85;if(R.lineWidths[G]/R.width>=z){var X=R.width-R.lineWidths[G],H=g.measureText(" ").width,V=w[G].trim(),W=V.split(" ");X+=(w[G].length-V.length)*H;for(var I=Math.floor(X/H),b=0;I>0;)W[b]+=" ",b=(b+1)%(W.length-1||1),--I;w[G]=W.join(" ")}}if(this.autoRound&&(B=Math.round(B),N=Math.round(N)),y.strokeThickness&&(y.syncShadow(g,y.shadowStroke),g.strokeText(w[G],B,N)),y.color){y.syncShadow(g,y.shadowFill);var U=this.letterSpacing;if(U!==0)for(var Y=0,$=w[G].split(""),j=0;j<$.length;j++)g.fillText($[j],B+Y,N),Y+=g.measureText($[j]).width+U;else g.fillText(w[G],B,N)}}g.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var K=this.input;return K&&!K.customHitArea&&(K.hitArea.width=this.width,K.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=s.ToJSON(this),g={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=g,v},preDestroy:function(){d(this.canvas),m.remove(this.canvas);var v=this.texture;v&&v.destroy()}});p.exports=c},79724:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){u.width===0||u.height===0||(m.addToRenderList(u),t.batchSprite(u,u.frame,m,l))};p.exports=T},71259:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(50171);m.register("text",function(a,e){a===void 0&&(a={});var r=l(a,"text",""),d=l(a,"style",null),n=l(a,"padding",null);n!==null&&(d.padding=n);var h=new s(this.scene,0,0,r,d);return e!==void 0&&(a.add=e),u(this.scene,h,a),h.autoRound=l(a,"autoRound",!0),h.resolution=l(a,"resolution",1),h})},68005:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50171),m=t(39429);m.register("text",function(l,s,a,e){return this.displayList.add(new u(this.scene,l,s,a,e))})},61771:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(34397),l=t(79724),p.exports={renderWebGL:m,renderCanvas:l}},35762:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23568),l=t(35154),s=t(79557),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new u({initialize:function(d,n){this.parent=d,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(n,!1,!0)},setStyle:function(r,d,n){d===void 0&&(d=!0),n===void 0&&(n=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var h in a){var f=n?a[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=l(r,a[h][0],f):this[h]=m(r,a[h][0],f)}var c=l(r,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=l(r,"fill",null);v!==null&&(this.color=v);var g=l(r,"metrics",!1);return g?this.metrics={ascent:l(g,"ascent",0),descent:l(g,"descent",0),fontSize:l(g,"fontSize",0)}:(d||!this.metrics)&&(this.metrics=s(this)),d?this.parent.updateText():this.parent},syncFont:function(r,d){d.font=this._font},syncStyle:function(r,d){d.textBaseline="alphabetic",d.fillStyle=this.color,d.strokeStyle=this.stroke,d.lineWidth=this.strokeThickness,d.lineCap="round",d.lineJoin="round"},syncShadow:function(r,d){d?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(r,d){d===void 0&&(d=!0);var n=r,h="",f="";if(typeof r!="string")n=l(r,"fontFamily","Courier"),h=l(r,"fontSize","16px"),f=l(r,"fontStyle","");else{var c=r.split(" "),v=0;f=c.length>2?c[v++]:"",h=c[v++]||"16px",n=c[v++]||"Courier"}return(n!==this.fontFamily||h!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=n,this.fontSize=h,this.fontStyle=f,d&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,d){return this.fixedWidth=r,this.fixedHeight=d,r&&(this.parent.width=r),d&&(this.parent.height=d),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,d){return d===void 0&&(d=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==d)&&(this.stroke=r,this.strokeThickness=d,this.update(!0)),this.parent},setShadow:function(r,d,n,h,f,c){return r===void 0&&(r=0),d===void 0&&(d=0),n===void 0&&(n="#000"),h===void 0&&(h=0),f===void 0&&(f=!1),c===void 0&&(c=!0),this.shadowOffsetX=r,this.shadowOffsetY=d,this.shadowColor=n,this.shadowBlur=h,this.shadowStroke=f,this.shadowFill=c,this.update(!1)},setShadowOffset:function(r,d){return r===void 0&&(r=0),d===void 0&&(d=r),this.shadowOffsetX=r,this.shadowOffsetY=d,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,d){return d===void 0&&(d=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=d,this.update(!1)},setWordWrapCallback:function(r,d){return d===void 0&&(d=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=d,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var d in a)r[d]=this[d];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});p.exports=e},34397:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70554),m=function(l,s,a,e){if(!(s.width===0||s.height===0)){a.addToRenderList(s);var r=s.frame,d=r.width,n=r.height,h=u.getTintAppendFloatAlpha,f=l.pipelines.set(s.pipeline,s),c=f.setTexture2D(r.glTexture,s);f.batchTexture(s,r.glTexture,d,n,s.x,s.y,d/s.style.resolution,n/s.style.resolution,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.displayOriginX,s.displayOriginY,0,0,d,n,h(s.tintTopLeft,a.alpha*s._alphaTL),h(s.tintTopRight,a.alpha*s._alphaTR),h(s.tintBottomLeft,a.alpha*s._alphaBL),h(s.tintBottomRight,a.alpha*s._alphaBR),s.tintFill,0,0,a,e,!1,c)}};p.exports=m},20839:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27919),m=t(83419),l=t(31401),s=t(95643),a=t(98439),e=t(68703),r=t(56295),d=t(45650),n=t(26099),h=8,f=new m({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,r],initialize:function(v,g,y,C,S,P,w){var R=v.sys.renderer;s.call(this,v,"TileSprite");var L=v.sys.textures.get(P),D=L.get(w);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=v.sys.textures.get("__MISSING"),D=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=v.sys.textures.get("__MISSING"),D=L.get()),!C||!S?(C=D.width,S=D.height):(C=Math.floor(C),S=Math.floor(S)),this._tilePosition=new n,this._tileScale=new n(1,1),this.dirty=!1,this.renderer=R,this.canvas=u.create(this,C,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=d(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=a(D.width),this.potHeight=a(D.height),this.fillCanvas=u.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(g,y),this.setSize(C,S),this.setFrame(w),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(c,v){return this.displayTexture=this.scene.sys.textures.get(c),this.setFrame(v)},setFrame:function(c){var v=this.displayTexture.get(c);return this.potWidth=a(v.width),this.potHeight=a(v.height),this.canvas.width=0,!v.cutWidth||!v.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(c,v){return c!==void 0&&(this.tilePositionX=c),v!==void 0&&(this.tilePositionY=v),this},setTileScale:function(c,v){return c===void 0&&(c=this.tileScaleX),v===void 0&&(v=c),this.tileScaleX=c,this.tileScaleY=v,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var c=this.displayFrame;if(c.source.isRenderTexture||c.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var v=this.fillContext,g=this.fillCanvas,y=this.potWidth,C=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=c.cutWidth,C=c.cutHeight),v.clearRect(0,0,y,C),g.width=y,g.height=C,v.drawImage(c.source.image,c.cutX,c.cutY,c.cutWidth,c.cutHeight,0,0,y,C),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(g,this.fillPattern):this.fillPattern=v.createPattern(g,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var c=this.canvas;if((c.width!==this.width||c.height!==this.height)&&(c.width=this.width,c.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var v=this.context;this.scene.sys.game.config.antialias||e.disable(v);var g=this._tileScale.x,y=this._tileScale.y,C=this._tilePosition.x,S=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(g,y),v.translate(-C,-S),v.fillStyle=this.fillPattern,v.fillRect(C,S,this.width/g,this.height/y),v.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),u.remove(this.canvas),u.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var c=this.texture;c&&c.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(c){this._tilePosition.x=c,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(c){this._tilePosition.y=c,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(c){this._tileScale.x=c,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(c){this._tileScale.y=c,this.dirty=!0}}});p.exports=f},46992:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){u.updateCanvas(),m.addToRenderList(u),t.batchSprite(u,u.frame,m,l)};p.exports=T},14167:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(20839);m.register("tileSprite",function(a,e){a===void 0&&(a={});var r=l(a,"x",0),d=l(a,"y",0),n=l(a,"width",512),h=l(a,"height",512),f=l(a,"key",""),c=l(a,"frame",""),v=new s(this.scene,r,d,n,h,f,c);return e!==void 0&&(a.add=e),u(this.scene,v,a),v})},91681:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20839),m=t(39429);m.register("tileSprite",function(l,s,a,e,r,d){return this.displayList.add(new u(this.scene,l,s,a,e,r,d))})},56295:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(18553),l=t(46992),p.exports={renderWebGL:m,renderCanvas:l}},18553:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70554),m=function(l,s,a,e){s.updateCanvas();var r=s.width,d=s.height;if(!(r===0||d===0)){a.addToRenderList(s);var n=u.getTintAppendFloatAlpha,h=l.pipelines.set(s.pipeline,s),f=h.setTexture2D(s.fillPattern,s);h.batchTexture(s,s.fillPattern,s.displayFrame.width*s.tileScaleX,s.displayFrame.height*s.tileScaleY,s.x,s.y,r,d,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.originX*r,s.originY*d,0,0,r,d,n(s.tintTopLeft,a.alpha*s._alphaTL),n(s.tintTopRight,a.alpha*s._alphaTR),n(s.tintBottomLeft,a.alpha*s._alphaBL),n(s.tintBottomRight,a.alpha*s._alphaBR),s.tintFill,s.tilePositionX%s.displayFrame.width/s.displayFrame.width,s.tilePositionY%s.displayFrame.height/s.displayFrame.height,a,e,!1,f)}};p.exports=m},18471:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(31401),s=t(51708),a=t(8443),e=t(95643),r=t(36383),d=t(14463),n=t(45650),h=t(10247),f=new m({Extends:e,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.TextureCrop,l.Tint,l.Transform,l.Visible,h],initialize:function(v,g,y,C){e.call(this,v,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=n(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var S=v.sys.game;this._device=S.device.video,this.setPosition(g,y),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),S.events.on(a.PAUSE,this.globalPause,this),S.events.on(a.RESUME,this.globalResume,this);var P=v.sys.sound;P&&P.on(d.GLOBAL_MUTE,this.globalMute,this),C&&this.load(C)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var v=this.scene.sys.cache.video.get(c);return v?(this.cacheKey=c,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,v,g,y,C){v===void 0&&(v=!0),g===void 0&&(g=!1),this.cacheKey!==c&&(this.load(c),v&&this.play(g,y,C))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,v,g){v===void 0&&(v=!1);var y=this._device.getVideoURL(c);return y?(this.cacheKey="",this.loadHandler(y.url,v,g)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,v,g){return this.loadHandler(null,v,g,c)},loadHandler:function(c,v,g,y){v||(v=!1);var C=this.video;if(C?(this.removeLoadEventHandlers(),this.stop()):(C=document.createElement("video"),C.controls=!1,C.setAttribute("playsinline","playsinline"),C.setAttribute("preload","auto"),C.setAttribute("disablePictureInPicture","true")),v?(C.muted=!0,C.defaultMuted=!0,C.setAttribute("autoplay","autoplay")):(C.muted=!1,C.defaultMuted=!1,C.removeAttribute("autoplay")),g?C.setAttribute("crossorigin",g):C.removeAttribute("crossorigin"),y)if("srcObject"in C)try{C.srcObject=y}catch(P){if(P.name!=="TypeError")throw P;C.src=URL.createObjectURL(y)}else C.src=URL.createObjectURL(y);else C.src=c;this.retry=0,this.video=C,this._playCalled=!1,C.load(),this.addLoadEventHandlers();var S=this.scene.sys.textures.get(this._key);return this.setTexture(S),this},requestVideoFrame:function(c,v){var g=this.video;if(g){var y=v.width,C=v.height,S=this.videoTexture,P=this.videoTextureSource,w=!S||P.source!==g;w?(this._codePaused=g.paused,this._codeMuted=g.muted,S?(P.source=g,P.width=y,P.height=C,S.get().setSize(y,C)):(S=this.scene.sys.textures.create(this._key,g,y,C),S.add("__BASE",0,0,0,y,C),this.setTexture(S),this.videoTexture=S,this.videoTextureSource=S.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(s.VIDEO_TEXTURE,this,S)),this.setSizeToFrame(),this.updateDisplayOrigin()):P.update(),this.isStalled=!1,this.metadata=v;var R=v.mediaTime;w&&(this._lastUpdate=R,this.emit(s.VIDEO_CREATED,this,y,C),this.frameReady||(this.frameReady=!0,this.emit(s.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(g.loop?(g.currentTime=this._markerIn,this.emit(s.VIDEO_LOOP,this)):(this.stop(!1),this.emit(s.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(s.VIDEO_LOOP,this),this._lastUpdate=R,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,v,g){v===void 0&&(v=-1),g===void 0&&(g=r.MAX_SAFE_INTEGER);var y=this.video;return!y||this.isPlaying()?(y||console.warn("Video not loaded"),this):(c===void 0&&(c=y.loop),y.loop=c,this._markerIn=v,this._markerOut=g,this._playingMarker=v>-1&&g>v&&g<r.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=y.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler),c.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var v=this._callbacks;for(var g in v)c.addEventListener(g,v[g])}},removeEventHandlers:function(){var c=this.video;if(c){var v=this._callbacks;for(var g in v)c.removeEventListener(g,v[g])}},createPlayPromise:function(c){c===void 0&&(c=!0);var v=this.video,g=v.play();if(g!==void 0){var y=this.playSuccess.bind(this),C=this.playError.bind(this);if(!c){var S=this;C=function(){S.failedPlayAttempts++}}g.then(y).catch(C)}else v.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,v,g){return!isNaN(v)&&v>=0&&!isNaN(g)&&g>v&&(this.markers[c]=[v,g]),this},playMarker:function(c,v){var g=this.markers[c];return g&&this.play(v,g[0],g[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,v){return c===void 0&&(c=this.width),v===void 0&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,c,v)},snapshotArea:function(c,v,g,y,C,S){c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height),C===void 0&&(C=g),S===void 0&&(S=y);var P=this.video,w=this.snapshotTexture;return w?(w.setSize(C,S),P&&w.context.drawImage(P,c,v,g,y,0,0,C,S)):(w=this.scene.sys.textures.createCanvas(n(),C,S),this.snapshotTexture=w,P&&w.context.drawImage(P,c,v,g,y,0,0,C,S)),w.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(s.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var v=c.name;v==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(s.VIDEO_LOCKED,this)):v==="NotSupportedError"?(this.stop(!1),this.emit(s.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(s.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(s.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(s.VIDEO_ERROR,this,c)},metadataHandler:function(c){this.emit(s.VIDEO_METADATA,this,c)},setSizeToFrame:function(c){c||(c=this.frame),this.width=c.realWidth,this.height=c.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(c){this.isStalled=!0,this.emit(s.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(s.VIDEO_COMPLETE,this)},preUpdate:function(c,v){var g=this.video;!g||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var v=this.video;if(v){var g=v.duration;if(g!==1/0&&!isNaN(g)){var y=g*c;this.setCurrentTime(y)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var v=this.video;if(v){if(typeof c=="string"){var g=c[0],y=parseFloat(c.substr(1));g==="+"?c=v.currentTime+y:g==="-"&&(c=v.currentTime-y)}v.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(s.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var v=c.duration;if(v!==1/0&&!isNaN(v))return c.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var v=this.video;return v&&(v.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,v){this._systemMuted=v;var g=this.video;g&&(g.muted=this._codeMuted?!0:v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var v=this.video;return this._codePaused=c,v&&!v.ended&&(c?v.paused||(this.removeEventHandlers(),v.pause()):c||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=u(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,v){return v===void 0&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(v)),this._key=c,this.flipY=v,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(a.PAUSE,this.globalPause,this),c.off(a.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(d.GLOBAL_MUTE,this.globalMute,this)}});p.exports=f},58352:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){u.videoTexture&&(m.addToRenderList(u),t.batchSprite(u,u.frame,m,l))};p.exports=T},11511:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25305),m=t(44603),l=t(23568),s=t(18471);m.register("video",function(a,e){a===void 0&&(a={});var r=l(a,"key",null),d=new s(this.scene,0,0,r);return e!==void 0&&(a.add=e),u(this.scene,d,a),d})},89025:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(18471),m=t(39429);m.register("video",function(l,s,a){return this.displayList.add(new u(this.scene,l,s,a))})},10247:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(29849),l=t(58352),p.exports={renderWebGL:m,renderCanvas:l}},29849:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){u.videoTexture&&(m.addToRenderList(u),u.pipeline.batchSprite(u,m,l))};p.exports=T},41481:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10312),m=t(96503),l=t(87902),s=t(83419),a=t(31401),e=t(95643),r=t(87841),d=t(37303),n=new s({Extends:e,Mixins:[a.Depth,a.GetBounds,a.Origin,a.Transform,a.ScrollFactor,a.Visible],initialize:function(f,c,v,g,y){g===void 0&&(g=1),y===void 0&&(y=g),e.call(this,f,"Zone"),this.setPosition(c,v),this.width=g,this.height=y,this.blendMode=u.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,f,c){c===void 0&&(c=!0),this.width=h,this.height=f,this.updateDisplayOrigin();var v=this.input;return c&&v&&!v.customHitArea&&(v.hitArea.width=h,v.hitArea.height=f),this},setDisplaySize:function(h,f){return this.displayWidth=h,this.displayHeight=f,this},setCircleDropZone:function(h){return this.setDropZone(new m(0,0,h),l)},setRectangleDropZone:function(h,f){return this.setDropZone(new r(0,0,h,f),d)},setDropZone:function(h,f){return this.input||this.setInteractive(h,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,f,c){c.addToRenderList(f)},renderWebGL:function(h,f,c){c.addToRenderList(f)}});p.exports=n},95261:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(44603),m=t(23568),l=t(41481);u.register("zone",function(s){var a=m(s,"x",0),e=m(s,"y",0),r=m(s,"width",1),d=m(s,"height",r);return new l(this.scene,a,e,r,d)})},84175:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(41481),m=t(39429);m.register("zone",function(l,s,a,e){return this.displayList.add(new u(this.scene,l,s,a,e))})},95166:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=T},96503:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(87902),l=t(26241),s=t(79124),a=t(23777),e=t(28176),r=new u({initialize:function(n,h,f){n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=0),this.type=a.CIRCLE,this.x=n,this.y=h,this._radius=f,this._diameter=f*2},contains:function(d,n){return m(this,d,n)},getPoint:function(d,n){return l(this,d,n)},getPoints:function(d,n,h){return s(this,d,n,h)},getRandomPoint:function(d){return e(this,d)},setTo:function(d,n,h){return this.x=d,this.y=n,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(d,n){return n===void 0&&(n=d),this.x=d,this.y=n,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(d){this._radius=d,this._diameter=d*2}},diameter:{get:function(){return this._diameter},set:function(d){this._diameter=d,this._radius=d*.5}},left:{get:function(){return this.x-this._radius},set:function(d){this.x=d+this._radius}},right:{get:function(){return this.x+this._radius},set:function(d){this.x=d-this._radius}},top:{get:function(){return this.y-this._radius},set:function(d){this.y=d+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(d){this.y=d-this._radius}}});p.exports=r},71562:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 2*(Math.PI*t.radius)};p.exports=T},92110:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s,a){return a===void 0&&(a=new u),a.x=l.x+l.radius*Math.cos(s),a.y=l.y+l.radius*Math.sin(s),a};p.exports=m},42250:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(96503),m=function(l){return new u(l.x,l.y,l.radius)};p.exports=m},87902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(t.radius>0&&u>=t.left&&u<=t.right&&m>=t.top&&m<=t.bottom){var l=(t.x-u)*(t.x-u),s=(t.y-m)*(t.y-m);return l+s<=t.radius*t.radius}else return!1};p.exports=T},5698:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87902),m=function(l,s){return u(l,s.x,s.y)};p.exports=m},70588:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87902),m=function(l,s){return u(l,s.x,s.y)&&u(l,s.right,s.y)&&u(l,s.x,s.bottom)&&u(l,s.right,s.bottom)};p.exports=m},26394:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u.setTo(t.x,t.y,t.radius)};p.exports=T},76278:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x===u.x&&t.y===u.y&&t.radius===u.radius};p.exports=T},2074:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=function(l,s){return s===void 0&&(s=new u),s.x=l.left,s.y=l.top,s.width=l.diameter,s.height=l.diameter,s};p.exports=m},26241:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(92110),m=t(62945),l=t(36383),s=t(2141),a=function(e,r,d){d===void 0&&(d=new s);var n=m(r,0,l.PI2);return u(e,n,d)};p.exports=a},79124:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(71562),m=t(92110),l=t(62945),s=t(36383),a=function(e,r,d,n){n===void 0&&(n=[]),!r&&d>0&&(r=u(e)/d);for(var h=0;h<r;h++){var f=l(h/r,0,s.PI2);n.push(m(e,f))}return n};p.exports=a},50884:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t.x+=u,t.y+=m,t};p.exports=T},39212:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x+=u.x,t.y+=u.y,t};p.exports=T},28176:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){s===void 0&&(s=new u);var a=2*Math.PI*Math.random(),e=Math.random()+Math.random(),r=e>1?2-e:e,d=r*Math.cos(a),n=r*Math.sin(a);return s.x=l.x+d*l.radius,s.y=l.y+n*l.radius,s};p.exports=m},88911:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(96503);u.Area=t(95166),u.Circumference=t(71562),u.CircumferencePoint=t(92110),u.Clone=t(42250),u.Contains=t(87902),u.ContainsPoint=t(5698),u.ContainsRect=t(70588),u.CopyFrom=t(26394),u.Equals=t(76278),u.GetBounds=t(2074),u.GetPoint=t(26241),u.GetPoints=t(79124),u.Offset=t(50884),u.OffsetPoint=t(39212),u.Random=t(28176),p.exports=u},23777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=T},78874:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=T},92990:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u=t.width/2,m=t.height/2,l=Math.pow(u-m,2)/Math.pow(u+m,2);return Math.PI*(u+m)*(1+3*l/(10+Math.sqrt(4-3*l)))};p.exports=T},79522:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s,a){a===void 0&&(a=new u);var e=l.width/2,r=l.height/2;return a.x=l.x+e*Math.cos(s),a.y=l.y+r*Math.sin(s),a};p.exports=m},58102:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8497),m=function(l){return new u(l.x,l.y,l.width,l.height)};p.exports=m},81154:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(t.width<=0||t.height<=0)return!1;var l=(u-t.x)/t.width,s=(m-t.y)/t.height;return l*=l,s*=s,l+s<.25};p.exports=T},46662:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(81154),m=function(l,s){return u(l,s.x,s.y)};p.exports=m},1632:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(81154),m=function(l,s){return u(l,s.x,s.y)&&u(l,s.right,s.y)&&u(l,s.x,s.bottom)&&u(l,s.right,s.bottom)};p.exports=m},65534:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u.setTo(t.x,t.y,t.width,t.height)};p.exports=T},8497:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(81154),l=t(90549),s=t(48320),a=t(23777),e=t(24820),r=new u({initialize:function(n,h,f,c){n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=a.ELLIPSE,this.x=n,this.y=h,this.width=f,this.height=c},contains:function(d,n){return m(this,d,n)},getPoint:function(d,n){return l(this,d,n)},getPoints:function(d,n,h){return s(this,d,n,h)},getRandomPoint:function(d){return e(this,d)},setTo:function(d,n,h,f){return this.x=d,this.y=n,this.width=h,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(d,n){return n===void 0&&(n=d),this.x=d,this.y=n,this},setSize:function(d,n){return n===void 0&&(n=d),this.width=d,this.height=n,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(d){this.x=d+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(d){this.x=d-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(d){this.y=d+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(d){this.y=d-this.height/2}}});p.exports=r},36146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x===u.x&&t.y===u.y&&t.width===u.width&&t.height===u.height};p.exports=T},23694:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=function(l,s){return s===void 0&&(s=new u),s.x=l.left,s.y=l.top,s.width=l.width,s.height=l.height,s};p.exports=m},90549:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79522),m=t(62945),l=t(36383),s=t(2141),a=function(e,r,d){d===void 0&&(d=new s);var n=m(r,0,l.PI2);return u(e,n,d)};p.exports=a},48320:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(92990),m=t(79522),l=t(62945),s=t(36383),a=function(e,r,d,n){n===void 0&&(n=[]),!r&&d>0&&(r=u(e)/d);for(var h=0;h<r;h++){var f=l(h/r,0,s.PI2);n.push(m(e,f))}return n};p.exports=a},73424:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t.x+=u,t.y+=m,t};p.exports=T},44808:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x+=u.x,t.y+=u.y,t};p.exports=T},24820:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){s===void 0&&(s=new u);var a=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return s.x=l.x+e*Math.cos(a)*l.width/2,s.y=l.y+e*Math.sin(a)*l.height/2,s};p.exports=m},49203:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8497);u.Area=t(78874),u.Circumference=t(92990),u.CircumferencePoint=t(79522),u.Clone=t(58102),u.Contains=t(81154),u.ContainsPoint=t(46662),u.ContainsRect=t(1632),u.CopyFrom=t(65534),u.Equals=t(36146),u.GetBounds=t(23694),u.GetPoint=t(90549),u.GetPoints=t(48320),u.Offset=t(73424),u.OffsetPoint=t(44808),u.Random=t(24820),p.exports=u},55738:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23777),m=t(79291),l={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};l=m(!1,l,u),p.exports=l},2044:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20339),m=function(l,s){return u(l.x,l.y,s.x,s.y)<=l.radius+s.radius};p.exports=m},81491:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=u.width/2,l=u.height/2,s=Math.abs(t.x-u.x-m),a=Math.abs(t.y-u.y-l),e=m+t.radius,r=l+t.radius;if(s>e||a>r)return!1;if(s<=m||a<=l)return!0;var d=s-m,n=a-l,h=d*d,f=n*n,c=t.radius*t.radius;return h+f<=c};p.exports=T},63376:(p,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=t(2044),l=function(s,a,e){if(e===void 0&&(e=[]),m(s,a)){var r=s.x,d=s.y,n=s.radius,h=a.x,f=a.y,c=a.radius,v,g,y,C,S;if(d===f)S=(c*c-n*n-h*h+r*r)/(2*(r-h)),v=1,g=-2*f,y=h*h+S*S-2*h*S+f*f-c*c,C=g*g-4*v*y,C===0?e.push(new u(S,-g/(2*v))):C>0&&(e.push(new u(S,(-g+Math.sqrt(C))/(2*v))),e.push(new u(S,(-g-Math.sqrt(C))/(2*v))));else{var P=(r-h)/(d-f),w=(c*c-n*n-h*h+r*r-f*f+d*d)/(2*(d-f));v=P*P+1,g=2*d*P-2*w*P-2*r,y=r*r+d*d+w*w-n*n-2*d*w,C=g*g-4*v*y,C===0?(S=-g/(2*v),e.push(new u(S,w-S*P))):C>0&&(S=(-g+Math.sqrt(C))/(2*v),e.push(new u(S,w-S*P)),S=(-g-Math.sqrt(C))/(2*v),e.push(new u(S,w-S*P)))}}return e};p.exports=l},97439:(p,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(4042),m=t(81491),l=function(s,a,e){if(e===void 0&&(e=[]),m(s,a)){var r=a.getLineA(),d=a.getLineB(),n=a.getLineC(),h=a.getLineD();u(r,s,e),u(d,s,e),u(n,s,e),u(h,s,e)}return e};p.exports=l},4042:(p,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=t(80462),l=function(s,a,e){if(e===void 0&&(e=[]),m(s,a)){var r=s.x1,d=s.y1,n=s.x2,h=s.y2,f=a.x,c=a.y,v=a.radius,g=n-r,y=h-d,C=r-f,S=d-c,P=g*g+y*y,w=2*(g*C+y*S),R=C*C+S*S-v*v,L=w*w-4*P*R,D,F;if(L===0){var O=-w/(2*P);D=r+O*g,F=d+O*y,O>=0&&O<=1&&e.push(new u(D,F))}else if(L>0){var B=(-w-Math.sqrt(L))/(2*P);D=r+B*g,F=d+B*y,B>=0&&B<=1&&e.push(new u(D,F));var N=(-w+Math.sqrt(L))/(2*P);D=r+N*g,F=d+N*y,N>=0&&N<=1&&e.push(new u(D,F))}}return e};p.exports=l},36100:(p,T,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25836),m=function(l,s,a,e){a===void 0&&(a=!1);var r=l.x1,d=l.y1,n=l.x2,h=l.y2,f=s.x1,c=s.y1,v=s.x2,g=s.y2,y=n-r,C=h-d,S=v-f,P=g-c,w=y*P-C*S;if(w===0)return null;var R,L,D;if(a){if(R=(y*(c-d)+C*(r-f))/(S*C-P*y),L=(f+S*R-r)/y,L<0||R<0||R>1)return null;D=L}else{if(R=((f-r)*P-(c-d)*S)/w,L=((d-c)*y-(r-f)*C)/w,R<0||R>1||L<0||L>1)return null;D=R}return e===void 0&&(e=new u),e.set(r+y*D,d+C*D,D)};p.exports=m},3073:(p,T,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36100),m=t(23031),l=t(25836),s=new m,a=new l,e=function(r,d,n,h){n===void 0&&(n=!1),h===void 0&&(h=new l);var f=!1;h.set(),a.set();for(var c=d[d.length-1],v=0;v<d.length;v++){var g=d[v];s.setTo(c.x,c.y,g.x,g.y),c=g,u(r,s,n,a)&&(!f||a.z<h.z)&&(h.copy(a),f=!0)}return f?h:null};p.exports=e},56362:(p,T,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25836),m=t(61369),l=t(3073),s=new u,a=function(e,r,d,n){n===void 0&&(n=new m),Array.isArray(r)||(r=[r]);var h=!1;n.set(),s.set();for(var f=0;f<r.length;f++)l(e,r[f].points,d,s)&&(!h||s.z<n.z)&&(n.set(s.x,s.y,s.z,f),h=!0);return h?n:null};p.exports=a},60646:(p,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=t(76112),l=t(92773),s=function(a,e,r){if(r===void 0&&(r=[]),l(a,e))for(var d=e.getLineA(),n=e.getLineB(),h=e.getLineC(),f=e.getLineD(),c=[new u,new u,new u,new u],v=[m(d,a,c[0]),m(n,a,c[1]),m(h,a,c[2]),m(f,a,c[3])],g=0;g<4;g++)v[g]&&r.push(c[g]);return r};p.exports=s},71147:(p,T,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61369),m=t(56362),l=t(23031),s=new l;function a(d,n,h,f,c){var v=Math.cos(d),g=Math.sin(d);s.setTo(n,h,n+v,h+g);var y=m(s,f,!0);y&&c.push(new u(y.x,y.y,d,y.w))}function e(d,n){return d.z-n.z}var r=function(d,n,h){Array.isArray(h)||(h=[h]);for(var f=[],c=[],v=0;v<h.length;v++)for(var g=h[v].points,y=0;y<g.length;y++){var C=Math.atan2(g[y].y-n,g[y].x-d);c.indexOf(C)===-1&&(a(C,d,n,h,f),a(C-1e-5,d,n,h,f),a(C+1e-5,d,n,h,f),c.push(C))}return f.sort(e)};p.exports=r},68389:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=t(59996),l=function(s,a,e){return e===void 0&&(e=new u),m(s,a)&&(e.x=Math.max(s.x,a.x),e.y=Math.max(s.y,a.y),e.width=Math.min(s.right,a.right)-e.x,e.height=Math.min(s.bottom,a.bottom)-e.y),e};p.exports=l},52784:(p,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(60646),m=t(59996),l=function(s,a,e){if(e===void 0&&(e=[]),m(s,a)){var r=s.getLineA(),d=s.getLineB(),n=s.getLineC(),h=s.getLineD();u(r,a,e),u(d,a,e),u(n,a,e),u(h,a,e)}return e};p.exports=l},26341:(p,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(89265),m=t(60646),l=function(s,a,e){if(e===void 0&&(e=[]),u(s,a)){var r=a.getLineA(),d=a.getLineB(),n=a.getLineC();m(r,s,e),m(d,s,e),m(n,s,e)}return e};p.exports=l},38720:(p,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(4042),m=t(67636),l=function(s,a,e){if(e===void 0&&(e=[]),m(s,a)){var r=s.getLineA(),d=s.getLineB(),n=s.getLineC();u(r,a,e),u(d,a,e),u(n,a,e)}return e};p.exports=l},13882:(p,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=t(2822),l=t(76112),s=function(a,e,r){if(r===void 0&&(r=[]),m(a,e))for(var d=a.getLineA(),n=a.getLineB(),h=a.getLineC(),f=[new u,new u,new u],c=[l(d,e,f[0]),l(n,e,f[1]),l(h,e,f[2])],v=0;v<3;v++)c[v]&&r.push(f[v]);return r};p.exports=s},75636:(p,T,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82944),m=t(13882),l=function(s,a,e){if(e===void 0&&(e=[]),u(s,a)){var r=a.getLineA(),d=a.getLineB(),n=a.getLineC();m(s,r,e),m(s,d,e),m(s,n,e)}return e};p.exports=l},80462:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87902),m=t(2141),l=new m,s=function(a,e,r){if(r===void 0&&(r=l),u(e,a.x1,a.y1))return r.x=a.x1,r.y=a.y1,!0;if(u(e,a.x2,a.y2))return r.x=a.x2,r.y=a.y2,!0;var d=a.x2-a.x1,n=a.y2-a.y1,h=e.x-a.x1,f=e.y-a.y1,c=d*d+n*n,v=d,g=n;if(c>0){var y=(h*d+f*n)/c;v*=y,g*=y}r.x=a.x1+v,r.y=a.y1+g;var C=v*v+g*g;return C<=c&&v*d+g*n>=0&&u(e,r.x,r.y)};p.exports=s},76112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=t.x1,s=t.y1,a=t.x2,e=t.y2,r=u.x1,d=u.y1,n=u.x2,h=u.y2;if(l===a&&s===e||r===n&&d===h)return!1;var f=(h-d)*(a-l)-(n-r)*(e-s);if(f===0)return!1;var c=((n-r)*(s-d)-(h-d)*(l-r))/f,v=((a-l)*(s-d)-(e-s)*(l-r))/f;return c<0||c>1||v<0||v>1?!1:(m&&(m.x=l+c*(a-l),m.y=s+c*(e-s)),!0)};p.exports=T},92773:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.x1,l=t.y1,s=t.x2,a=t.y2,e=u.x,r=u.y,d=u.right,n=u.bottom,h=0;if(m>=e&&m<=d&&l>=r&&l<=n||s>=e&&s<=d&&a>=r&&a<=n)return!0;if(m<e&&s>=e){if(h=l+(a-l)*(e-m)/(s-m),h>r&&h<=n)return!0}else if(m>d&&s<=d&&(h=l+(a-l)*(d-m)/(s-m),h>=r&&h<=n))return!0;if(l<r&&a>=r){if(h=m+(s-m)*(r-l)/(a-l),h>=e&&h<=d)return!0}else if(l>n&&a<=n&&(h=m+(s-m)*(n-l)/(a-l),h>=e&&h<=d))return!0;return!1};p.exports=T},16204:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){m===void 0&&(m=1);var l=u.x1,s=u.y1,a=u.x2,e=u.y2,r=t.x,d=t.y,n=(a-l)*(a-l)+(e-s)*(e-s);if(n===0)return!1;var h=((r-l)*(a-l)+(d-s)*(e-s))/n;if(h<0)return Math.sqrt((l-r)*(l-r)+(s-d)*(s-d))<=m;if(h>=0&&h<=1){var f=((s-d)*(a-l)-(l-r)*(e-s))/n;return Math.abs(f)*Math.sqrt(n)<=m}else return Math.sqrt((a-r)*(a-r)+(e-d)*(e-d))<=m};p.exports=T},14199:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16204),m=function(l,s){if(!u(l,s))return!1;var a=Math.min(s.x1,s.x2),e=Math.max(s.x1,s.x2),r=Math.min(s.y1,s.y2),d=Math.max(s.y1,s.y2);return l.x>=a&&l.x<=e&&l.y>=r&&l.y<=d};p.exports=m},59996:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.width<=0||t.height<=0||u.width<=0||u.height<=0?!1:!(t.right<u.x||t.bottom<u.y||t.x>u.right||t.y>u.bottom)};p.exports=T},89265:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(76112),m=t(37303),l=t(48653),s=t(77493),a=function(e,r){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var d=r.getLineA(),n=r.getLineB(),h=r.getLineC();if(m(e,d.x1,d.y1)||m(e,d.x2,d.y2)||m(e,n.x1,n.y1)||m(e,n.x2,n.y2)||m(e,h.x1,h.y1)||m(e,h.x2,h.y2))return!0;var f=e.getLineA(),c=e.getLineB(),v=e.getLineC(),g=e.getLineD();if(u(d,f)||u(d,c)||u(d,v)||u(d,g)||u(n,f)||u(n,c)||u(n,v)||u(n,g)||u(h,f)||u(h,c)||u(h,v)||u(h,g))return!0;var y=s(e),C=l(r,y,!0);return C.length>0};p.exports=a},84411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s,a){return a===void 0&&(a=0),!(u>t.right+a||m<t.left-a||l>t.bottom+a||s<t.top-a)};p.exports=T},67636:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(80462),m=t(10690),l=function(s,a){return s.left>a.right||s.right<a.left||s.top>a.bottom||s.bottom<a.top?!1:!!(m(s,a.x,a.y)||u(s.getLineA(),a)||u(s.getLineB(),a)||u(s.getLineC(),a))};p.exports=l},2822:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(76112),m=function(l,s){return!!(l.contains(s.x1,s.y1)||l.contains(s.x2,s.y2)||u(l.getLineA(),s)||u(l.getLineB(),s)||u(l.getLineC(),s))};p.exports=m},82944:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(48653),m=t(71694),l=t(76112),s=function(a,e){if(a.left>e.right||a.right<e.left||a.top>e.bottom||a.bottom<e.top)return!1;var r=a.getLineA(),d=a.getLineB(),n=a.getLineC(),h=e.getLineA(),f=e.getLineB(),c=e.getLineC();if(l(r,h)||l(r,f)||l(r,c)||l(d,h)||l(d,f)||l(d,c)||l(n,h)||l(n,f)||l(n,c))return!0;var v=m(a),g=u(e,v,!0);return g.length>0||(v=m(e),g=u(a,v,!0),g.length>0)};p.exports=s},91865:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=T},84993:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){u===void 0&&(u=1),m===void 0&&(m=[]);var l=Math.round(t.x1),s=Math.round(t.y1),a=Math.round(t.x2),e=Math.round(t.y2),r=Math.abs(a-l),d=Math.abs(e-s),n=l<a?1:-1,h=s<e?1:-1,f=r-d;m.push({x:l,y:s});for(var c=1;!(l===a&&s===e);){var v=f<<1;v>-d&&(f-=d,l+=n),v<r&&(f+=r,s+=h),c%u===0&&m.push({x:l,y:s}),c++}return m};p.exports=T},36469:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=u-(t.x1+t.x2)/2,s=m-(t.y1+t.y2)/2;return t.x1+=l,t.y1+=s,t.x2+=l,t.y2+=s,t};p.exports=T},31116:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23031),m=function(l){return new u(l.x1,l.y1,l.x2,l.y2)};p.exports=m},59944:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=T},59220:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x1===u.x1&&t.y1===u.y1&&t.x2===u.x2&&t.y2===u.y2};p.exports=T},78177:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35001),m=function(l,s,a){a===void 0&&(a=s);var e=u(l),r=l.x2-l.x1,d=l.y2-l.y1;return s&&(l.x1=l.x1-r/e*s,l.y1=l.y1-d/e*s),a&&(l.x2=l.x2+r/e*a,l.y2=l.y2+d/e*a),l};p.exports=m},26708:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(52816),m=t(6113),l=t(2141),s=function(a,e,r,d,n){d===void 0&&(d=0),n===void 0&&(n=[]);var h=[],f=a.x1,c=a.y1,v=a.x2-f,g=a.y2-c,y=m(e,n),C,S,P=r-1;for(C=0;C<P;C++)S=y(C/P),h.push(new l(f+v*S,c+g*S));if(S=y(1),h.push(new l(f+v*S,c+g*S)),d>0){var w=h[0],R=[w];for(C=1;C<h.length-1;C++){var L=h[C];u(w,L)>=d&&(R.push(L),w=L)}var D=h[h.length-1];return u(w,D)<d&&R.pop(),R.push(D),R}else return h};p.exports=s},32125:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){return s===void 0&&(s=new u),s.x=(l.x1+l.x2)/2,s.y=(l.y1+l.y2)/2,s};p.exports=m},99569:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s,a){a===void 0&&(a=new u);var e=l.x1,r=l.y1,d=l.x2,n=l.y2,h=(d-e)*(d-e)+(n-r)*(n-r);if(h===0)return a;var f=((s.x-e)*(d-e)+(s.y-r)*(n-r))/h;return a.x=e+f*(d-e),a.y=r+f*(n-r),a};p.exports=m},34638:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=t(91938),l=t(2141),s=function(a,e){e===void 0&&(e=new l);var r=m(a)-u.TAU;return e.x=Math.cos(r),e.y=Math.sin(r),e};p.exports=s},13151:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s,a){return a===void 0&&(a=new u),a.x=l.x1+(l.x2-l.x1)*s,a.y=l.y1+(l.y2-l.y1)*s,a};p.exports=m},15258:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35001),m=t(2141),l=function(s,a,e,r){r===void 0&&(r=[]),!a&&e>0&&(a=u(s)/e);for(var d=s.x1,n=s.y1,h=s.x2,f=s.y2,c=0;c<a;c++){var v=c/a,g=d+(h-d)*v,y=n+(f-n)*v;r.push(new m(g,y))}return r};p.exports=l},26408:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.x1,l=t.y1,s=t.x2,a=t.y2,e=(s-m)*(s-m)+(a-l)*(a-l);if(e===0)return!1;var r=((l-u.y)*(s-m)-(m-u.x)*(a-l))/e;return Math.abs(r)*Math.sqrt(e)};p.exports=T},98770:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.abs(t.y1-t.y2)};p.exports=T},35001:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=T},23031:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(13151),l=t(15258),s=t(23777),a=t(65822),e=t(26099),r=new u({initialize:function(n,h,f,c){n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),this.type=s.LINE,this.x1=n,this.y1=h,this.x2=f,this.y2=c},getPoint:function(d,n){return m(this,d,n)},getPoints:function(d,n,h){return l(this,d,n,h)},getRandomPoint:function(d){return a(this,d)},setTo:function(d,n,h,f){return d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=0),this.x1=d,this.y1=n,this.x2=h,this.y2=f,this},setFromObjects:function(d,n){return this.x1=d.x,this.y1=d.y,this.x2=n.x,this.y2=n.y,this},getPointA:function(d){return d===void 0&&(d=new e),d.set(this.x1,this.y1),d},getPointB:function(d){return d===void 0&&(d=new e),d.set(this.x2,this.y2),d},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(d){this.x1<=this.x2?this.x1=d:this.x2=d}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(d){this.x1>this.x2?this.x1=d:this.x2=d}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(d){this.y1<=this.y2?this.y1=d:this.y2=d}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(d){this.y1>this.y2?this.y1=d:this.y2=d}}});p.exports=r},64795:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=t(15994),l=t(91938),s=function(a){var e=l(a)-u.TAU;return m(e,-Math.PI,Math.PI)};p.exports=s},52616:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=t(91938),l=function(s){return Math.cos(m(s)-u.TAU)};p.exports=l},87231:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=t(91938),l=function(s){return Math.sin(m(s)-u.TAU)};p.exports=l},89662:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t.x1+=u,t.y1+=m,t.x2+=u,t.y2+=m,t};p.exports=T},71165:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=T},65822:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){s===void 0&&(s=new u);var a=Math.random();return s.x=l.x1+a*(l.x2-l.x1),s.y=l.y1+a*(l.y2-l.y1),s};p.exports=m},69777:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91938),m=t(64795),l=function(s,a){return 2*m(a)-Math.PI-u(s)};p.exports=l},39706:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(64400),m=function(l,s){var a=(l.x1+l.x2)/2,e=(l.y1+l.y2)/2;return u(l,a,e,s)};p.exports=m},82585:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(64400),m=function(l,s,a){return u(l,s.x,s.y,a)};p.exports=m},64400:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=Math.cos(l),a=Math.sin(l),e=t.x1-u,r=t.y1-m;return t.x1=e*s-r*a+u,t.y1=e*a+r*s+m,e=t.x2-u,r=t.y2-m,t.x2=e*s-r*a+u,t.y2=e*a+r*s+m,t};p.exports=T},62377:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s){return t.x1=u,t.y1=m,t.x2=u+Math.cos(l)*s,t.y2=m+Math.sin(l)*s,t};p.exports=T},71366:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=T},10809:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.abs(t.x1-t.x2)};p.exports=T},2529:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23031);u.Angle=t(91938),u.BresenhamPoints=t(84993),u.CenterOn=t(36469),u.Clone=t(31116),u.CopyFrom=t(59944),u.Equals=t(59220),u.Extend=t(78177),u.GetEasedPoints=t(26708),u.GetMidPoint=t(32125),u.GetNearestPoint=t(99569),u.GetNormal=t(34638),u.GetPoint=t(13151),u.GetPoints=t(15258),u.GetShortestDistance=t(26408),u.Height=t(98770),u.Length=t(35001),u.NormalAngle=t(64795),u.NormalX=t(52616),u.NormalY=t(87231),u.Offset=t(89662),u.PerpSlope=t(71165),u.Random=t(65822),u.ReflectAngle=t(69777),u.Rotate=t(39706),u.RotateAroundPoint=t(82585),u.RotateAroundXY=t(64400),u.SetToAngle=t(62377),u.Slope=t(71366),u.Width=t(10809),p.exports=u},83997:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(87841),l=t(26099);function s(e,r,d,n){var h=e-d,f=r-n,c=h*h+f*f;return Math.sqrt(c)}var a=new u({initialize:function(r,d,n){this.vertex1=r,this.vertex2=d,this.vertex3=n,this.bounds=new m,this._inCenter=new l},getInCenter:function(e){e===void 0&&(e=!0);var r=this.vertex1,d=this.vertex2,n=this.vertex3,h,f,c,v,g,y;e?(h=r.x,f=r.y,c=d.x,v=d.y,g=n.x,y=n.y):(h=r.vx,f=r.vy,c=d.vx,v=d.vy,g=n.vx,y=n.vy);var C=s(g,y,c,v),S=s(h,f,g,y),P=s(c,v,h,f),w=C+S+P;return this._inCenter.set((h*C+c*S+g*P)/w,(f*C+v*S+y*P)/w)},contains:function(e,r,d){var n=this.vertex1,h=this.vertex2,f=this.vertex3,c=n.vx,v=n.vy,g=h.vx,y=h.vy,C=f.vx,S=f.vy;if(d){var P=d.a,w=d.b,R=d.c,L=d.d,D=d.e,F=d.f;c=n.vx*P+n.vy*R+D,v=n.vx*w+n.vy*L+F,g=h.vx*P+h.vy*R+D,y=h.vx*w+h.vy*L+F,C=f.vx*P+f.vy*R+D,S=f.vx*w+f.vy*L+F}var O=C-c,B=S-v,N=g-c,G=y-v,z=e-c,X=r-v,H=O*O+B*B,V=O*N+B*G,W=O*z+B*X,I=N*N+G*G,b=N*z+G*X,U=H*I-V*V,Y=U===0?0:1/U,$=(I*W-V*b)*Y,j=(H*b-V*W)*Y;return $>=0&&j>=0&&$+j<1},isCounterClockwise:function(e){var r=this.vertex1,d=this.vertex2,n=this.vertex3,h=(d.vx-r.vx)*(n.vy-r.vy)-(d.vy-r.vy)*(n.vx-r.vx);return e<=0?h>=0:h<0},load:function(e,r,d,n,h){return d=this.vertex1.load(e,r,d,n,h),d=this.vertex2.load(e,r,d,n,h),d=this.vertex3.load(e,r,d,n,h),d},transformCoordinatesLocal:function(e,r,d,n){return this.vertex1.transformCoordinatesLocal(e,r,d,n),this.vertex2.transformCoordinatesLocal(e,r,d,n),this.vertex3.transformCoordinatesLocal(e,r,d,n),this},updateBounds:function(){var e=this.vertex1,r=this.vertex2,d=this.vertex3,n=this.bounds;return n.x=Math.min(e.vx,r.vx,d.vx),n.y=Math.min(e.vy,r.vy,d.vy),n.width=Math.max(e.vx,r.vx,d.vx)-n.x,n.height=Math.max(e.vy,r.vy,d.vy)-n.y,this},isInView:function(e,r,d,n,h,f,c,v,g,y,C){this.update(n,h,f,c,v,g,y,C);var S=this.vertex1,P=this.vertex2,w=this.vertex3;if(S.ta<=0&&P.ta<=0&&w.ta<=0||r&&!this.isCounterClockwise(d))return!1;var R=this.bounds;R.x=Math.min(S.tx,P.tx,w.tx),R.y=Math.min(S.ty,P.ty,w.ty),R.width=Math.max(S.tx,P.tx,w.tx)-R.x,R.height=Math.max(S.ty,P.ty,w.ty)-R.y;var L=e.x+e.width,D=e.y+e.height;return R.width<=0||R.height<=0||e.width<=0||e.height<=0?!1:!(R.right<e.x||R.bottom<e.y||R.x>L||R.y>D)},scrollUV:function(e,r){return this.vertex1.scrollUV(e,r),this.vertex2.scrollUV(e,r),this.vertex3.scrollUV(e,r),this},scaleUV:function(e,r){return this.vertex1.scaleUV(e,r),this.vertex2.scaleUV(e,r),this.vertex3.scaleUV(e,r),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,r,d,n,h,f,c,v){return this.vertex1.update(r,d,n,h,f,c,v,e),this.vertex2.update(r,d,n,h,f,c,v,e),this.vertex3.update(r,d,n,h,f,c,v,e),this},translate:function(e,r){r===void 0&&(r=0);var d=this.vertex1,n=this.vertex2,h=this.vertex3;return d.x+=e,d.y+=r,n.x+=e,n.y+=r,h.x+=e,h.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(e){var r=this.getInCenter();this.translate(e-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var r=this.getInCenter();this.translate(0,e-r.y)}},alpha:{get:function(){var e=this.vertex1,r=this.vertex2,d=this.vertex3;return(e.alpha+r.alpha+d.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,r=this.vertex2,d=this.vertex3;return(e.vz+r.vz+d.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=a},48803:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83997),m=t(95540),l=t(37867),s=t(25836),a=t(39318),e=new s,r=new s,d=new l,n=function(h){var f=m(h,"mesh"),c=m(h,"texture",null),v=m(h,"frame"),g=m(h,"width",1),y=m(h,"height",g),C=m(h,"widthSegments",1),S=m(h,"heightSegments",C),P=m(h,"x",0),w=m(h,"y",0),R=m(h,"z",0),L=m(h,"rotateX",0),D=m(h,"rotateY",0),F=m(h,"rotateZ",0),O=m(h,"zIsUp",!0),B=m(h,"isOrtho",f?f.dirtyCache[11]:!1),N=m(h,"colors",[16777215]),G=m(h,"alphas",[1]),z=m(h,"tile",!1),X=m(h,"flipY",!1),H=m(h,"width",null),V={faces:[],verts:[]};e.set(P,w,R),r.set(L,D,F),d.fromRotationXYTranslation(r,e,O);var W;if(!c&&f)c=f.texture,v||(W=f.frame);else if(f&&typeof c=="string")c=f.scene.sys.textures.get(c);else if(!c)return V;W||(W=c.get(v)),!H&&B&&c&&f&&(g=W.width/f.height,y=W.height/f.height);var I=g/2,b=y/2,U=Math.floor(C),Y=Math.floor(S),$=U+1,j=Y+1,K=g/U,J=y/Y,k=[],_=[],et,nt,it=0,ot=1,ft=0,pt=1;W&&(it=W.u0,ot=W.u1,X?(ft=W.v1,pt=W.v0):(ft=W.v0,pt=W.v1));var mt=ot-it,rt=pt-ft;for(nt=0;nt<j;nt++){var dt=nt*J-b;for(et=0;et<$;et++){var ct=et*K-I;_.push(ct,-dt);var Pt=it+mt*(et/U),Et=ft+rt*(nt/Y);k.push(Pt,Et)}}Array.isArray(N)||(N=[N]),Array.isArray(G)||(G=[G]);var Mt=0,Dt=0;for(nt=0;nt<Y;nt++)for(et=0;et<U;et++){var wt=(et+$*nt)*2,St=(et+$*(nt+1))*2,Nt=(et+1+$*(nt+1))*2,Q=(et+1+$*nt)*2,tt=N[Dt],at=G[Mt],st=new a(_[wt],_[wt+1],0,k[wt],k[wt+1],tt,at).transformMat4(d),ht=new a(_[St],_[St+1],0,k[St],k[St+1],tt,at).transformMat4(d),gt=new a(_[Q],_[Q+1],0,k[Q],k[Q+1],tt,at).transformMat4(d),lt=new a(_[St],_[St+1],0,k[St],k[St+1],tt,at).transformMat4(d),yt=new a(_[Nt],_[Nt+1],0,k[Nt],k[Nt+1],tt,at).transformMat4(d),Tt=new a(_[Q],_[Q+1],0,k[Q],k[Q+1],tt,at).transformMat4(d);z&&(st.setUVs(it,pt),ht.setUVs(it,ft),gt.setUVs(ot,pt),lt.setUVs(it,ft),yt.setUVs(ot,ft),Tt.setUVs(ot,pt)),Dt++,Dt===N.length&&(Dt=0),Mt++,Mt===G.length&&(Mt=0),V.verts.push(st,ht,gt,lt,yt,Tt),V.faces.push(new u(st,ht,gt),new u(lt,yt,Tt))}return f&&(f.faces=f.faces.concat(V.faces),f.vertices=f.vertices.concat(V.verts)),V};p.exports=n},34684:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83997),m=t(37867),l=t(25836),s=t(39318),a=new l,e=new l,r=new m,d=function(n,h,f,c,v,g,y,C,S,P){f===void 0&&(f=1),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=0),P===void 0&&(P=!0);var w={faces:[],verts:[]},R=n.materials;a.set(c,v,g),e.set(y,C,S),r.fromRotationXYTranslation(e,a,P);for(var L=0;L<n.models.length;L++)for(var D=n.models[L],F=D.vertices,O=D.textureCoords,B=D.faces,N=0;N<B.length;N++){var G=B[N],z=G.vertices[0],X=G.vertices[1],H=G.vertices[2],V=F[z.vertexIndex],W=F[X.vertexIndex],I=F[H.vertexIndex],b=z.textureCoordsIndex,U=X.textureCoordsIndex,Y=H.textureCoordsIndex,$=b===-1?{u:0,v:1}:O[b],j=U===-1?{u:0,v:0}:O[U],K=Y===-1?{u:1,v:1}:O[Y],J=16777215;G.material!==""&&R[G.material]&&(J=R[G.material]);var k=new s(V.x*f,V.y*f,V.z*f,$.u,$.v,J).transformMat4(r),_=new s(W.x*f,W.y*f,W.z*f,j.u,j.v,J).transformMat4(r),et=new s(I.x*f,I.y*f,I.z*f,K.u,K.v,J).transformMat4(r);w.verts.push(k,_,et),w.faces.push(new u(k,_,et))}return h&&(h.faces=h.faces.concat(w.faces),h.vertices=h.vertices.concat(w.verts)),w};p.exports=d},92515:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83997),m=t(39318),l=function(s,a,e,r,d,n,h,f){if(r===void 0&&(r=!1),n===void 0&&(n=16777215),h===void 0&&(h=1),f===void 0&&(f=!1),s.length!==a.length&&!r){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},v,g,y,C,S,P,w,R,L,D,F,O=r?3:2,B=Array.isArray(n),N=Array.isArray(h);if(Array.isArray(e)&&e.length>0)for(v=0;v<e.length;v++){var G=e[v],z=e[v]*2,X=e[v]*O;g=s[X],y=s[X+1],C=r?s[X+2]:0,S=a[z],P=a[z+1],f&&(P=1-P),w=B?n[G]:n,R=N?h[G]:h,L=0,D=0,F=0,d&&(L=d[X],D=d[X+1],F=r?d[X+2]:0),c.vertices.push(new m(g,y,C,S,P,w,R,L,D,F))}else{var H=0,V=0;for(v=0;v<s.length;v+=O)g=s[v],y=s[v+1],C=r?s[v+2]:0,S=a[H],P=a[H+1],w=B?n[V]:n,R=N?h[V]:h,L=0,D=0,F=0,d&&(L=d[v],D=d[v+1],F=r?d[v+2]:0),c.vertices.push(new m(g,y,C,S,P,w,R,L,D,F)),H+=2,V++}for(v=0;v<c.vertices.length;v+=3){var W=c.vertices[v],I=c.vertices[v+1],b=c.vertices[v+2];c.faces.push(new u(W,I,b))}return c};p.exports=l},85048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,t="untitled",u="",m="";function l(g){var y=g.indexOf("#");return y>-1?g.substring(0,y):g}function s(g){return g.models.length===0&&g.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),u="",g.models[g.models.length-1]}function a(g,y){var C=g.length>=2?g[1]:t;y.models.push({faces:[],name:C,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function e(g){g.length===2&&(u=g[1])}function r(g,y){var C=g.length,S=C>=2?parseFloat(g[1]):0,P=C>=3?parseFloat(g[2]):0,w=C>=4?parseFloat(g[3]):0;s(y).vertices.push({x:S,y:P,z:w})}function d(g,y){var C=g.length,S=C>=2?parseFloat(g[1]):0,P=C>=3?parseFloat(g[2]):0,w=C>=4?parseFloat(g[3]):0;isNaN(S)&&(S=0),isNaN(P)&&(P=0),isNaN(w)&&(w=0),T&&(P=1-P),s(y).textureCoords.push({u:S,v:P,w})}function n(g,y){var C=g.length,S=C>=2?parseFloat(g[1]):0,P=C>=3?parseFloat(g[2]):0,w=C>=4?parseFloat(g[3]):0;s(y).vertexNormals.push({x:S,y:P,z:w})}function h(g,y){var C=g.length-1;if(!(C<3)){for(var S={group:u,material:m,vertices:[]},P=0;P<C;P++){var w=g[P+1],R=w.split("/"),L=R.length;if(!(L<1||L>3)){var D=0,F=0,O=0;D=parseInt(R[0],10),L>1&&R[1]!==""&&(F=parseInt(R[1],10)),L>2&&(O=parseInt(R[2],10)),D!==0&&(D<0&&(D=s(y).vertices.length+1+D),F-=1,D-=1,O-=1,S.vertices.push({textureCoordsIndex:F,vertexIndex:D,vertexNormalIndex:O}))}}s(y).faces.push(S)}}function f(g,y){g.length>=2&&y.materialLibraries.push(g[1])}function c(g){g.length>=2&&(m=g[1])}var v=function(g,y){y===void 0&&(y=!0),T=y;var C={materials:{},materialLibraries:[],models:[]};u="",m="";for(var S=g.split(`
`),P=0;P<S.length;P++){var w=l(S[P]),R=w.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":a(R,C);break;case"g":e(R);break;case"v":r(R,C);break;case"vt":d(R,C);break;case"vn":n(R,C);break;case"f":h(R,C);break;case"mtllib":f(R,C);break;case"usemtl":c(R);break}}return C};p.exports=v},61485:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37589),m=function(l){for(var s={},a=l.split(`
`),e="",r=0;r<a.length;r++){var d=a[r].trim();if(!(d.indexOf("#")===0||d==="")){var n=d.replace(/\s\s+/g," ").trim().split(" ");switch(n[0].toLowerCase()){case"newmtl":{e=n[1];break}case"kd":{var h=Math.floor(n[1]*255),f=n.length>=2?Math.floor(n[2]*255):h,c=n.length>=3?Math.floor(n[3]*255):h;s[e]=u(h,f,c);break}}}}return s};p.exports=m},92570:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s,a;if(m===void 0&&l===void 0){var e=t.getInCenter();s=e.x,a=e.y}var r=Math.cos(u),d=Math.sin(u),n=t.vertex1,h=t.vertex2,f=t.vertex3,c=n.x-s,v=n.y-a;n.set(c*r-v*d+s,c*d+v*r+a),c=h.x-s,v=h.y-a,h.set(c*r-v*d+s,c*d+v*r+a),c=f.x-s,v=f.y-a,f.set(c*r-v*d+s,c*d+v*r+a)};p.exports=T},39318:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(70554),l=t(25836),s=new u({Extends:l,initialize:function(e,r,d,n,h,f,c,v,g,y){f===void 0&&(f=16777215),c===void 0&&(c=1),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),l.call(this,e,r,d),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=g,this.nz=y,this.u=n,this.v=h,this.color=f,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=n,this.tv=h},setUVs:function(a,e){return this.u=a,this.v=e,this.tu=a,this.tv=e,this},scrollUV:function(a,e){return this.tu+=a,this.tv+=e,this},scaleUV:function(a,e){return this.tu=this.u*a,this.tv=this.v*e,this},transformCoordinatesLocal:function(a,e,r,d){var n=this.x,h=this.y,f=this.z,c=a.val,v=n*c[0]+h*c[4]+f*c[8]+c[12],g=n*c[1]+h*c[5]+f*c[9]+c[13],y=n*c[2]+h*c[6]+f*c[10]+c[14],C=n*c[3]+h*c[7]+f*c[11]+c[15];this.vx=v/C*e,this.vy=-(g/C)*r,d<=0?this.vz=y/C:this.vz=-(y/C)},resize:function(a,e,r,d,n,h){return this.x=a,this.y=e,this.vx=this.x*r,this.vy=-this.y*d,this.vz=0,n<.5?this.vx+=r*(.5-n):n>.5&&(this.vx-=r*(n-.5)),h<.5?this.vy+=d*(.5-h):h>.5&&(this.vy-=d*(h-.5)),this},update:function(a,e,r,d,n,h,f,c){var v=this.vx*a+this.vy*r+n,g=this.vx*e+this.vy*d+h;return f&&(v=Math.round(v),g=Math.round(g)),this.tx=v,this.ty=g,this.ta=this.alpha*c,this},load:function(a,e,r,d,n){return a[++r]=this.tx,a[++r]=this.ty,a[++r]=this.tu,a[++r]=this.tv,a[++r]=d,a[++r]=n,e[++r]=m.getTintAppendFloatAlpha(this.color,this.ta),r}});p.exports=s},73090:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};p.exports=u},96550:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=T},99706:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l){return new u(l.x,l.y)};p.exports=m},68010:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u.setTo(t.x,t.y)};p.exports=T},27814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x===u.x&&t.y===u.y};p.exports=T},73565:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=T},87555:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){if(s===void 0&&(s=new u),!Array.isArray(l))throw new Error("GetCentroid points argument must be an array");var a=l.length;if(a<1)throw new Error("GetCentroid points array must not be empty");if(a===1)s.x=l[0].x,s.y=l[0].y;else{for(var e=0;e<a;e++)s.x+=l[e].x,s.y+=l[e].y;s.x/=a,s.y/=a}return s};p.exports=m},28793:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=T},44405:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x*t.x+t.y*t.y};p.exports=T},20873:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=function(l,s){s===void 0&&(s=new u);for(var a=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY,n=0;n<l.length;n++){var h=l[n];h.x>a&&(a=h.x),h.x<e&&(e=h.x),h.y>r&&(r=h.y),h.y<d&&(d=h.y)}return s.x=e,s.y=d,s.width=a-e,s.height=r-d,s};p.exports=m},26152:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s,a,e){return a===void 0&&(a=0),e===void 0&&(e=new u),e.x=l.x+(s.x-l.x)*a,e.y=l.y+(s.y-l.y)*a,e};p.exports=m},55767:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.setTo(t.y,t.x)};p.exports=T},79432:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){return s===void 0&&(s=new u),s.setTo(-l.x,-l.y)};p.exports=m},2141:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23777),l=new u({initialize:function(a,e){a===void 0&&(a=0),e===void 0&&(e=a),this.type=m.POINT,this.x=a,this.y=e},setTo:function(s,a){return s===void 0&&(s=0),a===void 0&&(a=s),this.x=s,this.y=a,this}});p.exports=l},72930:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=t(44405),l=function(s,a,e){e===void 0&&(e=new u);var r=s.x*a.x+s.y*a.y,d=r/m(a);return d!==0&&(e.x=d*a.x,e.y=d*a.y),e};p.exports=l},62880:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s,a){a===void 0&&(a=new u);var e=l.x*s.x+l.y*s.y;return e!==0&&(a.x=e*s.x,a.y=e*s.y),a};p.exports=m},15093:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28793),m=function(l,s){if(l.x!==0||l.y!==0){var a=u(l);l.x/=a,l.y/=a}return l.x*=s,l.y*=s,l};p.exports=m},43711:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141);u.Ceil=t(96550),u.Clone=t(99706),u.CopyFrom=t(68010),u.Equals=t(27814),u.Floor=t(73565),u.GetCentroid=t(87555),u.GetMagnitude=t(28793),u.GetMagnitudeSq=t(44405),u.GetRectangleFromPoints=t(20873),u.Interpolate=t(26152),u.Invert=t(55767),u.Negative=t(79432),u.Project=t(72930),u.ProjectUnit=t(62880),u.SetMagnitude=t(15093),p.exports=u},12306:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25717),m=function(l){return new u(l.points)};p.exports=m},63814:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){for(var l=!1,s=-1,a=t.points.length-1;++s<t.points.length;a=s){var e=t.points[s].x,r=t.points[s].y,d=t.points[a].x,n=t.points[a].y;(r<=m&&m<n||n<=m&&m<r)&&u<(d-e)*(m-r)/(n-r)+e&&(l=!l)}return l};p.exports=T},99338:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(63814),m=function(l,s){return u(l,s.x,s.y)};p.exports=m},94811:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(V,W,I){I=I||2;var b=W&&W.length,U=b?W[0]*I:V.length,Y=t(V,0,U,I,!0),$=[];if(!Y||Y.next===Y.prev)return $;var j,K,J,k,_,et,nt;if(b&&(Y=r(V,W,Y,I)),V.length>80*I){j=J=V[0],K=k=V[1];for(var it=I;it<U;it+=I)_=V[it],et=V[it+1],_<j&&(j=_),et<K&&(K=et),_>J&&(J=_),et>k&&(k=et);nt=Math.max(J-j,k-K),nt=nt!==0?32767/nt:0}return m(Y,$,I,j,K,nt,0),$}function t(V,W,I,b,U){var Y,$;if(U===H(V,W,I,b)>0)for(Y=W;Y<I;Y+=b)$=G(Y,V[Y],V[Y+1],$);else for(Y=I-b;Y>=W;Y-=b)$=G(Y,V[Y],V[Y+1],$);return $&&w($,$.next)&&(z($),$=$.next),$}function u(V,W){if(!V)return V;W||(W=V);var I=V,b;do if(b=!1,!I.steiner&&(w(I,I.next)||P(I.prev,I,I.next)===0)){if(z(I),I=W=I.prev,I===I.next)break;b=!0}else I=I.next;while(b||I!==W);return W}function m(V,W,I,b,U,Y,$){if(V){!$&&Y&&c(V,b,U,Y);for(var j=V,K,J;V.prev!==V.next;){if(K=V.prev,J=V.next,Y?s(V,b,U,Y):l(V)){W.push(K.i/I|0),W.push(V.i/I|0),W.push(J.i/I|0),z(V),V=J.next,j=J.next;continue}if(V=J,V===j){$?$===1?(V=a(u(V),W,I),m(V,W,I,b,U,Y,2)):$===2&&e(V,W,I,b,U,Y):m(u(V),W,I,b,U,Y,1);break}}}}function l(V){var W=V.prev,I=V,b=V.next;if(P(W,I,b)>=0)return!1;for(var U=W.x,Y=I.x,$=b.x,j=W.y,K=I.y,J=b.y,k=U<Y?U<$?U:$:Y<$?Y:$,_=j<K?j<J?j:J:K<J?K:J,et=U>Y?U>$?U:$:Y>$?Y:$,nt=j>K?j>J?j:J:K>J?K:J,it=b.next;it!==W;){if(it.x>=k&&it.x<=et&&it.y>=_&&it.y<=nt&&C(U,j,Y,K,$,J,it.x,it.y)&&P(it.prev,it,it.next)>=0)return!1;it=it.next}return!0}function s(V,W,I,b){var U=V.prev,Y=V,$=V.next;if(P(U,Y,$)>=0)return!1;for(var j=U.x,K=Y.x,J=$.x,k=U.y,_=Y.y,et=$.y,nt=j<K?j<J?j:J:K<J?K:J,it=k<_?k<et?k:et:_<et?_:et,ot=j>K?j>J?j:J:K>J?K:J,ft=k>_?k>et?k:et:_>et?_:et,pt=g(nt,it,W,I,b),mt=g(ot,ft,W,I,b),rt=V.prevZ,dt=V.nextZ;rt&&rt.z>=pt&&dt&&dt.z<=mt;){if(rt.x>=nt&&rt.x<=ot&&rt.y>=it&&rt.y<=ft&&rt!==U&&rt!==$&&C(j,k,K,_,J,et,rt.x,rt.y)&&P(rt.prev,rt,rt.next)>=0||(rt=rt.prevZ,dt.x>=nt&&dt.x<=ot&&dt.y>=it&&dt.y<=ft&&dt!==U&&dt!==$&&C(j,k,K,_,J,et,dt.x,dt.y)&&P(dt.prev,dt,dt.next)>=0))return!1;dt=dt.nextZ}for(;rt&&rt.z>=pt;){if(rt.x>=nt&&rt.x<=ot&&rt.y>=it&&rt.y<=ft&&rt!==U&&rt!==$&&C(j,k,K,_,J,et,rt.x,rt.y)&&P(rt.prev,rt,rt.next)>=0)return!1;rt=rt.prevZ}for(;dt&&dt.z<=mt;){if(dt.x>=nt&&dt.x<=ot&&dt.y>=it&&dt.y<=ft&&dt!==U&&dt!==$&&C(j,k,K,_,J,et,dt.x,dt.y)&&P(dt.prev,dt,dt.next)>=0)return!1;dt=dt.nextZ}return!0}function a(V,W,I){var b=V;do{var U=b.prev,Y=b.next.next;!w(U,Y)&&R(U,b,b.next,Y)&&O(U,Y)&&O(Y,U)&&(W.push(U.i/I|0),W.push(b.i/I|0),W.push(Y.i/I|0),z(b),z(b.next),b=V=Y),b=b.next}while(b!==V);return u(b)}function e(V,W,I,b,U,Y){var $=V;do{for(var j=$.next.next;j!==$.prev;){if($.i!==j.i&&S($,j)){var K=N($,j);$=u($,$.next),K=u(K,K.next),m($,W,I,b,U,Y,0),m(K,W,I,b,U,Y,0);return}j=j.next}$=$.next}while($!==V)}function r(V,W,I,b){var U=[],Y,$,j,K,J;for(Y=0,$=W.length;Y<$;Y++)j=W[Y]*b,K=Y<$-1?W[Y+1]*b:V.length,J=t(V,j,K,b,!1),J===J.next&&(J.steiner=!0),U.push(y(J));for(U.sort(d),Y=0;Y<U.length;Y++)I=n(U[Y],I);return I}function d(V,W){return V.x-W.x}function n(V,W){var I=h(V,W);if(!I)return W;var b=N(I,V);return u(b,b.next),u(I,I.next)}function h(V,W){var I=W,b=V.x,U=V.y,Y=-1/0,$;do{if(U<=I.y&&U>=I.next.y&&I.next.y!==I.y){var j=I.x+(U-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(j<=b&&j>Y&&(Y=j,$=I.x<I.next.x?I:I.next,j===b))return $}I=I.next}while(I!==W);if(!$)return null;var K=$,J=$.x,k=$.y,_=1/0,et;I=$;do b>=I.x&&I.x>=J&&b!==I.x&&C(U<k?b:Y,U,J,k,U<k?Y:b,U,I.x,I.y)&&(et=Math.abs(U-I.y)/(b-I.x),O(I,V)&&(et<_||et===_&&(I.x>$.x||I.x===$.x&&f($,I)))&&($=I,_=et)),I=I.next;while(I!==K);return $}function f(V,W){return P(V.prev,V,W.prev)<0&&P(W.next,V,V.next)<0}function c(V,W,I,b){var U=V;do U.z===0&&(U.z=g(U.x,U.y,W,I,b)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==V);U.prevZ.nextZ=null,U.prevZ=null,v(U)}function v(V){var W,I,b,U,Y,$,j,K,J=1;do{for(I=V,V=null,Y=null,$=0;I;){for($++,b=I,j=0,W=0;W<J&&(j++,b=b.nextZ,!!b);W++);for(K=J;j>0||K>0&&b;)j!==0&&(K===0||!b||I.z<=b.z)?(U=I,I=I.nextZ,j--):(U=b,b=b.nextZ,K--),Y?Y.nextZ=U:V=U,U.prevZ=Y,Y=U;I=b}Y.nextZ=null,J*=2}while($>1);return V}function g(V,W,I,b,U){return V=(V-I)*U|0,W=(W-b)*U|0,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,W=(W|W<<8)&16711935,W=(W|W<<4)&252645135,W=(W|W<<2)&858993459,W=(W|W<<1)&1431655765,V|W<<1}function y(V){var W=V,I=V;do(W.x<I.x||W.x===I.x&&W.y<I.y)&&(I=W),W=W.next;while(W!==V);return I}function C(V,W,I,b,U,Y,$,j){return(U-$)*(W-j)>=(V-$)*(Y-j)&&(V-$)*(b-j)>=(I-$)*(W-j)&&(I-$)*(Y-j)>=(U-$)*(b-j)}function S(V,W){return V.next.i!==W.i&&V.prev.i!==W.i&&!F(V,W)&&(O(V,W)&&O(W,V)&&B(V,W)&&(P(V.prev,V,W.prev)||P(V,W.prev,W))||w(V,W)&&P(V.prev,V,V.next)>0&&P(W.prev,W,W.next)>0)}function P(V,W,I){return(W.y-V.y)*(I.x-W.x)-(W.x-V.x)*(I.y-W.y)}function w(V,W){return V.x===W.x&&V.y===W.y}function R(V,W,I,b){var U=D(P(V,W,I)),Y=D(P(V,W,b)),$=D(P(I,b,V)),j=D(P(I,b,W));return!!(U!==Y&&$!==j||U===0&&L(V,I,W)||Y===0&&L(V,b,W)||$===0&&L(I,V,b)||j===0&&L(I,W,b))}function L(V,W,I){return W.x<=Math.max(V.x,I.x)&&W.x>=Math.min(V.x,I.x)&&W.y<=Math.max(V.y,I.y)&&W.y>=Math.min(V.y,I.y)}function D(V){return V>0?1:V<0?-1:0}function F(V,W){var I=V;do{if(I.i!==V.i&&I.next.i!==V.i&&I.i!==W.i&&I.next.i!==W.i&&R(I,I.next,V,W))return!0;I=I.next}while(I!==V);return!1}function O(V,W){return P(V.prev,V,V.next)<0?P(V,W,V.next)>=0&&P(V,V.prev,W)>=0:P(V,W,V.prev)<0||P(V,V.next,W)<0}function B(V,W){var I=V,b=!1,U=(V.x+W.x)/2,Y=(V.y+W.y)/2;do I.y>Y!=I.next.y>Y&&I.next.y!==I.y&&U<(I.next.x-I.x)*(Y-I.y)/(I.next.y-I.y)+I.x&&(b=!b),I=I.next;while(I!==V);return b}function N(V,W){var I=new X(V.i,V.x,V.y),b=new X(W.i,W.x,W.y),U=V.next,Y=W.prev;return V.next=W,W.prev=V,I.next=U,U.prev=I,b.next=I,I.prev=b,Y.next=b,b.prev=Y,b}function G(V,W,I,b){var U=new X(V,W,I);return b?(U.next=b.next,U.prev=b,b.next.prev=U,b.next=U):(U.prev=U,U.next=U),U}function z(V){V.next.prev=V.prev,V.prev.next=V.next,V.prevZ&&(V.prevZ.nextZ=V.nextZ),V.nextZ&&(V.nextZ.prevZ=V.prevZ)}function X(V,W,I){this.i=V,this.x=W,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(V,W,I,b){var U=W&&W.length,Y=U?W[0]*I:V.length,$=Math.abs(H(V,0,Y,I));if(U)for(var j=0,K=W.length;j<K;j++){var J=W[j]*I,k=j<K-1?W[j+1]*I:V.length;$-=Math.abs(H(V,J,k,I))}var _=0;for(j=0;j<b.length;j+=3){var et=b[j]*I,nt=b[j+1]*I,it=b[j+2]*I;_+=Math.abs((V[et]-V[it])*(V[nt+1]-V[et+1])-(V[et]-V[nt])*(V[it+1]-V[et+1]))}return $===0&&_===0?0:Math.abs((_-$)/$)};function H(V,W,I,b){for(var U=0,Y=W,$=I-b;Y<I;Y+=b)U+=(V[$]-V[Y])*(V[Y+1]+V[$+1]),$=Y;return U}T.flatten=function(V){for(var W=V[0][0].length,I={vertices:[],holes:[],dimensions:W},b=0,U=0;U<V.length;U++){for(var Y=0;Y<V[U].length;Y++)for(var $=0;$<W;$++)I.vertices.push(V[U][Y][$]);U>0&&(b+=V[U-1].length,I.holes.push(b))}return I},p.exports=T},13829:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=function(l,s){s===void 0&&(s=new u);for(var a=1/0,e=1/0,r=-a,d=-e,n,h=0;h<l.points.length;h++)n=l.points[h],a=Math.min(a,n.x),e=Math.min(e,n.y),r=Math.max(r,n.x),d=Math.max(d,n.y);return s.x=a,s.y=e,s.width=r-a,s.height=d-e,s};p.exports=m},26173:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u=[]);for(var m=0;m<t.points.length;m++)u.push(t.points[m].x),u.push(t.points[m].y);return u};p.exports=T},9564:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35001),m=t(23031),l=t(30052),s=function(a,e,r,d){d===void 0&&(d=[]);var n=a.points,h=l(a);!e&&r>0&&(e=h/r);for(var f=0;f<e;f++)for(var c=h*(f/e),v=0,g=0;g<n.length;g++){var y=n[g],C=n[(g+1)%n.length],S=new m(y.x,y.y,C.x,C.y),P=u(S);if(c<v||c>v+P){v+=P;continue}var w=S.getPoint((c-v)/P);d.push(w);break}return d};p.exports=s},30052:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35001),m=t(23031),l=function(s){for(var a=s.points,e=0,r=0;r<a.length;r++){var d=a[r],n=a[(r+1)%a.length],h=new m(d.x,d.y,n.x,n.y);e+=u(h)}return e};p.exports=l},25717:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(63814),l=t(9564),s=t(23777),a=new u({initialize:function(r){this.type=s.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(e,r){return m(this,e,r)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var r,d=0;d<e.length;d++)r={x:0,y:0},typeof e[d]=="number"||typeof e[d]=="string"?(r.x=parseFloat(e[d]),r.y=parseFloat(e[d+1]),d++):Array.isArray(e[d])?(r.x=e[d][0],r.y=e[d][1]):(r.x=e[d].x,r.y=e[d].y),this.points.push(r);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,r,d,n=0;n<this.points.length-1;n++)r=this.points[n],d=this.points[n+1],e+=(d.x-r.x)*(r.y+d.y);return r=this.points[0],d=this.points[this.points.length-1],e+=(r.x-d.x)*(d.y+r.y),this.area=-e*.5,this.area},getPoints:function(e,r,d){return l(this,e,r,d)}});p.exports=a},8133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.points.reverse(),t};p.exports=T},29524:p=>{function T(a,e){var r=a.x-e.x,d=a.y-e.y;return r*r+d*d}function t(a,e,r){var d=e.x,n=e.y,h=r.x-d,f=r.y-n;if(h!==0||f!==0){var c=((a.x-d)*h+(a.y-n)*f)/(h*h+f*f);c>1?(d=r.x,n=r.y):c>0&&(d+=h*c,n+=f*c)}return h=a.x-d,f=a.y-n,h*h+f*f}function u(a,e){for(var r=a[0],d=[r],n,h=1,f=a.length;h<f;h++)n=a[h],T(n,r)>e&&(d.push(n),r=n);return r!==n&&d.push(n),d}function m(a,e,r,d,n){for(var h=d,f,c=e+1;c<r;c++){var v=t(a[c],a[e],a[r]);v>h&&(f=c,h=v)}h>d&&(f-e>1&&m(a,e,f,d,n),n.push(a[f]),r-f>1&&m(a,f,r,d,n))}function l(a,e){var r=a.length-1,d=[a[0]];return m(a,0,r,e,d),d.push(a[r]),d}var s=function(a,e,r){e===void 0&&(e=1),r===void 0&&(r=!1);var d=a.points;if(d.length>2){var n=e*e;r||(d=u(d,n)),a.setTo(l(d,n))}return a};p.exports=s},5469:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(u,m){return u[0]=m[0],u[1]=m[1],u},t=function(u){var m,l=[],s=u.points;for(m=0;m<s.length;m++)l.push([s[m].x,s[m].y]);var a=[];for(l.length>0&&a.push(T([0,0],l[0])),m=0;m<l.length-1;m++){var e=l[m],r=l[m+1],d=e[0],n=e[1],h=r[0],f=r[1];a.push([.85*d+.15*h,.85*n+.15*f]),a.push([.15*d+.85*h,.15*n+.85*f])}return l.length>1&&a.push(T([0,0],l[l.length-1])),u.setTo(a)};p.exports=t},24709:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){for(var l=t.points,s=0;s<l.length;s++)l[s].x+=u,l[s].y+=m;return t};p.exports=T},58423:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25717);u.Clone=t(12306),u.Contains=t(63814),u.ContainsPoint=t(99338),u.Earcut=t(94811),u.GetAABB=t(13829),u.GetNumberArray=t(26173),u.GetPoints=t(9564),u.Perimeter=t(30052),u.Reverse=t(8133),u.Simplify=t(29524),u.Smooth=t(5469),u.Translate=t(24709),p.exports=u},62224:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.width*t.height};p.exports=T},98615:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=T},31688:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=T},67502:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t.x=u-t.width/2,t.y=m-t.height/2,t};p.exports=T},65085:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=function(l){return new u(l.x,l.y,l.width,l.height)};p.exports=m},37303:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t.width<=0||t.height<=0?!1:t.x<=u&&t.x+t.width>=u&&t.y<=m&&t.y+t.height>=m};p.exports=T},96553:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37303),m=function(l,s){return u(l,s.x,s.y)};p.exports=m},70273:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u.width*u.height>t.width*t.height?!1:u.x>t.x&&u.x<t.right&&u.right>t.x&&u.right<t.right&&u.y>t.y&&u.y<t.bottom&&u.bottom>t.y&&u.bottom<t.bottom};p.exports=T},43459:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u.setTo(t.x,t.y,t.width,t.height)};p.exports=T},77493:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u=[]),u.push({x:t.x,y:t.y}),u.push({x:t.right,y:t.y}),u.push({x:t.right,y:t.bottom}),u.push({x:t.x,y:t.bottom}),u};p.exports=T},9219:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x===u.x&&t.y===u.y&&t.width===u.width&&t.height===u.height};p.exports=T},53751:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8249),m=function(l,s){var a=u(l);return a<u(s)?l.setSize(s.height*a,s.height):l.setSize(s.width,s.width/a),l.setPosition(s.centerX-l.width/2,s.centerY-l.height/2)};p.exports=m},16088:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(8249),m=function(l,s){var a=u(l);return a>u(s)?l.setSize(s.height*a,s.height):l.setSize(s.width,s.width/a),l.setPosition(s.centerX-l.width/2,s.centerY-l.height/2)};p.exports=m},80774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=T},83859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=T},19217:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=t(36383),l=function(s,a){if(a===void 0&&(a=new u),s.length===0)return a;for(var e=Number.MAX_VALUE,r=Number.MAX_VALUE,d=m.MIN_SAFE_INTEGER,n=m.MIN_SAFE_INTEGER,h,f,c,v=0;v<s.length;v++)h=s[v],Array.isArray(h)?(f=h[0],c=h[1]):(f=h.x,c=h.y),e=Math.min(e,f),r=Math.min(r,c),d=Math.max(d,f),n=Math.max(n,c);return a.x=e,a.y=r,a.width=d-e,a.height=n-r,a};p.exports=l},9477:(p,T,t)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=function(l,s,a,e,r){return r===void 0&&(r=new u),r.setTo(Math.min(l,a),Math.min(s,e),Math.abs(l-a),Math.abs(s-e))};p.exports=m},8249:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.height===0?NaN:t.width/t.height};p.exports=T},27165:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){return s===void 0&&(s=new u),s.x=l.centerX,s.y=l.centerY,s};p.exports=m},20812:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13019),m=t(2141),l=function(s,a,e){if(e===void 0&&(e=new m),a<=0||a>=1)return e.x=s.x,e.y=s.y,e;var r=u(s)*a;return a>.5?(r-=s.width+s.height,r<=s.width?(e.x=s.right-r,e.y=s.bottom):(e.x=s.x,e.y=s.bottom-(r-s.width))):r<=s.width?(e.x=s.x+r,e.y=s.y):(e.x=s.right,e.y=s.y+(r-s.width)),e};p.exports=l},34819:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20812),m=t(13019),l=function(s,a,e,r){r===void 0&&(r=[]),!a&&e>0&&(a=m(s)/e);for(var d=0;d<a;d++){var n=d/a;r.push(u(s,n))}return r};p.exports=l},51313:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){return s===void 0&&(s=new u),s.x=l.width,s.y=l.height,s};p.exports=m},86091:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(67502),m=function(l,s,a){var e=l.centerX,r=l.centerY;return l.setSize(l.width+s*2,l.height+a*2),u(l,e,r)};p.exports=m},53951:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=t(59996),l=function(s,a,e){return e===void 0&&(e=new u),m(s,a)?(e.x=Math.max(s.x,a.x),e.y=Math.max(s.y,a.y),e.width=Math.min(s.right,a.right)-e.x,e.height=Math.min(s.bottom,a.bottom)-e.y):e.setEmpty(),e};p.exports=l},14649:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13019),m=t(2141),l=function(s,a,e,r){if(r===void 0&&(r=[]),!a&&!e)return r;a?e=Math.round(u(s)/a):a=u(s)/e;for(var d=s.x,n=s.y,h=0,f=0;f<e;f++)switch(r.push(new m(d,n)),h){case 0:d+=a,d>=s.right&&(h=1,n+=d-s.right,d=s.right);break;case 1:n+=a,n>=s.bottom&&(h=2,d-=n-s.bottom,n=s.bottom);break;case 2:d-=a,d<=s.left&&(h=3,n-=s.left-d,d=s.left);break;case 3:n-=a,n<=s.top&&(h=0,n=s.top);break}return r};p.exports=l},33595:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){for(var m=t.x,l=t.right,s=t.y,a=t.bottom,e=0;e<u.length;e++)m=Math.min(m,u[e].x),l=Math.max(l,u[e].x),s=Math.min(s,u[e].y),a=Math.max(a,u[e].y);return t.x=m,t.y=s,t.width=l-m,t.height=a-s,t};p.exports=T},20074:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=Math.min(t.x,u.x),l=Math.max(t.right,u.right);t.x=m,t.width=l-m;var s=Math.min(t.y,u.y),a=Math.max(t.bottom,u.bottom);return t.y=s,t.height=a-s,t};p.exports=T},92171:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=Math.min(t.x,u),s=Math.max(t.right,u);t.x=l,t.width=s-l;var a=Math.min(t.y,m),e=Math.max(t.bottom,m);return t.y=a,t.height=e-a,t};p.exports=T},42981:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t.x+=u,t.y+=m,t};p.exports=T},46907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x+=u.x,t.y+=u.y,t};p.exports=T},60170:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x<u.right&&t.right>u.x&&t.y<u.bottom&&t.bottom>u.y};p.exports=T},13019:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 2*(t.width+t.height)};p.exports=T},85133:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=t(39506),l=function(s,a,e){e===void 0&&(e=new u),a=m(a);var r=Math.sin(a),d=Math.cos(a),n=d>0?s.width/2:s.width/-2,h=r>0?s.height/2:s.height/-2;return Math.abs(n*r)<Math.abs(h*d)?h=n*r/d:n=h*d/r,e.x=n+s.centerX,e.y=h+s.centerY,e};p.exports=l},26597:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){return s===void 0&&(s=new u),s.x=l.x+Math.random()*l.width,s.y=l.y+Math.random()*l.height,s};p.exports=m},86470:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(30976),m=t(70273),l=t(2141),s=function(a,e,r){if(r===void 0&&(r=new l),m(a,e))switch(u(0,3)){case 0:r.x=a.x+Math.random()*(e.right-a.x),r.y=a.y+Math.random()*(e.top-a.y);break;case 1:r.x=e.x+Math.random()*(a.right-e.x),r.y=e.bottom+Math.random()*(a.bottom-e.bottom);break;case 2:r.x=a.x+Math.random()*(e.x-a.x),r.y=e.y+Math.random()*(a.bottom-e.y);break;case 3:r.x=e.right+Math.random()*(a.right-e.right),r.y=a.y+Math.random()*(e.bottom-a.y);break}return r};p.exports=s},87841:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(37303),l=t(20812),s=t(34819),a=t(23777),e=t(23031),r=t(26597),d=new u({initialize:function(h,f,c,v){h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=0),this.type=a.RECTANGLE,this.x=h,this.y=f,this.width=c,this.height=v},contains:function(n,h){return m(this,n,h)},getPoint:function(n,h){return l(this,n,h)},getPoints:function(n,h,f){return s(this,n,h,f)},getRandomPoint:function(n){return r(this,n)},setTo:function(n,h,f,c){return this.x=n,this.y=h,this.width=f,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(n,h){return h===void 0&&(h=n),this.x=n,this.y=h,this},setSize:function(n,h){return h===void 0&&(h=n),this.width=n,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.y,this.right,this.y),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.y,this.right,this.bottom),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.bottom,this.x,this.bottom),n},getLineD:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.bottom,this.x,this.y),n},left:{get:function(){return this.x},set:function(n){n>=this.right?this.width=0:this.width=this.right-n,this.x=n}},right:{get:function(){return this.x+this.width},set:function(n){n<=this.x?this.width=0:this.width=n-this.x}},top:{get:function(){return this.y},set:function(n){n>=this.bottom?this.height=0:this.height=this.bottom-n,this.y=n}},bottom:{get:function(){return this.y+this.height},set:function(n){n<=this.y?this.height=0:this.height=n-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(n){this.x=n-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(n){this.y=n-this.height/2}}});p.exports=d},94845:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.width===u.width&&t.height===u.height};p.exports=T},31730:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return m===void 0&&(m=u),t.width*=u,t.height*=m,t};p.exports=T},36899:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=function(l,s,a){a===void 0&&(a=new u);var e=Math.min(l.x,s.x),r=Math.min(l.y,s.y),d=Math.max(l.right,s.right)-e,n=Math.max(l.bottom,s.bottom)-r;return a.setTo(e,r,d,n)};p.exports=m},93232:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841);u.Area=t(62224),u.Ceil=t(98615),u.CeilAll=t(31688),u.CenterOn=t(67502),u.Clone=t(65085),u.Contains=t(37303),u.ContainsPoint=t(96553),u.ContainsRect=t(70273),u.CopyFrom=t(43459),u.Decompose=t(77493),u.Equals=t(9219),u.FitInside=t(53751),u.FitOutside=t(16088),u.Floor=t(80774),u.FloorAll=t(83859),u.FromPoints=t(19217),u.FromXY=t(9477),u.GetAspectRatio=t(8249),u.GetCenter=t(27165),u.GetPoint=t(20812),u.GetPoints=t(34819),u.GetSize=t(51313),u.Inflate=t(86091),u.Intersection=t(53951),u.MarchingAnts=t(14649),u.MergePoints=t(33595),u.MergeRect=t(20074),u.MergeXY=t(92171),u.Offset=t(42981),u.OffsetPoint=t(46907),u.Overlaps=t(60170),u.Perimeter=t(13019),u.PerimeterPoint=t(85133),u.Random=t(26597),u.RandomOutside=t(86470),u.SameDimensions=t(94845),u.Scale=t(31730),u.Union=t(36899),p.exports=u},41658:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u=t.x1,m=t.y1,l=t.x2,s=t.y2,a=t.x3,e=t.y3;return Math.abs(((a-u)*(s-m)-(l-u)*(e-m))/2)};p.exports=T},39208:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16483),m=function(l,s,a){var e=a*(Math.sqrt(3)/2),r=l,d=s,n=l+a/2,h=s+e,f=l-a/2,c=s+e;return new u(r,d,n,h,f,c)};p.exports=m},39545:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(94811),m=t(16483),l=function(s,a,e,r,d){a===void 0&&(a=null),e===void 0&&(e=1),r===void 0&&(r=1),d===void 0&&(d=[]);for(var n=u(s,a),h,f,c,v,g,y,C,S,P,w=0;w<n.length;w+=3)h=n[w],f=n[w+1],c=n[w+2],v=s[h*2]*e,g=s[h*2+1]*r,y=s[f*2]*e,C=s[f*2+1]*r,S=s[c*2]*e,P=s[c*2+1]*r,d.push(new m(v,g,y,C,S,P));return d};p.exports=l},90301:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16483),m=function(l,s,a,e){e===void 0&&(e=a);var r=l,d=s,n=l,h=s-e,f=l+a,c=s;return new u(r,d,n,h,f,c)};p.exports=m},23707:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97523),m=t(13584),l=function(s,a,e,r){r===void 0&&(r=u);var d=r(s),n=a-d.x,h=e-d.y;return m(s,n,h)};p.exports=l},97523:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){return s===void 0&&(s=new u),s.x=(l.x1+l.x2+l.x3)/3,s.y=(l.y1+l.y2+l.y3)/3,s};p.exports=m},24951:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099);function m(s,a,e,r){return s*r-a*e}var l=function(s,a){a===void 0&&(a=new u);var e=s.x3,r=s.y3,d=s.x1-e,n=s.y1-r,h=s.x2-e,f=s.y2-r,c=2*m(d,n,h,f),v=m(n,d*d+n*n,f,h*h+f*f),g=m(d,d*d+n*n,h,h*h+f*f);return a.x=e-v/c,a.y=r+g/c,a};p.exports=l},85614:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(96503),m=function(l,s){s===void 0&&(s=new u);var a=l.x1,e=l.y1,r=l.x2,d=l.y2,n=l.x3,h=l.y3,f=r-a,c=d-e,v=n-a,g=h-e,y=f*(a+r)+c*(e+d),C=v*(a+n)+g*(e+h),S=2*(f*(h-d)-c*(n-r)),P,w;if(Math.abs(S)<1e-6){var R=Math.min(a,r,n),L=Math.min(e,d,h);P=(Math.max(a,r,n)-R)*.5,w=(Math.max(e,d,h)-L)*.5,s.x=R+P,s.y=L+w,s.radius=Math.sqrt(P*P+w*w)}else s.x=(g*y-c*C)/S,s.y=(f*C-v*y)/S,P=s.x-a,w=s.y-e,s.radius=Math.sqrt(P*P+w*w);return s};p.exports=m},74422:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16483),m=function(l){return new u(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)};p.exports=m},10690:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=t.x3-t.x1,s=t.y3-t.y1,a=t.x2-t.x1,e=t.y2-t.y1,r=u-t.x1,d=m-t.y1,n=l*l+s*s,h=l*a+s*e,f=l*r+s*d,c=a*a+e*e,v=a*r+e*d,g=n*c-h*h,y=g===0?0:1/g,C=(c*f-h*v)*y,S=(n*v-h*f)*y;return C>=0&&S>=0&&C+S<1};p.exports=T},48653:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m===void 0&&(m=!1),l===void 0&&(l=[]);for(var s=t.x3-t.x1,a=t.y3-t.y1,e=t.x2-t.x1,r=t.y2-t.y1,d=s*s+a*a,n=s*e+a*r,h=e*e+r*r,f=d*h-n*n,c=f===0?0:1/f,v,g,y,C,S,P,w=t.x1,R=t.y1,L=0;L<u.length&&(y=u[L].x-w,C=u[L].y-R,S=s*y+a*C,P=e*y+r*C,v=(h*S-n*P)*c,g=(d*P-n*S)*c,!(v>=0&&g>=0&&v+g<1&&(l.push({x:u[L].x,y:u[L].y}),m)));L++);return l};p.exports=T},96006:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10690),m=function(l,s){return u(l,s.x,s.y)};p.exports=m},71326:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=T},71694:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u=[]),u.push({x:t.x1,y:t.y1}),u.push({x:t.x2,y:t.y2}),u.push({x:t.x3,y:t.y3}),u};p.exports=T},33522:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.x1===u.x1&&t.y1===u.y1&&t.x2===u.x2&&t.y2===u.y2&&t.x3===u.x3&&t.y3===u.y3};p.exports=T},20437:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=t(35001),l=function(s,a,e){e===void 0&&(e=new u);var r=s.getLineA(),d=s.getLineB(),n=s.getLineC();if(a<=0||a>=1)return e.x=r.x1,e.y=r.y1,e;var h=m(r),f=m(d),c=m(n),v=h+f+c,g=v*a,y=0;return g<h?(y=g/h,e.x=r.x1+(r.x2-r.x1)*y,e.y=r.y1+(r.y2-r.y1)*y):g>h+f?(g-=h+f,y=g/c,e.x=n.x1+(n.x2-n.x1)*y,e.y=n.y1+(n.y2-n.y1)*y):(g-=h,y=g/f,e.x=d.x1+(d.x2-d.x1)*y,e.y=d.y1+(d.y2-d.y1)*y),e};p.exports=l},80672:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35001),m=t(2141),l=function(s,a,e,r){r===void 0&&(r=[]);var d=s.getLineA(),n=s.getLineB(),h=s.getLineC(),f=u(d),c=u(n),v=u(h),g=f+c+v;!a&&e>0&&(a=g/e);for(var y=0;y<a;y++){var C=g*(y/a),S=0,P=new m;C<f?(S=C/f,P.x=d.x1+(d.x2-d.x1)*S,P.y=d.y1+(d.y2-d.y1)*S):C>f+c?(C-=f+c,S=C/v,P.x=h.x1+(h.x2-h.x1)*S,P.y=h.y1+(h.y2-h.y1)*S):(C-=f,S=C/c,P.x=n.x1+(n.x2-n.x1)*S,P.y=n.y1+(n.y2-n.y1)*S),r.push(P)}return r};p.exports=l},39757:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141);function m(s,a,e,r){var d=s-e,n=a-r,h=d*d+n*n;return Math.sqrt(h)}var l=function(s,a){a===void 0&&(a=new u);var e=s.x1,r=s.y1,d=s.x2,n=s.y2,h=s.x3,f=s.y3,c=m(h,f,d,n),v=m(e,r,h,f),g=m(d,n,e,r),y=c+v+g;return a.x=(e*c+d*v+h*g)/y,a.y=(r*c+n*v+f*g)/y,a};p.exports=l},13584:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t.x1+=u,t.y1+=m,t.x2+=u,t.y2+=m,t.x3+=u,t.y3+=m,t};p.exports=T},1376:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35001),m=function(l){var s=l.getLineA(),a=l.getLineB(),e=l.getLineC();return u(s)+u(a)+u(e)};p.exports=m},90260:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2141),m=function(l,s){s===void 0&&(s=new u);var a=l.x2-l.x1,e=l.y2-l.y1,r=l.x3-l.x1,d=l.y3-l.y1,n=Math.random(),h=Math.random();return n+h>=1&&(n=1-n,h=1-h),s.x=l.x1+(a*n+r*h),s.y=l.y1+(e*n+d*h),s};p.exports=m},52172:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99614),m=t(39757),l=function(s,a){var e=m(s);return u(s,e.x,e.y,a)};p.exports=l},49907:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99614),m=function(l,s,a){return u(l,s.x,s.y,a)};p.exports=m},99614:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=Math.cos(l),a=Math.sin(l),e=t.x1-u,r=t.y1-m;return t.x1=e*s-r*a+u,t.y1=e*a+r*s+m,e=t.x2-u,r=t.y2-m,t.x2=e*s-r*a+u,t.y2=e*a+r*s+m,e=t.x3-u,r=t.y3-m,t.x3=e*s-r*a+u,t.y3=e*a+r*s+m,t};p.exports=T},16483:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(10690),l=t(20437),s=t(80672),a=t(23777),e=t(23031),r=t(90260),d=new u({initialize:function(h,f,c,v,g,y){h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),y===void 0&&(y=0),this.type=a.TRIANGLE,this.x1=h,this.y1=f,this.x2=c,this.y2=v,this.x3=g,this.y3=y},contains:function(n,h){return m(this,n,h)},getPoint:function(n,h){return l(this,n,h)},getPoints:function(n,h,f){return s(this,n,h,f)},getRandomPoint:function(n){return r(this,n)},setTo:function(n,h,f,c,v,g){return n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),this.x1=n,this.y1=h,this.x2=f,this.y2=c,this.x3=v,this.y3=g,this},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x1,this.y1,this.x2,this.y2),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.x2,this.y2,this.x3,this.y3),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.x3,this.y3,this.x1,this.y1),n},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(n){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-n:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-n:h=this.x3-n,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(n){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-n:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-n:h=this.x3-n,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(n){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-n:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-n:h=this.y3-n,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(n){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-n:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-n:h=this.y3-n,this.y1-=h,this.y2-=h,this.y3-=h}}});p.exports=d},84435:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(16483);u.Area=t(41658),u.BuildEquilateral=t(39208),u.BuildFromPolygon=t(39545),u.BuildRight=t(90301),u.CenterOn=t(23707),u.Centroid=t(97523),u.CircumCenter=t(24951),u.CircumCircle=t(85614),u.Clone=t(74422),u.Contains=t(10690),u.ContainsArray=t(48653),u.ContainsPoint=t(96006),u.CopyFrom=t(71326),u.Decompose=t(71694),u.Equals=t(33522),u.GetPoint=t(20437),u.GetPoints=t(80672),u.InCenter=t(39757),u.Perimeter=t(1376),u.Offset=t(13584),u.Random=t(90260),u.Rotate=t(52172),u.RotateAroundPoint=t(49907),u.RotateAroundXY=t(99614),p.exports=u},74457:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};p.exports=T},84409:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return function(m,l,s,a){var e=t.getPixelAlpha(l,s,a.texture.key,a.frame.name);return e&&e>=u}};p.exports=T},7003:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(93301),l=t(50792),s=t(8214),a=t(8443),e=t(78970),r=t(85098),d=t(42515),n=t(36210),h=t(61340),f=t(85955),c=new u({initialize:function(g,y){this.game=g,this.scaleManager,this.canvas,this.config=y,this.enabled=!0,this.events=new l,this.isOver=!0,this.defaultCursor="",this.keyboard=y.inputKeyboard?new e(this):null,this.mouse=y.inputMouse?new r(this):null,this.touch=y.inputTouch?new n(this):null,this.pointers=[],this.pointersTotal=y.inputActivePointers,y.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var C=0;C<=this.pointersTotal;C++){var S=new d(this,C);S.smoothFactor=y.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=y.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],g.events.once(a.BOOT,this.boot,this)},boot:function(){var v=this.game,g=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(s.MANAGER_BOOT),g.on(a.PRE_RENDER,this.preRender,this),g.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(s.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(s.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,g=this.game.loop.delta,y=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(s.MANAGER_UPDATE);for(var C=0;C<y.length;C++){var S=y[C];if(S.sys.input&&S.sys.input.updatePoll(v,g)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v){v.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){v===void 0&&(v=1);var g=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var y=0;y<v;y++){var C=this.pointers.length,S=new d(this,C);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,g.push(S)}return g},updateInputPlugins:function(v,g){var y=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var C=0;C<y.length;C++){var S=y[C];if(S.sys.input){var P=S.sys.input.update(v,g);if(P&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(v){for(var g=this.pointers,y=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var w=g[P];if(!w.active){w.touchstart(S,v),this.activePointer=w,y.push(w);break}}this.updateInputPlugins(m.TOUCH_START,y)},onTouchMove:function(v){for(var g=this.pointers,y=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var w=g[P];if(w.active&&w.identifier===S.identifier){var R=document.elementFromPoint(S.clientX,S.clientY),L=R===this.canvas;!this.isOver&&L?this.setCanvasOver(v):this.isOver&&!L&&this.setCanvasOut(v),this.isOver&&(w.touchmove(S,v),this.activePointer=w,y.push(w));break}}this.updateInputPlugins(m.TOUCH_MOVE,y)},onTouchEnd:function(v){for(var g=this.pointers,y=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var w=g[P];if(w.active&&w.identifier===S.identifier){w.touchend(S,v),y.push(w);break}}this.updateInputPlugins(m.TOUCH_END,y)},onTouchCancel:function(v){for(var g=this.pointers,y=[],C=0;C<v.changedTouches.length;C++)for(var S=v.changedTouches[C],P=1;P<this.pointersTotal;P++){var w=g[P];if(w.active&&w.identifier===S.identifier){w.touchcancel(S,v),y.push(w);break}}this.updateInputPlugins(m.TOUCH_CANCEL,y)},onMouseDown:function(v){var g=this.mousePointer;g.down(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var g=this.mousePointer;g.move(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var g=this.mousePointer;g.up(v),g.updateMotion(),this.activePointer=g,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var g=this.mousePointer;g.wheel(v),this.activePointer=g,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var g=this.mouse.locked;this.mousePointer.locked=g,this.events.emit(s.POINTERLOCK_CHANGE,v,g)},inputCandidate:function(v,g){var y=v.input;if(!y||!y.enabled||!v.willRender(g))return!1;var C=!0,S=v.parentContainer;if(S)do{if(!S.willRender(g)){C=!1;break}S=S.parentContainer}while(S);return C},hitTest:function(v,g,y,C){C===void 0&&(C=this._tempHitTest);var S=this._tempPoint,P=y.scrollX,w=y.scrollY;C.length=0;var R=v.x,L=v.y;y.getWorldPoint(R,L,S),v.worldX=S.x,v.worldY=S.y;for(var D={x:0,y:0},F=this._tempMatrix,O=this._tempMatrix2,B=0;B<g.length;B++){var N=g[B];if(this.inputCandidate(N,y)){var G=S.x+P*N.scrollFactorX-P,z=S.y+w*N.scrollFactorY-w;N.parentContainer?(N.getWorldTransformMatrix(F,O),F.applyInverse(G,z,D)):f(G,z,N.x,N.y,N.rotation,N.scaleX,N.scaleY,D),this.pointWithinHitArea(N,D.x,D.y)&&C.push(N)}}return C},pointWithinHitArea:function(v,g,y){g+=v.displayOriginX,y+=v.displayOriginY;var C=v.input;return C&&C.hitAreaCallback(C.hitArea,g,y,v)?(C.localX=g,C.localY=y,!0):!1},pointWithinInteractiveObject:function(v,g,y){return v.hitArea?(g+=v.gameObject.displayOriginX,y+=v.gameObject.displayOriginY,v.localX=g,v.localY=y,v.hitAreaCallback(v.hitArea,g,y,v)):!1},transformPointer:function(v,g,y,C){var S=v.position,P=v.prevPosition;P.x=S.x,P.y=S.y;var w=this.scaleManager.transformX(g),R=this.scaleManager.transformY(y),L=v.smoothFactor;!C||L===0?(S.x=w,S.y=R):(S.x=w*L+P.x*(1-L),S.y=R*L+P.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(a.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=c},48205:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(96503),m=t(87902),l=t(83419),s=t(93301),a=t(74457),e=t(84409),r=t(20339),d=t(8497),n=t(81154),h=t(8214),f=t(50792),c=t(95540),v=t(23777),g=t(89639),y=t(41212),C=t(37277),S=t(87841),P=t(37303),w=t(44594),R=t(16483),L=t(10690),D=new l({Extends:f,initialize:function(O){f.call(this),this.scene=O,this.systems=O.sys,this.settings=O.sys.settings,this.manager=O.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,g.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,O.sys.events.once(w.BOOT,this.boot,this),O.sys.events.on(w.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(w.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var F=this.systems.events;F.on(w.TRANSITION_START,this.transitionIn,this),F.on(w.TRANSITION_OUT,this.transitionOut,this),F.on(w.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(w.PRE_UPDATE,this.preUpdate,this),F.once(w.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(F){this.isActive()&&this.emit(h.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(h.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var F=this._pendingRemoval,O=this._pendingInsertion,B=F.length,N=O.length;if(!(B===0&&N===0)){for(var G=this._list,z=0;z<B;z++){var X=F[z],H=G.indexOf(X);H>-1&&(G.splice(H,1),this.clear(X,!0))}this._pendingRemoval.length=0,this._list=G.concat(O.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(F,O){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,F,O),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,N=this.manager,G=N.pointers,z=N.pointersTotal;for(B=0;B<z;B++)G[B].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=O,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(B=0;B<z;B++){var V=0,W=G[B];this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),V+=this.processOverOutEvents(W),this.getDragState(W)===2&&this.processDragThresholdEvent(W,F),V>0&&(H=!0)}return H},update:function(F,O){if(!this.isActive())return!1;for(var B=O.length,N=!1,G=0;G<B;G++){var z=0,X=O[G];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case s.MOUSE_DOWN:z+=this.processDragDownEvent(X),z+=this.processDownEvents(X),z+=this.processOverOutEvents(X);break;case s.MOUSE_UP:z+=this.processDragUpEvent(X),z+=this.processUpEvents(X),z+=this.processOverOutEvents(X);break;case s.TOUCH_START:z+=this.processDragDownEvent(X),z+=this.processDownEvents(X),z+=this.processOverEvents(X);break;case s.TOUCH_END:case s.TOUCH_CANCEL:z+=this.processDragUpEvent(X),z+=this.processUpEvents(X),z+=this.processOutEvents(X);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:z+=this.processDragMoveEvent(X),z+=this.processMoveEvents(X),z+=this.processOverOutEvents(X);break;case s.MOUSE_WHEEL:z+=this.processWheelEvent(X);break}z>0&&(N=!0)}return this._updatedThisFrame=!0,N},clear:function(F,O){O===void 0&&(O=!1),this.disable(F);var B=F.input;B&&(this.removeDebug(F),this.manager.resetCursor(B),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,F.input=null),O||this.queueForRemoval(F);var N=this._draggable.indexOf(F);return N>-1&&this._draggable.splice(N,1),F},disable:function(F){var O=F.input;O&&(O.enabled=!1,O.dragState=0);for(var B=this._drag,N=this._over,G=this.manager,z=0,X;z<G.pointersTotal;z++)X=B[z].indexOf(F),X>-1&&B[z].splice(X,1),X=N[z].indexOf(F),X>-1&&N[z].splice(X,1);return this},enable:function(F,O,B,N){return N===void 0&&(N=!1),F.input?F.input.enabled=!0:this.setHitArea(F,O,B),F.input&&N&&!F.input.dropZone&&(F.input.dropZone=N),this},hitTestPointer:function(F){for(var O=this.cameras.getCamerasBelowPointer(F),B=0;B<O.length;B++){for(var N=O[B],G=this.manager.hitTest(F,this._list,N),z=0;z<G.length;z++){var X=G[z];X.input.dropZone&&this._tempZones.push(X)}if(G.length>0)return F.camera=N,G}return F.camera=O[0],[]},processDownEvents:function(F){var O=0,B=this._temp,N=this._eventData,G=this._eventContainer;N.cancelled=!1;for(var z=!1,X=0;X<B.length;X++){var H=B[X];if(!(!H.input||!H.input.enabled)){if(O++,H.emit(h.GAMEOBJECT_POINTER_DOWN,F,H.input.localX,H.input.localY,G),N.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.emit(h.GAMEOBJECT_DOWN,F,H,G),N.cancelled||!H.input){z=!0;break}}}return!z&&this.manager&&(F.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,F,B):this.emit(h.POINTER_DOWN_OUTSIDE,F)),O},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,O){this._dragState[F.id]=O},processDragThresholdEvent:function(F,O){var B=!1,N=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&r(F.x,F.y,F.downX,F.downY)>=G||N>0&&O>=F.downTime+N)&&(B=!0),B)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;for(var O=this._drag[F.id],B=0;B<O.length;B++){var N=O[B],G=N.input;G.dragState=2,G.dragStartX=N.x,G.dragStartY=N.y,G.dragStartXGlobal=F.worldX,G.dragStartYGlobal=F.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,N.emit(h.GAMEOBJECT_DRAG_START,F,G.dragX,G.dragY),this.emit(h.DRAG_START,F,N)}return this.setDragState(F,4),O.length},processDragDownEvent:function(F){var O=this._temp;if(this._draggable.length===0||O.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var B=[],N=0;N<O.length;N++){var G=O[N];G.input.draggable&&G.input.dragState===0&&B.push(G)}return B.length===0?(this.setDragState(F,0),0):(B.length>1&&(this.sortGameObjects(B,F),this.topOnly&&B.splice(1)),this._drag[F.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;for(var O=this._tempZones,B=this._drag[F.id],N=0;N<B.length;N++){var G=B[N],z=G.input,X=z.target;if(X){var H=O.indexOf(X);H===0?(G.emit(h.GAMEOBJECT_DRAG_OVER,F,X),this.emit(h.DRAG_OVER,F,G,X)):H>0?(G.emit(h.GAMEOBJECT_DRAG_LEAVE,F,X),this.emit(h.DRAG_LEAVE,F,G,X),z.target=O[0],X=z.target,G.emit(h.GAMEOBJECT_DRAG_ENTER,F,X),this.emit(h.DRAG_ENTER,F,G,X)):(G.emit(h.GAMEOBJECT_DRAG_LEAVE,F,X),this.emit(h.DRAG_LEAVE,F,G,X),O[0]?(z.target=O[0],X=z.target,G.emit(h.GAMEOBJECT_DRAG_ENTER,F,X),this.emit(h.DRAG_ENTER,F,G,X)):z.target=null)}else!X&&O[0]&&(z.target=O[0],X=z.target,G.emit(h.GAMEOBJECT_DRAG_ENTER,F,X),this.emit(h.DRAG_ENTER,F,G,X));var V,W;if(!G.parentContainer)V=F.worldX-z.dragX,W=F.worldY-z.dragY;else{var I=F.worldX-z.dragStartXGlobal,b=F.worldY-z.dragStartYGlobal,U=G.getParentRotation(),Y=I*Math.cos(U)+b*Math.sin(U),$=b*Math.cos(U)-I*Math.sin(U);Y*=1/G.parentContainer.scaleX,$*=1/G.parentContainer.scaleY,V=Y+z.dragStartX,W=$+z.dragStartY}G.emit(h.GAMEOBJECT_DRAG,F,V,W),this.emit(h.DRAG,F,G,V,W)}return B.length},processDragUpEvent:function(F){for(var O=this._drag[F.id],B=0;B<O.length;B++){var N=O[B],G=N.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-N.displayOriginX,G.dragY=G.localY-N.displayOriginY;var z=!1,X=G.target;X&&(N.emit(h.GAMEOBJECT_DROP,F,X),this.emit(h.DROP,F,N,X),G.target=null,z=!0),N.input&&N.input.enabled&&(N.emit(h.GAMEOBJECT_DRAG_END,F,G.dragX,G.dragY,z),this.emit(h.DRAG_END,F,N,z))}}return this.setDragState(F,0),O.splice(0),0},processMoveEvents:function(F){var O=0,B=this._temp,N=this._eventData,G=this._eventContainer;N.cancelled=!1;for(var z=!1,X=0;X<B.length;X++){var H=B[X];if(!(!H.input||!H.input.enabled)){if(O++,H.emit(h.GAMEOBJECT_POINTER_MOVE,F,H.input.localX,H.input.localY,G),N.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.emit(h.GAMEOBJECT_MOVE,F,H,G),N.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.topOnly)break}}return z||this.emit(h.POINTER_MOVE,F,B),O},processWheelEvent:function(F){var O=0,B=this._temp,N=this._eventData,G=this._eventContainer;N.cancelled=!1;for(var z=!1,X=F.deltaX,H=F.deltaY,V=F.deltaZ,W=0;W<B.length;W++){var I=B[W];if(!(!I.input||!I.input.enabled)){if(O++,I.emit(h.GAMEOBJECT_POINTER_WHEEL,F,X,H,V,G),N.cancelled||!I.input||!I.input.enabled){z=!0;break}if(this.emit(h.GAMEOBJECT_WHEEL,F,I,X,H,V,G),N.cancelled||!I.input||!I.input.enabled){z=!0;break}}}return z||this.emit(h.POINTER_WHEEL,F,B,X,H,V),O},processOverEvents:function(F){var O=this._temp,B=0,N=O.length,G=[];if(N>0){var z=this.manager,X=this._eventData,H=this._eventContainer;X.cancelled=!1;for(var V=!1,W=0;W<N;W++){var I=O[W];if(!(!I.input||!I.input.enabled)){if(G.push(I),z.setCursor(I.input),I.emit(h.GAMEOBJECT_POINTER_OVER,F,I.input.localX,I.input.localY,H),B++,X.cancelled||!I.input||!I.input.enabled){V=!0;break}if(this.emit(h.GAMEOBJECT_OVER,F,I,H),X.cancelled||!I.input||!I.input.enabled){V=!0;break}}}V||this.emit(h.POINTER_OVER,F,G)}return this._over[F.id]=G,B},processOutEvents:function(F){var O=this._over[F.id],B=0,N=O.length;if(N>0){var G=this.manager,z=this._eventData,X=this._eventContainer;z.cancelled=!1;var H=!1;this.sortGameObjects(O,F);for(var V=0;V<N;V++){var W=O[V];if(W=O[V],!(!W.input||!W.input.enabled)){if(G.resetCursor(W.input),W.emit(h.GAMEOBJECT_POINTER_OUT,F,X),B++,z.cancelled||!W.input||!W.input.enabled){H=!0;break}if(this.emit(h.GAMEOBJECT_OUT,F,W,X),z.cancelled||!W.input||!W.input.enabled){H=!0;break}H||this.emit(h.POINTER_OUT,F,O)}}this._over[F.id]=[]}return B},processOverOutEvents:function(F){var O=this._temp,B,N,G=[],z=[],X=[],H=this._over[F.id],V=this._drag[F.id],W=this.manager;for(B=0;B<H.length;B++)N=H[B],O.indexOf(N)===-1&&V.indexOf(N)===-1?G.push(N):X.push(N);for(B=0;B<O.length;B++)N=O[B],H.indexOf(N)===-1&&z.push(N);var I=G.length,b=0,U=this._eventData,Y=this._eventContainer;U.cancelled=!1;var $=!1;if(I>0){for(this.sortGameObjects(G,F),B=0;B<I;B++)if(N=G[B],!(!N.input||!N.input.enabled)){if(W.resetCursor(N.input),N.emit(h.GAMEOBJECT_POINTER_OUT,F,Y),b++,U.cancelled||!N.input||!N.input.enabled){$=!0;break}if(this.emit(h.GAMEOBJECT_OUT,F,N,Y),U.cancelled||!N.input||!N.input.enabled){$=!0;break}}$||this.emit(h.POINTER_OUT,F,G)}if(I=z.length,U.cancelled=!1,$=!1,I>0){for(this.sortGameObjects(z,F),B=0;B<I;B++)if(N=z[B],!(!N.input||!N.input.enabled)){if(W.setCursor(N.input),N.emit(h.GAMEOBJECT_POINTER_OVER,F,N.input.localX,N.input.localY,Y),b++,U.cancelled||!N.input||!N.input.enabled){$=!0;break}if(this.emit(h.GAMEOBJECT_OVER,F,N,Y),U.cancelled||!N.input||!N.input.enabled){$=!0;break}}$||this.emit(h.POINTER_OVER,F,z)}return H=X.concat(z),this._over[F.id]=this.sortGameObjects(H,F),b},processUpEvents:function(F){var O=this._temp,B=this._eventData,N=this._eventContainer;B.cancelled=!1;for(var G=!1,z=0;z<O.length;z++){var X=O[z];if(!(!X.input||!X.input.enabled)){if(X.emit(h.GAMEOBJECT_POINTER_UP,F,X.input.localX,X.input.localY,N),B.cancelled||!X.input||!X.input.enabled){G=!0;break}if(this.emit(h.GAMEOBJECT_UP,F,X,N),B.cancelled||!X.input||!X.input.enabled){G=!0;break}}}return!G&&this.manager&&(F.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,F,O):this.emit(h.POINTER_UP_OUTSIDE,F)),O.length},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,O){O===void 0&&(O=!0),Array.isArray(F)||(F=[F]);for(var B=0;B<F.length;B++){var N=F[B];N.input.draggable=O;var G=this._draggable.indexOf(N);O&&G===-1?this._draggable.push(N):!O&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var O=this.systems.textures;return e(O,F)},setHitArea:function(F,O,B){if(O===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var N=!1,G=!1,z=!1,X=!1,H=!1,V=!0;if(y(O)&&Object.keys(O).length){var W=O,I=F.some(function(j){return j.hasOwnProperty("faces")});if(!I){O=c(W,"hitArea",null),B=c(W,"hitAreaCallback",null),H=c(W,"pixelPerfect",!1);var b=c(W,"alphaTolerance",1);H&&(O={},B=this.makePixelPerfect(b))}N=c(W,"draggable",!1),G=c(W,"dropZone",!1),z=c(W,"cursor",!1),X=c(W,"useHandCursor",!1),(!O||!B)&&(this.setHitAreaFromTexture(F),V=!1)}else typeof O=="function"&&!B&&(B=O,O={});for(var U=0;U<F.length;U++){var Y=F[U];if(H&&Y.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var $=Y.input?Y.input:a(Y,O,B);$.customHitArea=V,$.dropZone=G,$.cursor=X?"pointer":z,Y.input=$,N&&this.setDraggable(Y),this.queueForInsertion(Y)}return this},setHitAreaCircle:function(F,O,B,N,G){G===void 0&&(G=m);var z=new u(O,B,N);return this.setHitArea(F,z,G)},setHitAreaEllipse:function(F,O,B,N,G,z){z===void 0&&(z=n);var X=new d(O,B,N,G);return this.setHitArea(F,X,z)},setHitAreaFromTexture:function(F,O){O===void 0&&(O=P),Array.isArray(F)||(F=[F]);for(var B=0;B<F.length;B++){var N=F[B],G=N.frame,z=0,X=0;if(N.width?(z=N.width,X=N.height):G&&(z=G.realWidth,X=G.realHeight),N.type==="Container"&&(z===0||X===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}z!==0&&X!==0&&(N.input=a(N,new S(0,0,z,X),O),this.queueForInsertion(N))}return this},setHitAreaRectangle:function(F,O,B,N,G,z){z===void 0&&(z=P);var X=new S(O,B,N,G);return this.setHitArea(F,X,z)},setHitAreaTriangle:function(F,O,B,N,G,z,X,H){H===void 0&&(H=L);var V=new R(O,B,N,G,z,X);return this.setHitArea(F,V,H)},enableDebug:function(F,O){O===void 0&&(O=65280);var B=F.input;if(!B||!B.hitArea)return this;var N=B.hitArea,G=N.type,z=B.hitAreaDebug,X=this.systems.add,H=this.systems.updateList;z&&(H.remove(z),z.destroy(),z=null);var V=0,W=0;switch(G){case v.CIRCLE:z=X.arc(0,0,N.radius),V=N.x-N.radius,W=N.y-N.radius;break;case v.ELLIPSE:z=X.ellipse(0,0,N.width,N.height),V=N.x-N.width/2,W=N.y-N.height/2;break;case v.LINE:z=X.line(0,0,N.x1,N.y1,N.x2,N.y2);break;case v.POLYGON:z=X.polygon(0,0,N.points);break;case v.RECTANGLE:z=X.rectangle(0,0,N.width,N.height),V=N.x,W=N.y;break;case v.TRIANGLE:z=X.triangle(0,0,N.x1,N.y1,N.x2,N.y2,N.x3,N.y3);break}return z&&(z.isFilled=!1,z.strokeColor=O,z.preUpdate=function(){z.setVisible(F.visible),z.setStrokeStyle(1/F.scale,z.strokeColor),z.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var I=F.x,b=F.y,U=F.rotation,Y=F.scaleX,$=F.scaleY;if(F.parentContainer){var j=F.getWorldTransformMatrix();I=j.tx,b=j.ty,U=j.rotation,Y=j.scaleX,$=j.scaleY}z.setRotation(U),z.setScale(Y,$),z.setPosition(I+V*Y,b+W*$),z.setScrollFactor(F.scrollFactorX,F.scrollFactorY),z.setDepth(F.depth)},H.add(z),B.hitAreaDebug=z),this},removeDebug:function(F){var O=F.input;if(O&&O.hitAreaDebug){var B=O.hitAreaDebug;B.destroy(),O.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,O){if(F.length<2||!O.camera)return F;var B=O.camera.renderList;return F.sort(function(N,G){var z=Math.max(B.indexOf(N),0),X=Math.max(B.indexOf(G),0);return X-z})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,O){if(!F.parentContainer&&!O.parentContainer)return this.displayList.getIndex(O)-this.displayList.getIndex(F);if(F.parentContainer===O.parentContainer)return O.parentContainer.getIndex(O)-F.parentContainer.getIndex(F);if(F.parentContainer===O)return-1;if(O.parentContainer===F)return 1;for(var B=F.getIndexList(),N=O.getIndexList(),G=Math.min(B.length,N.length),z=0;z<G;z++){var X=B[z],H=N[z];if(X!==H)return H-X}return N.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var O=this.manager;O.canvas.style.cursor=O.defaultCursor;var B=this.systems.events;B.off(w.TRANSITION_START,this.transitionIn,this),B.off(w.TRANSITION_OUT,this.transitionOut,this),B.off(w.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(w.PRE_UPDATE,this.preUpdate,this),O.events.off(h.GAME_OUT,this.onGameOut,this),O.events.off(h.GAME_OVER,this.onGameOver,this),B.off(w.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,O=0;O<F.length;O++)F[O].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(w.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});C.register("InputPlugin",D,"input"),p.exports=D},89639:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35154),m={},l={};l.register=function(s,a,e,r,d){m[s]={plugin:a,mapping:e,settingsKey:r,configKey:d}},l.getPlugin=function(s){return m[s]},l.install=function(s){var a=s.scene.sys,e=a.settings.input,r=a.game.config;for(var d in m){var n=m[d].plugin,h=m[d].mapping,f=m[d].settingsKey,c=m[d].configKey;u(e,f,r[c])&&(s[h]=new n(s))}},l.remove=function(s){m.hasOwnProperty(s)&&delete m[s]},p.exports=l},42515:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(31040),m=t(83419),l=t(20339),s=t(43855),a=t(47235),e=t(26099),r=t(25892),d=new m({initialize:function(h,f){this.manager=h,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(n){var h=n.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(n,h){return n.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var n=this.position.x,h=this.position.y,f=this.midPoint.x,c=this.midPoint.y;if(!(n===f&&h===c)){var v=a(this.motionFactor,f,n),g=a(this.motionFactor,c,h);s(v,n,.1)&&(v=n),s(g,h,.1)&&(g=h),this.midPoint.set(v,g);var y=n-v,C=h-g;this.velocity.set(y,C),this.angle=u(v,g,n,h),this.distance=Math.sqrt(y*y+C*C)}},up:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=n.timeStamp,this.wasTouch=!1)},down:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&n.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=n.timeStamp),this.wasTouch=!1},move:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.locked&&(this.movementX=n.movementX||n.mozMovementX||n.webkitMovementX||0,this.movementY=n.movementY||n.mozMovementY||n.webkitMovementY||0),this.moveTime=n.timeStamp,this.wasTouch=!1},wheel:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.deltaZ=n.deltaZ,this.wasTouch=!1},touchstart:function(n,h){n.pointerId&&(this.pointerId=n.pointerId),this.identifier=n.identifier,this.target=n.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(n,h){this.event=h,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(n,h){this.buttons=0,this.event=h,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(n,h){this.buttons=0,this.event=h,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?u(this.downX,this.downY,this.x,this.y):u(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(n,h){n===void 0&&(n=10),h===void 0&&(h=[]);for(var f=this.prevPosition.x,c=this.prevPosition.y,v=this.position.x,g=this.position.y,y=0;y<n;y++){var C=1/n*y;h[y]={x:a(C,f,v),y:a(C,c,g)}}return h},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=d},93301:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=T},7179:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},85375:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},39843:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},23388:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},16133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},27829:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},53904:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},56058:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},2642:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},88171:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},36147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},71692:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},96149:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},81285:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},74048:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},21322:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},49378:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},86754:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},86433:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},60709:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},24081:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},11172:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},18907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},95579:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},35368:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},26972:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},47078:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},73802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},56718:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},25936:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},27503:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},50852:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},96438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},59152:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},47777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},27957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},19444:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},54251:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},18667:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},27192:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},24652:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},45132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},44512:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},15757:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},41637:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},93802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8214:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a){this.pad=s,this.events=s.events,this.index=a,this.value=0,this.threshold=.1},update:function(l){this.value=l},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=m},28884:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(92734),l=new u({initialize:function(a,e){this.pad=a,this.events=a.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var a=this.pad,e=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,a,this,s),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,e,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,a,this,s),this.pad.emit(m.GAMEPAD_BUTTON_UP,e,s,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=l},99125:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97421),m=t(28884),l=t(83419),s=t(50792),a=t(26099),e=new l({Extends:s,initialize:function(d,n){s.call(this),this.manager=d,this.pad=n,this.id=n.id,this.index=n.index;for(var h=[],f=0;f<n.buttons.length;f++)h.push(new m(this,f));this.buttons=h;var c=[];for(f=0;f<n.axes.length;f++)c.push(new u(this,f));this.axes=c,this.vibration=n.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:v,this._LCRight=h[15]?h[15]:v,this._LCTop=h[12]?h[12]:v,this._LCBottom=h[13]?h[13]:v,this._RCLeft=h[2]?h[2]:v,this._RCRight=h[1]?h[1]:v,this._RCTop=h[3]?h[3]:v,this._RCBottom=h[0]?h[0]:v,this._FBLeftTop=h[4]?h[4]:v,this._FBLeftBottom=h[6]?h[6]:v,this._FBRightTop=h[5]?h[5]:v,this._FBRightBottom=h[7]?h[7]:v;var g={value:0};this._HAxisLeft=c[0]?c[0]:g,this._VAxisLeft=c[1]?c[1]:g,this._HAxisRight=c[2]?c[2]:g,this._VAxisRight=c[3]?c[3]:g,this.leftStick=new a,this.rightStick=new a,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var d=0;d<this.axes.length;d++)this.axes[d].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var d,n=this.buttons,h=r.buttons,f=n.length;for(d=0;d<f;d++)n[d].update(h[d].value);var c=this.axes,v=r.axes;for(f=c.length,d=0;d<f;d++)c[d].update(v[d]);f>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),f>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=e},56654:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50792),l=t(92734),s=t(99125),a=t(35154),e=t(89639),r=t(8214),d=new u({Extends:m,initialize:function(h){m.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(r.BOOT,this.boot,this),h.pluginEvents.on(r.START,this.start,this)},boot:function(){var n=this.scene.sys.game,h=this.settings.input,f=n.config;this.enabled=a(h,"gamepad",f.inputGamepad)&&n.device.input.gamepads,this.target=a(h,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var n=this,h=this.target,f=function(c){c.defaultPrevented||!n.isActive()||(n.refreshPads(),n.queue.push(c))};this.onGamepadHandler=f,h.addEventListener("gamepadconnected",f,!1),h.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].removeAllListeners()},disconnectAll:function(){for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].pad.connected=!1},refreshPads:function(){var n=navigator.getGamepads();if(!n)this.disconnectAll();else for(var h=this.gamepads,f=0;f<n.length;f++){var c=n[f];if(c){var v=c.id,g=c.index,y=h[g];if(y)y.id!==v?(y.destroy(),h[g]=new s(this,c)):y.update(c);else{var C=new s(this,c);h[g]=C,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=C):this._pad3=C:this._pad2=C:this._pad1=C}}}},getAll:function(){for(var n=[],h=this.gamepads,f=0;f<h.length;f++)h[f]&&n.push(h[f]);return n},getPad:function(n){for(var h=this.gamepads,f=0;f<h.length;f++)if(h[f]&&h[f].index===n)return h[f]},update:function(){if(this.enabled){this.refreshPads();var n=this.queue.length;if(n!==0)for(var h=this.queue.splice(0,n),f=0;f<n;f++){var c=h[f],v=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(l.CONNECTED,v,c):c.type==="gamepaddisconnected"&&this.emit(l.DISCONNECTED,v,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var n=0;n<this.gamepads.length;n++)this.gamepads[n]&&this.gamepads[n].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",d,"gamepad","gamepad","inputGamepad"),p.exports=d},89651:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},7629:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},42206:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},86544:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},94784:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},14325:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},92734:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(93301),m=t(79291),l={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};l=m(!1,l,u),p.exports=l},78970:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72905),m=t(83419),l=t(8443),s=t(8214),a=t(46032),e=t(29747),r=new m({initialize:function(n){this.manager=n,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,n.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var d=this.manager.config;this.enabled=d.inputKeyboard,this.target=d.inputKeyboardEventTarget,this.addCapture(d.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(l.POST_STEP,this.postUpdate,this)},startListeners:function(){var d=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!d.enabled||!d.manager)){d.queue.push(h),d.manager.events.emit(s.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;d.preventDefault&&!f&&d.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!d.enabled||!d.manager)){d.queue.push(h),d.manager.events.emit(s.MANAGER_PROCESS);var f=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;d.preventDefault&&!f&&d.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var n=this.target;n&&(n.addEventListener("keydown",this.onKeyDown,!1),n.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var d=this.target;d.removeEventListener("keydown",this.onKeyDown,!1),d.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(d){typeof d=="string"&&(d=d.split(",")),Array.isArray(d)||(d=[d]);for(var n=this.captures,h=0;h<d.length;h++){var f=d[h];typeof f=="string"&&(f=a[f.trim().toUpperCase()]),n.indexOf(f)===-1&&n.push(f)}this.preventDefault=n.length>0},removeCapture:function(d){typeof d=="string"&&(d=d.split(",")),Array.isArray(d)||(d=[d]);for(var n=this.captures,h=0;h<d.length;h++){var f=d[h];typeof f=="string"&&(f=a[f.toUpperCase()]),u(n,f)}this.preventDefault=n.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(l.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},28846:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50792),l=t(95922),s=t(8443),a=t(35154),e=t(8214),r=t(89639),d=t(30472),n=t(46032),h=t(87960),f=t(74600),c=t(44594),v=t(56583),g=new u({Extends:m,initialize:function(C){m.call(this),this.game=C.systems.game,this.scene=C.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=C,this.manager=C.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,C.pluginEvents.once(e.BOOT,this.boot,this),C.pluginEvents.on(e.START,this.start,this)},boot:function(){var y=this.settings.input;this.enabled=a(y,"keyboard",!0);var C=a(y,"keyboard.capture",null);C&&this.addCaptures(C),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(y){return this.manager.addCapture(y),this},removeCapture:function(y){return this.manager.removeCapture(y),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:n.UP,down:n.DOWN,left:n.LEFT,right:n.RIGHT,space:n.SPACE,shift:n.SHIFT})},addKeys:function(y,C,S){C===void 0&&(C=!0),S===void 0&&(S=!1);var P={};if(typeof y=="string"){y=y.split(",");for(var w=0;w<y.length;w++){var R=y[w].trim();R&&(P[R]=this.addKey(R,C,S))}}else for(var L in y)P[L]=this.addKey(y[L],C,S);return P},addKey:function(y,C,S){C===void 0&&(C=!0),S===void 0&&(S=!1);var P=this.keys;if(y instanceof d){var w=P.indexOf(y);return w>-1?P[w]=y:P[y.keyCode]=y,C&&this.addCapture(y.keyCode),y.setEmitOnRepeat(S),y}return typeof y=="string"&&(y=n[y.toUpperCase()]),P[y]||(P[y]=new d(this,y),C&&this.addCapture(y),P[y].setEmitOnRepeat(S)),P[y]},removeKey:function(y,C,S){C===void 0&&(C=!1),S===void 0&&(S=!1);var P=this.keys,w;if(y instanceof d){var R=P.indexOf(y);R>-1&&(w=this.keys[R],this.keys[R]=void 0)}else typeof y=="string"&&(y=n[y.toUpperCase()]);return P[y]&&(w=P[y],P[y]=void 0),w&&(w.plugin=null,S&&this.removeCapture(w.keyCode),C&&w.destroy()),this},removeAllKeys:function(y,C){y===void 0&&(y=!1),C===void 0&&(C=!1);for(var S=this.keys,P=0;P<S.length;P++){var w=S[P];w&&(S[P]=void 0,C&&this.removeCapture(w.keyCode),y&&w.destroy())}return this},createCombo:function(y,C){return new h(this,y,C)},checkDown:function(y,C){if(C===void 0&&(C=0),this.enabled&&y.isDown){var S=v(this.time-y.timeDown,C);if(S>y._tick)return y._tick=S,!0}return!1},update:function(){var y=this.manager.queue,C=y.length;if(!(!this.isActive()||C===0))for(var S=this.keys,P=0;P<C;P++){var w=y[P],R=w.keyCode,L=S[R],D=!1;w.cancelled===void 0&&(w.cancelled=0,w.stopImmediatePropagation=function(){w.cancelled=1},w.stopPropagation=function(){w.cancelled=-1}),w.cancelled!==-1&&(R===this.prevCode&&w.timeStamp===this.prevTime&&w.type===this.prevType||(this.prevCode=R,this.prevTime=w.timeStamp,this.prevType=w.type,w.type==="keydown"?(L&&(D=L.isDown,L.onDown(w)),!w.cancelled&&(!L||!D)&&(f[R]&&this.emit(l.KEY_DOWN+f[R],w),w.cancelled||this.emit(l.ANY_KEY_DOWN,w))):(L&&L.onUp(w),w.cancelled||(f[R]&&this.emit(l.KEY_UP+f[R],w),w.cancelled||this.emit(l.ANY_KEY_UP,w))),w.cancelled===1&&(w.cancelled=0)))}},resetKeys:function(){for(var y=this.keys,C=0;C<y.length;C++)y[C]&&y[C].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var y=this.keys,C=0;C<y.length;C++)y[C]&&y[C].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",g,"keyboard","keyboard","inputKeyboard"),p.exports=g},66970:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u.timeLastMatched=t.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};p.exports=T},87960:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95922),l=t(95540),s=t(68769),a=t(92803),e=new u({initialize:function(d,n,h){if(h===void 0&&(h={}),n.length<2)return!1;this.manager=d,this.enabled=!0,this.keyCodes=[];for(var f=0;f<n.length;f++){var c=n[f];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=l(h,"resetOnWrongKey",!0),this.maxKeyDelay=l(h,"maxKeyDelay",0),this.resetOnMatch=l(h,"resetOnMatch",!1),this.deleteOnMatch=l(h,"deleteOnMatch",!1);var v=this,g=function(y){if(!(v.matched||!v.enabled)){var C=s(y,v);C&&(v.manager.emit(m.COMBO_MATCH,v,y),v.resetOnMatch?a(v):v.deleteOnMatch&&v.destroy())}};this.onKeyDown=g,this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=e},68769:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66970),m=function(l,s){if(s.matched)return!0;var a=!1,e=!1;if(l.keyCode===s.current)if(s.index>0&&s.maxKeyDelay>0){var r=s.timeLastMatched+s.maxKeyDelay;l.timeStamp<=r&&(e=!0,a=u(l,s))}else e=!0,a=u(l,s);return!e&&s.resetOnWrongKey&&(s.index=0,s.current=s.keyCodes[0]),a&&(s.timeLastMatched=l.timeStamp,s.matched=!0,s.timeMatched=l.timeStamp),a};p.exports=m},92803:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=T},92612:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},23345:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},21957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},44743:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},3771:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},46358:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},75674:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},95922:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u=50);var m=t.plugin.game.loop.time-t.timeDown;return t.isDown&&m<u};p.exports=T},90229:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=T},38796:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=T},30472:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50792),l=t(95922),s=new u({Extends:m,initialize:function(e,r){m.call(this),this.plugin=e,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(a){return this.emitOnRepeat=a,this},onDown:function(a){this.originalEvent=a,this.enabled&&(this.altKey=a.altKey,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.location=a.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(l.DOWN,this,a):(this.isDown=!0,this.isUp=!1,this.timeDown=a.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(l.DOWN,this,a)))},onUp:function(a){this.originalEvent=a,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=a.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(l.UP,this,a))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=s},46032:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=T},74600:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(46032),m={};for(var l in u)m[u[l]]=l;p.exports=m},41170:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u=50);var m=t.plugin.game.loop.time-t.timeUp;return t.isUp&&m<u};p.exports=T},85098:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(89357),l=t(8214),s=t(29747),a=new u({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,r.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(m.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var r=this,d=this.manager,n=d.canvas,h=window&&window.focus&&d.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&r.enabled&&d&&d.enabled&&(d.onMouseMove(c),r.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){h&&window.focus(),!c.defaultPrevented&&r.enabled&&d&&d.enabled&&(d.onMouseDown(c),r.preventDefaultDown&&c.target===n&&c.preventDefault())},this.onMouseDownWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&r.enabled&&d&&d.enabled&&c.target!==n&&d.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&r.enabled&&d&&d.enabled&&(d.onMouseUp(c),r.preventDefaultUp&&c.target===n&&c.preventDefault())},this.onMouseUpWindow=function(c){c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents||!c.defaultPrevented&&r.enabled&&d&&d.enabled&&c.target!==n&&d.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&r.enabled&&d&&d.enabled&&d.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&r.enabled&&d&&d.enabled&&d.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&r.enabled&&d&&d.enabled&&d.onMouseWheel(c),r.preventDefaultWheel&&c.target===n&&c.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(c){var v=r.target;r.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,d.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=a},87078:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(85098)}},36210:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(8214),l=t(29747),s=new u({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=l,this.onTouchStartWindow=l,this.onTouchMove=l,this.onTouchEnd=l,this.onTouchEndWindow=l,this.onTouchCancel=l,this.onTouchCancelWindow=l,this.isTop=!0,e.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputTouch,this.target=a.inputTouchEventTarget,this.capture=a.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},startListeners:function(){var a=this.target;if(a){var e=this,r=this.manager,d=r.canvas,n=window&&window.focus&&r.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchMove(v),e.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){n&&window.focus(),!v.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchStart(v),e.capture&&v.cancelable&&v.target===d&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&e.enabled&&r&&r.enabled&&v.target!==d&&r.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchEnd(v),e.capture&&v.cancelable&&v.target===d&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&e.enabled&&r&&r.enabled&&v.target!==d&&r.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&e.enabled&&r&&r.enabled&&(r.onTouchCancel(v),e.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&e.enabled&&r&&r.enabled&&r.onTouchCancel(v)};var h=this.capture,f={passive:!0},c={passive:!1};if(a.addEventListener("touchstart",this.onTouchStart,h?c:f),a.addEventListener("touchmove",this.onTouchMove,h?c:f),a.addEventListener("touchend",this.onTouchEnd,h?c:f),a.addEventListener("touchcancel",this.onTouchCancel,h?c:f),window&&r.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("touchstart",this.onTouchStart),a.removeEventListener("touchmove",this.onTouchMove),a.removeEventListener("touchend",this.onTouchEnd),a.removeEventListener("touchcancel",this.onTouchCancel),window&&(a=this.isTop?window.top:window,a.removeEventListener("touchstart",this.onTouchStartWindow),a.removeEventListener("touchend",this.onTouchEndWindow),a.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},95618:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(36210)}},41299:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(54899),s=t(95540),a=t(98356),e=t(3374),r=t(84376),d=t(92638),n=new u({initialize:function(f,c){if(this.loader=f,this.cache=s(c,"cache",!1),this.type=s(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=s(c,"key",!1);var v=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var g=s(c,"url");g===void 0?g=f.path+v+"."+s(c,"extension",""):typeof g=="string"&&!g.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(g=f.path+g),this.url=g,this.src="",this.xhrSettings=d(s(c,"responseType",void 0)),s(c,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,s(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(c,"config",{}),this.multiFile,this.linkFile,this.base64=typeof g=="string"&&g.indexOf("data:")===0},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===m.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=m.FILE_LOADING,this.src=a(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(h,f){var c=h.responseURL&&this.loader.localSchemes.some(function(y){return h.responseURL.indexOf(y)===0}),v=c&&f.target.status===0,g=!(f.target&&f.target.status!==200)||v;h.readyState===4&&h.status>=400&&h.status<=599&&(g=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,g)},onBase64Load:function(h){this.xhrLoader=h,this.state=m.FILE_LOADED,this.percentComplete=1,this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(h){if(this.state!==m.FILE_PENDING_DESTROY){h===void 0&&(h=this.data);var f=this.key,c=this.type;this.loader.emit(l.FILE_COMPLETE,f,c,h),this.loader.emit(l.FILE_KEY_COMPLETE+c+"-"+f,f,c,h),this.loader.flagForRemoval(this),this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(h,f,c){if(typeof URL=="function")h.src=URL.createObjectURL(f);else{var v=new FileReader;v.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(f.type||c)+";base64,"+v.result.split(",")[1]},v.onerror=h.onerror,v.readAsDataURL(f)}},n.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},p.exports=n},74099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},t={install:function(u){for(var m in T)u[m]=T[m]},register:function(u,m){T[u]=m},destroy:function(){T={}}};p.exports=t},98356:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:u+t.url:!1};p.exports=T},74261:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(35072),s=t(50792),a=t(54899),e=t(74099),r=t(95540),d=t(35154),n=t(37277),h=t(44594),f=t(92638),c=new u({Extends:s,initialize:function(g){s.call(this);var y=g.sys.game.config,C=g.sys.settings.loader;this.scene=g,this.systems=g.sys,this.cacheManager=g.sys.cache,this.textureManager=g.sys.textures,this.sceneManager=g.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(C,"baseURL",y.loaderBaseURL)),this.setPath(r(C,"path",y.loaderPath)),this.setPrefix(r(C,"prefix",y.loaderPrefix)),this.maxParallelDownloads=r(C,"maxParallelDownloads",y.loaderMaxParallelDownloads),this.xhr=f(r(C,"responseType",y.loaderResponseType),r(C,"async",y.loaderAsync),r(C,"user",y.loaderUser),r(C,"password",y.loaderPassword),r(C,"timeout",y.loaderTimeout),r(C,"withCredentials",y.loaderWithCredentials)),this.crossOrigin=r(C,"crossOrigin",y.loaderCrossOrigin),this.imageLoadType=r(C,"imageLoadType",y.loaderImageLoadType),this.localSchemes=r(C,"localScheme",y.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new l,this.inflight=new l,this.queue=new l,this._deleteQueue=new l,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,g.sys.events.once(h.BOOT,this.boot,this),g.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++){var y=v[g];this.keyExists(y)||(this.list.set(y),this.emit(a.ADD,y.key,y.type,this,y),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var g=v.hasCacheConflict();return g||this.list.iterate(function(y){if(y.type===v.type&&y.key===v.key)return g=!0,!1}),!g&&this.isLoading()&&(this.inflight.iterate(function(y){if(y.type===v.type&&y.key===v.key)return g=!0,!1}),this.queue.iterate(function(y){if(y.type===v.type&&y.key===v.key)return g=!0,!1})),g},addPack:function(v,g){if(typeof g=="string"){var y=d(v,g);y&&(v={packKey:y})}var C=0,S=this.baseURL,P=this.path,w=this.prefix;for(var R in v)if(Object.prototype.hasOwnProperty.call(v,R)){var L=v[R],D=r(L,"baseURL",S),F=r(L,"path",P),O=r(L,"prefix",w),B=r(L,"files",null),N=r(L,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(D),this.setPath(F),this.setPrefix(O);for(var G=0;G<B.length;G++){var z=B[G],X=z.hasOwnProperty("type")?z.type:N;this[X]&&(this[X](z),C++)}}}return this.setBaseURL(S),this.setPath(P),this.setPrefix(w),C>0},isLoading:function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},isReady:function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),this.list.size===0?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(h.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===m.FILE_POPULATED||v.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,g){this.inflight&&(this.inflight.delete(v),this.updateProgress(),g?(this.totalComplete++,this.queue.set(v),this.emit(a.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(a.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===m.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===m.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&(v.multiFile.addToCache(),v.multiFile.pendingDestroy()):(v.addToCache(),v.pendingDestroy())),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(h.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,g){return this.save(JSON.stringify(v),g)},save:function(v,g,y){g===void 0&&(g="file.json"),y===void 0&&(y="application/json");var C=new Blob([v],{type:y}),S=URL.createObjectURL(C),P=document.createElement("a");return P.download=g,P.textContent="Download "+g,P.href=S,P.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,g=this.systems.settings.loader;this.setBaseURL(r(g,"baseURL",v.loaderBaseURL)),this.setPath(r(g,"path",v.loaderPath)),this.setPrefix(r(g,"prefix",v.loaderPrefix)),this.state=m.LOADER_IDLE},shutdown:function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});n.register("Loader",c,"load"),p.exports=c},3374:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79291),m=t(92638),l=function(s,a){var e=s===void 0?m():u({},s);if(a)for(var r in a)a[r]!==void 0&&(e[r]=a[r]);return e};p.exports=l},26430:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(54899),s=new u({initialize:function(e,r,d,n){var h=[];n.forEach(function(v){v&&h.push(v)}),this.loader=e,this.type=r,this.key=d;var f=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+f),this.multiKeyIndex=e.multiKeyIndex++,this.files=h,this.state=m.FILE_PENDING,this.complete=!1,this.pending=h.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var c=0;c<h.length;c++)h[c].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(a){return this.files.push(a),a.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(a){var e=this.files.indexOf(a);e!==-1&&this.pending--},onFileFailed:function(a){var e=this.files.indexOf(a);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,a.type,a.key))},pendingDestroy:function(){if(this.state!==m.FILE_PENDING_DESTROY){var a=this.key,e=this.type;this.loader.emit(l.FILE_COMPLETE,a,e),this.loader.emit(l.FILE_KEY_COMPLETE+e+"-"+a,a,e),this.loader.flagForRemoval(this);for(var r=0;r<this.files.length;r++)this.files[r].pendingDestroy();this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=s},84376:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(3374),m=function(l,s){var a=u(s,l.xhrSettings);if(l.base64){var e=l.url.split(";base64,").pop()||l.url.split(",").pop(),r={responseText:atob(e)};l.onBase64Load(r);return}var d=new XMLHttpRequest;if(d.open("GET",l.src,a.async,a.user,a.password),d.responseType=l.xhrSettings.responseType,d.timeout=a.timeout,a.headers)for(var n in a.headers)d.setRequestHeader(n,a.headers[n]);return a.header&&a.headerValue&&d.setRequestHeader(a.header,a.headerValue),a.requestedWith&&d.setRequestHeader("X-Requested-With",a.requestedWith),a.overrideMimeType&&d.overrideMimeType(a.overrideMimeType),a.withCredentials&&(d.withCredentials=!0),d.onload=l.onLoad.bind(l,d),d.onerror=l.onError.bind(l,d),d.onprogress=l.onProgress.bind(l),d.ontimeout=l.onError.bind(l,d),d.send(),d};p.exports=m},92638:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s,a){return t===void 0&&(t=""),u===void 0&&(u=!0),m===void 0&&(m=""),l===void 0&&(l=""),s===void 0&&(s=0),a===void 0&&(a=!1),{responseType:t,async:u,user:m,password:l,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:a}};p.exports=T},23906:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=T},42155:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},38991:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},27540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},87464:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},94486:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},13035:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},38144:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},97520:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},85595:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},55680:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},54899:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(518),s=t(54899),a=new u({Extends:l,initialize:function(r,d,n,h,f){l.call(this,r,d,n,h,f),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),l.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(e,r,d,n){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new a(this,e[h]));else this.addFile(new a(this,e,r,n,d));return this}),p.exports=a},76272:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(95540),s=t(19550),a=t(41212),e=t(518),r=t(26430),d=new u({Extends:r,initialize:function(h,f,c,v,g,y){var C,S;if(a(f)){var P=f;f=l(P,"key"),C=new s(h,{key:f,url:l(P,"textureURL"),extension:l(P,"textureExtension","png"),normalMap:l(P,"normalMap"),xhrSettings:l(P,"textureXhrSettings")}),S=new e(h,{key:f,url:l(P,"atlasURL"),extension:l(P,"atlasExtension","json"),xhrSettings:l(P,"atlasXhrSettings")})}else C=new s(h,f,c,g),S=new e(h,f,v,y);C.linkFile?r.call(this,h,"atlasjson",f,[C,S,C.linkFile]):r.call(this,h,"atlasjson",f,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,h.data,f),h.addToCache(),this.complete=!0}}});m.register("aseprite",function(n,h,f,c,v){var g;if(Array.isArray(n))for(var y=0;y<n.length;y++)g=new d(this,n[y]),this.addFile(g.files);else g=new d(this,n,h,f,c,v),this.addFile(g.files);return this}),p.exports=d},38734:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(95540),s=t(19550),a=t(41212),e=t(518),r=t(26430),d=new u({Extends:r,initialize:function(h,f,c,v,g,y){var C,S;if(a(f)){var P=f;f=l(P,"key"),C=new s(h,{key:f,url:l(P,"textureURL"),extension:l(P,"textureExtension","png"),normalMap:l(P,"normalMap"),xhrSettings:l(P,"textureXhrSettings")}),S=new e(h,{key:f,url:l(P,"atlasURL"),extension:l(P,"atlasExtension","json"),xhrSettings:l(P,"atlasXhrSettings")})}else C=new s(h,f,c,g),S=new e(h,f,v,y);C.linkFile?r.call(this,h,"atlasjson",f,[C,S,C.linkFile]):r.call(this,h,"atlasjson",f,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,h.data,f),this.complete=!0}}});m.register("atlas",function(n,h,f,c,v){var g;if(Array.isArray(n))for(var y=0;y<n.length;y++)g=new d(this,n[y]),this.addFile(g.files);else g=new d(this,n,h,f,c,v),this.addFile(g.files);return this}),p.exports=d},74599:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(95540),s=t(19550),a=t(41212),e=t(26430),r=t(57318),d=new u({Extends:e,initialize:function(h,f,c,v,g,y){var C,S;if(a(f)){var P=f;f=l(P,"key"),C=new s(h,{key:f,url:l(P,"textureURL"),extension:l(P,"textureExtension","png"),normalMap:l(P,"normalMap"),xhrSettings:l(P,"textureXhrSettings")}),S=new r(h,{key:f,url:l(P,"atlasURL"),extension:l(P,"atlasExtension","xml"),xhrSettings:l(P,"atlasXhrSettings")})}else C=new s(h,f,c,g),S=new r(h,f,v,y);C.linkFile?e.call(this,h,"atlasxml",f,[C,S,C.linkFile]):e.call(this,h,"atlasxml",f,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(n.key,n.data,h.data,f),this.complete=!0}}});m.register("atlasXML",function(n,h,f,c,v){var g;if(Array.isArray(n))for(var y=0;y<n.length;y++)g=new d(this,n[y]),this.addFile(g.files);else g=new d(this,n,h,f,c,v),this.addFile(g.files);return this}),p.exports=d},21097:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(89749),r=t(41212),d=new u({Extends:l,initialize:function(h,f,c,v,g){if(r(f)){var y=f;f=a(y,"key"),v=a(y,"xhrSettings"),g=a(y,"context",g)}var C={type:"audio",cache:h.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:f,url:c.url,xhrSettings:v,config:{context:g}};l.call(this,h,C)},onProcess:function(){this.state=m.FILE_PROCESSING;var n=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){n.data=h,n.onProcessComplete()},function(h){console.error("Error decoding audio: "+n.key+" - ",h?h.message:null),n.onProcessError()}),this.config.context=null}});d.create=function(n,h,f,c,v){var g=n.systems.game,y=g.config.audio,C=g.device.audio;r(h)&&(f=a(h,"url",[]),c=a(h,"config",{}));var S=d.getAudioURL(g,f);return S?C.webAudio&&!y.disableWebAudio?new d(n,h,S,v,g.sound.context):new e(n,h,S,c):(console.warn('No audio URLs for "%s" matched this device',h),null)},d.getAudioURL=function(n,h){Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++){var c=a(h[f],"url",h[f]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var v=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=a(h[f],"type",v?v[1]:"").toLowerCase(),n.device.audio[v])return{url:c,type:v}}return null},s.register("audio",function(n,h,f,c){var v=this.systems.game,g=v.config.audio,y=v.device.audio;if(g.noAudio||!y.webAudio&&!y.audioData)return this;var C;if(Array.isArray(n))for(var S=0;S<n.length;S++)C=d.create(this,n[S]),C&&this.addFile(C);else C=d.create(this,n,h,f,c),C&&this.addFile(C);return this}),p.exports=d},89524:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(21097),m=t(83419),l=t(74099),s=t(95540),a=t(41212),e=t(518),r=t(26430),d=new m({Extends:r,initialize:function(h,f,c,v,g,y,C){if(a(f)){var S=f;f=s(S,"key"),c=s(S,"jsonURL"),v=s(S,"audioURL"),g=s(S,"audioConfig"),y=s(S,"audioXhrSettings"),C=s(S,"jsonXhrSettings")}var P;if(!v)P=new e(h,f,c,C),r.call(this,h,"audiosprite",f,[P]),this.config.resourceLoad=!0,this.config.audioConfig=g,this.config.audioXhrSettings=y;else{var w=u.create(h,f,v,g,y);w&&(P=new e(h,f,c,C),r.call(this,h,"audiosprite",f,[w,P]),this.config.resourceLoad=!1)}},onFileComplete:function(n){var h=this.files.indexOf(n);if(h!==-1&&(this.pending--,this.config.resourceLoad&&n.type==="json"&&n.data.hasOwnProperty("resources"))){var f=n.data.resources,c=s(this.config,"audioConfig"),v=s(this.config,"audioXhrSettings"),g=u.create(this.loader,n.key,f,c,v);g&&(this.addToMultiFile(g),this.loader.addFile(g))}},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1];n.addToCache(),h.addToCache(),this.complete=!0}}});l.register("audioSprite",function(n,h,f,c,v,g){var y=this.systems.game,C=y.config.audio,S=y.device.audio;if(C&&C.noAudio||!S.webAudio&&!S.audioData)return this;var P;if(Array.isArray(n))for(var w=0;w<n.length;w++)P=new d(this,n[w]),P.files&&this.addFile(P.files);else P=new d(this,n,h,f,c,v,g),P.files&&this.addFile(P.files);return this})},85722:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c,v){var g="bin";if(e(h)){var y=h;h=a(y,"key"),f=a(y,"url"),c=a(y,"xhrSettings"),g=a(y,"extension",g),v=a(y,"dataType",v)}var C={type:"binary",cache:n.cacheManager.binary,extension:g,responseType:"arraybuffer",key:h,url:f,xhrSettings:c,config:{dataType:v}};l.call(this,n,C)},onProcess:function(){this.state=m.FILE_PROCESSING;var d=this.config.dataType;this.data=d?new d(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(d,n,h,f){if(Array.isArray(d))for(var c=0;c<d.length;c++)this.addFile(new r(this,d[c]));else this.addFile(new r(this,d,n,f,h));return this}),p.exports=r},97025:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(95540),s=t(19550),a=t(41212),e=t(26430),r=t(21859),d=t(57318),n=new u({Extends:e,initialize:function(f,c,v,g,y,C){var S,P;if(a(c)){var w=c;c=l(w,"key"),S=new s(f,{key:c,url:l(w,"textureURL"),extension:l(w,"textureExtension","png"),normalMap:l(w,"normalMap"),xhrSettings:l(w,"textureXhrSettings")}),P=new d(f,{key:c,url:l(w,"fontDataURL"),extension:l(w,"fontDataExtension","xml"),xhrSettings:l(w,"fontDataXhrSettings")})}else S=new s(f,c,v,y),P=new d(f,c,g,C);S.linkFile?e.call(this,f,"bitmapfont",c,[S,P,S.linkFile]):e.call(this,f,"bitmapfont",c,[S,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1];h.addToCache();var c=h.cache.get(h.key),v=r(f.data,h.cache.getFrame(h.key),0,0,c);this.loader.cacheManager.bitmapFont.add(h.key,{data:v,texture:h.key,frame:null}),this.complete=!0}}});m.register("bitmapFont",function(h,f,c,v,g){var y;if(Array.isArray(h))for(var C=0;C<h.length;C++)y=new n(this,h[C]),this.addFile(y.files);else y=new n(this,h,f,c,v,g),this.addFile(y.files);return this}),p.exports=n},16024:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c){var v="css";if(e(h)){var g=h;h=a(g,"key"),f=a(g,"url"),c=a(g,"xhrSettings"),v=a(g,"extension",v)}var y={type:"script",cache:!1,extension:v,responseType:"text",key:h,url:f,xhrSettings:c};l.call(this,n,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(d,n,h){if(Array.isArray(d))for(var f=0;f<d.length;f++)this.addFile(new r(this,d[f]));else this.addFile(new r(this,d,n,h));return this}),p.exports=r},69559:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(38734),m=t(85722),l=t(83419),s=t(74099),a=t(95540),e=t(19550),r=t(41212),d=t(518),n=t(31403),h=t(46975),f=t(59327),c=t(26430),v=t(82038),g=t(55222),y=new l({Extends:c,initialize:function(S,P,w,R){if(w.multiAtlasURL){var L=new d(S,{key:P,url:w.multiAtlasURL,xhrSettings:R,config:w});c.call(this,S,"texture",P,[L])}else{var D=w.textureURL.substr(w.textureURL.length-3);w.type||(w.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var F=new m(S,{key:P,url:w.textureURL,extension:D,xhrSettings:R,config:w});if(w.atlasURL){var O=new d(S,{key:P,url:w.atlasURL,xhrSettings:R,config:w});c.call(this,S,"texture",P,[F,O])}else c.call(this,S,"texture",P,[F])}this.config=w},onFileComplete:function(C){var S=this.files.indexOf(C);if(S!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(C.type==="json"&&C.data.hasOwnProperty("textures")){var P=C.data.textures,w=this.config,R=this.loader,L=R.baseURL,D=R.path,F=R.prefix,O=a(w,"multiBaseURL",this.baseURL),B=a(w,"multiPath",this.path),N=a(w,"prefix",this.prefix),G=a(w,"textureXhrSettings");O&&R.setBaseURL(O),B&&R.setPath(B),N&&R.setPrefix(N);for(var z=0;z<P.length;z++){var X=P[z].image,H="CMA"+this.multiKeyIndex+"_"+X,V=new m(R,H,X,G);if(this.addToMultiFile(V),R.addFile(V),P[z].normalMap){var W=new m(R,H,P[z].normalMap,G);W.type="normalMap",V.setLink(W),this.addToMultiFile(W),R.addFile(W)}}R.setBaseURL(L),R.setPath(D),R.setPrefix(F)}}},addToCache:function(){function C(O){console.warn('Compressed Texture Invalid: "'+L.key+'". '+O)}if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var P=this.loader.systems.renderer,w=this.loader.textureManager,R,L=this.files[0],D=this.files[1];if(S.type==="PVR"?R=v(L.data):S.type==="KTX"&&(R=n(L.data),R||C("KTX file contains unsupported format.")),R&&!g(R)&&(C("Texture dimensions failed verification. Check the texture format specifications for "+S.format+" 0x"+R.internalFormat.toString(16)+"."),R=null),R&&!P.supportsCompressedTexture(S.format,R.internalFormat)&&(C("Texture format "+S.format+" with internal format "+R.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),R=null),R){R.format=P.getCompressedTextureName(S.format,R.internalFormat);var F=D&&D.data?D.data:null;w.addCompressedTexture(L.key,R,F)}}this.complete=!0}},addMultiToCache:function(){for(var C=this.config,S=this.files[0],P=[],w=[],R=[],L=this.loader.systems.renderer,D=this.loader.textureManager,F,O=1;O<this.files.length;O++){var B=this.files[O];if(B.type!=="normalMap")for(var N=B.key.indexOf("_"),G=B.key.substr(N+1),z=B.data,X=0;X<S.data.textures.length;X++){var H=S.data.textures[X];if(H.image===G){C.type==="PVR"?F=v(z):C.type==="KTX"&&(F=n(z)),F&&L.supportsCompressedTexture(C.format,F.internalFormat)&&(F.format=L.getCompressedTextureName(C.format,F.internalFormat),w.push(F),P.push(H),B.linkFile&&R.push(B.linkFile.data));break}}}R.length===0&&(R=void 0),D.addAtlasJSONArray(this.key,w,P,R),this.complete=!0}});s.register("texture",function(C,S,P){var w=this.systems.renderer,R=function(D,F,O,B){var N={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(r(F)){var G=F;F=a(G,"key"),O=a(G,"url"),B=a(G,"xhrSettings")}var z=!1;for(var X in O)if(w.supportsCompressedTexture(X)){var H=O[X];typeof H=="string"?N.textureURL=H:N=h(H,N),N.format=X.toUpperCase(),z=!0;break}if(!z)console.warn("No supported compressed texture format or IMG fallback",F);else if(N.format==="IMG"){var V,W;N.multiAtlasURL?(W=new f(D,F,N.multiAtlasURL,N.multiPath,N.multiBaseURL,B),V=W.files):N.atlasURL?(W=new u(D,F,N.textureURL,N.atlasURL,B),V=W.files):V=new e(D,F,N.textureURL,B),D.addFile(V)}else{var I=new y(D,F,N,B);D.addFile(I.files)}};if(Array.isArray(C))for(var L=0;L<C.length;L++)R(this,C[L]);else R(this,C,S,P);return this}),p.exports=y},47931:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=t(73894),d=new u({Extends:l,initialize:function(h,f,c,v,g){var y="glsl";if(e(f)){var C=f;f=a(C,"key"),c=a(C,"url"),v=a(C,"shaderType","fragment"),g=a(C,"xhrSettings"),y=a(C,"extension",y)}else v===void 0&&(v="fragment");var S={type:"glsl",cache:h.cacheManager.shader,extension:y,responseType:"text",key:f,url:c,config:{shaderType:v},xhrSettings:g};l.call(this,h,S)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n=this.data.split(`
`),h=this.extractBlock(n,0);if(h)for(;h;){var f=this.getShaderName(h.header),c=this.getShaderType(h.header),v=this.getShaderUniforms(h.header),g=h.shader;if(this.cache.has(f)){var y=this.cache.get(f);c==="fragment"?y.fragmentSrc=g:y.vertexSrc=g,y.uniforms||(y.uniforms=v)}else c==="fragment"?this.cache.add(f,new r(f,g,"",v)):this.cache.add(f,new r(f,"",g,v));h=this.extractBlock(n,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data))},getShaderName:function(n){for(var h=0;h<n.length;h++){var f=n[h].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(n){for(var h=0;h<n.length;h++){var f=n[h].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(n){for(var h={},f=0;f<n.length;f++){var c=n[f].trim();if(c.substring(0,8)==="uniform."){var v=c.indexOf(":");if(v){var g=c.substring(8,v);try{h[g]=JSON.parse(c.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+g)}}}}return h},extractBlock:function(n,h){for(var f=-1,c=-1,v=-1,g=!1,y=!1,C=[],S=[],P=h;P<n.length;P++){var w=n[P].trim();if(w==="---")if(f===-1)f=P,g=!0;else if(g)c=P,g=!1,y=!0;else{y=!1;break}else g?C.push(w):y&&(S.push(w),v=P)}return!g&&c!==-1?{header:C,shader:S.join(`
`),offset:v}:null}});s.register("glsl",function(n,h,f,c){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new d(this,n[v]));else this.addFile(new d(this,n,h,f,c));return this}),p.exports=d},89749:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(54899),l=t(41299),s=t(95540),a=t(98356),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c){if(e(h)){var v=h;h=s(v,"key"),c=s(v,"config",c)}var g={type:"audio",cache:n.cacheManager.audio,extension:f.type,key:h,url:f.url,config:c};l.call(this,n,g),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var d=0;d<this.data.length;d++){var n=this.data[d];n.oncanplaythrough=null,n.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(d){var n=d.target;n.oncanplaythrough=null,n.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var d=this.config&&this.config.instances||1;this.filesTotal=d,this.filesLoaded=0,this.percentComplete=0;for(var n=0;n<d;n++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+n).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(n=0;n<this.data.length;n++)h=this.data[n],h.src=a(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=r},88470:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c){var v="html";if(e(h)){var g=h;h=a(g,"key"),f=a(g,"url"),c=a(g,"xhrSettings"),v=a(g,"extension",v)}var y={type:"text",cache:n.cacheManager.html,extension:v,responseType:"text",key:h,url:f,xhrSettings:c};l.call(this,n,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(d,n,h){if(Array.isArray(d))for(var f=0;f<d.length;f++)this.addFile(new r(this,d[f]));else this.addFile(new r(this,d,n,h));return this}),p.exports=r},14643:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c,v,g){c===void 0&&(c=512),v===void 0&&(v=512);var y="html";if(e(h)){var C=h;h=a(C,"key"),f=a(C,"url"),g=a(C,"xhrSettings"),y=a(C,"extension",y),c=a(C,"width",c),v=a(C,"height",v)}var S={type:"html",cache:n.textureManager,extension:y,responseType:"text",key:h,url:f,xhrSettings:g,config:{width:c,height:v}};l.call(this,n,S)},onProcess:function(){this.state=m.FILE_PROCESSING;var d=this.config.width,n=this.config.height,h=[];h.push('<svg width="'+d+'px" height="'+n+'px" viewBox="0 0 '+d+" "+n+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var f=[h.join(`
`)],c=this;try{var v=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=m.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){l.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(c.data),c.onProcessError()},l.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("htmlTexture",function(d,n,h,f,c){if(Array.isArray(d))for(var v=0;v<d.length;v++)this.addFile(new r(this,d[v]));else this.addFile(new r(this,d,n,h,f,c));return this}),p.exports=r},19550:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=t(98356),d=new u({Extends:l,initialize:function n(h,f,c,v,g){var y="png",C;if(e(f)){var S=f;f=a(S,"key"),c=a(S,"url"),C=a(S,"normalMap"),v=a(S,"xhrSettings"),y=a(S,"extension",y),g=a(S,"frameConfig")}Array.isArray(c)&&(C=c[1],c=c[0]);var P={type:"image",cache:h.textureManager,extension:y,responseType:"blob",key:f,url:c,xhrSettings:v,config:g};if(l.call(this,h,P),C){var w=new n(h,this.key,C,v,g);w.type="normalMap",this.setLink(w),h.addFile(w)}this.useImageElementLoad=h.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){l.revokeObjectURL(n.data),n.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(n.data),n.onProcessError()},l.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var n=this.state;this.state=m.FILE_PROCESSING,n===m.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=m.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){n.state=m.FILE_LOADED,n.loader.nextFile(n,!0)},this.data.onerror=function(){n.loader.nextFile(n,!1)},this.data.src=this.src},addToCache:function(){var n=this.linkFile;n?n.state>=m.FILE_COMPLETE&&(n.type==="spritesheet"?n.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,n.data,this.data):this.cache.addImage(this.key,this.data,n.data)):this.cache.addImage(this.key,this.data)}});s.register("image",function(n,h,f){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new d(this,n[c]));else this.addFile(new d(this,n,h,f));return this}),p.exports=d},518:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(35154),r=t(41212),d=new u({Extends:l,initialize:function(h,f,c,v,g){var y="json";if(r(f)){var C=f;f=a(C,"key"),c=a(C,"url"),v=a(C,"xhrSettings"),y=a(C,"extension",y),g=a(C,"dataKey",g)}var S={type:"json",cache:h.cacheManager.json,extension:y,responseType:"text",key:f,url:c,xhrSettings:v,config:g};l.call(this,h,S),r(c)&&(g?this.data=e(c,g):this.data=c,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var n=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var h=this.config;typeof h=="string"?this.data=e(n,h,n):this.data=n}this.onProcessComplete()}});s.register("json",function(n,h,f,c){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new d(this,n[v]));else this.addFile(new d(this,n,h,c,f));return this}),p.exports=d},59327:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(95540),s=t(19550),a=t(41212),e=t(518),r=t(26430),d=new u({Extends:r,initialize:function(h,f,c,v,g,y,C){if(a(f)){var S=f;f=l(S,"key"),l(S,"url",!1)?c=l(S,"url"):c=l(S,"atlasURL"),y=l(S,"xhrSettings"),v=l(S,"path"),g=l(S,"baseURL"),C=l(S,"textureXhrSettings")}var P=new e(h,f,c,y);r.call(this,h,"multiatlas",f,[P]),this.config.path=v,this.config.baseURL=g,this.config.textureXhrSettings=C},onFileComplete:function(n){var h=this.files.indexOf(n);if(h!==-1&&(this.pending--,n.type==="json"&&n.data.hasOwnProperty("textures"))){var f=n.data.textures,c=this.config,v=this.loader,g=v.baseURL,y=v.path,C=v.prefix,S=l(c,"baseURL",this.baseURL),P=l(c,"path",this.path),w=l(c,"prefix",this.prefix),R=l(c,"textureXhrSettings");v.setBaseURL(S),v.setPath(P),v.setPrefix(w);for(var L=0;L<f.length;L++){var D=f[L].image,F="MA"+this.multiKeyIndex+"_"+D,O=new s(v,F,D,R);if(this.addToMultiFile(O),v.addFile(O),f[L].normalMap){var B=new s(v,F,f[L].normalMap,R);B.type="normalMap",O.setLink(B),this.addToMultiFile(B),v.addFile(B)}}v.setBaseURL(g),v.setPath(y),v.setPrefix(C)}},addToCache:function(){if(this.isReadyToProcess()){for(var n=this.files[0],h=[],f=[],c=[],v=1;v<this.files.length;v++){var g=this.files[v];if(g.type!=="normalMap")for(var y=g.key.indexOf("_"),C=g.key.substr(y+1),S=g.data,P=0;P<n.data.textures.length;P++){var w=n.data.textures[P];if(w.image===C){f.push(S),h.push(w),g.linkFile&&c.push(g.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,h,c),this.complete=!0}}});m.register("multiatlas",function(n,h,f,c,v){var g;if(Array.isArray(n))for(var y=0;y<n.length;y++)g=new d(this,n[y]),this.addFile(g.files);else g=new d(this,n,h,f,c,v),this.addFile(g.files);return this}),p.exports=d},99297:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(95540),s=t(41212),a=t(26430),e=t(34328),r=new u({Extends:a,initialize:function(n,h,f,c){var v="js",g=[];if(s(h)){var y=h;h=l(y,"key"),f=l(y,"url"),c=l(y,"xhrSettings"),v=l(y,"extension",v)}Array.isArray(f)||(f=[f]);for(var C=0;C<f.length;C++){var S=new e(n,{key:h+"_"+C.toString(),url:f[C],extension:v,xhrSettings:c});S.onProcess=function(){this.onProcessComplete()},g.push(S)}a.call(this,n,"scripts",h,g)},addToCache:function(){if(this.isReadyToProcess()){for(var d=0;d<this.files.length;d++){var n=this.files[d];n.data=document.createElement("script"),n.data.language="javascript",n.data.type="text/javascript",n.data.defer=!1,n.data.text=n.xhrLoader.responseText,document.head.appendChild(n.data)}this.complete=!0}}});m.register("scripts",function(d,n,h){var f;if(Array.isArray(d))for(var c=0;c<d.length;c++)f=new r(this,d[c]),this.addFile(f.files);else f=new r(this,d,n,h),this.addFile(f.files);return this}),p.exports=r},41846:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(95540),s=t(41212),a=t(26430),e=t(85048),r=t(61485),d=t(78776),n=new u({Extends:a,initialize:function(f,c,v,g,y,C){var S,P,w=f.cacheManager.obj;if(s(c)){var R=c;c=l(R,"key"),S=new d(f,{key:c,type:"obj",cache:w,url:l(R,"url"),extension:l(R,"extension","obj"),xhrSettings:l(R,"xhrSettings"),config:{flipUV:l(R,"flipUV",y)}}),g=l(R,"matURL"),g&&(P=new d(f,{key:c,type:"mat",cache:w,url:g,extension:l(R,"matExtension","mat"),xhrSettings:l(R,"xhrSettings")}))}else S=new d(f,{key:c,url:v,type:"obj",cache:w,extension:"obj",xhrSettings:C,config:{flipUV:y}}),g&&(P=new d(f,{key:c,url:g,type:"mat",cache:w,extension:"mat",xhrSettings:C}));a.call(this,f,"obj",c,[S,P])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],f=this.files[1],c=e(h.data,h.config.flipUV);f&&(c.materials=r(f.data)),h.cache.add(h.key,c),this.complete=!0}}});m.register("obj",function(h,f,c,v,g){var y;if(Array.isArray(h))for(var C=0;C<h.length;C++)y=new n(this,h[C]),this.addFile(y.files);else y=new n(this,h,f,c,v,g),this.addFile(y.files);return this}),p.exports=n},58610:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(74099),s=t(518),a=new u({Extends:s,initialize:function(r,d,n,h,f){s.call(this,r,d,n,h,f),this.type="packfile"},onProcess:function(){if(this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});l.register("pack",function(e,r,d,n){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new a(this,e[h]));else this.addFile(new a(this,e,r,n,d));return this}),p.exports=a},48988:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c,v,g){var y="js";if(e(h)){var C=h;h=a(C,"key"),f=a(C,"url"),g=a(C,"xhrSettings"),y=a(C,"extension",y),c=a(C,"start"),v=a(C,"mapping")}var S={type:"plugin",cache:!1,extension:y,responseType:"text",key:h,url:f,xhrSettings:g,config:{start:c,mapping:v}};l.call(this,n,S),typeof f=="function"&&(this.data=f,this.state=m.FILE_POPULATED)},onProcess:function(){var d=this.loader.systems.plugins,n=this.config,h=a(n,"start",!1),f=a(n,"mapping",null);if(this.state===m.FILE_POPULATED)d.install(this.key,this.data,h,f);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=d.install(this.key,window[this.key],h,f);(h||f)&&(this.loader.systems[f]=c,this.loader.scene[f]=c)}this.onProcessComplete()}});s.register("plugin",function(d,n,h,f,c){if(Array.isArray(d))for(var v=0;v<d.length;v++)this.addFile(new r(this,d[v]));else this.addFile(new r(this,d,n,h,f,c));return this}),p.exports=r},67397:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c,v){var g="svg";if(e(h)){var y=h;h=a(y,"key"),f=a(y,"url"),c=a(y,"svgConfig",{}),v=a(y,"xhrSettings"),g=a(y,"extension",g)}var C={type:"svg",cache:n.textureManager,extension:g,responseType:"text",key:h,url:f,xhrSettings:v,config:{width:a(c,"width"),height:a(c,"height"),scale:a(c,"scale")}};l.call(this,n,C)},onProcess:function(){this.state=m.FILE_PROCESSING;var d=this.xhrLoader.responseText,n=[d],h=this.config.width,f=this.config.height,c=this.config.scale;t:if(h&&f||c){var v=null,g=new DOMParser;v=g.parseFromString(d,"text/xml");var y=v.getElementsByTagName("svg")[0],C=y.hasAttribute("viewBox"),S=parseFloat(y.getAttribute("width")),P=parseFloat(y.getAttribute("height"));if(!C&&S&&P)y.setAttribute("viewBox","0  0 "+S+" "+P);else if(C&&!S&&!P){var w=y.getAttribute("viewBox").split(/\s+|,/);S=w[2],P=w[3]}if(c)if(S&&P)h=S*c,f=P*c;else break t;y.setAttribute("width",h.toString()+"px"),y.setAttribute("height",f.toString()+"px"),n=[new XMLSerializer().serializeToString(y)]}try{var R=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,D=!1;this.data.onload=function(){D||l.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){D?L.onProcessError():(D=!0,l.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(n.join("")))},l.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("svg",function(d,n,h,f){if(Array.isArray(d))for(var c=0;c<d.length;c++)this.addFile(new r(this,d[c]));else this.addFile(new r(this,d,n,h,f));return this}),p.exports=r},88423:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c){var v="js";if(e(h)){var g=h;h=a(g,"key"),f=a(g,"url"),c=a(g,"xhrSettings"),v=a(g,"extension",v)}var y={type:"text",extension:v,responseType:"text",key:h,url:f,xhrSettings:c};l.call(this,n,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var d=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),n=eval;this.loader.sceneManager.add(this.key,n(d)),this.complete=!0}});s.register("sceneFile",function(d,n,h){if(Array.isArray(d))for(var f=0;f<d.length;f++)this.addFile(new r(this,d[f]));else this.addFile(new r(this,d,n,h));return this}),p.exports=r},56812:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c,v,g){var y="js";if(e(h)){var C=h;h=a(C,"key"),f=a(C,"url"),g=a(C,"xhrSettings"),y=a(C,"extension",y),c=a(C,"systemKey"),v=a(C,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:y,responseType:"text",key:h,url:f,xhrSettings:g,config:{systemKey:c,sceneKey:v}};l.call(this,n,S),typeof f=="function"&&(this.data=f,this.state=m.FILE_POPULATED)},onProcess:function(){var d=this.loader.systems.plugins,n=this.config,h=this.key,f=a(n,"systemKey",h),c=a(n,"sceneKey",h);this.state===m.FILE_POPULATED?d.installScenePlugin(f,this.data,c,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),d.installScenePlugin(f,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(d,n,h,f,c){if(Array.isArray(d))for(var v=0;v<d.length;v++)this.addFile(new r(this,d[v]));else this.addFile(new r(this,d,n,h,f,c));return this}),p.exports=r},34328:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c,v){var g="js";if(e(h)){var y=h;h=a(y,"key"),f=a(y,"url"),c=a(y,"type","script"),v=a(y,"xhrSettings"),g=a(y,"extension",g)}else c===void 0&&(c="script");var C={type:c,cache:!1,extension:g,responseType:"text",key:h,url:f,xhrSettings:v};l.call(this,n,C)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(d,n,h,f){if(Array.isArray(d))for(var c=0;c<d.length;c++)this.addFile(new r(this,d[c]));else this.addFile(new r(this,d,n,h,f));return this}),p.exports=r},85035:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(74099),s=t(19550),a=new u({Extends:s,initialize:function(r,d,n,h,f){s.call(this,r,d,n,f,h),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});l.register("spritesheet",function(e,r,d,n){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new a(this,e[h]));else this.addFile(new a(this,e,r,d,n));return this}),p.exports=a},78776:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=new u({Extends:l,initialize:function(n,h,f,c){var v="text",g="txt",y=n.cacheManager.text;if(e(h)){var C=h;h=a(C,"key"),f=a(C,"url"),c=a(C,"xhrSettings"),g=a(C,"extension",g),v=a(C,"type",v),y=a(C,"cache",y)}var S={type:v,cache:y,extension:g,responseType:"text",key:h,url:f,xhrSettings:c};l.call(this,n,S)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(d,n,h){if(Array.isArray(d))for(var f=0;f<d.length;f++)this.addFile(new r(this,d[f]));else this.addFile(new r(this,d,n,h));return this}),p.exports=r},49477:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=t(80341),d=new u({Extends:l,initialize:function(h,f,c,v){var g="csv";if(e(f)){var y=f;f=a(y,"key"),c=a(y,"url"),v=a(y,"xhrSettings"),g=a(y,"extension",g)}var C={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:g,responseType:"text",key:f,url:c,xhrSettings:v};l.call(this,h,C),this.tilemapFormat=r.CSV},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,n)}});s.register("tilemapCSV",function(n,h,f){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new d(this,n[c]));else this.addFile(new d(this,n,h,f));return this}),p.exports=d},40807:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(518),s=t(80341),a=new u({Extends:l,initialize:function(r,d,n,h){l.call(this,r,d,n,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});m.register("tilemapImpact",function(e,r,d){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new a(this,e[n]));else this.addFile(new a(this,e,r,d));return this}),p.exports=a},56775:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(518),s=t(80341),a=new u({Extends:l,initialize:function(r,d,n,h){l.call(this,r,d,n,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var e={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});m.register("tilemapTiledJSON",function(e,r,d){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new a(this,e[n]));else this.addFile(new a(this,e,r,d));return this}),p.exports=a},25771:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(74099),l=t(95540),s=t(19550),a=t(41212),e=t(26430),r=t(78776),d=new u({Extends:e,initialize:function(h,f,c,v,g,y){var C,S;if(a(f)){var P=f;f=l(P,"key"),C=new s(h,{key:f,url:l(P,"textureURL"),extension:l(P,"textureExtension","png"),normalMap:l(P,"normalMap"),xhrSettings:l(P,"textureXhrSettings")}),S=new r(h,{key:f,url:l(P,"atlasURL"),extension:l(P,"atlasExtension","txt"),xhrSettings:l(P,"atlasXhrSettings")})}else C=new s(h,f,c,g),S=new r(h,f,v,y);C.linkFile?e.call(this,h,"unityatlas",f,[C,S,C.linkFile]):e.call(this,h,"unityatlas",f,[C,S])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(n.key,n.data,h.data,f),this.complete=!0}}});m.register("unityAtlas",function(n,h,f,c,v){var g;if(Array.isArray(n))for(var y=0;y<n.length;y++)g=new d(this,n[y]),this.addFile(g.files);else g=new d(this,n,h,f,c,v),this.addFile(g.files);return this}),p.exports=d},33720:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(98356),e=t(95540),r=t(41212),d=new u({Extends:l,initialize:function(h,f,c,v){if(v===void 0&&(v=!1),r(f)){var g=f;f=e(g,"key"),c=e(g,"url",[]),v=e(g,"noAudio",!1)}var y=h.systems.game.device.video.getVideoURL(c);y||console.warn("VideoFile: No supported format for "+f);var C={type:"video",cache:h.cacheManager.video,extension:y.type,key:f,url:y.url,config:{noAudio:v}};l.call(this,h,C)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=a(this,this.loader.baseURL),this.state=m.FILE_LOADED,this.loader.nextFile(this,!0)}});s.register("video",function(n,h,f){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new d(this,n[c]));else this.addFile(new d(this,n,h,f));return this}),p.exports=d},57318:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(23906),l=t(41299),s=t(74099),a=t(95540),e=t(41212),r=t(56836),d=new u({Extends:l,initialize:function(h,f,c,v){var g="xml";if(e(f)){var y=f;f=a(y,"key"),c=a(y,"url"),v=a(y,"xhrSettings"),g=a(y,"extension",g)}var C={type:"xml",cache:h.cacheManager.xml,extension:g,responseType:"text",key:f,url:c,xhrSettings:v};l.call(this,h,C)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});s.register("xml",function(n,h,f){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new d(this,n[c]));else this.addFile(new d(this,n,h,f));return this}),p.exports=d},64589:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23906),m=t(79291),l={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};l=m(!1,l,u),p.exports=l},53307:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var u=0,m=0;m<t.length;m++)u+=+t[m];return u/t.length};p.exports=T},85710:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6411),m=function(l,s){return u(l)/u(s)/u(l-s)};p.exports=m},30976:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return Math.floor(Math.random()*(u-t+1)+t)};p.exports=T},87842:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s){var a=(l-u)*.5,e=(s-m)*.5,r=t*t,d=t*r;return(2*m-2*l+a+e)*d+(-3*m+3*l-2*a-e)*r+a*t+m};p.exports=T},26302:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){u===void 0&&(u=0),m===void 0&&(m=10);var l=Math.pow(m,-u);return Math.ceil(t*l)/l};p.exports=T},45319:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return Math.max(u,Math.min(m,t))};p.exports=T},39506:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=function(l){return l*u.DEG_TO_RAD};p.exports=m},61241:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return Math.abs(t-u)};p.exports=T},38857:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(37867),s=t(29747),a=new l,e=new m({initialize:function r(d,n,h,f){d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f=r.DefaultOrder),this._x=d,this._y=n,this._z=h,this._order=f,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,d,n,h){return h===void 0&&(h=this._order),this._x=r,this._y=d,this._z=n,this._order=h,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,d,n){return d===void 0&&(d=this._order),n===void 0&&(n=!1),a.fromQuat(r),this.setFromRotationMatrix(a,d,n)},setFromRotationMatrix:function(r,d,n){d===void 0&&(d=this._order),n===void 0&&(n=!1);var h=r.val,f=h[0],c=h[4],v=h[8],g=h[1],y=h[5],C=h[9],S=h[2],P=h[6],w=h[10],R=0,L=0,D=0,F=.99999;switch(d){case"XYZ":{L=Math.asin(u(v,-1,1)),Math.abs(v)<F?(R=Math.atan2(-C,w),D=Math.atan2(-c,f)):R=Math.atan2(P,y);break}case"YXZ":{R=Math.asin(-u(C,-1,1)),Math.abs(C)<F?(L=Math.atan2(v,w),D=Math.atan2(g,y)):L=Math.atan2(-S,f);break}case"ZXY":{R=Math.asin(u(P,-1,1)),Math.abs(P)<F?(L=Math.atan2(-S,w),D=Math.atan2(-c,y)):D=Math.atan2(g,f);break}case"ZYX":{L=Math.asin(-u(S,-1,1)),Math.abs(S)<F?(R=Math.atan2(P,w),D=Math.atan2(g,f)):D=Math.atan2(-c,y);break}case"YZX":{D=Math.asin(u(g,-1,1)),Math.abs(g)<F?(R=Math.atan2(-C,y),L=Math.atan2(-S,f)):L=Math.atan2(v,w);break}case"XZY":{D=Math.asin(-u(c,-1,1)),Math.abs(c)<F?(R=Math.atan2(P,y),L=Math.atan2(v,f)):R=Math.atan2(-C,w);break}}return this._x=R,this._y=L,this._z=D,this._order=d,n&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",p.exports=e},6411:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){if(t===0)return 1;for(var u=t;--t;)u*=t;return u};p.exports=T},99472:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return Math.random()*(u-t)+t};p.exports=T},77623:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){u===void 0&&(u=0),m===void 0&&(m=10);var l=Math.pow(m,-u);return Math.floor(t*l)/l};p.exports=T},62945:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=function(l,s,a){return l=u(l,0,1),(a-s)*l+s};p.exports=m},38265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t/u/1e3};p.exports=T},78702:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=T},94883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=T},28915:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return(u-t)*m+t};p.exports=T},94908:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return m===void 0&&(m=0),t.clone().lerp(u,m)};p.exports=T},94434:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s){this.val=new Float32Array(9),s?this.copy(s):this.identity()},clone:function(){return new m(this)},set:function(l){return this.copy(l)},copy:function(l){var s=this.val,a=l.val;return s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],s[4]=a[4],s[5]=a[5],s[6]=a[6],s[7]=a[7],s[8]=a[8],this},fromMat4:function(l){var s=l.val,a=this.val;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[4],a[4]=s[5],a[5]=s[6],a[6]=s[8],a[7]=s[9],a[8]=s[10],this},fromArray:function(l){var s=this.val;return s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],s[6]=l[6],s[7]=l[7],s[8]=l[8],this},identity:function(){var l=this.val;return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=0,l[7]=0,l[8]=1,this},transpose:function(){var l=this.val,s=l[1],a=l[2],e=l[5];return l[1]=l[3],l[2]=l[6],l[3]=s,l[5]=l[7],l[6]=a,l[7]=e,this},invert:function(){var l=this.val,s=l[0],a=l[1],e=l[2],r=l[3],d=l[4],n=l[5],h=l[6],f=l[7],c=l[8],v=c*d-n*f,g=-c*r+n*h,y=f*r-d*h,C=s*v+a*g+e*y;return C?(C=1/C,l[0]=v*C,l[1]=(-c*a+e*f)*C,l[2]=(n*a-e*d)*C,l[3]=g*C,l[4]=(c*s-e*h)*C,l[5]=(-n*s+e*r)*C,l[6]=y*C,l[7]=(-f*s+a*h)*C,l[8]=(d*s-a*r)*C,this):null},adjoint:function(){var l=this.val,s=l[0],a=l[1],e=l[2],r=l[3],d=l[4],n=l[5],h=l[6],f=l[7],c=l[8];return l[0]=d*c-n*f,l[1]=e*f-a*c,l[2]=a*n-e*d,l[3]=n*h-r*c,l[4]=s*c-e*h,l[5]=e*r-s*n,l[6]=r*f-d*h,l[7]=a*h-s*f,l[8]=s*d-a*r,this},determinant:function(){var l=this.val,s=l[0],a=l[1],e=l[2],r=l[3],d=l[4],n=l[5],h=l[6],f=l[7],c=l[8];return s*(c*d-n*f)+a*(-c*r+n*h)+e*(f*r-d*h)},multiply:function(l){var s=this.val,a=s[0],e=s[1],r=s[2],d=s[3],n=s[4],h=s[5],f=s[6],c=s[7],v=s[8],g=l.val,y=g[0],C=g[1],S=g[2],P=g[3],w=g[4],R=g[5],L=g[6],D=g[7],F=g[8];return s[0]=y*a+C*d+S*f,s[1]=y*e+C*n+S*c,s[2]=y*r+C*h+S*v,s[3]=P*a+w*d+R*f,s[4]=P*e+w*n+R*c,s[5]=P*r+w*h+R*v,s[6]=L*a+D*d+F*f,s[7]=L*e+D*n+F*c,s[8]=L*r+D*h+F*v,this},translate:function(l){var s=this.val,a=l.x,e=l.y;return s[6]=a*s[0]+e*s[3]+s[6],s[7]=a*s[1]+e*s[4]+s[7],s[8]=a*s[2]+e*s[5]+s[8],this},rotate:function(l){var s=this.val,a=s[0],e=s[1],r=s[2],d=s[3],n=s[4],h=s[5],f=Math.sin(l),c=Math.cos(l);return s[0]=c*a+f*d,s[1]=c*e+f*n,s[2]=c*r+f*h,s[3]=c*d-f*a,s[4]=c*n-f*e,s[5]=c*h-f*r,this},scale:function(l){var s=this.val,a=l.x,e=l.y;return s[0]=a*s[0],s[1]=a*s[1],s[2]=a*s[2],s[3]=e*s[3],s[4]=e*s[4],s[5]=e*s[5],this},fromQuat:function(l){var s=l.x,a=l.y,e=l.z,r=l.w,d=s+s,n=a+a,h=e+e,f=s*d,c=s*n,v=s*h,g=a*n,y=a*h,C=e*h,S=r*d,P=r*n,w=r*h,R=this.val;return R[0]=1-(g+C),R[3]=c+w,R[6]=v-P,R[1]=c-w,R[4]=1-(f+C),R[7]=y+S,R[2]=v+P,R[5]=y-S,R[8]=1-(f+g),this},normalFromMat4:function(l){var s=l.val,a=this.val,e=s[0],r=s[1],d=s[2],n=s[3],h=s[4],f=s[5],c=s[6],v=s[7],g=s[8],y=s[9],C=s[10],S=s[11],P=s[12],w=s[13],R=s[14],L=s[15],D=e*f-r*h,F=e*c-d*h,O=e*v-n*h,B=r*c-d*f,N=r*v-n*f,G=d*v-n*c,z=g*w-y*P,X=g*R-C*P,H=g*L-S*P,V=y*R-C*w,W=y*L-S*w,I=C*L-S*R,b=D*I-F*W+O*V+B*H-N*X+G*z;return b?(b=1/b,a[0]=(f*I-c*W+v*V)*b,a[1]=(c*H-h*I-v*X)*b,a[2]=(h*W-f*H+v*z)*b,a[3]=(d*W-r*I-n*V)*b,a[4]=(e*I-d*H+n*X)*b,a[5]=(r*H-e*W-n*z)*b,a[6]=(w*G-R*N+L*B)*b,a[7]=(R*O-P*G-L*F)*b,a[8]=(P*N-w*O+L*D)*b,this):null}});p.exports=m},37867:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(25836),l=1e-6,s=new u({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new s(this)},set:function(h){return this.copy(h)},setValues:function(h,f,c,v,g,y,C,S,P,w,R,L,D,F,O,B){var N=this.val;return N[0]=h,N[1]=f,N[2]=c,N[3]=v,N[4]=g,N[5]=y,N[6]=C,N[7]=S,N[8]=P,N[9]=w,N[10]=R,N[11]=L,N[12]=D,N[13]=F,N[14]=O,N[15]=B,this},copy:function(h){var f=h.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,f,c){var v=a.fromQuat(c),g=v.val,y=f.x,C=f.y,S=f.z;return this.setValues(g[0]*y,g[1]*y,g[2]*y,0,g[4]*C,g[5]*C,g[6]*C,0,g[8]*S,g[9]*S,g[10]*S,0,h.x,h.y,h.z,1)},xyz:function(h,f,c){this.identity();var v=this.val;return v[12]=h,v[13]=f,v[14]=c,this},scaling:function(h,f,c){this.zero();var v=this.val;return v[0]=h,v[5]=f,v[10]=c,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,f=h[1],c=h[2],v=h[3],g=h[6],y=h[7],C=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=f,h[6]=h[9],h[7]=h[13],h[8]=c,h[9]=g,h[11]=h[14],h[12]=v,h[13]=y,h[14]=C,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,f=h[0],c=h[1],v=h[2],g=h[3],y=h[4],C=h[5],S=h[6],P=h[7],w=h[8],R=h[9],L=h[10],D=h[11],F=h[12],O=h[13],B=h[14],N=h[15],G=f*C-c*y,z=f*S-v*y,X=f*P-g*y,H=c*S-v*C,V=c*P-g*C,W=v*P-g*S,I=w*O-R*F,b=w*B-L*F,U=w*N-D*F,Y=R*B-L*O,$=R*N-D*O,j=L*N-D*B,K=G*j-z*$+X*Y+H*U-V*b+W*I;return K?(K=1/K,this.setValues((C*j-S*$+P*Y)*K,(v*$-c*j-g*Y)*K,(O*W-B*V+N*H)*K,(L*V-R*W-D*H)*K,(S*U-y*j-P*b)*K,(f*j-v*U+g*b)*K,(B*X-F*W-N*z)*K,(w*W-L*X+D*z)*K,(y*$-C*U+P*I)*K,(c*U-f*$-g*I)*K,(F*V-O*X+N*G)*K,(R*X-w*V-D*G)*K,(C*b-y*Y-S*I)*K,(f*Y-c*b+v*I)*K,(O*z-F*H-B*G)*K,(w*H-R*z+L*G)*K)):this},adjoint:function(){var h=this.val,f=h[0],c=h[1],v=h[2],g=h[3],y=h[4],C=h[5],S=h[6],P=h[7],w=h[8],R=h[9],L=h[10],D=h[11],F=h[12],O=h[13],B=h[14],N=h[15];return this.setValues(C*(L*N-D*B)-R*(S*N-P*B)+O*(S*D-P*L),-(c*(L*N-D*B)-R*(v*N-g*B)+O*(v*D-g*L)),c*(S*N-P*B)-C*(v*N-g*B)+O*(v*P-g*S),-(c*(S*D-P*L)-C*(v*D-g*L)+R*(v*P-g*S)),-(y*(L*N-D*B)-w*(S*N-P*B)+F*(S*D-P*L)),f*(L*N-D*B)-w*(v*N-g*B)+F*(v*D-g*L),-(f*(S*N-P*B)-y*(v*N-g*B)+F*(v*P-g*S)),f*(S*D-P*L)-y*(v*D-g*L)+w*(v*P-g*S),y*(R*N-D*O)-w*(C*N-P*O)+F*(C*D-P*R),-(f*(R*N-D*O)-w*(c*N-g*O)+F*(c*D-g*R)),f*(C*N-P*O)-y*(c*N-g*O)+F*(c*P-g*C),-(f*(C*D-P*R)-y*(c*D-g*R)+w*(c*P-g*C)),-(y*(R*B-L*O)-w*(C*B-S*O)+F*(C*L-S*R)),f*(R*B-L*O)-w*(c*B-v*O)+F*(c*L-v*R),-(f*(C*B-S*O)-y*(c*B-v*O)+F*(c*S-v*C)),f*(C*L-S*R)-y*(c*L-v*R)+w*(c*S-v*C))},determinant:function(){var h=this.val,f=h[0],c=h[1],v=h[2],g=h[3],y=h[4],C=h[5],S=h[6],P=h[7],w=h[8],R=h[9],L=h[10],D=h[11],F=h[12],O=h[13],B=h[14],N=h[15],G=f*C-c*y,z=f*S-v*y,X=f*P-g*y,H=c*S-v*C,V=c*P-g*C,W=v*P-g*S,I=w*O-R*F,b=w*B-L*F,U=w*N-D*F,Y=R*B-L*O,$=R*N-D*O,j=L*N-D*B;return G*j-z*$+X*Y+H*U-V*b+W*I},multiply:function(h){var f=this.val,c=f[0],v=f[1],g=f[2],y=f[3],C=f[4],S=f[5],P=f[6],w=f[7],R=f[8],L=f[9],D=f[10],F=f[11],O=f[12],B=f[13],N=f[14],G=f[15],z=h.val,X=z[0],H=z[1],V=z[2],W=z[3];return f[0]=X*c+H*C+V*R+W*O,f[1]=X*v+H*S+V*L+W*B,f[2]=X*g+H*P+V*D+W*N,f[3]=X*y+H*w+V*F+W*G,X=z[4],H=z[5],V=z[6],W=z[7],f[4]=X*c+H*C+V*R+W*O,f[5]=X*v+H*S+V*L+W*B,f[6]=X*g+H*P+V*D+W*N,f[7]=X*y+H*w+V*F+W*G,X=z[8],H=z[9],V=z[10],W=z[11],f[8]=X*c+H*C+V*R+W*O,f[9]=X*v+H*S+V*L+W*B,f[10]=X*g+H*P+V*D+W*N,f[11]=X*y+H*w+V*F+W*G,X=z[12],H=z[13],V=z[14],W=z[15],f[12]=X*c+H*C+V*R+W*O,f[13]=X*v+H*S+V*L+W*B,f[14]=X*g+H*P+V*D+W*N,f[15]=X*y+H*w+V*F+W*G,this},multiplyLocal:function(h){var f=this.val,c=h.val;return this.setValues(f[0]*c[0]+f[1]*c[4]+f[2]*c[8]+f[3]*c[12],f[0]*c[1]+f[1]*c[5]+f[2]*c[9]+f[3]*c[13],f[0]*c[2]+f[1]*c[6]+f[2]*c[10]+f[3]*c[14],f[0]*c[3]+f[1]*c[7]+f[2]*c[11]+f[3]*c[15],f[4]*c[0]+f[5]*c[4]+f[6]*c[8]+f[7]*c[12],f[4]*c[1]+f[5]*c[5]+f[6]*c[9]+f[7]*c[13],f[4]*c[2]+f[5]*c[6]+f[6]*c[10]+f[7]*c[14],f[4]*c[3]+f[5]*c[7]+f[6]*c[11]+f[7]*c[15],f[8]*c[0]+f[9]*c[4]+f[10]*c[8]+f[11]*c[12],f[8]*c[1]+f[9]*c[5]+f[10]*c[9]+f[11]*c[13],f[8]*c[2]+f[9]*c[6]+f[10]*c[10]+f[11]*c[14],f[8]*c[3]+f[9]*c[7]+f[10]*c[11]+f[11]*c[15],f[12]*c[0]+f[13]*c[4]+f[14]*c[8]+f[15]*c[12],f[12]*c[1]+f[13]*c[5]+f[14]*c[9]+f[15]*c[13],f[12]*c[2]+f[13]*c[6]+f[14]*c[10]+f[15]*c[14],f[12]*c[3]+f[13]*c[7]+f[14]*c[11]+f[15]*c[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,f){var c=h.val,v=f.val,g=c[0],y=c[4],C=c[8],S=c[12],P=c[1],w=c[5],R=c[9],L=c[13],D=c[2],F=c[6],O=c[10],B=c[14],N=c[3],G=c[7],z=c[11],X=c[15],H=v[0],V=v[4],W=v[8],I=v[12],b=v[1],U=v[5],Y=v[9],$=v[13],j=v[2],K=v[6],J=v[10],k=v[14],_=v[3],et=v[7],nt=v[11],it=v[15];return this.setValues(g*H+y*b+C*j+S*_,P*H+w*b+R*j+L*_,D*H+F*b+O*j+B*_,N*H+G*b+z*j+X*_,g*V+y*U+C*K+S*et,P*V+w*U+R*K+L*et,D*V+F*U+O*K+B*et,N*V+G*U+z*K+X*et,g*W+y*Y+C*J+S*nt,P*W+w*Y+R*J+L*nt,D*W+F*Y+O*J+B*nt,N*W+G*Y+z*J+X*nt,g*I+y*$+C*k+S*it,P*I+w*$+R*k+L*it,D*I+F*$+O*k+B*it,N*I+G*$+z*k+X*it)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,f,c){var v=this.val;return v[12]=v[0]*h+v[4]*f+v[8]*c+v[12],v[13]=v[1]*h+v[5]*f+v[9]*c+v[13],v[14]=v[2]*h+v[6]*f+v[10]*c+v[14],v[15]=v[3]*h+v[7]*f+v[11]*c+v[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,f,c){var v=this.val;return v[0]=v[0]*h,v[1]=v[1]*h,v[2]=v[2]*h,v[3]=v[3]*h,v[4]=v[4]*f,v[5]=v[5]*f,v[6]=v[6]*f,v[7]=v[7]*f,v[8]=v[8]*c,v[9]=v[9]*c,v[10]=v[10]*c,v[11]=v[11]*c,this},makeRotationAxis:function(h,f){var c=Math.cos(f),v=Math.sin(f),g=1-c,y=h.x,C=h.y,S=h.z,P=g*y,w=g*C;return this.setValues(P*y+c,P*C-v*S,P*S+v*C,0,P*C+v*S,w*C+c,w*S-v*y,0,P*S-v*C,w*S+v*y,g*S*S+c,0,0,0,0,1)},rotate:function(h,f){var c=this.val,v=f.x,g=f.y,y=f.z,C=Math.sqrt(v*v+g*g+y*y);if(Math.abs(C)<l)return this;C=1/C,v*=C,g*=C,y*=C;var S=Math.sin(h),P=Math.cos(h),w=1-P,R=c[0],L=c[1],D=c[2],F=c[3],O=c[4],B=c[5],N=c[6],G=c[7],z=c[8],X=c[9],H=c[10],V=c[11],W=c[12],I=c[13],b=c[14],U=c[15],Y=v*v*w+P,$=g*v*w+y*S,j=y*v*w-g*S,K=v*g*w-y*S,J=g*g*w+P,k=y*g*w+v*S,_=v*y*w+g*S,et=g*y*w-v*S,nt=y*y*w+P;return this.setValues(R*Y+O*$+z*j,L*Y+B*$+X*j,D*Y+N*$+H*j,F*Y+G*$+V*j,R*K+O*J+z*k,L*K+B*J+X*k,D*K+N*J+H*k,F*K+G*J+V*k,R*_+O*et+z*nt,L*_+B*et+X*nt,D*_+N*et+H*nt,F*_+G*et+V*nt,W,I,b,U)},rotateX:function(h){var f=this.val,c=Math.sin(h),v=Math.cos(h),g=f[4],y=f[5],C=f[6],S=f[7],P=f[8],w=f[9],R=f[10],L=f[11];return f[4]=g*v+P*c,f[5]=y*v+w*c,f[6]=C*v+R*c,f[7]=S*v+L*c,f[8]=P*v-g*c,f[9]=w*v-y*c,f[10]=R*v-C*c,f[11]=L*v-S*c,this},rotateY:function(h){var f=this.val,c=Math.sin(h),v=Math.cos(h),g=f[0],y=f[1],C=f[2],S=f[3],P=f[8],w=f[9],R=f[10],L=f[11];return f[0]=g*v-P*c,f[1]=y*v-w*c,f[2]=C*v-R*c,f[3]=S*v-L*c,f[8]=g*c+P*v,f[9]=y*c+w*v,f[10]=C*c+R*v,f[11]=S*c+L*v,this},rotateZ:function(h){var f=this.val,c=Math.sin(h),v=Math.cos(h),g=f[0],y=f[1],C=f[2],S=f[3],P=f[4],w=f[5],R=f[6],L=f[7];return f[0]=g*v+P*c,f[1]=y*v+w*c,f[2]=C*v+R*c,f[3]=S*v+L*c,f[4]=P*v-g*c,f[5]=w*v-y*c,f[6]=R*v-C*c,f[7]=L*v-S*c,this},fromRotationTranslation:function(h,f){var c=h.x,v=h.y,g=h.z,y=h.w,C=c+c,S=v+v,P=g+g,w=c*C,R=c*S,L=c*P,D=v*S,F=v*P,O=g*P,B=y*C,N=y*S,G=y*P;return this.setValues(1-(D+O),R+G,L-N,0,R-G,1-(w+O),F+B,0,L+N,F-B,1-(w+D),0,f.x,f.y,f.z,1)},fromQuat:function(h){var f=h.x,c=h.y,v=h.z,g=h.w,y=f+f,C=c+c,S=v+v,P=f*y,w=f*C,R=f*S,L=c*C,D=c*S,F=v*S,O=g*y,B=g*C,N=g*S;return this.setValues(1-(L+F),w+N,R-B,0,w-N,1-(P+F),D+O,0,R+B,D-O,1-(P+L),0,0,0,0,1)},frustum:function(h,f,c,v,g,y){var C=1/(f-h),S=1/(v-c),P=1/(g-y);return this.setValues(g*2*C,0,0,0,0,g*2*S,0,0,(f+h)*C,(v+c)*S,(y+g)*P,-1,0,0,y*g*2*P,0)},perspective:function(h,f,c,v){var g=1/Math.tan(h/2),y=1/(c-v);return this.setValues(g/f,0,0,0,0,g,0,0,0,0,(v+c)*y,-1,0,0,2*v*c*y,0)},perspectiveLH:function(h,f,c,v){return this.setValues(2*c/h,0,0,0,0,2*c/f,0,0,0,0,-v/(c-v),1,0,0,c*v/(c-v),0)},ortho:function(h,f,c,v,g,y){var C=h-f,S=c-v,P=g-y;return C=C===0?C:1/C,S=S===0?S:1/S,P=P===0?P:1/P,this.setValues(-2*C,0,0,0,0,-2*S,0,0,0,0,2*P,0,(h+f)*C,(v+c)*S,(y+g)*P,1)},lookAtRH:function(h,f,c){var v=this.val;return n.subVectors(h,f),n.getLengthSquared()===0&&(n.z=1),n.normalize(),r.crossVectors(c,n),r.getLengthSquared()===0&&(Math.abs(c.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),r.crossVectors(c,n)),r.normalize(),d.crossVectors(n,r),v[0]=r.x,v[1]=r.y,v[2]=r.z,v[4]=d.x,v[5]=d.y,v[6]=d.z,v[8]=n.x,v[9]=n.y,v[10]=n.z,this},lookAt:function(h,f,c){var v=h.x,g=h.y,y=h.z,C=c.x,S=c.y,P=c.z,w=f.x,R=f.y,L=f.z;if(Math.abs(v-w)<l&&Math.abs(g-R)<l&&Math.abs(y-L)<l)return this.identity();var D=v-w,F=g-R,O=y-L,B=1/Math.sqrt(D*D+F*F+O*O);D*=B,F*=B,O*=B;var N=S*O-P*F,G=P*D-C*O,z=C*F-S*D;B=Math.sqrt(N*N+G*G+z*z),B?(B=1/B,N*=B,G*=B,z*=B):(N=0,G=0,z=0);var X=F*z-O*G,H=O*N-D*z,V=D*G-F*N;return B=Math.sqrt(X*X+H*H+V*V),B?(B=1/B,X*=B,H*=B,V*=B):(X=0,H=0,V=0),this.setValues(N,X,D,0,G,H,F,0,z,V,O,0,-(N*v+G*g+z*y),-(X*v+H*g+V*y),-(D*v+F*g+O*y),1)},yawPitchRoll:function(h,f,c){this.zero(),a.zero(),e.zero();var v=this.val,g=a.val,y=e.val,C=Math.sin(c),S=Math.cos(c);return v[10]=1,v[15]=1,v[0]=S,v[1]=C,v[4]=-C,v[5]=S,C=Math.sin(f),S=Math.cos(f),g[0]=1,g[15]=1,g[5]=S,g[10]=S,g[9]=-C,g[6]=C,C=Math.sin(h),S=Math.cos(h),y[5]=1,y[15]=1,y[0]=S,y[2]=-C,y[8]=C,y[10]=S,this.multiplyLocal(a),this.multiplyLocal(e),this},setWorldMatrix:function(h,f,c,v,g){return this.yawPitchRoll(h.y,h.x,h.z),a.scaling(c.x,c.y,c.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(a),this.multiplyLocal(e),v&&this.multiplyLocal(v),g&&this.multiplyLocal(g),this},multiplyToMat4:function(h,f){var c=this.val,v=h.val,g=c[0],y=c[1],C=c[2],S=c[3],P=c[4],w=c[5],R=c[6],L=c[7],D=c[8],F=c[9],O=c[10],B=c[11],N=c[12],G=c[13],z=c[14],X=c[15],H=v[0],V=v[1],W=v[2],I=v[3],b=v[4],U=v[5],Y=v[6],$=v[7],j=v[8],K=v[9],J=v[10],k=v[11],_=v[12],et=v[13],nt=v[14],it=v[15];return f.setValues(H*g+V*P+W*D+I*N,V*y+V*w+W*F+I*G,W*C+V*R+W*O+I*z,I*S+V*L+W*B+I*X,b*g+U*P+Y*D+$*N,b*y+U*w+Y*F+$*G,b*C+U*R+Y*O+$*z,b*S+U*L+Y*B+$*X,j*g+K*P+J*D+k*N,j*y+K*w+J*F+k*G,j*C+K*R+J*O+k*z,j*S+K*L+J*B+k*X,_*g+et*P+nt*D+it*N,_*y+et*w+nt*F+it*G,_*C+et*R+nt*O+it*z,_*S+et*L+nt*B+it*X)},fromRotationXYTranslation:function(h,f,c){var v=f.x,g=f.y,y=f.z,C=Math.sin(h.x),S=Math.cos(h.x),P=Math.sin(h.y),w=Math.cos(h.y),R=v,L=g,D=y,F=-C,O=0-F*P,B=0-S*P,N=F*w,G=S*w;return c||(R=w*v+P*y,L=O*v+S*g+N*y,D=B*v+C*g+G*y),this.setValues(w,O,B,0,0,S,C,0,P,N,G,0,R,L,D,1)},getMaxScaleOnAxis:function(){var h=this.val,f=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],c=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],v=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(f,c,v))}}),a=new s,e=new s,r=new m,d=new m,n=new m;p.exports=s},86883:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return Math.min(t+u,m)};p.exports=T},50040:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u=t.length;if(u===0)return 0;t.sort(function(l,s){return l-s});var m=Math.floor(u/2);return u%2===0?(t[m]+t[m-1])/2:t[m]};p.exports=T},37204:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return Math.max(t-u,m)};p.exports=T},65201:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){m===void 0&&(m=u+1);var s=(t-u)/(m-u);return s>1?l!==void 0?(s=(l-t)/(l-m),s<0&&(s=0)):s=1:s<0&&(s=0),s};p.exports=T},15746:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(94434),l=t(29747),s=t(25836),a=1e-6,e=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),d=new s(1,0,0),n=new s(0,1,0),h=new s,f=new m,c=new u({initialize:function(g,y,C,S){this.onChangeCallback=l,this.set(g,y,C,S)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,g,y,C,S){return S===void 0&&(S=!0),typeof v=="object"?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=g||0,this._z=y||0,this._w=C||0),S&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,g=this.y,y=this.z,C=this.w;return Math.sqrt(v*v+g*g+y*y+C*C)},lengthSq:function(){var v=this.x,g=this.y,y=this.z,C=this.w;return v*v+g*g+y*y+C*C},normalize:function(){var v=this.x,g=this.y,y=this.z,C=this.w,S=v*v+g*g+y*y+C*C;return S>0&&(S=1/Math.sqrt(S),this._x=v*S,this._y=g*S,this._z=y*S,this._w=C*S),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,g){g===void 0&&(g=0);var y=this.x,C=this.y,S=this.z,P=this.w;return this.set(y+g*(v.x-y),C+g*(v.y-C),S+g*(v.z-S),P+g*(v.w-P))},rotationTo:function(v,g){var y=v.x*g.x+v.y*g.y+v.z*g.z;return y<-.999999?(h.copy(d).cross(v).length()<a&&h.copy(n).cross(v),h.normalize(),this.setAxisAngle(h,Math.PI)):y>.999999?this.set(0,0,0,1):(h.copy(v).cross(g),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+y,this.normalize())},setAxes:function(v,g,y){var C=f.val;return C[0]=g.x,C[3]=g.y,C[6]=g.z,C[1]=y.x,C[4]=y.y,C[7]=y.z,C[2]=-v.x,C[5]=-v.y,C[8]=-v.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,g){g=g*.5;var y=Math.sin(g);return this.set(y*v.x,y*v.y,y*v.z,Math.cos(g))},multiply:function(v){var g=this.x,y=this.y,C=this.z,S=this.w,P=v.x,w=v.y,R=v.z,L=v.w;return this.set(g*L+S*P+y*R-C*w,y*L+S*w+C*P-g*R,C*L+S*R+g*w-y*P,S*L-g*P-y*w-C*R)},slerp:function(v,g){var y=this.x,C=this.y,S=this.z,P=this.w,w=v.x,R=v.y,L=v.z,D=v.w,F=y*w+C*R+S*L+P*D;F<0&&(F=-F,w=-w,R=-R,L=-L,D=-D);var O=1-g,B=g;if(1-F>a){var N=Math.acos(F),G=Math.sin(N);O=Math.sin((1-g)*N)/G,B=Math.sin(g*N)/G}return this.set(O*y+B*w,O*C+B*R,O*S+B*L,O*P+B*D)},invert:function(){var v=this.x,g=this.y,y=this.z,C=this.w,S=v*v+g*g+y*y+C*C,P=S?1/S:0;return this.set(-v*P,-g*P,-y*P,C*P)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var g=this.x,y=this.y,C=this.z,S=this.w,P=Math.sin(v),w=Math.cos(v);return this.set(g*w+S*P,y*w+C*P,C*w-y*P,S*w-g*P)},rotateY:function(v){v*=.5;var g=this.x,y=this.y,C=this.z,S=this.w,P=Math.sin(v),w=Math.cos(v);return this.set(g*w-C*P,y*w+S*P,C*w+g*P,S*w-y*P)},rotateZ:function(v){v*=.5;var g=this.x,y=this.y,C=this.z,S=this.w,P=Math.sin(v),w=Math.cos(v);return this.set(g*w+y*P,y*w-g*P,C*w+S*P,S*w-C*P)},calculateW:function(){var v=this.x,g=this.y,y=this.z;return this.w=-Math.sqrt(1-v*v-g*g-y*y),this},setFromEuler:function(v,g){var y=v.x/2,C=v.y/2,S=v.z/2,P=Math.cos(y),w=Math.cos(C),R=Math.cos(S),L=Math.sin(y),D=Math.sin(C),F=Math.sin(S);switch(v.order){case"XYZ":{this.set(L*w*R+P*D*F,P*D*R-L*w*F,P*w*F+L*D*R,P*w*R-L*D*F,g);break}case"YXZ":{this.set(L*w*R+P*D*F,P*D*R-L*w*F,P*w*F-L*D*R,P*w*R+L*D*F,g);break}case"ZXY":{this.set(L*w*R-P*D*F,P*D*R+L*w*F,P*w*F+L*D*R,P*w*R-L*D*F,g);break}case"ZYX":{this.set(L*w*R-P*D*F,P*D*R+L*w*F,P*w*F-L*D*R,P*w*R+L*D*F,g);break}case"YZX":{this.set(L*w*R+P*D*F,P*D*R+L*w*F,P*w*F-L*D*R,P*w*R-L*D*F,g);break}case"XZY":{this.set(L*w*R-P*D*F,P*D*R-L*w*F,P*w*F+L*D*R,P*w*R+L*D*F,g);break}}return this},setFromRotationMatrix:function(v){var g=v.val,y=g[0],C=g[4],S=g[8],P=g[1],w=g[5],R=g[9],L=g[2],D=g[6],F=g[10],O=y+w+F,B;return O>0?(B=.5/Math.sqrt(O+1),this.set((D-R)*B,(S-L)*B,(P-C)*B,.25/B)):y>w&&y>F?(B=2*Math.sqrt(1+y-w-F),this.set(.25*B,(C+P)/B,(S+L)/B,(D-R)/B)):w>F?(B=2*Math.sqrt(1+w-y-F),this.set((C+P)/B,.25*B,(R+D)/B,(S-L)/B)):(B=2*Math.sqrt(1+F-y-w),this.set((S+L)/B,(R+D)/B,.25*B,(P-C)/B)),this},fromMat3:function(v){var g=v.val,y=g[0]+g[4]+g[8],C;if(y>0)C=Math.sqrt(y+1),this.w=.5*C,C=.5/C,this._x=(g[7]-g[5])*C,this._y=(g[2]-g[6])*C,this._z=(g[3]-g[1])*C;else{var S=0;g[4]>g[0]&&(S=1),g[8]>g[S*3+S]&&(S=2);var P=e[S],w=e[P];C=Math.sqrt(g[S*3+S]-g[P*3+P]-g[w*3+w]+1),r[S]=.5*C,C=.5/C,r[P]=(g[P*3+S]+g[S*3+P])*C,r[w]=(g[w*3+S]+g[S*3+w])*C,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(g[w*3+P]-g[P*3+w])*C}return this.onChangeCallback(this),this}});p.exports=c},43396:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=function(l){return l*u.RAD_TO_DEG};p.exports=m},74362:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u=1);var m=Math.random()*2*Math.PI;return t.x=Math.cos(m)*u,t.y=Math.sin(m)*u,t};p.exports=T},60706:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u=1);var m=Math.random()*2*Math.PI,l=Math.random()*2-1,s=Math.sqrt(1-l*l)*u;return t.x=Math.cos(m)*s,t.y=Math.sin(m)*s,t.z=l*u,t};p.exports=T},67421:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u=1),t.x=(Math.random()*2-1)*u,t.y=(Math.random()*2-1)*u,t.z=(Math.random()*2-1)*u,t.w=(Math.random()*2-1)*u,t};p.exports=T},36305:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.x,l=t.y;return t.x=m*Math.cos(u)-l*Math.sin(u),t.y=m*Math.sin(u)+l*Math.cos(u),t};p.exports=T},11520:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=Math.cos(l),a=Math.sin(l),e=t.x-u,r=t.y-m;return t.x=e*s-r*a+u,t.y=e*a+r*s+m,t};p.exports=T},1163:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s){var a=l+Math.atan2(t.y-m,t.x-u);return t.x=u+s*Math.cos(a),t.y=m+s*Math.sin(a),t};p.exports=T},70336:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s){return t.x=u+s*Math.cos(l),t.y=m+s*Math.sin(l),t};p.exports=T},72678:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(25836),m=t(37867),l=t(15746),s=new m,a=new l,e=new u,r=function(d,n,h){return a.setAxisAngle(n,h),s.fromRotationTranslation(a,e.set(0,0,0)),d.transformMat4(s)};p.exports=r},2284:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=T},41013:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){u===void 0&&(u=0),m===void 0&&(m=10);var l=Math.pow(m,-u);return Math.round(t*l)/l};p.exports=T},16922:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){u===void 0&&(u=1),m===void 0&&(m=1),l===void 0&&(l=1),l*=Math.PI/t;for(var s=[],a=[],e=0;e<t;e++)m-=u*l,u+=m*l,s[e]=m,a[e]=u;return{sin:a,cos:s,length:t}};p.exports=T},7602:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t<=u?0:t>=m?1:(t=(t-u)/(m-u),t*t*(3-2*t))};p.exports=T},54261:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t=Math.max(0,Math.min(1,(t-u)/(m-u))),t*t*t*(t*(t*6-15)+10)};p.exports=T},44408:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e){e===void 0&&(e=new u);var r=0,d=0,n=s*a;return l>0&&l<=n&&(l>s-1?(d=Math.floor(l/s),r=l-d*s):r=l),e.set(r,d)};p.exports=m},85955:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e,r,d,n,h){h===void 0&&(h=new u);var f=Math.sin(r),c=Math.cos(r),v=c*d,g=f*d,y=-f*n,C=c*n,S=1/(v*C+y*-g);return h.x=C*S*l+-y*S*s+(e*y-a*C)*S,h.y=v*S*s+-g*S*l+(-e*v+a*g)*S,h};p.exports=m},26099:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(43855),l=new u({initialize:function(a,e){this.x=0,this.y=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0):(e===void 0&&(e=a),this.x=a||0,this.y=e||0)},clone:function(){return new l(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,a){return a===void 0&&(a=s),this.x=s,this.y=a,this},setTo:function(s,a){return this.set(s,a)},setToPolar:function(s,a){return a==null&&(a=1),this.x=Math.cos(s)*a,this.y=Math.sin(s)*a,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,a){return m(this.x,s.x,a)&&m(this.y,s.y,a)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var a=s.x-this.x,e=s.y-this.y;return Math.sqrt(a*a+e*e)},distanceSq:function(s){var a=s.x-this.x,e=s.y-this.y;return a*a+e*e},length:function(){var s=this.x,a=this.y;return Math.sqrt(s*s+a*a)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,a=this.y;return s*s+a*a},normalize:function(){var s=this.x,a=this.y,e=s*s+a*a;return e>0&&(e=1/Math.sqrt(e),this.x=s*e,this.y=a*e),this},normalizeRightHand:function(){var s=this.x;return this.x=this.y*-1,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=s*-1,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,a){a===void 0&&(a=0);var e=this.x,r=this.y;return this.x=e+a*(s.x-e),this.y=r+a*(s.y-r),this},transformMat3:function(s){var a=this.x,e=this.y,r=s.val;return this.x=r[0]*a+r[3]*e+r[6],this.y=r[1]*a+r[4]*e+r[7],this},transformMat4:function(s){var a=this.x,e=this.y,r=s.val;return this.x=r[0]*a+r[4]*e+r[12],this.y=r[1]*a+r[5]*e+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var a=this.length();return a&&a>s&&this.scale(s/a),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var a=Math.cos(s),e=Math.sin(s);return this.set(a*this.x-e*this.y,e*this.x+a*this.y)},project:function(s){var a=this.dot(s)/s.dot(s);return this.copy(s).scale(a)}});l.ZERO=new l,l.RIGHT=new l(1,0),l.LEFT=new l(-1,0),l.UP=new l(0,-1),l.DOWN=new l(0,1),l.ONE=new l(1,1),p.exports=l},25836:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e){this.x=0,this.y=0,this.z=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=a||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this},max:function(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(l,s){return this.x=l.x+s.x,this.y=l.y+s.y,this.z=l.z+s.z,this},crossVectors:function(l,s){var a=l.x,e=l.y,r=l.z,d=s.x,n=s.y,h=s.z;return this.x=e*h-r*n,this.y=r*d-a*h,this.z=a*n-e*d,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this},set:function(l,s,a){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=s||0,this.z=a||0),this},setFromMatrixPosition:function(l){return this.fromArray(l.val,12)},setFromMatrixColumn:function(l,s){return this.fromArray(l.val,s*4)},fromArray:function(l,s){return s===void 0&&(s=0),this.x=l[s],this.y=l[s+1],this.z=l[s+2],this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this},addScalar:function(l){return this.x+=l,this.y+=l,this.z+=l,this},addScale:function(l,s){return this.x+=l.x*s,this.y+=l.y*s,this.z+=l.z*s||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l,this.z*=l):(this.x=0,this.y=0,this.z=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(l){var s=l.x-this.x,a=l.y-this.y,e=l.z-this.z||0;return Math.sqrt(s*s+a*a+e*e)},distanceSq:function(l){var s=l.x-this.x,a=l.y-this.y,e=l.z-this.z||0;return s*s+a*a+e*e},length:function(){var l=this.x,s=this.y,a=this.z;return Math.sqrt(l*l+s*s+a*a)},lengthSq:function(){var l=this.x,s=this.y,a=this.z;return l*l+s*s+a*a},normalize:function(){var l=this.x,s=this.y,a=this.z,e=l*l+s*s+a*a;return e>0&&(e=1/Math.sqrt(e),this.x=l*e,this.y=s*e,this.z=a*e),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z},cross:function(l){var s=this.x,a=this.y,e=this.z,r=l.x,d=l.y,n=l.z;return this.x=a*n-e*d,this.y=e*r-s*n,this.z=s*d-a*r,this},lerp:function(l,s){s===void 0&&(s=0);var a=this.x,e=this.y,r=this.z;return this.x=a+s*(l.x-a),this.y=e+s*(l.y-e),this.z=r+s*(l.z-r),this},applyMatrix3:function(l){var s=this.x,a=this.y,e=this.z,r=l.val;return this.x=r[0]*s+r[3]*a+r[6]*e,this.y=r[1]*s+r[4]*a+r[7]*e,this.z=r[2]*s+r[5]*a+r[8]*e,this},applyMatrix4:function(l){var s=this.x,a=this.y,e=this.z,r=l.val,d=1/(r[3]*s+r[7]*a+r[11]*e+r[15]);return this.x=(r[0]*s+r[4]*a+r[8]*e+r[12])*d,this.y=(r[1]*s+r[5]*a+r[9]*e+r[13])*d,this.z=(r[2]*s+r[6]*a+r[10]*e+r[14])*d,this},transformMat3:function(l){var s=this.x,a=this.y,e=this.z,r=l.val;return this.x=s*r[0]+a*r[3]+e*r[6],this.y=s*r[1]+a*r[4]+e*r[7],this.z=s*r[2]+a*r[5]+e*r[8],this},transformMat4:function(l){var s=this.x,a=this.y,e=this.z,r=l.val;return this.x=r[0]*s+r[4]*a+r[8]*e+r[12],this.y=r[1]*s+r[5]*a+r[9]*e+r[13],this.z=r[2]*s+r[6]*a+r[10]*e+r[14],this},transformCoordinates:function(l){var s=this.x,a=this.y,e=this.z,r=l.val,d=s*r[0]+a*r[4]+e*r[8]+r[12],n=s*r[1]+a*r[5]+e*r[9]+r[13],h=s*r[2]+a*r[6]+e*r[10]+r[14],f=s*r[3]+a*r[7]+e*r[11]+r[15];return this.x=d/f,this.y=n/f,this.z=h/f,this},transformQuat:function(l){var s=this.x,a=this.y,e=this.z,r=l.x,d=l.y,n=l.z,h=l.w,f=h*s+d*e-n*a,c=h*a+n*s-r*e,v=h*e+r*a-d*s,g=-r*s-d*a-n*e;return this.x=f*h+g*-r+c*-n-v*-d,this.y=c*h+g*-d+v*-r-f*-n,this.z=v*h+g*-n+f*-d-c*-r,this},project:function(l){var s=this.x,a=this.y,e=this.z,r=l.val,d=r[0],n=r[1],h=r[2],f=r[3],c=r[4],v=r[5],g=r[6],y=r[7],C=r[8],S=r[9],P=r[10],w=r[11],R=r[12],L=r[13],D=r[14],F=r[15],O=1/(s*f+a*y+e*w+F);return this.x=(s*d+a*c+e*C+R)*O,this.y=(s*n+a*v+e*S+L)*O,this.z=(s*h+a*g+e*P+D)*O,this},projectViewMatrix:function(l,s){return this.applyMatrix4(l).applyMatrix4(s)},unprojectViewMatrix:function(l,s){return this.applyMatrix4(l).applyMatrix4(s)},unproject:function(l,s){var a=l.x,e=l.y,r=l.z,d=l.w,n=this.x-a,h=d-this.y-1-e,f=this.z;return this.x=2*n/r-1,this.y=2*h/d-1,this.z=2*f-1,this.project(s)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),p.exports=m},61369:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=a||0,this.z=e||0,this.w=r||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this.w=l.w||0,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z&&this.w===l.w},set:function(l,s,a,e){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=s||0,this.z=a||0,this.w=e||0),this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this.w+=l.w||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this.w-=l.w||0,this},scale:function(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this},length:function(){var l=this.x,s=this.y,a=this.z,e=this.w;return Math.sqrt(l*l+s*s+a*a+e*e)},lengthSq:function(){var l=this.x,s=this.y,a=this.z,e=this.w;return l*l+s*s+a*a+e*e},normalize:function(){var l=this.x,s=this.y,a=this.z,e=this.w,r=l*l+s*s+a*a+e*e;return r>0&&(r=1/Math.sqrt(r),this.x=l*r,this.y=s*r,this.z=a*r,this.w=e*r),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w},lerp:function(l,s){s===void 0&&(s=0);var a=this.x,e=this.y,r=this.z,d=this.w;return this.x=a+s*(l.x-a),this.y=e+s*(l.y-e),this.z=r+s*(l.z-r),this.w=d+s*(l.w-d),this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this.w*=l.w||1,this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this.w/=l.w||1,this},distance:function(l){var s=l.x-this.x,a=l.y-this.y,e=l.z-this.z||0,r=l.w-this.w||0;return Math.sqrt(s*s+a*a+e*e+r*r)},distanceSq:function(l){var s=l.x-this.x,a=l.y-this.y,e=l.z-this.z||0,r=l.w-this.w||0;return s*s+a*a+e*e+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(l){var s=this.x,a=this.y,e=this.z,r=this.w,d=l.val;return this.x=d[0]*s+d[4]*a+d[8]*e+d[12]*r,this.y=d[1]*s+d[5]*a+d[9]*e+d[13]*r,this.z=d[2]*s+d[6]*a+d[10]*e+d[14]*r,this.w=d[3]*s+d[7]*a+d[11]*e+d[15]*r,this},transformQuat:function(l){var s=this.x,a=this.y,e=this.z,r=l.x,d=l.y,n=l.z,h=l.w,f=h*s+d*e-n*a,c=h*a+n*s-r*e,v=h*e+r*a-d*s,g=-r*s-d*a-n*e;return this.x=f*h+g*-r+c*-n-v*-d,this.y=c*h+g*-d+v*-r-f*-n,this.z=v*h+g*-n+f*-d-c*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,p.exports=m},60417:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return Math.abs(t-u)<=m};p.exports=T},15994:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=m-u;return u+((t-u)%l+l)%l};p.exports=T},31040:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){return Math.atan2(l-u,m-t)};p.exports=T},55495:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return Math.atan2(u.y-t.y,u.x-t.x)};p.exports=T},128:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return Math.atan2(u.x-t.x,u.y-t.y)};p.exports=T},41273:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){return Math.atan2(m-t,l-u)};p.exports=T},1432:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=function(l){return l>Math.PI&&(l-=u.PI2),Math.abs(((l+u.TAU)%u.PI2-u.PI2)%u.PI2)};p.exports=m},12407:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=T},53993:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99472),m=function(){return u(-Math.PI,Math.PI)};p.exports=m},86564:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(99472),m=function(){return u(-180,180)};p.exports=m},90154:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(12407),m=function(l){return u(l+Math.PI)};p.exports=m},48736:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=function(l,s,a){return a===void 0&&(a=.05),l===s||(Math.abs(s-l)<=a||Math.abs(s-l)>=u.PI2-a?l=s:(Math.abs(s-l)>Math.PI&&(s<l?s+=u.PI2:s-=u.PI2),s>l?l+=a:s<l&&(l-=a))),l};p.exports=m},61430:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=u-t;if(m===0)return 0;var l=Math.floor((m- -180)/360);return m-l*360};p.exports=T},86554:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15994),m=function(l){return u(l,-Math.PI,Math.PI)};p.exports=m},30954:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15994),m=function(l){return u(l,-180,180)};p.exports=m},25588:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=T},20339:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=t-m,a=u-l;return Math.sqrt(s*s+a*a)};p.exports=T},52816:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.x-u.x,l=t.y-u.y;return Math.sqrt(m*m+l*l)};p.exports=T},64559:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.x-u.x,l=t.y-u.y;return m*m+l*l};p.exports=T},82340:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){return Math.max(Math.abs(t-m),Math.abs(u-l))};p.exports=T},14390:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(m-t,s)+Math.pow(l-u,s))};p.exports=T},2243:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){return Math.abs(t-m)+Math.abs(u-l)};p.exports=T},89774:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=t-m,a=u-l;return s*s+a*a};p.exports=T},50994:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(54178),m=t(41521),l=t(79980),s=t(85433),a=t(99140),e=t(48857),r=t(81596),d=t(59133),n=t(98516),h=t(35248),f=t(82500),c=t(49752);p.exports={Power0:r,Power1:d.Out,Power2:s.Out,Power3:n.Out,Power4:h.Out,Linear:r,Quad:d.Out,Cubic:s.Out,Quart:n.Out,Quint:h.Out,Sine:f.Out,Expo:e.Out,Circ:l.Out,Elastic:a.Out,Back:u.Out,Bounce:m.Out,Stepped:c,"Quad.easeIn":d.In,"Cubic.easeIn":s.In,"Quart.easeIn":n.In,"Quint.easeIn":h.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":l.In,"Elastic.easeIn":a.In,"Back.easeIn":u.In,"Bounce.easeIn":m.In,"Quad.easeOut":d.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":n.Out,"Quint.easeOut":h.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":l.Out,"Elastic.easeOut":a.Out,"Back.easeOut":u.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":d.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":n.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":l.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":u.InOut,"Bounce.easeInOut":m.InOut}},1639:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u=1.70158),t*t*((u+1)*t-u)};p.exports=T},50099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u=1.70158);var m=u*1.525;return(t*=2)<1?.5*(t*t*((m+1)*t-m)):.5*((t-=2)*t*((m+1)*t+m)+2)};p.exports=T},41286:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u=1.70158),--t*t*((u+1)*t+u)+1};p.exports=T},54178:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=T},41788:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u=!1;return t<.5?(t=1-t*2,u=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,u?(1-t)*.5:t*.5+.5};p.exports=T},69905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=T},41521:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 1-Math.sqrt(1-t*t)};p.exports=T},4177:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=T},57512:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.sqrt(1- --t*t)};p.exports=T},79980:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*t*t};p.exports=T},82820:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=T},35033:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return--t*t*t+1};p.exports=T},85433:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(u===void 0&&(u=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var l=m/4;return u<1?u=1:l=m*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/m))};p.exports=T},50665:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(u===void 0&&(u=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var l=m/4;return u<1?u=1:l=m*Math.asin(1/u)/(2*Math.PI),(t*=2)<1?-.5*(u*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/m)):u*Math.pow(2,-10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/m)*.5+1};p.exports=T},7744:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(u===void 0&&(u=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var l=m/4;return u<1?u=1:l=m*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*t)*Math.sin((t-l)*(2*Math.PI)/m)+1};p.exports=T},99140:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=T},87844:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=T},89433:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 1-Math.pow(2,-10*t)};p.exports=T},48857:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t};p.exports=T},81596:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(7147)},34826:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*t};p.exports=T},20544:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=T},92029:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*(2-t)};p.exports=T},59133:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*t*t*t};p.exports=T},78137:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=T},45840:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return 1- --t*t*t*t};p.exports=T},98516:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t*t*t*t*t};p.exports=T},16509:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=T},17868:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return--t*t*t*t*t+1};p.exports=T},35248:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=T},34025:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=T},52768:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=T},82500:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u=1),t<=0?0:t>=1?1:((u*t|0)+1)*(1/u)};p.exports=T},49752:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(72251)},75698:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u=1e-4),Math.ceil(t-u)};p.exports=T},43855:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return m===void 0&&(m=1e-4),Math.abs(t-u)<m};p.exports=T},25777:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u=1e-4),Math.floor(t+u)};p.exports=T},5470:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return m===void 0&&(m=1e-4),t>u-m};p.exports=T},94977:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return m===void 0&&(m=1e-4),t<u+m};p.exports=T},48379:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36383),m=t(79291),l={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};l=m(!1,l,u),p.exports=l},89318:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85710),m=function(l,s){for(var a=0,e=l.length-1,r=0;r<=e;r++)a+=Math.pow(1-s,e-r)*Math.pow(s,r)*l[r]*u(e,r);return a};p.exports=m},77259:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87842),m=function(l,s){var a=l.length-1,e=a*s,r=Math.floor(e);return l[0]===l[a]?(s<0&&(r=Math.floor(e=a*(1+s))),u(e-r,l[(r-1+a)%a],l[r],l[(r+1)%a],l[(r+2)%a])):s<0?l[0]-(u(-e,l[0],l[0],l[1],l[1])-l[0]):s>1?l[a]-(u(e-a,l[a],l[a],l[a-1],l[a-1])-l[a]):u(e-r,l[r?r-1:0],l[r],l[a<r+1?a:r+1],l[a<r+2?a:r+2])};p.exports=m},36316:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(s,a){var e=1-s;return e*e*e*a}function t(s,a){var e=1-s;return 3*e*e*s*a}function u(s,a){return 3*(1-s)*s*s*a}function m(s,a){return s*s*s*a}var l=function(s,a,e,r,d){return T(s,a)+t(s,e)+u(s,r)+m(s,d)};p.exports=l},28392:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(28915),m=function(l,s){var a=l.length-1,e=a*s,r=Math.floor(e);return s<0?u(l[0],l[1],e):s>1?u(l[a],l[a-1],a-e):u(l[r],l[r+1>a?a:r+1],e-r)};p.exports=m},32112:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l,s){var a=1-l;return a*a*s}function t(l,s){return 2*(1-l)*l*s}function u(l,s){return l*l*s}var m=function(l,s,a,e){return T(l,s)+t(l,a)+u(l,e)};p.exports=m},47235:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7602),m=function(l,s,a){return s+(a-s)*u(l,0,1)};p.exports=m},50178:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(54261),m=function(l,s,a){return s+(a-s)*u(l,0,1)};p.exports=m},38289:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u=Math.log(t)/.6931471805599453;return 1<<Math.ceil(u)};p.exports=T},50030:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t>0&&(t&t-1)===0&&u>0&&(u&u-1)===0};p.exports=T},81230:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t>0&&(t&t-1)===0};p.exports=T},49001:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s){s===void 0&&(s=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],s&&this.init(s)},rnd:function(){var l=2091639*this.s0+this.c*23283064365386963e-26;return this.c=l|0,this.s0=this.s1,this.s1=this.s2,this.s2=l-this.c,this.s2},hash:function(l){var s,a=this.n;l=l.toString();for(var e=0;e<l.length;e++)a+=l.charCodeAt(e),s=.02519603282416938*a,a=s>>>0,s-=a,s*=a,a=s>>>0,s-=a,a+=s*4294967296;return this.n=a,(a>>>0)*23283064365386963e-26},init:function(l){typeof l=="string"?this.state(l):this.sow(l)},sow:function(l){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!l)for(var s=0;s<l.length&&l[s]!=null;s++){var a=l[s];this.s0-=this.hash(a),this.s0+=~~(this.s0<0),this.s1-=this.hash(a),this.s1+=~~(this.s1<0),this.s2-=this.hash(a),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(l,s){return Math.floor(this.realInRange(0,s-l+1)+l)},between:function(l,s){return Math.floor(this.realInRange(0,s-l+1)+l)},realInRange:function(l,s){return this.frac()*(s-l)+l},normal:function(){return 1-2*this.frac()},uuid:function(){var l="",s="";for(s=l="";l++<36;s+=~l%5|l*3&4?(l^15?8^this.frac()*(l^20?16:4):4).toString(16):"-");return s},pick:function(l){return l[this.integerInRange(0,l.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(l){return l[~~(Math.pow(this.frac(),2)*(l.length-.5)+.5)]},timestamp:function(l,s){return this.realInRange(l||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(l){return typeof l=="string"&&l.match(/^!rnd/)&&(l=l.split(","),this.c=parseFloat(l[1]),this.s0=parseFloat(l[2]),this.s1=parseFloat(l[3]),this.s2=parseFloat(l[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(l){for(var s=l.length-1,a=s;a>0;a--){var e=Math.floor(this.frac()*(a+1)),r=l[e];l[e]=l[a],l[a]=r}return l}});p.exports=m},63448:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){return m===void 0&&(m=0),u===0?t:(t-=m,t=u*Math.ceil(t/u),l?(m+t)/u:m+t)};p.exports=T},56583:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){return m===void 0&&(m=0),u===0?t:(t-=m,t=u*Math.floor(t/u),l?(m+t)/u:m+t)};p.exports=T},77720:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){return m===void 0&&(m=0),u===0?t:(t-=m,t=u*Math.round(t/u),l?(m+t)/u:m+t)};p.exports=T},73697:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var u=t(8054),m=t(79291),l={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};l.Sound=t(23717),l=m(!1,l,u),p.exports=l,t.g.Phaser=l},71289:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(92209),l=t(88571),s=new u({Extends:l,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(e,r,d,n,h){l.call(this,e,r,d,n,h),this.body=null}});p.exports=s},86689:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(39506),l=t(20339),s=t(89774),a=t(66022),e=t(95540),r=t(46975),d=t(72441),n=t(47956),h=t(37277),f=t(44594),c=t(26099),v=t(82248),g=new u({initialize:function(C){this.scene=C,this.systems=C.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,C.sys.events.once(f.BOOT,this.boot,this),C.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new a(this.world));var y=this.systems.events;e(this.config,"customUpdate",!1)||y.on(f.UPDATE,this.world.update,this.world),y.on(f.POST_UPDATE,this.world.postUpdate,this.world),y.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var y=this.systems.game.config.physics,C=this.systems.settings.physics,S=r(e(C,"arcade",{}),e(y,"arcade",{}));return S},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(y,C,S,P,w){return S===void 0&&(S=null),P===void 0&&(P=null),w===void 0&&(w=S),this.world.collideObjects(y,C,S,P,w,!0)},collide:function(y,C,S,P,w){return S===void 0&&(S=null),P===void 0&&(P=null),w===void 0&&(w=S),this.world.collideObjects(y,C,S,P,w,!1)},collideTiles:function(y,C,S,P,w){return this.world.collideTiles(y,C,S,P,w)},overlapTiles:function(y,C,S,P,w){return this.world.overlapTiles(y,C,S,P,w)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(y,C,S,P,w,R){P===void 0&&(P=60);var L=Math.atan2(S-y.y,C-y.x);return y.body.acceleration.setToPolar(L,P),w!==void 0&&R!==void 0&&y.body.maxVelocity.set(w,R),L},accelerateToObject:function(y,C,S,P,w){return this.accelerateTo(y,C.x,C.y,S,P,w)},closest:function(y,C){C||(C=this.world.bodies.entries);for(var S=Number.MAX_VALUE,P=null,w=y.x,R=y.y,L=C.length,D=0;D<L;D++){var F=C[D],O=F.body||F;if(!(y===F||y===O||y===O.gameObject||y===O.center)){var B=s(w,R,O.center.x,O.center.y);B<S&&(P=F,S=B)}}return P},furthest:function(y,C){C||(C=this.world.bodies.entries);for(var S=-1,P=null,w=y.x,R=y.y,L=C.length,D=0;D<L;D++){var F=C[D],O=F.body||F;if(!(y===F||y===O||y===O.gameObject||y===O.center)){var B=s(w,R,O.center.x,O.center.y);B>S&&(P=F,S=B)}}return P},moveTo:function(y,C,S,P,w){P===void 0&&(P=60),w===void 0&&(w=0);var R=Math.atan2(S-y.y,C-y.x);return w>0&&(P=l(y.x,y.y,C,S)/(w/1e3)),y.body.velocity.setToPolar(R,P),R},moveToObject:function(y,C,S,P){return this.moveTo(y,C.x,C.y,S,P)},velocityFromAngle:function(y,C,S){return C===void 0&&(C=60),S===void 0&&(S=new c),S.setToPolar(m(y),C)},velocityFromRotation:function(y,C,S){return C===void 0&&(C=60),S===void 0&&(S=new c),S.setToPolar(y,C)},overlapRect:function(y,C,S,P,w,R){return n(this.world,y,C,S,P,w,R)},overlapCirc:function(y,C,S,P,w){return d(this.world,y,C,S,P,w)},shutdown:function(){if(this.world){var y=this.systems.events;y.off(f.UPDATE,this.world.update,this.world),y.off(f.POST_UPDATE,this.world.postUpdate,this.world),y.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",g,"arcadePhysics"),p.exports=g},13759:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(92209),l=t(68287),s=new u({Extends:l,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(e,r,d,n,h){l.call(this,e,r,d,n,h),this.body=null}});p.exports=s},37742:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(78389),l=t(37747),s=t(63012),a=t(43396),e=t(87841),r=t(37303),d=t(95829),n=t(26099),h=new u({Mixins:[m],initialize:function(c,v){var g=64,y=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=v!==void 0;S&&v.displayWidth&&(g=v.displayWidth,y=v.displayHeight),S||(v=C),this.world=c,this.gameObject=S?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=g,this.height=y,this.sourceWidth=g,this.sourceHeight=y,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(g/2),this.halfHeight=Math.abs(y/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new n,this.newVelocity=new n,this.deltaMax=new n,this.acceleration=new n,this.allowDrag=!0,this.drag=new n,this.allowGravity=!0,this.gravity=new n,this.bounce=new n,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new n(1e4,1e4),this.maxSpeed=-1,this.friction=new n(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=l.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new n(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=d(!1),this.touching=d(!0),this.wasTouching=d(!0),this.blocked=d(!0),this.syncBounds=!1,this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var f=this.gameObject,c=this.transform;if(f.parentContainer){var v=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=v.tx,c.y=v.ty,c.rotation=a(v.rotation),c.scaleX=v.scaleX,c.scaleY=v.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY}else c.x=f.x,c.y=f.y,c.rotation=f.angle,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.displayOriginX=f.displayOriginX,c.displayOriginY=f.displayOriginY;var g=!1;if(this.syncBounds){var y=f.getBounds(this._bounds);this.width=y.width,this.height=y.height,g=!0}else{var C=Math.abs(c.scaleX),S=Math.abs(c.scaleY);(this._sx!==C||this._sy!==S)&&(this.width=this.sourceWidth*C,this.height=this.sourceHeight*S,this._sx=C,this._sy=S,g=!0)}g&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX),this.position.y=f.y+f.scaleY*(this.offset.y-f.displayOriginY),this.updateCenter()},resetFlags:function(f){f===void 0&&(f=!1);var c=this.wasTouching,v=this.touching,g=this.blocked;f?d(!0,c):(c.none=v.none,c.up=v.up,c.down=v.down,c.left=v.left,c.right=v.right),d(!0,v),d(!0,g),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(f,c){if(f&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}f&&this.update(c)},update:function(f){var c=this.prev,v=this.position,g=this.velocity;if(c.set(v.x,v.y),!this.moves){this._dx=v.x-c.x,this._dy=v.y-c.y;return}if(this.directControl){var y=this.autoFrame;g.set((v.x-y.x)/f,(v.y-y.y)/f),this.world.updateMotion(this,f),this._dx=v.x-y.x,this._dy=v.y-y.y}else this.world.updateMotion(this,f),this.newVelocity.set(g.x*f,g.y*f),v.add(this.newVelocity),this._dx=v.x-c.x,this._dy=v.y-c.y;var C=g.x,S=g.y;if(this.updateCenter(),this.angle=Math.atan2(S,C),this.speed=Math.sqrt(C*C+S*S),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var P=this.blocked;this.world.emit(s.WORLD_BOUNDS,this,P.up,P.down,P.left,P.right)}},postUpdate:function(){var f=this.position,c=f.x-this.prevFrame.x,v=f.y-this.prevFrame.y,g=this.gameObject;if(this.moves){var y=this.deltaMax.x,C=this.deltaMax.y;y!==0&&c!==0&&(c<0&&c<-y?c=-y:c>0&&c>y&&(c=y)),C!==0&&v!==0&&(v<0&&v<-C?v=-C:v>0&&v>C&&(v=C)),g&&(g.x+=c,g.y+=v)}c<0?this.facing=l.FACING_LEFT:c>0&&(this.facing=l.FACING_RIGHT),v<0?this.facing=l.FACING_UP:v>0&&(this.facing=l.FACING_DOWN),this.allowRotation&&g&&(g.angle+=this.deltaZ()),this._tx=c,this._ty=v,this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){return this.customBoundsRectangle=f||this.world.bounds,this},checkWorldBounds:function(){var f=this.position,c=this.velocity,v=this.blocked,g=this.customBoundsRectangle,y=this.world.checkCollision,C=this.worldBounce?-this.worldBounce.x:-this.bounce.x,S=this.worldBounce?-this.worldBounce.y:-this.bounce.y,P=!1;return f.x<g.x&&y.left?(f.x=g.x,c.x*=C,v.left=!0,P=!0):this.right>g.right&&y.right&&(f.x=g.right-this.width,c.x*=C,v.right=!0,P=!0),f.y<g.y&&y.up?(f.y=g.y,c.y*=S,v.up=!0,P=!0):this.bottom>g.bottom&&y.down&&(f.y=g.bottom-this.height,c.y*=S,v.down=!0,P=!0),P&&(this.blocked.none=!1,this.updateCenter()),P},setOffset:function(f,c){return c===void 0&&(c=f),this.offset.set(f,c),this},setGameObject:function(f,c){return c===void 0&&(c=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=f,f.body&&(f.body=this),this.setSize(),this.world.add(this),this.enable=c,this},setSize:function(f,c,v){v===void 0&&(v=!0);var g=this.gameObject;if(g&&(!f&&g.frame&&(f=g.frame.realWidth),!c&&g.frame&&(c=g.frame.realHeight)),this.sourceWidth=f,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&g&&g.getCenter){var y=(g.width-f)/2,C=(g.height-c)/2;this.offset.set(y,C)}return this.isCircle=!1,this.radius=0,this},setCircle:function(f,c,v){return c===void 0&&(c=this.offset.x),v===void 0&&(v=this.offset.y),f>0?(this.isCircle=!0,this.radius=f,this.sourceWidth=f*2,this.sourceHeight=f*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,v),this.updateCenter()):this.isCircle=!1,this},reset:function(f,c){this.stop();var v=this.gameObject;v&&(v.setPosition(f,c),this.rotation=v.angle,this.preRotation=v.angle);var g=this.position;v&&v.getTopLeft?v.getTopLeft(g):g.set(f,c),this.prev.copy(g),this.prevFrame.copy(g),this.autoFrame.copy(g),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,c){if(!this.isCircle)return r(this,f,c);if(this.radius>0&&f>=this.left&&f<=this.right&&c>=this.top&&c<=this.bottom){var v=(this.center.x-f)*(this.center.x-f),g=(this.center.y-c)*(this.center.y-c);return v+g<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var c=this.position,v=c.x+this.halfWidth,g=c.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),this.isCircle?f.strokeCircle(v,g,this.width/2):(this.checkCollision.up&&f.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&f.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&f.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&f.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(v,g,v+this.velocity.x/2,g+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){return f===void 0&&(f=!0),this.directControl=f,this},setCollideWorldBounds:function(f,c,v,g){f===void 0&&(f=!0),this.collideWorldBounds=f;var y=c!==void 0,C=v!==void 0;return(y||C)&&(this.worldBounce||(this.worldBounce=new n),y&&(this.worldBounce.x=c),C&&(this.worldBounce.y=v)),g!==void 0&&(this.onWorldBounds=g),this},setVelocity:function(f,c){return this.velocity.set(f,c),f=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(f*f+c*c),this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,c){return this.maxVelocity.set(f,c),this},setMaxVelocityX:function(f){return this.maxVelocity.x=f,this},setMaxVelocityY:function(f){return this.maxVelocity.y=f,this},setMaxSpeed:function(f){return this.maxSpeed=f,this},setSlideFactor:function(f,c){return this.slideFactor.set(f,c),this},setBounce:function(f,c){return this.bounce.set(f,c),this},setBounceX:function(f){return this.bounce.x=f,this},setBounceY:function(f){return this.bounce.y=f,this},setAcceleration:function(f,c){return this.acceleration.set(f,c),this},setAccelerationX:function(f){return this.acceleration.x=f,this},setAccelerationY:function(f){return this.acceleration.y=f,this},setAllowDrag:function(f){return f===void 0&&(f=!0),this.allowDrag=f,this},setAllowGravity:function(f){return f===void 0&&(f=!0),this.allowGravity=f,this},setAllowRotation:function(f){return f===void 0&&(f=!0),this.allowRotation=f,this},setDrag:function(f,c){return this.drag.set(f,c),this},setDamping:function(f){return this.useDamping=f,this},setDragX:function(f){return this.drag.x=f,this},setDragY:function(f){return this.drag.y=f,this},setGravity:function(f,c){return this.gravity.set(f,c),this},setGravityX:function(f){return this.gravity.x=f,this},setGravityY:function(f){return this.gravity.y=f,this},setFriction:function(f,c){return this.friction.set(f,c),this},setFrictionX:function(f){return this.friction.x=f,this},setFrictionY:function(f){return this.friction.y=f,this},setAngularVelocity:function(f){return this.angularVelocity=f,this},setAngularAcceleration:function(f){return this.angularAcceleration=f,this},setAngularDrag:function(f){return this.angularDrag=f,this},setMass:function(f){return this.mass=f,this},setImmovable:function(f){return f===void 0&&(f=!0),this.immovable=f,this},setEnable:function(f){return f===void 0&&(f=!0),this.enable=f,this},processX:function(f,c,v,g){this.x+=f,this.updateCenter(),c!==null&&(this.velocity.x=c*this.slideFactor.x);var y=this.blocked;v&&(y.left=!0,y.none=!1),g&&(y.right=!0,y.none=!1)},processY:function(f,c,v,g){this.y+=f,this.updateCenter(),c!==null&&(this.velocity.y=c*this.slideFactor.y);var y=this.blocked;v&&(y.up=!0,y.none=!1),g&&(y.down=!0,y.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=h},79342:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e,r,d,n,h){this.world=s,this.name="",this.active=!0,this.overlapOnly=a,this.object1=e,this.object2=r,this.collideCallback=d,this.processCallback=n,this.callbackContext=h},setName:function(l){return this.name=l,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=m},66022:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(71289),m=t(13759),l=t(37742),s=t(83419),a=t(37747),e=t(60758),r=t(72624),d=t(71464),n=new s({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(h,f,c,v,g){return this.world.addCollider(h,f,c,v,g)},overlap:function(h,f,c,v,g){return this.world.addOverlap(h,f,c,v,g)},existing:function(h,f){var c=f?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(h,c),h},staticImage:function(h,f,c,v){var g=new u(this.scene,h,f,c,v);return this.sys.displayList.add(g),this.world.enableBody(g,a.STATIC_BODY),g},image:function(h,f,c,v){var g=new u(this.scene,h,f,c,v);return this.sys.displayList.add(g),this.world.enableBody(g,a.DYNAMIC_BODY),g},staticSprite:function(h,f,c,v){var g=new m(this.scene,h,f,c,v);return this.sys.displayList.add(g),this.sys.updateList.add(g),this.world.enableBody(g,a.STATIC_BODY),g},sprite:function(h,f,c,v){var g=new m(this.scene,h,f,c,v);return this.sys.displayList.add(g),this.sys.updateList.add(g),this.world.enableBody(g,a.DYNAMIC_BODY),g},staticGroup:function(h,f){return this.sys.updateList.add(new d(this.world,this.world.scene,h,f))},group:function(h,f){return this.sys.updateList.add(new e(this.world,this.world.scene,h,f))},body:function(h,f,c,v){var g=new l(this.world);return g.position.set(h,f),c&&v&&g.setSize(c,v),this.world.add(g,a.DYNAMIC_BODY),g},staticBody:function(h,f,c,v){var g=new r(this.world);return g.position.set(h,f),c&&v&&g.setSize(c,v),this.world.add(g,a.STATIC_BODY),g},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=n},79599:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u=0;if(!Array.isArray(t))u=t;else for(var m=0;m<t.length;m++)u|=t[m];return u};p.exports=T},64897:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37747),m=function(l,s,a,e){var r=0,d=l.deltaAbsX()+s.deltaAbsX()+e;return l._dx===0&&s._dx===0?(l.embedded=!0,s.embedded=!0):l._dx>s._dx?(r=l.right-s.x,r>d&&!a||l.checkCollision.right===!1||s.checkCollision.left===!1?r=0:(l.touching.none=!1,l.touching.right=!0,s.touching.none=!1,s.touching.left=!0,s.physicsType===u.STATIC_BODY&&!a&&(l.blocked.none=!1,l.blocked.right=!0),l.physicsType===u.STATIC_BODY&&!a&&(s.blocked.none=!1,s.blocked.left=!0))):l._dx<s._dx&&(r=l.x-s.width-s.x,-r>d&&!a||l.checkCollision.left===!1||s.checkCollision.right===!1?r=0:(l.touching.none=!1,l.touching.left=!0,s.touching.none=!1,s.touching.right=!0,s.physicsType===u.STATIC_BODY&&!a&&(l.blocked.none=!1,l.blocked.left=!0),l.physicsType===u.STATIC_BODY&&!a&&(s.blocked.none=!1,s.blocked.right=!0))),l.overlapX=r,s.overlapX=r,r};p.exports=m},45170:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37747),m=function(l,s,a,e){var r=0,d=l.deltaAbsY()+s.deltaAbsY()+e;return l._dy===0&&s._dy===0?(l.embedded=!0,s.embedded=!0):l._dy>s._dy?(r=l.bottom-s.y,r>d&&!a||l.checkCollision.down===!1||s.checkCollision.up===!1?r=0:(l.touching.none=!1,l.touching.down=!0,s.touching.none=!1,s.touching.up=!0,s.physicsType===u.STATIC_BODY&&!a&&(l.blocked.none=!1,l.blocked.down=!0),l.physicsType===u.STATIC_BODY&&!a&&(s.blocked.none=!1,s.blocked.up=!0))):l._dy<s._dy&&(r=l.y-s.bottom,-r>d&&!a||l.checkCollision.up===!1||s.checkCollision.down===!1?r=0:(l.touching.none=!1,l.touching.up=!0,s.touching.none=!1,s.touching.down=!0,s.physicsType===u.STATIC_BODY&&!a&&(l.blocked.none=!1,l.blocked.up=!0),l.physicsType===u.STATIC_BODY&&!a&&(s.blocked.none=!1,s.blocked.down=!0))),l.overlapY=r,s.overlapY=r,r};p.exports=m},60758:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13759),m=t(83419),l=t(78389),s=t(37747),a=t(95540),e=t(26479),r=t(41212),d=new m({Extends:e,Mixins:[l],initialize:function(h,f,c,v){if(!c&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(r(c))v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(c)&&r(c[0])){var g=this;c.forEach(function(y){y.internalCreateCallback=g.createCallbackHandler,y.internalRemoveCallback=g.removeCallbackHandler,y.classType=a(y,"classType",u)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=h,v&&(v.classType=a(v,"classType",u)),this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:a(v,"collideWorldBounds",!1),setBoundsRectangle:a(v,"customBoundsRectangle",null),setAccelerationX:a(v,"accelerationX",0),setAccelerationY:a(v,"accelerationY",0),setAllowDrag:a(v,"allowDrag",!0),setAllowGravity:a(v,"allowGravity",!0),setAllowRotation:a(v,"allowRotation",!0),setDamping:a(v,"useDamping",!1),setBounceX:a(v,"bounceX",0),setBounceY:a(v,"bounceY",0),setDragX:a(v,"dragX",0),setDragY:a(v,"dragY",0),setEnable:a(v,"enable",!0),setGravityX:a(v,"gravityX",0),setGravityY:a(v,"gravityY",0),setFrictionX:a(v,"frictionX",0),setFrictionY:a(v,"frictionY",0),setMaxSpeed:a(v,"maxSpeed",-1),setMaxVelocityX:a(v,"maxVelocityX",1e4),setMaxVelocityY:a(v,"maxVelocityY",1e4),setVelocityX:a(v,"velocityX",0),setVelocityY:a(v,"velocityY",0),setAngularVelocity:a(v,"angularVelocity",0),setAngularAcceleration:a(v,"angularAcceleration",0),setAngularDrag:a(v,"angularDrag",0),setMass:a(v,"mass",1),setImmovable:a(v,"immovable",!1)},e.call(this,f,c,v),this.type="PhysicsGroup"},createCallbackHandler:function(n){n.body||this.world.enableBody(n,s.DYNAMIC_BODY);var h=n.body;for(var f in this.defaults)h[f](this.defaults[f])},removeCallbackHandler:function(n){n.body&&this.world.disableBody(n)},setVelocity:function(n,h,f){f===void 0&&(f=0);for(var c=this.getChildren(),v=0;v<c.length;v++)c[v].body.velocity.set(n+v*f,h+v*f);return this},setVelocityX:function(n,h){h===void 0&&(h=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.x=n+c*h;return this},setVelocityY:function(n,h){h===void 0&&(h=0);for(var f=this.getChildren(),c=0;c<f.length;c++)f[c].body.velocity.y=n+c*h;return this}});p.exports=d},3017:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,t,u,m,l,s,a,e,r,d,n,h,f,c,v,g,y,C=function(D,F,O){T=D,t=F;var B=T.velocity.x,N=t.velocity.x;return u=T.pushable,r=T._dx<0,d=T._dx>0,n=T._dx===0,v=Math.abs(T.right-t.x)<=Math.abs(t.right-T.x),a=N-B*T.bounce.x,m=t.pushable,h=t._dx<0,f=t._dx>0,c=t._dx===0,g=!v,e=B-N*t.bounce.x,y=Math.abs(O),S()},S=function(){return d&&v&&t.blocked.right?(T.processX(-y,a,!1,!0),1):r&&g&&t.blocked.left?(T.processX(y,a,!0),1):f&&g&&T.blocked.right?(t.processX(-y,e,!1,!0),2):h&&v&&T.blocked.left?(t.processX(y,e,!0),2):0},P=function(){var D=T.velocity.x,F=t.velocity.x,O=Math.sqrt(F*F*t.mass/T.mass)*(F>0?1:-1),B=Math.sqrt(D*D*T.mass/t.mass)*(D>0?1:-1),N=(O+B)*.5;return O-=N,B-=N,l=N+O*T.bounce.x,s=N+B*t.bounce.x,r&&g?w(0):h&&v?w(1):d&&v?w(2):f&&g?w(3):!1},w=function(D){if(u&&m)y*=.5,D===0||D===3?(T.processX(y,l),t.processX(-y,s)):(T.processX(-y,l),t.processX(y,s));else if(u&&!m)D===0||D===3?T.processX(y,a,!0):T.processX(-y,a,!1,!0);else if(!u&&m)D===0||D===3?t.processX(-y,e,!1,!0):t.processX(y,e,!0);else{var F=y*.5;D===0?c?(T.processX(y,0,!0),t.processX(0,null,!1,!0)):f?(T.processX(F,0,!0),t.processX(-F,0,!1,!0)):(T.processX(F,t.velocity.x,!0),t.processX(-F,null,!1,!0)):D===1?n?(T.processX(0,null,!1,!0),t.processX(y,0,!0)):d?(T.processX(-F,0,!1,!0),t.processX(F,0,!0)):(T.processX(-F,null,!1,!0),t.processX(F,T.velocity.x,!0)):D===2?c?(T.processX(-y,0,!1,!0),t.processX(0,null,!0)):h?(T.processX(-F,0,!1,!0),t.processX(F,0,!0)):(T.processX(-F,t.velocity.x,!1,!0),t.processX(F,null,!0)):D===3&&(n?(T.processX(0,null,!0),t.processX(-y,0,!1,!0)):r?(T.processX(F,0,!0),t.processX(-F,0,!1,!0)):(T.processX(F,t.velocity.y,!0),t.processX(-F,null,!1,!0)))}return!0},R=function(D){D===1?t.velocity.x=0:v?t.processX(y,e,!0):t.processX(-y,e,!1,!0),T.moves&&(t.y+=(T.y-T.prev.y)*T.friction.y,t._dy=t.y-t.prev.y)},L=function(D){D===2?T.velocity.x=0:g?T.processX(y,a,!0):T.processX(-y,a,!1,!0),t.moves&&(T.y+=(t.y-t.prev.y)*t.friction.y,T._dy=T.y-T.prev.y)};p.exports={BlockCheck:S,Check:P,Set:C,Run:w,RunImmovableBody1:R,RunImmovableBody2:L}},47962:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,t,u,m,l,s,a,e,r,d,n,h,f,c,v,g,y,C=function(D,F,O){T=D,t=F;var B=T.velocity.y,N=t.velocity.y;return u=T.pushable,r=T._dy<0,d=T._dy>0,n=T._dy===0,v=Math.abs(T.bottom-t.y)<=Math.abs(t.bottom-T.y),a=N-B*T.bounce.y,m=t.pushable,h=t._dy<0,f=t._dy>0,c=t._dy===0,g=!v,e=B-N*t.bounce.y,y=Math.abs(O),S()},S=function(){return d&&v&&t.blocked.down?(T.processY(-y,a,!1,!0),1):r&&g&&t.blocked.up?(T.processY(y,a,!0),1):f&&g&&T.blocked.down?(t.processY(-y,e,!1,!0),2):h&&v&&T.blocked.up?(t.processY(y,e,!0),2):0},P=function(){var D=T.velocity.y,F=t.velocity.y,O=Math.sqrt(F*F*t.mass/T.mass)*(F>0?1:-1),B=Math.sqrt(D*D*T.mass/t.mass)*(D>0?1:-1),N=(O+B)*.5;return O-=N,B-=N,l=N+O*T.bounce.y,s=N+B*t.bounce.y,r&&g?w(0):h&&v?w(1):d&&v?w(2):f&&g?w(3):!1},w=function(D){if(u&&m)y*=.5,D===0||D===3?(T.processY(y,l),t.processY(-y,s)):(T.processY(-y,l),t.processY(y,s));else if(u&&!m)D===0||D===3?T.processY(y,a,!0):T.processY(-y,a,!1,!0);else if(!u&&m)D===0||D===3?t.processY(-y,e,!1,!0):t.processY(y,e,!0);else{var F=y*.5;D===0?c?(T.processY(y,0,!0),t.processY(0,null,!1,!0)):f?(T.processY(F,0,!0),t.processY(-F,0,!1,!0)):(T.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)):D===1?n?(T.processY(0,null,!1,!0),t.processY(y,0,!0)):d?(T.processY(-F,0,!1,!0),t.processY(F,0,!0)):(T.processY(-F,null,!1,!0),t.processY(F,T.velocity.y,!0)):D===2?c?(T.processY(-y,0,!1,!0),t.processY(0,null,!0)):h?(T.processY(-F,0,!1,!0),t.processY(F,0,!0)):(T.processY(-F,t.velocity.y,!1,!0),t.processY(F,null,!0)):D===3&&(n?(T.processY(0,null,!0),t.processY(-y,0,!1,!0)):r?(T.processY(F,0,!0),t.processY(-F,0,!1,!0)):(T.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)))}return!0},R=function(D){D===1?t.velocity.y=0:v?t.processY(y,e,!0):t.processY(-y,e,!1,!0),T.moves&&(t.x+=(T.x-T.prev.x)*T.friction.x,t._dx=t.x-t.prev.x)},L=function(D){D===2?T.velocity.y=0:g?T.processY(y,a,!0):T.processY(-y,a,!1,!0),t.moves&&(T.x+=(t.x-t.prev.x)*t.friction.x,T._dx=T.x-T.prev.x)};p.exports={BlockCheck:S,Check:P,Set:C,Run:w,RunImmovableBody1:R,RunImmovableBody2:L}},14087:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(64897),m=t(3017),l=function(s,a,e,r,d){d===void 0&&(d=u(s,a,e,r));var n=s.immovable,h=a.immovable;if(e||d===0||n&&h||s.customSeparateX||a.customSeparateX)return d!==0||s.embedded&&a.embedded;var f=m.Set(s,a,d);return!n&&!h?f>0?!0:m.Check():(n?m.RunImmovableBody1(f):h&&m.RunImmovableBody2(f),!0)};p.exports=l},89936:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45170),m=t(47962),l=function(s,a,e,r,d){d===void 0&&(d=u(s,a,e,r));var n=s.immovable,h=a.immovable;if(e||d===0||n&&h||s.customSeparateY||a.customSeparateY)return d!==0||s.embedded&&a.embedded;var f=m.Set(s,a,d);return!n&&!h?f>0?!0:m.Check():(n?m.RunImmovableBody1(f):h&&m.RunImmovableBody2(f),!0)};p.exports=l},95829:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===void 0&&(u={}),u.none=t,u.up=!1,u.down=!1,u.left=!1,u.right=!1,t||(u.up=!0,u.down=!0,u.left=!0,u.right=!0),u};p.exports=T},72624:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87902),m=t(83419),l=t(78389),s=t(37747),a=t(37303),e=t(95829),r=t(26099),d=new m({Mixins:[l],initialize:function(h,f){var c=64,v=64,g={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=f!==void 0;y&&f.displayWidth&&(c=f.displayWidth,v=f.displayHeight),y||(f=g),this.world=h,this.gameObject=y?f:void 0,this.isBody=!0,this.debugShowBody=h.defaults.debugShowStaticBody,this.debugBodyColor=h.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(f.x-c*f.originX,f.y-v*f.originY),this.width=c,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(n,h){return n&&n!==this.gameObject&&(this.gameObject.body=null,n.body=this,this.gameObject=n),h&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var n=this.gameObject;return n.getTopLeft(this.position),this.width=n.displayWidth,this.height=n.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(n,h){return h===void 0&&(h=n),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(n,h),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(n,h,f){f===void 0&&(f=!0);var c=this.gameObject;if(c&&c.frame&&(n||(n=c.frame.realWidth),h||(h=c.frame.realHeight)),this.world.staticTree.remove(this),this.width=n,this.height=h,this.halfWidth=Math.floor(n/2),this.halfHeight=Math.floor(h/2),f&&c&&c.getCenter){var v=c.displayWidth/2,g=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,g-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(n,h,f){return h===void 0&&(h=this.offset.x),f===void 0&&(f=this.offset.y),n>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=n,this.width=n*2,this.height=n*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(n,h){var f=this.gameObject;n===void 0&&(n=f.x),h===void 0&&(h=f.y),this.world.staticTree.remove(this),f.setPosition(n,h),f.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,h){return this.isCircle?u(this,n,h):a(this,n,h)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(n){var h=this.position,f=h.x+this.halfWidth,c=h.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?n.strokeCircle(f,c,this.width/2):n.strokeRect(h.x,h.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(n){return n<=0&&(n=.1),this.mass=n,this},x:{get:function(){return this.position.x},set:function(n){this.world.staticTree.remove(this),this.position.x=n,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(n){this.world.staticTree.remove(this),this.position.y=n,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=d},71464:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13759),m=t(83419),l=t(78389),s=t(37747),a=t(95540),e=t(26479),r=t(41212),d=new m({Extends:e,Mixins:[l],initialize:function(h,f,c,v){!c&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:u}:r(c)?(v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=a(v,"classType",u)):Array.isArray(c)&&r(c[0])?(v=c,c=null,v.forEach(function(g){g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler,g.createMultipleCallback=this.createMultipleCallbackHandler,g.classType=a(g,"classType",u)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=h,this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,f,c,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(n){n.body||this.world.enableBody(n,s.STATIC_BODY)},removeCallbackHandler:function(n){n.body&&this.world.disableBody(n)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var n=this.children.entries,h=0;h<n.length;h++)n[h].body.reset();return this}});p.exports=d},82248:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(55495),m=t(37742),l=t(45319),s=t(83419),a=t(79342),e=t(37747),r=t(20339),d=t(52816),n=t(50792),h=t(63012),f=t(43855),c=t(5470),v=t(94977),g=t(64897),y=t(45170),C=t(96523),S=t(35154),P=t(36383),w=t(25774),R=t(96602),L=t(87841),D=t(59542),F=t(40012),O=t(14087),B=t(89936),N=t(35072),G=t(72624),z=t(2483),X=t(61340),H=t(26099),V=t(15994),W=new s({Extends:n,initialize:function(b,U){n.call(this),this.scene=b,this.bodies=new N,this.staticBodies=new N,this.pendingDestroy=new N,this.colliders=new w,this.gravity=new H(S(U,"gravity.x",0),S(U,"gravity.y",0)),this.bounds=new L(S(U,"x",0),S(U,"y",0),S(U,"width",b.sys.scale.width),S(U,"height",b.sys.scale.height)),this.checkCollision={up:S(U,"checkCollision.up",!0),down:S(U,"checkCollision.down",!0),left:S(U,"checkCollision.left",!0),right:S(U,"checkCollision.right",!0)},this.fps=S(U,"fps",60),this.fixedStep=S(U,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(U,"timeScale",1),this.OVERLAP_BIAS=S(U,"overlapBias",4),this.TILE_BIAS=S(U,"tileBias",16),this.forceX=S(U,"forceX",!1),this.isPaused=S(U,"isPaused",!1),this._total=0,this.drawDebug=S(U,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:S(U,"debugShowBody",!0),debugShowStaticBody:S(U,"debugShowStaticBody",!0),debugShowVelocity:S(U,"debugShowVelocity",!0),bodyDebugColor:S(U,"debugBodyColor",16711935),staticBodyDebugColor:S(U,"debugStaticBodyColor",255),velocityDebugColor:S(U,"debugVelocityColor",65280)},this.maxEntries=S(U,"maxEntries",16),this.useTree=S(U,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new X,this._tempMatrix2=new X,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(I,b){b===void 0&&(b=e.DYNAMIC_BODY),Array.isArray(I)||(I=[I]);for(var U=0;U<I.length;U++){var Y=I[U];if(Y.isParent)for(var $=Y.getChildren(),j=0;j<$.length;j++){var K=$[j];K.isParent?this.enable(K,b):this.enableBody(K,b)}else this.enableBody(Y,b)}},enableBody:function(I,b){return b===void 0&&(b=e.DYNAMIC_BODY),I.hasTransformComponent&&(I.body||(b===e.DYNAMIC_BODY?I.body=new m(this,I):b===e.STATIC_BODY&&(I.body=new G(this,I))),this.add(I.body)),I},add:function(I){return I.physicsType===e.DYNAMIC_BODY?this.bodies.set(I):I.physicsType===e.STATIC_BODY&&(this.staticBodies.set(I),this.staticTree.insert(I)),I.enable=!0,I},disable:function(I){Array.isArray(I)||(I=[I]);for(var b=0;b<I.length;b++){var U=I[b];if(U.isParent)for(var Y=U.getChildren(),$=0;$<Y.length;$++){var j=Y[$];j.isParent?this.disable(j):this.disableBody(j.body)}else this.disableBody(U.body)}},disableBody:function(I){this.remove(I),I.enable=!1},remove:function(I){I.physicsType===e.DYNAMIC_BODY?(this.tree.remove(I),this.bodies.delete(I)):I.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(I),this.staticTree.remove(I))},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},setBounds:function(I,b,U,Y,$,j,K,J){return this.bounds.setTo(I,b,U,Y),$!==void 0&&this.setBoundsCollision($,j,K,J),this},setBoundsCollision:function(I,b,U,Y){return I===void 0&&(I=!0),b===void 0&&(b=!0),U===void 0&&(U=!0),Y===void 0&&(Y=!0),this.checkCollision.left=I,this.checkCollision.right=b,this.checkCollision.up=U,this.checkCollision.down=Y,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(I,b,U,Y,$){U===void 0&&(U=null),Y===void 0&&(Y=null),$===void 0&&($=U);var j=new a(this,!1,I,b,U,Y,$);return this.colliders.add(j),j},addOverlap:function(I,b,U,Y,$){U===void 0&&(U=null),Y===void 0&&(Y=null),$===void 0&&($=U);var j=new a(this,!0,I,b,U,Y,$);return this.colliders.add(j),j},removeCollider:function(I){return this.colliders.remove(I),this},setFPS:function(I){return this.fps=I,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(I,b){if(!(this.isPaused||this.bodies.size===0)){var U,Y=this._frameTime,$=this._frameTimeMS*this.timeScale;this._elapsed+=b;var j,K=this.bodies.entries,J=this._elapsed>=$;for(this.fixedStep||(Y=b*.001,J=!0,this._elapsed=0),U=0;U<K.length;U++)j=K[U],j.enable&&j.preUpdate(J,Y);if(J){this._elapsed-=$,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var k=this.colliders.update();for(U=0;U<k.length;U++){var _=k[U];_.active&&_.update()}this.emit(h.WORLD_STEP,Y)}for(;this._elapsed>=$;)this._elapsed-=$,this.step(Y)}},step:function(I){var b,U,Y=this.bodies.entries,$=Y.length;for(b=0;b<$;b++)U=Y[b],U.enable&&U.update(I);this.useTree&&(this.tree.clear(),this.tree.load(Y));var j=this.colliders.update();for(b=0;b<j.length;b++){var K=j[b];K.active&&K.update()}this.emit(h.WORLD_STEP,I),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var I,b,U=this.bodies.entries,Y=U.length,$=this.bodies,j=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,I=0;I<Y;I++)b=U[I],b.enable&&b.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),I=0;I<Y;I++)b=U[I],b.willDrawDebug()&&b.drawDebug(K);for(U=j.entries,Y=U.length,I=0;I<Y;I++)b=U[I],b.willDrawDebug()&&b.drawDebug(K)}var J=this.pendingDestroy;if(J.size>0){var k=this.tree,_=this.staticTree;for(U=J.entries,Y=U.length,I=0;I<Y;I++)b=U[I],b.physicsType===e.DYNAMIC_BODY?(k.remove(b),$.delete(b)):b.physicsType===e.STATIC_BODY&&(_.remove(b),j.delete(b)),b.world=void 0,b.gameObject=void 0;J.clear()}},updateMotion:function(I,b){I.allowRotation&&this.computeAngularVelocity(I,b),this.computeVelocity(I,b)},computeAngularVelocity:function(I,b){var U=I.angularVelocity,Y=I.angularAcceleration,$=I.angularDrag,j=I.maxAngular;Y?U+=Y*b:I.allowDrag&&$&&($*=b,c(U-$,0,.1)?U-=$:v(U+$,0,.1)?U+=$:U=0),U=l(U,-j,j);var K=U-I.angularVelocity;I.angularVelocity+=K,I.rotation+=I.angularVelocity*b},computeVelocity:function(I,b){var U=I.velocity.x,Y=I.acceleration.x,$=I.drag.x,j=I.maxVelocity.x,K=I.velocity.y,J=I.acceleration.y,k=I.drag.y,_=I.maxVelocity.y,et=I.speed,nt=I.maxSpeed,it=I.allowDrag,ot=I.useDamping;I.allowGravity&&(U+=(this.gravity.x+I.gravity.x)*b,K+=(this.gravity.y+I.gravity.y)*b),Y?U+=Y*b:it&&$&&(ot?($=Math.pow($,b),U*=$,et=Math.sqrt(U*U+K*K),f(et,0,.001)&&(U=0)):($*=b,c(U-$,0,.01)?U-=$:v(U+$,0,.01)?U+=$:U=0)),J?K+=J*b:it&&k&&(ot?(k=Math.pow(k,b),K*=k,et=Math.sqrt(U*U+K*K),f(et,0,.001)&&(K=0)):(k*=b,c(K-k,0,.01)?K-=k:v(K+k,0,.01)?K+=k:K=0)),U=l(U,-j,j),K=l(K,-_,_),I.velocity.set(U,K),nt>-1&&I.velocity.length()>nt&&(I.velocity.normalize().scale(nt),et=nt),I.speed=et},separate:function(I,b,U,Y,$){var j,K,J=!1,k=!0;if(!I.enable||!b.enable||I.checkCollision.none||b.checkCollision.none||!this.intersects(I,b)||U&&U.call(Y,I.gameObject,b.gameObject)===!1)return J;if(I.isCircle||b.isCircle){var _=this.separateCircle(I,b,$);_.result?(J=!0,k=!1):(j=_.x,K=_.y,k=!0)}if(k){var et=!1,nt=!1,it=this.OVERLAP_BIAS;$?(et=O(I,b,$,it,j),nt=B(I,b,$,it,K)):this.forceX||Math.abs(this.gravity.y+I.gravity.y)<Math.abs(this.gravity.x+I.gravity.x)?(et=O(I,b,$,it,j),this.intersects(I,b)&&(nt=B(I,b,$,it,K))):(nt=B(I,b,$,it,K),this.intersects(I,b)&&(et=O(I,b,$,it,j))),J=et||nt}return J&&($?(I.onOverlap||b.onOverlap)&&this.emit(h.OVERLAP,I.gameObject,b.gameObject,I,b):(I.onCollide||b.onCollide)&&this.emit(h.COLLIDE,I.gameObject,b.gameObject,I,b)),J},separateCircle:function(I,b,U){g(I,b,!1,0),y(I,b,!1,0);var Y=I.isCircle,$=b.isCircle,j=I.center,K=b.center,J=I.immovable,k=b.immovable,_=I.velocity,et=b.velocity,nt=0,it=!0;if(Y!==$){it=!1;var ot=j.x,ft=j.y,pt=I.halfWidth,mt=b.position.x,rt=b.position.y,dt=b.right,ct=b.bottom;$&&(ot=K.x,ft=K.y,pt=b.halfWidth,mt=I.position.x,rt=I.position.y,dt=I.right,ct=I.bottom),ft<rt?ot<mt?nt=r(ot,ft,mt,rt)-pt:ot>dt&&(nt=r(ot,ft,dt,rt)-pt):ft>ct&&(ot<mt?nt=r(ot,ft,mt,ct)-pt:ot>dt&&(nt=r(ot,ft,dt,ct)-pt)),nt*=-1}else nt=I.halfWidth+b.halfWidth-d(j,K);I.overlapR=nt,b.overlapR=nt;var Pt=u(j,K),Et=(nt+P.EPSILON)*Math.cos(Pt),Mt=(nt+P.EPSILON)*Math.sin(Pt),Dt={overlap:nt,result:!1,x:Et,y:Mt};if(U&&(!it||it&&nt!==0))return Dt.result=!0,Dt;if(!it&&nt===0||J&&k||I.customSeparateX||b.customSeparateX)return Dt.x=void 0,Dt.y=void 0,Dt;var wt=!I.pushable&&!b.pushable;if(it){var St=j.x-K.x,Nt=j.y-K.y,Q=Math.sqrt(Math.pow(St,2)+Math.pow(Nt,2)),tt=(K.x-j.x)/Q||0,at=(K.y-j.y)/Q||0,st=2*(_.x*tt+_.y*at-et.x*tt-et.y*at)/(I.mass+b.mass);(J||k)&&(st*=2),J||(_.x=_.x-st/I.mass*tt,_.y=_.y-st/I.mass*at,_.multiply(I.bounce)),k||(et.x=et.x+st/b.mass*tt,et.y=et.y+st/b.mass*at,et.multiply(b.bounce)),!J&&!k&&(Et*=.5,Mt*=.5),J||(I.x-=Et,I.y-=Mt,I.updateCenter()),k||(b.x+=Et,b.y+=Mt,b.updateCenter()),Dt.result=!0}else!J||I.pushable||wt?(I.x-=Et,I.y-=Mt,I.updateCenter()):(!k||b.pushable||wt)&&(b.x+=Et,b.y+=Mt,b.updateCenter()),Dt.x=void 0,Dt.y=void 0;return Dt},intersects:function(I,b){return I===b?!1:!I.isCircle&&!b.isCircle?!(I.right<=b.left||I.bottom<=b.top||I.left>=b.right||I.top>=b.bottom):I.isCircle?b.isCircle?d(I.center,b.center)<=I.halfWidth+b.halfWidth:this.circleBodyIntersects(I,b):this.circleBodyIntersects(b,I)},circleBodyIntersects:function(I,b){var U=l(I.center.x,b.left,b.right),Y=l(I.center.y,b.top,b.bottom),$=(I.center.x-U)*(I.center.x-U),j=(I.center.y-Y)*(I.center.y-Y);return $+j<=I.halfWidth*I.halfWidth},overlap:function(I,b,U,Y,$){return U===void 0&&(U=null),Y===void 0&&(Y=null),$===void 0&&($=U),this.collideObjects(I,b,U,Y,$,!0)},collide:function(I,b,U,Y,$){return U===void 0&&(U=null),Y===void 0&&(Y=null),$===void 0&&($=U),this.collideObjects(I,b,U,Y,$,!1)},collideObjects:function(I,b,U,Y,$,j){var K,J;I.isParent&&(I.physicsType===void 0||b===void 0||I===b)&&(I=I.children.entries),b&&b.isParent&&b.physicsType===void 0&&(b=b.children.entries);var k=Array.isArray(I),_=Array.isArray(b);if(this._total=0,!k&&!_)this.collideHandler(I,b,U,Y,$,j);else if(!k&&_)for(K=0;K<b.length;K++)this.collideHandler(I,b[K],U,Y,$,j);else if(k&&!_)if(b)for(K=0;K<I.length;K++)this.collideHandler(I[K],b,U,Y,$,j);else for(K=0;K<I.length;K++){var et=I[K];for(J=K+1;J<I.length;J++)K!==J&&this.collideHandler(et,I[J],U,Y,$,j)}else for(K=0;K<I.length;K++)for(J=0;J<b.length;J++)this.collideHandler(I[K],b[J],U,Y,$,j);return this._total>0},collideHandler:function(I,b,U,Y,$,j){if(b===void 0&&I.isParent)return this.collideGroupVsGroup(I,I,U,Y,$,j);if(!I||!b)return!1;if(I.body||I.isBody){if(b.body||b.isBody)return this.collideSpriteVsSprite(I,b,U,Y,$,j);if(b.isParent)return this.collideSpriteVsGroup(I,b,U,Y,$,j);if(b.isTilemap)return this.collideSpriteVsTilemapLayer(I,b,U,Y,$,j)}else if(I.isParent){if(b.body||b.isBody)return this.collideSpriteVsGroup(b,I,U,Y,$,j);if(b.isParent)return this.collideGroupVsGroup(I,b,U,Y,$,j);if(b.isTilemap)return this.collideGroupVsTilemapLayer(I,b,U,Y,$,j)}else if(I.isTilemap){if(b.body||b.isBody)return this.collideSpriteVsTilemapLayer(b,I,U,Y,$,j);if(b.isParent)return this.collideGroupVsTilemapLayer(b,I,U,Y,$,j)}},canCollide:function(I,b){return I&&b&&(I.collisionMask&b.collisionCategory)!==0&&(b.collisionMask&I.collisionCategory)!==0},collideSpriteVsSprite:function(I,b,U,Y,$,j){var K=I.isBody?I:I.body,J=b.isBody?b:b.body;return this.canCollide(K,J)?(this.separate(K,J,Y,$,j)&&(U&&U.call($,I,b),this._total++),!0):!1},collideSpriteVsGroup:function(I,b,U,Y,$,j){var K=I.isBody?I:I.body;if(!(b.length===0||!K||!K.enable||K.checkCollision.none||!this.canCollide(K,b))){var J,k,_;if(this.useTree||b.physicsType===e.STATIC_BODY){var et=this.treeMinMax;et.minX=K.left,et.minY=K.top,et.maxX=K.right,et.maxY=K.bottom;var nt=b.physicsType===e.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(k=nt.length,J=0;J<k;J++)_=nt[J],!(K===_||!_.enable||_.checkCollision.none||!b.contains(_.gameObject))&&this.separate(K,_,Y,$,j)&&(U&&U.call($,K.gameObject,_.gameObject),this._total++)}else{var it=b.getChildren(),ot=b.children.entries.indexOf(I);for(k=it.length,J=0;J<k;J++)_=it[J].body,!(!_||J===ot||!_.enable)&&this.separate(K,_,Y,$,j)&&(U&&U.call($,K.gameObject,_.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(I,b,U,Y,$,j){if(!this.canCollide(I,b))return!1;var K=I.getChildren();if(K.length===0)return!1;for(var J=!1,k=0;k<K.length;k++)(K[k].body||K[k].isBody)&&this.collideSpriteVsTilemapLayer(K[k],b,U,Y,$,j)&&(J=!0);return J},collideTiles:function(I,b,U,Y,$){return b.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,b,U,Y,$,!1,!1)},overlapTiles:function(I,b,U,Y,$){return b.length===0||I.body&&!I.body.enable||I.isBody&&!I.enable?!1:this.collideSpriteVsTilesHandler(I,b,U,Y,$,!0,!1)},collideSpriteVsTilemapLayer:function(I,b,U,Y,$,j){var K=I.isBody?I:I.body;if(!K.enable||K.checkCollision.none||!this.canCollide(K,b))return!1;var J=b.layer,k=K.x-J.tileWidth*b.scaleX,_=K.y-J.tileHeight*b.scaleY,et=K.width+J.tileWidth*b.scaleX,nt=K.height+J.tileHeight*b.scaleY,it=j?null:this.tileFilterOptions,ot=C(k,_,et,nt,it,b.scene.cameras.main,b.layer);return ot.length===0?!1:this.collideSpriteVsTilesHandler(I,ot,U,Y,$,j,!0)},collideSpriteVsTilesHandler:function(I,b,U,Y,$,j,K){for(var J=I.isBody?I:I.body,k,_={left:0,right:0,top:0,bottom:0},et,nt=!1,it=0;it<b.length;it++){k=b[it],et=k.tilemapLayer;var ot=et.tileToWorldXY(k.x,k.y);_.left=ot.x,_.top=ot.y,_.right=_.left+k.width*et.scaleX,_.bottom=_.top+k.height*et.scaleY,z(_,J)&&(!Y||Y.call($,I,k))&&R(k,I)&&(j||F(it,J,k,_,et,this.TILE_BIAS,K))&&(this._total++,nt=!0,U&&U.call($,I,k),j&&J.onOverlap?this.emit(h.TILE_OVERLAP,I,k,J):J.onCollide&&this.emit(h.TILE_COLLIDE,I,k,J))}return nt},collideGroupVsGroup:function(I,b,U,Y,$,j){if(!(I.length===0||b.length===0||!this.canCollide(I,b)))for(var K=I.getChildren(),J=0;J<K.length;J++)this.collideSpriteVsGroup(K[J],b,U,Y,$,j)},wrap:function(I,b){I.body?this.wrapObject(I,b):I.getChildren?this.wrapArray(I.getChildren(),b):Array.isArray(I)?this.wrapArray(I,b):this.wrapObject(I,b)},wrapArray:function(I,b){for(var U=0;U<I.length;U++)this.wrapObject(I[U],b)},wrapObject:function(I,b){b===void 0&&(b=0),I.x=V(I.x,this.bounds.left-b,this.bounds.right+b),I.y=V(I.y,this.bounds.top-b,this.bounds.bottom+b)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=W},1093:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(t,u){return this.body.acceleration.set(t,u),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=T},59023:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=T},62069:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(t,u){return this.body.bounce.set(t,u),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,u,m,l){return this.body.setCollideWorldBounds(t,u,m,l),this}};p.exports=T},78389:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79599),m={setCollisionCategory:function(l){var s=this.body?this.body:this;return s.collisionCategory=l,this},willCollideWith:function(l){var s=this.body?this.body:this;return(s.collisionMask&l)!==0},addCollidesWith:function(l){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask|l,this},removeCollidesWith:function(l){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask&~l,this},setCollidesWith:function(l){var s=this.body?this.body:this;return s.collisionMask=u(l),this},resetCollisionCategory:function(){var l=this.body?this.body:this;return l.collisionCategory=1,l.collisionMask=1,this}};p.exports=m},87118:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(t,u,m){return this.debugShowBody=t,this.debugShowVelocity=u,this.debugBodyColor=m,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=T},52819:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(t,u){return this.body.drag.set(t,u),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=T},4074:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,u,m,l,s){return t&&this.body.reset(u,m),l&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,u){return t===void 0&&(t=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=T},40831:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(t,u){return this.body.friction.set(t,u),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=T},26775:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(t,u){return this.body.gravity.set(t,u),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=T},9437:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=T},30621:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(t){return this.body.mass=t,this}};p.exports=T},72441:(p,T,t)=>{var u=t(47956),m=t(96503),l=t(2044),s=t(81491),a=function(e,r,d,n,h,f){var c=u(e,r-n,d-n,2*n,2*n,h,f);if(c.length===0)return c;for(var v=new m(r,d,n),g=new m,y=[],C=0;C<c.length;C++){var S=c[C];S.isCircle?(g.setTo(S.center.x,S.center.y,S.halfWidth),l(v,g)&&y.push(S)):s(v,S)&&y.push(S)}return y};p.exports=a},47956:p=>{var T=function(t,u,m,l,s,a,e){a===void 0&&(a=!0),e===void 0&&(e=!1);var r=[],d=[],n=t.treeMinMax;if(n.minX=u,n.minY=m,n.maxX=u+l,n.maxY=m+s,e&&(d=t.staticTree.search(n)),a&&t.useTree)r=t.tree.search(n);else if(a){var h=t.bodies,f={position:{x:u,y:m},left:u,top:m,right:u+l,bottom:m+s,isCircle:!1},c=t.intersects;h.iterate(function(v){c(v,f)&&r.push(v)})}return d.concat(r)};p.exports=T},62121:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=T},29384:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(t,u){return this.body.setOffset(t,u),this},setSize:function(t,u,m){return this.body.setSize(t,u,m),this},setBodySize:function(t,u,m){return this.body.setSize(t,u,m),this},setCircle:function(t,u,m){return this.body.setCircle(t,u,m),this}};p.exports=T},15098:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(t,u){return this.body.setVelocity(t,u),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,u){return this.body.maxVelocity.set(t,u),this}};p.exports=T},92209:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=T},20009:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},36768:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},60473:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},89954:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},61804:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},7161:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},34689:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},16006:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},63012:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37747),m=t(79291),l={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};l=m(!1,l,u),p.exports=l},96602:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,u,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,u,t):!0};p.exports=T},36294:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u<0?(t.blocked.none=!1,t.blocked.left=!0):u>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=u,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=T},67013:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u<0?(t.blocked.none=!1,t.blocked.up=!0):u>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=u,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=T},40012:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(21329),m=t(53442),l=t(2483),s=function(a,e,r,d,n,h,f){var c=d.left,v=d.top,g=d.right,y=d.bottom,C=r.faceLeft||r.faceRight,S=r.faceTop||r.faceBottom;if(f||(C=!0,S=!0),!C&&!S)return!1;var P=0,w=0,R=0,L=1;if(e.deltaAbsX()>e.deltaAbsY()?R=-1:e.deltaAbsX()<e.deltaAbsY()&&(L=-1),e.deltaX()!==0&&e.deltaY()!==0&&C&&S&&(R=Math.min(Math.abs(e.position.x-g),Math.abs(e.right-c)),L=Math.min(Math.abs(e.position.y-y),Math.abs(e.bottom-v))),R<L){if(C&&(P=u(e,r,c,g,h,f),P!==0&&!l(d,e)))return!0;S&&(w=m(e,r,v,y,h,f))}else{if(S&&(w=m(e,r,v,y,h,f),w!==0&&!l(d,e)))return!0;C&&(P=u(e,r,c,g,h,f))}return P!==0||w!==0};p.exports=s},21329:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36294),m=function(l,s,a,e,r,d){var n=0,h=s.faceLeft,f=s.faceRight,c=s.collideLeft,v=s.collideRight;return d||(h=!0,f=!0,c=!0,v=!0),l.deltaX()<0&&v&&l.checkCollision.left?f&&l.x<e&&(n=l.x-e,n<-r&&(n=0)):l.deltaX()>0&&c&&l.checkCollision.right&&h&&l.right>a&&(n=l.right-a,n>r&&(n=0)),n!==0&&(l.customSeparateX?l.overlapX=n:u(l,n)),n};p.exports=m},53442:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(67013),m=function(l,s,a,e,r,d){var n=0,h=s.faceTop,f=s.faceBottom,c=s.collideUp,v=s.collideDown;return d||(h=!0,f=!0,c=!0,v=!0),l.deltaY()<0&&v&&l.checkCollision.up?f&&l.y<e&&(n=l.y-e,n<-r&&(n=0)):l.deltaY()>0&&c&&l.checkCollision.down&&h&&l.bottom>a&&(n=l.bottom-a,n>r&&(n=0)),n!==0&&(l.customSeparateY?l.overlapY=n:u(l,n)),n};p.exports=m},2483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return!(u.right<=t.left||u.bottom<=t.top||u.position.x>=t.right||u.position.y>=t.bottom)};p.exports=T},55173:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};p.exports=u},44563:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(27064),Matter:t(3875)}},68174:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(26099),l=new u({initialize:function(){this.boundsCenter=new m,this.centerDiff=new m},parseBody:function(s){if(s=s.hasOwnProperty("body")?s.body:s,!s.hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var a=this.boundsCenter,e=this.centerDiff,r=s.bounds.max.x-s.bounds.min.x,d=s.bounds.max.y-s.bounds.min.y,n=r*s.centerOfMass.x,h=d*s.centerOfMass.y;return a.set(r/2,d/2),e.set(n-a.x,h-a.y),!0},getTopLeft:function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),this.parseBody(s)){var r=this.boundsCenter,d=this.centerDiff;return new m(a+r.x+d.x,e+r.y+d.y)}return!1},getTopCenter:function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),this.parseBody(s)){var r=this.boundsCenter,d=this.centerDiff;return new m(a+d.x,e+r.y+d.y)}return!1},getTopRight:function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),this.parseBody(s)){var r=this.boundsCenter,d=this.centerDiff;return new m(a-(r.x-d.x),e+r.y+d.y)}return!1},getLeftCenter:function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),this.parseBody(s)){var r=this.boundsCenter,d=this.centerDiff;return new m(a+r.x+d.x,e+d.y)}return!1},getCenter:function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),this.parseBody(s)){var r=this.centerDiff;return new m(a+r.x,e+r.y)}return!1},getRightCenter:function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),this.parseBody(s)){var r=this.boundsCenter,d=this.centerDiff;return new m(a-(r.x-d.x),e+d.y)}return!1},getBottomLeft:function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),this.parseBody(s)){var r=this.boundsCenter,d=this.centerDiff;return new m(a+r.x+d.x,e-(r.y-d.y))}return!1},getBottomCenter:function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),this.parseBody(s)){var r=this.boundsCenter,d=this.centerDiff;return new m(a+d.x,e-(r.y-d.y))}return!1},getBottomRight:function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),this.parseBody(s)){var r=this.boundsCenter,d=this.centerDiff;return new m(a-(r.x-d.x),e-(r.y-d.y))}return!1}});p.exports=l},19933:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6790);u.Body=t(22562),u.Composite=t(69351),u.World=t(4372),u.Collision=t(52284),u.Detector=t(81388),u.Pairs=t(99561),u.Pair=t(4506),u.Query=t(73296),u.Resolver=t(66272),u.Constraint=t(48140),u.Common=t(53402),u.Engine=t(48413),u.Events=t(35810),u.Sleeping=t(53614),u.Plugin=t(73832),u.Bodies=t(66280),u.Composites=t(74116),u.Axes=t(66615),u.Bounds=t(15647),u.Svg=t(74058),u.Vector=t(31725),u.Vertices=t(41598),u.World.add=u.Composite.add,u.World.remove=u.Composite.remove,u.World.addComposite=u.Composite.addComposite,u.World.addBody=u.Composite.addBody,u.World.addConstraint=u.Composite.addConstraint,u.World.clear=u.Composite.clear,p.exports=u},28137:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66280),m=t(83419),l=t(74116),s=t(48140),a=t(74058),e=t(75803),r=t(23181),d=t(34803),n=t(73834),h=t(19496),f=t(85791),c=t(98713),v=t(41598),g=new m({initialize:function(C){this.world=C,this.scene=C.scene,this.sys=C.scene.sys},rectangle:function(y,C,S,P,w){var R=u.rectangle(y,C,S,P,w);return this.world.add(R),R},trapezoid:function(y,C,S,P,w,R){var L=u.trapezoid(y,C,S,P,w,R);return this.world.add(L),L},circle:function(y,C,S,P,w){var R=u.circle(y,C,S,P,w);return this.world.add(R),R},polygon:function(y,C,S,P,w){var R=u.polygon(y,C,S,P,w);return this.world.add(R),R},fromVertices:function(y,C,S,P,w,R,L){typeof S=="string"&&(S=v.fromPath(S));var D=u.fromVertices(y,C,S,P,w,R,L);return this.world.add(D),D},fromPhysicsEditor:function(y,C,S,P,w){w===void 0&&(w=!0);var R=h.parseBody(y,C,S,P);return w&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(y,C,S,P,w,R){P===void 0&&(P=1),w===void 0&&(w={}),R===void 0&&(R=!0);for(var L=S.getElementsByTagName("path"),D=[],F=0;F<L.length;F++){var O=a.pathToVertices(L[F],30);P!==1&&v.scale(O,P,P),D.push(O)}var B=u.fromVertices(y,C,D,w);return R&&this.world.add(B),B},fromJSON:function(y,C,S,P,w){P===void 0&&(P={}),w===void 0&&(w=!0);var R=f.parseBody(y,C,S,P);return R&&w&&this.world.add(R),R},imageStack:function(y,C,S,P,w,R,L,D,F){L===void 0&&(L=0),D===void 0&&(D=0),F===void 0&&(F={});var O=this.world,B=this.sys.displayList;F.addToWorld=!1;var N=l.stack(S,P,w,R,L,D,function(G,z){var X=new r(O,G,z,y,C,F);return B.add(X),X.body});return O.add(N),N},stack:function(y,C,S,P,w,R,L){var D=l.stack(y,C,S,P,w,R,L);return this.world.add(D),D},pyramid:function(y,C,S,P,w,R,L){var D=l.pyramid(y,C,S,P,w,R,L);return this.world.add(D),D},chain:function(y,C,S,P,w,R){return l.chain(y,C,S,P,w,R)},mesh:function(y,C,S,P,w){return l.mesh(y,C,S,P,w)},newtonsCradle:function(y,C,S,P,w){var R=l.newtonsCradle(y,C,S,P,w);return this.world.add(R),R},car:function(y,C,S,P,w){var R=l.car(y,C,S,P,w);return this.world.add(R),R},softBody:function(y,C,S,P,w,R,L,D,F,O){var B=l.softBody(y,C,S,P,w,R,L,D,F,O);return this.world.add(B),B},joint:function(y,C,S,P,w){return this.constraint(y,C,S,P,w)},spring:function(y,C,S,P,w){return this.constraint(y,C,S,P,w)},constraint:function(y,C,S,P,w){P===void 0&&(P=1),w===void 0&&(w={}),w.bodyA=y.type==="body"?y:y.body,w.bodyB=C.type==="body"?C:C.body,isNaN(S)||(w.length=S),w.stiffness=P;var R=s.create(w);return this.world.add(R),R},worldConstraint:function(y,C,S,P){S===void 0&&(S=1),P===void 0&&(P={}),P.bodyB=y.type==="body"?y:y.body,isNaN(C)||(P.length=C),P.stiffness=S;var w=s.create(P);return this.world.add(w),w},mouseSpring:function(y){return this.pointerConstraint(y)},pointerConstraint:function(y){y===void 0&&(y={}),y.hasOwnProperty("render")||(y.render={visible:!1});var C=new c(this.scene,this.world,y);return this.world.add(C.constraint),C},image:function(y,C,S,P,w){var R=new r(this.world,y,C,S,P,w);return this.sys.displayList.add(R),R},tileBody:function(y,C){return new n(this.world,y,C)},sprite:function(y,C,S,P,w){var R=new d(this.world,y,C,S,P,w);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(y,C,S){return e(this.world,y,C,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=g},75803:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(31884),m=t(95540),l=t(26099);function s(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var a=function(e,r,d,n){d===void 0&&(d={}),n===void 0&&(n=!0);var h=r.x,f=r.y;r.body={temp:!0,position:{x:h,y:f}};var c=[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity];if(c.forEach(function(g){for(var y in g)s(g[y])?Object.defineProperty(r,y,{get:g[y].get,set:g[y].set}):Object.defineProperty(r,y,{value:g[y]})}),r.world=e,r._tempVec2=new l(h,f),d.hasOwnProperty("type")&&d.type==="body")r.setExistingBody(d,n);else{var v=m(d,"shape",null);v||(v="rectangle"),d.addToWorld=n,r.setBody(v,d)}return r};p.exports=a},23181:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31884),l=t(95643),s=t(95540),a=t(88571),e=t(72699),r=t(26099),d=new u({Extends:a,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,e],initialize:function(h,f,c,v,g,y){l.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,g),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new r(f,c);var C=s(y,"shape",null);C?this.setBody(C,y):this.setRectangle(this.width,this.height,y),this.setPosition(f,c),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=d},42045:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(60461),m=t(66615),l=t(66280),s=t(22562),a=t(68174),e=t(15647),r=t(83419),d=t(52284),n=t(53402),h=t(69351),f=t(74116),c=t(48140),v=t(81388),g=t(20339),y=t(28137),C=t(95540),S=t(35154),P=t(18210),w=t(40178),R=t(6790),L=t(74507),D=t(46975),F=t(4506),O=t(99561),B=t(73832),N=t(37277),G=t(73296),z=t(66272),X=t(44594),H=t(74058),V=t(31725),W=t(41598),I=t(68243);n.setDecomp(t(55973));var b=new r({initialize:function(Y){this.scene=Y,this.systems=Y.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=h,this.collision=d,this.detector=v,this.pair=F,this.pairs=O,this.query=G,this.resolver=z,this.constraint=c,this.bodies=l,this.composites=f,this.axes=m,this.bounds=e,this.svg=H,this.vector=V,this.vertices=W,this.verts=W,this._tempVec2=V.create(),S(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),S(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),S(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),z._restingThresh=S(this.config,"restingThresh",4),z._restingThreshTangent=S(this.config,"restingThreshTangent",6),z._positionDampen=S(this.config,"positionDampen",.9),z._positionWarming=S(this.config,"positionWarming",.8),z._frictionNormalMultiplier=S(this.config,"frictionNormalMultiplier",5),Y.sys.events.once(X.BOOT,this.boot,this),Y.sys.events.on(X.START,this.start,this)},boot:function(){this.world=new I(this.scene,this.config),this.add=new y(this.world),this.bodyBounds=new a,this.systems.events.once(X.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new I(this.scene,this.config),this.add=new y(this.world));var U=this.systems.events;U.on(X.UPDATE,this.world.update,this.world),U.on(X.POST_UPDATE,this.world.postUpdate,this.world),U.once(X.SHUTDOWN,this.shutdown,this)},getConfig:function(){var U=this.systems.game.config.physics,Y=this.systems.settings.physics,$=D(C(Y,"matter",{}),C(U,"matter",{}));return $},enableAttractorPlugin:function(){return B.register(P),B.use(R,P),this},enableWrapPlugin:function(){return B.register(L),B.use(R,L),this},enableCollisionEventsPlugin:function(){return B.register(w),B.use(R,w),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(U,Y){this.world.step(U,Y)},containsPoint:function(U,Y,$){U=this.getMatterBodies(U);var j=V.create(Y,$),K=G.point(U,j);return K.length>0},intersectPoint:function(U,Y,$){$=this.getMatterBodies($);var j=V.create(U,Y),K=[],J=G.point($,j);return J.forEach(function(k){K.indexOf(k)===-1&&K.push(k)}),K},intersectRect:function(U,Y,$,j,K,J){K===void 0&&(K=!1),J=this.getMatterBodies(J);var k={min:{x:U,y:Y},max:{x:U+$,y:Y+j}},_=[],et=G.region(J,k,K);return et.forEach(function(nt){_.indexOf(nt)===-1&&_.push(nt)}),_},intersectRay:function(U,Y,$,j,K,J){K===void 0&&(K=1),J=this.getMatterBodies(J);for(var k=[],_=G.ray(J,V.create(U,Y),V.create($,j),K),et=0;et<_.length;et++)k.push(_[et].body);return k},intersectBody:function(U,Y){Y=this.getMatterBodies(Y);for(var $=[],j=G.collides(U,Y),K=0;K<j.length;K++){var J=j[K];J.bodyA===U?$.push(J.bodyB):$.push(J.bodyA)}return $},overlap:function(U,Y,$,j,K){$===void 0&&($=null),j===void 0&&(j=null),K===void 0&&(K=$),Array.isArray(U)||(U=[U]),U=this.getMatterBodies(U),Y=this.getMatterBodies(Y);for(var J=!1,k=0;k<U.length;k++)for(var _=U[k],et=G.collides(_,Y),nt=0;nt<et.length;nt++){var it=et[nt],ot=it.bodyA.id===_.id?it.bodyB:it.bodyA;if(!j||j.call(K,_,ot,it)){if(J=!0,$)$.call(K,_,ot,it);else if(!j)return!0}}return J},setCollisionCategory:function(U,Y){return U=this.getMatterBodies(U),U.forEach(function($){$.collisionFilter.category=Y}),this},setCollisionGroup:function(U,Y){return U=this.getMatterBodies(U),U.forEach(function($){$.collisionFilter.group=Y}),this},setCollidesWith:function(U,Y){U=this.getMatterBodies(U);var $=0;if(!Array.isArray(Y))$=Y;else for(var j=0;j<Y.length;j++)$|=Y[j];return U.forEach(function(K){K.collisionFilter.mask=$}),this},getMatterBodies:function(U){if(!U)return this.world.getAllBodies();Array.isArray(U)||(U=[U]);for(var Y=[],$=0;$<U.length;$++){var j=U[$].hasOwnProperty("body")?U[$].body:U[$];Y.push(j)}return Y},setVelocity:function(U,Y,$){U=this.getMatterBodies(U);var j=this._tempVec2;return j.x=Y,j.y=$,U.forEach(function(K){s.setVelocity(K,j)}),this},setVelocityX:function(U,Y){U=this.getMatterBodies(U);var $=this._tempVec2;return $.x=Y,U.forEach(function(j){$.y=j.velocity.y,s.setVelocity(j,$)}),this},setVelocityY:function(U,Y){U=this.getMatterBodies(U);var $=this._tempVec2;return $.y=Y,U.forEach(function(j){$.x=j.velocity.x,s.setVelocity(j,$)}),this},setAngularVelocity:function(U,Y){return U=this.getMatterBodies(U),U.forEach(function($){s.setAngularVelocity($,Y)}),this},applyForce:function(U,Y){U=this.getMatterBodies(U);var $=this._tempVec2;return U.forEach(function(j){$.x=j.position.x,$.y=j.position.y,s.applyForce(j,$,Y)}),this},applyForceFromPosition:function(U,Y,$,j){U=this.getMatterBodies(U);var K=this._tempVec2;return U.forEach(function(J){j===void 0&&(j=J.angle),K.x=$*Math.cos(j),K.y=$*Math.sin(j),s.applyForce(J,Y,K)}),this},applyForceFromAngle:function(U,Y,$){U=this.getMatterBodies(U);var j=this._tempVec2;return U.forEach(function(K){$===void 0&&($=K.angle),j.x=Y*Math.cos($),j.y=Y*Math.sin($),s.applyForce(K,{x:K.position.x,y:K.position.y},j)}),this},getConstraintLength:function(U){var Y=U.pointA.x,$=U.pointA.y,j=U.pointB.x,K=U.pointB.y;return U.bodyA&&(Y+=U.bodyA.position.x,$+=U.bodyA.position.y),U.bodyB&&(j+=U.bodyB.position.x,K+=U.bodyB.position.y),g(Y,$,j,K)},alignBody:function(U,Y,$,j){U=U.hasOwnProperty("body")?U.body:U;var K;switch(j){case u.TOP_LEFT:case u.LEFT_TOP:K=this.bodyBounds.getTopLeft(U,Y,$);break;case u.TOP_CENTER:K=this.bodyBounds.getTopCenter(U,Y,$);break;case u.TOP_RIGHT:case u.RIGHT_TOP:K=this.bodyBounds.getTopRight(U,Y,$);break;case u.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(U,Y,$);break;case u.CENTER:K=this.bodyBounds.getCenter(U,Y,$);break;case u.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(U,Y,$);break;case u.LEFT_BOTTOM:case u.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(U,Y,$);break;case u.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(U,Y,$);break;case u.BOTTOM_RIGHT:case u.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(U,Y,$);break}return K&&s.setPosition(U,K),this},shutdown:function(){var U=this.systems.events;this.world&&(U.off(X.UPDATE,this.world.update,this.world),U.off(X.POST_UPDATE,this.world.postUpdate,this.world)),U.off(X.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(X.START,this.start,this),this.scene=null,this.systems=null}});N.register("MatterPhysics",b,"matterPhysics"),p.exports=b},34803:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(9674),m=t(83419),l=t(31884),s=t(95643),a=t(95540),e=t(72699),r=t(68287),d=t(26099),n=new m({Extends:r,Mixins:[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity,e],initialize:function(f,c,v,g,y,C){s.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(g,y),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new d(c,v);var S=a(C,"shape",null);S?this.setBody(S,C):this.setRectangle(this.width,this.height,C),this.setPosition(c,v),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=n},73834:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66280),m=t(22562),l=t(83419),s=t(31884),a=t(62644),e=t(50792),r=t(95540),d=t(97022),n=t(41598),h=new l({Extends:e,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(c,v,g){e.call(this),this.tile=v,this.world=c,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var y=r(g,"body",null),C=r(g,"addToWorld",!0);if(y)this.setBody(y,C);else{var S=v.getCollisionGroup(),P=r(S,"objects",[]);P.length>0?this.setFromTileCollision(g):this.setFromTileRectangle(g)}if(v.flipX||v.flipY){var w={x:v.getCenterX(),y:v.getCenterY()},R=v.flipX?-1:1,L=v.flipY?-1:1;m.scale(y,R,L,w)}},setFromTileRectangle:function(f){f===void 0&&(f={}),d(f,"isStatic")||(f.isStatic=!0),d(f,"addToWorld")||(f.addToWorld=!0);var c=this.tile.getBounds(),v=c.x+c.width/2,g=c.y+c.height/2,y=u.rectangle(v,g,c.width,c.height,f);return this.setBody(y,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),d(f,"isStatic")||(f.isStatic=!0),d(f,"addToWorld")||(f.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,g=this.tile.getLeft(),y=this.tile.getTop(),C=this.tile.getCollisionGroup(),S=r(C,"objects",[]),P=[],w=0;w<S.length;w++){var R=S[w],L=g+R.x*c,D=y+R.y*v,F=R.width*c,O=R.height*v,B=null;if(R.rectangle)B=u.rectangle(L+F/2,D+O/2,F,O,f);else if(R.ellipse)B=u.circle(L+F/2,D+O/2,F/2,f);else if(R.polygon||R.polyline){var N=R.polygon?R.polygon:R.polyline,G=N.map(function(V){return{x:V.x*c,y:V.y*v}}),z=n.create(G),X=n.centre(z);L+=X.x,D+=X.y,B=u.fromVertices(L,D,z,f)}B&&P.push(B)}if(P.length===1)this.setBody(P[0],f.addToWorld);else if(P.length>1){var H=a(f);H.parts=P,this.setBody(m.create(H),H.addToWorld)}return this},setBody:function(f,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=h},19496:(p,T,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66280),m=t(22562),l=t(53402),s=t(95540),a=t(41598),e={parseBody:function(r,d,n,h){h===void 0&&(h={});for(var f=s(n,"fixtures",[]),c=[],v=0;v<f.length;v++)for(var g=this.parseFixture(f[v]),y=0;y<g.length;y++)c.push(g[y]);var C=l.clone(n,!0);l.extend(C,h,!0),delete C.fixtures,delete C.type;var S=m.create(C);return m.setParts(S,c),m.setPosition(S,{x:r,y:d}),S},parseFixture:function(r){var d=l.extend({},!1,r);delete d.circle,delete d.vertices;var n;if(r.circle){var h=s(r.circle,"x"),f=s(r.circle,"y"),c=s(r.circle,"radius");n=[u.circle(h,f,c,d)]}else r.vertices&&(n=this.parseVertices(r.vertices,d));return n},parseVertices:function(r,d){d===void 0&&(d={});for(var n=[],h=0;h<r.length;h++)a.clockwiseSort(r[h]),n.push(m.create(l.extend({position:a.centre(r[h]),vertices:r[h]},d)));return u.flagCoincidentParts(n)}};p.exports=e},85791:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66280),m=t(22562),l={parseBody:function(s,a,e,r){r===void 0&&(r={});var d,n=e.vertices;if(n.length===1)r.vertices=n[0],d=m.create(r),u.flagCoincidentParts(d.parts);else{for(var h=[],f=0;f<n.length;f++){var c=m.create({vertices:n[f]});h.push(c)}u.flagCoincidentParts(h),r.parts=h,d=m.create(r)}return d.label=e.label,m.setPosition(d,{x:s,y:a}),d}};p.exports=l},98713:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(15647),m=t(83419),l=t(69351),s=t(48140),a=t(81388),e=t(1121),r=t(8214),d=t(46975),n=t(53614),h=t(26099),f=t(41598),c=new m({initialize:function(g,y,C){C===void 0&&(C={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=g,this.world=y,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=s.create(d(C,S)),this.world.on(e.BEFORE_UPDATE,this.update,this),g.sys.input.on(r.POINTER_DOWN,this.onDown,this),g.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var g=this.position,y=this.constraint;this.camera.getWorldPoint(v.x,v.y,g);for(var C=l.allBodies(this.world.localWorld),S=0;S<C.length;S++){var P=C[S];if(!P.ignorePointer&&u.contains(P.bounds,g)&&a.canCollide(P.collisionFilter,y.collisionFilter)&&this.hitTestBody(P,g))return this.world.emit(e.DRAG_START,P,this.part,this),!0}return!1},hitTestBody:function(v,g){for(var y=this.constraint,C=v.parts.length,S=C>1?1:0,P=S;P<C;P++){var w=v.parts[P];if(f.contains(w.vertices,g))return y.pointA=g,y.pointB={x:g.x-v.position.x,y:g.y-v.position.y},y.bodyB=v,y.angleB=v.angle,n.set(v,!1),this.part=w,this.body=v,!0}return!1},update:function(){var v=this.pointer,g=this.body;if(!this.active||!v){g&&this.stopDrag();return}if(!v.isDown&&g){this.stopDrag();return}else if(v.isDown){if(!this.camera||!g&&!this.getBody(v))return;g=this.body;var y=this.position,C=this.constraint;this.camera.getWorldPoint(v.x,v.y,y),C.pointA.x=y.x,C.pointA.y=y.y,n.set(g,!1),this.world.emit(e.DRAG,g,this)}},stopDrag:function(){var v=this.body,g=this.constraint;g.bodyB=null,g.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(e.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});p.exports=c},68243:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66280),m=t(22562),l=t(83419),s=t(53402),a=t(69351),e=t(48413),r=t(50792),d=t(1121),n=t(95540),h=t(35154),f=t(22562),c=t(35810),v=t(73834),g=t(4372),y=t(31725),C=new l({Extends:r,initialize:function(P,w){r.call(this),this.scene=P,this.engine=e.create(w),this.localWorld=this.engine.world;var R=h(w,"gravity",null);R?this.setGravity(R.x,R.y,R.scale):R===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(w,"enabled",!0),this.getDelta=h(w,"getDelta",this.update60Hz);var L=n(w,"runner",{}),D=n(L,"fps",!1),F=n(L,"fps",60),O=n(L,"delta",1e3/F),B=n(L,"deltaMin",1e3/F),N=n(L,"deltaMax",1e3/(F*.5));D||(F=1e3/O),this.runner={fps:F,deltaSampleSize:n(L,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:n(L,"isFixed",!1),delta:O,deltaMin:B,deltaMax:N},this.autoUpdate=h(w,"autoUpdate",!0);var G=h(w,"debug",!1);if(this.drawDebug=typeof G=="object"?!0:G,this.debugGraphic,this.debugConfig={showAxes:n(G,"showAxes",!1),showAngleIndicator:n(G,"showAngleIndicator",!1),angleColor:n(G,"angleColor",15208787),showBroadphase:n(G,"showBroadphase",!1),broadphaseColor:n(G,"broadphaseColor",16757760),showBounds:n(G,"showBounds",!1),boundsColor:n(G,"boundsColor",16777215),showVelocity:n(G,"showVelocity",!1),velocityColor:n(G,"velocityColor",44783),showCollisions:n(G,"showCollisions",!1),collisionColor:n(G,"collisionColor",16094476),showSeparations:n(G,"showSeparations",!1),separationColor:n(G,"separationColor",16753920),showBody:n(G,"showBody",!0),showStaticBody:n(G,"showStaticBody",!0),showInternalEdges:n(G,"showInternalEdges",!1),renderFill:n(G,"renderFill",!1),renderLine:n(G,"renderLine",!0),fillColor:n(G,"fillColor",1075465),fillOpacity:n(G,"fillOpacity",1),lineColor:n(G,"lineColor",2678297),lineOpacity:n(G,"lineOpacity",1),lineThickness:n(G,"lineThickness",1),staticFillColor:n(G,"staticFillColor",857979),staticLineColor:n(G,"staticLineColor",1255396),showSleeping:n(G,"showSleeping",!1),staticBodySleepOpacity:n(G,"staticBodySleepOpacity",.7),sleepFillColor:n(G,"sleepFillColor",4605510),sleepLineColor:n(G,"sleepLineColor",10066585),showSensors:n(G,"showSensors",!0),sensorFillColor:n(G,"sensorFillColor",857979),sensorLineColor:n(G,"sensorLineColor",1255396),showPositions:n(G,"showPositions",!0),positionSize:n(G,"positionSize",4),positionColor:n(G,"positionColor",14697178),showJoint:n(G,"showJoint",!0),jointColor:n(G,"jointColor",14737474),jointLineOpacity:n(G,"jointLineOpacity",1),jointLineThickness:n(G,"jointLineThickness",2),pinSize:n(G,"pinSize",4),pinColor:n(G,"pinColor",4382944),springColor:n(G,"springColor",14697184),anchorColor:n(G,"anchorColor",15724527),anchorSize:n(G,"anchorSize",4),showConvexHulls:n(G,"showConvexHulls",!1),hullColor:n(G,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),n(w,"setBounds",!1)){var z=w.setBounds;if(typeof z=="boolean")this.setBounds();else{var X=n(z,"x",0),H=n(z,"y",0),V=n(z,"width",P.sys.scale.width),W=n(z,"height",P.sys.scale.height),I=n(z,"thickness",64),b=n(z,"left",!0),U=n(z,"right",!0),Y=n(z,"top",!0),$=n(z,"bottom",!0);this.setBounds(X,H,V,W,I,b,U,Y,$)}}},setCompositeRenderStyle:function(S){var P=S.bodies,w=S.constraints,R=S.composites,L,D,F;for(L=0;L<P.length;L++)D=P[L],F=D.render,this.setBodyRenderStyle(D,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(L=0;L<w.length;L++)D=w[L],F=D.render,this.setConstraintRenderStyle(D,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(L=0;L<R.length;L++)D=R[L],this.setCompositeRenderStyle(D);return this},setBodyRenderStyle:function(S,P,w,R,L,D){var F=S.render,O=this.debugConfig;return F?(P==null&&(P=S.isStatic?O.staticLineColor:O.lineColor),w==null&&(w=O.lineOpacity),R==null&&(R=O.lineThickness),L==null&&(L=S.isStatic?O.staticFillColor:O.fillColor),D==null&&(D=O.fillOpacity),P!==!1&&(F.lineColor=P),w!==!1&&(F.lineOpacity=w),R!==!1&&(F.lineThickness=R),L!==!1&&(F.fillColor=L),D!==!1&&(F.fillOpacity=D),this):this},setConstraintRenderStyle:function(S,P,w,R,L,D,F){var O=S.render,B=this.debugConfig;if(!O)return this;if(P==null){var N=O.type;N==="line"?P=B.jointColor:N==="pin"?P=B.pinColor:N==="spring"&&(P=B.springColor)}return w==null&&(w=B.jointLineOpacity),R==null&&(R=B.jointLineThickness),L==null&&(L=B.pinSize),D==null&&(D=B.anchorColor),F==null&&(F=B.anchorSize),P!==!1&&(O.lineColor=P),w!==!1&&(O.lineOpacity=w),R!==!1&&(O.lineThickness=R),L!==!1&&(O.pinSize=L),D!==!1&&(O.anchorColor=D),F!==!1&&(O.anchorSize=F),this},setEventsProxy:function(){var S=this,P=this.engine,w=this.localWorld;this.drawDebug&&(c.on(w,"compositeModified",function(R){S.setCompositeRenderStyle(R)}),c.on(w,"beforeAdd",function(R){for(var L=[].concat(R.object),D=0;D<L.length;D++){var F=L[D],O=F.render;F.type==="body"?S.setBodyRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity):F.type==="composite"?S.setCompositeRenderStyle(F):F.type==="constraint"&&S.setConstraintRenderStyle(F,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}})),c.on(w,"beforeAdd",function(R){S.emit(d.BEFORE_ADD,R)}),c.on(w,"afterAdd",function(R){S.emit(d.AFTER_ADD,R)}),c.on(w,"beforeRemove",function(R){S.emit(d.BEFORE_REMOVE,R)}),c.on(w,"afterRemove",function(R){S.emit(d.AFTER_REMOVE,R)}),c.on(P,"beforeUpdate",function(R){S.emit(d.BEFORE_UPDATE,R)}),c.on(P,"afterUpdate",function(R){S.emit(d.AFTER_UPDATE,R)}),c.on(P,"collisionStart",function(R){var L=R.pairs,D,F;L.length>0&&(D=L[0].bodyA,F=L[0].bodyB),S.emit(d.COLLISION_START,R,D,F)}),c.on(P,"collisionActive",function(R){var L=R.pairs,D,F;L.length>0&&(D=L[0].bodyA,F=L[0].bodyB),S.emit(d.COLLISION_ACTIVE,R,D,F)}),c.on(P,"collisionEnd",function(R){var L=R.pairs,D,F;L.length>0&&(D=L[0].bodyA,F=L[0].bodyB),S.emit(d.COLLISION_END,R,D,F)})},setBounds:function(S,P,w,R,L,D,F,O,B){return S===void 0&&(S=0),P===void 0&&(P=0),w===void 0&&(w=this.scene.sys.scale.width),R===void 0&&(R=this.scene.sys.scale.height),L===void 0&&(L=64),D===void 0&&(D=!0),F===void 0&&(F=!0),O===void 0&&(O=!0),B===void 0&&(B=!0),this.updateWall(D,"left",S-L,P-L,L,R+L*2),this.updateWall(F,"right",S+w,P-L,L,R+L*2),this.updateWall(O,"top",S,P-L,w,L),this.updateWall(B,"bottom",S,P+R,w,L),this},updateWall:function(S,P,w,R,L,D){var F=this.walls[P];S?(F&&g.remove(this.localWorld,F),w+=L/2,R+=D/2,this.walls[P]=this.create(w,R,L,D,{isStatic:!0,friction:0,frictionStatic:0})):(F&&g.remove(this.localWorld,F),this.walls[P]=null)},createDebugGraphic:function(){var S=this.scene.sys.add.graphics({x:0,y:0});return S.setDepth(Number.MAX_VALUE),this.debugGraphic=S,this.drawDebug=!0,S},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(S,P,w){return S===void 0&&(S=0),P===void 0&&(P=1),w===void 0&&(w=.001),this.localWorld.gravity.x=S,this.localWorld.gravity.y=P,this.localWorld.gravity.scale=w,this},create:function(S,P,w,R,L){var D=u.rectangle(S,P,w,R,L);return g.add(this.localWorld,D),D},add:function(S){return g.add(this.localWorld,S),this},remove:function(S,P){Array.isArray(S)||(S=[S]);for(var w=0;w<S.length;w++){var R=S[w],L=R.body?R.body:R;a.remove(this.localWorld,L,P)}return this},removeConstraint:function(S,P){return a.remove(this.localWorld,S,P),this},convertTilemapLayer:function(S,P){var w=S.layer,R=S.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});return this.convertTiles(R,P),this},convertTiles:function(S,P){if(S.length===0)return this;for(var w=0;w<S.length;w++)new v(this,S[w],P);return this},nextGroup:function(S){return f.nextGroup(S)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(d.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(d.RESUME),this},update:function(S,P){if(!(!this.enabled||!this.autoUpdate)){var w=this.engine,R=this.runner,L=w.timing;R.isFixed?P=this.getDelta(S,P):(P=S-R.timePrev||R.delta,R.timePrev=S,R.deltaHistory.push(P),R.deltaHistory=R.deltaHistory.slice(-R.deltaSampleSize),P=Math.min.apply(null,R.deltaHistory),P=P<R.deltaMin?R.deltaMin:P,P=P>R.deltaMax?R.deltaMax:P,R.delta=P),R.timeScalePrev=L.timeScale,R.frameCounter+=1,S-R.counterTimestamp>=1e3&&(R.fps=R.frameCounter*((S-R.counterTimestamp)/1e3),R.counterTimestamp=S,R.frameCounter=0),e.update(w,P)}},step:function(S){e.update(this.engine,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(S){var P=S.hasOwnProperty("body")?S.body:S;return a.get(this.localWorld,P.id,P.type)!==null},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var S=this.debugConfig,P=this.engine,w=this.debugGraphic,R=a.allBodies(this.localWorld);this.debugGraphic.clear(),S.showBroadphase&&P.broadphase.controller&&this.renderGrid(P.broadphase,w,S.broadphaseColor,.5),S.showBounds&&this.renderBodyBounds(R,w,S.boundsColor,.5),(S.showBody||S.showStaticBody)&&this.renderBodies(R),S.showJoint&&this.renderJoints(),(S.showAxes||S.showAngleIndicator)&&this.renderBodyAxes(R,w,S.showAxes,S.angleColor,.5),S.showVelocity&&this.renderBodyVelocity(R,w,S.velocityColor,1,2),S.showSeparations&&this.renderSeparations(P.pairs.list,w,S.separationColor),S.showCollisions&&this.renderCollisions(P.pairs.list,w,S.collisionColor)}},renderGrid:function(S,P,w,R){P.lineStyle(1,w,R);for(var L=s.keys(S.buckets),D=0;D<L.length;D++){var F=L[D];if(!(S.buckets[F].length<2)){var O=F.split(/C|R/);P.strokeRect(parseInt(O[1],10)*S.bucketWidth,parseInt(O[2],10)*S.bucketHeight,S.bucketWidth,S.bucketHeight)}}return this},renderSeparations:function(S,P,w){P.lineStyle(1,w,1);for(var R=0;R<S.length;R++){var L=S[R];if(L.isActive){var D=L.collision,F=D.bodyA,O=D.bodyB,B=F.position,N=O.position,G=D.penetration,z=!F.isStatic&&!O.isStatic?4:1;O.isStatic&&(z=0),P.lineBetween(N.x,N.y,N.x-G.x*z,N.y-G.y*z),z=!F.isStatic&&!O.isStatic?4:1,F.isStatic&&(z=0),P.lineBetween(B.x,B.y,B.x-G.x*z,B.y-G.y*z)}}return this},renderCollisions:function(S,P,w){P.lineStyle(1,w,.5),P.fillStyle(w,1);var R,L;for(R=0;R<S.length;R++)if(L=S[R],!!L.isActive)for(var D=0;D<L.activeContacts.length;D++){var F=L.activeContacts[D],O=F.vertex;P.fillRect(O.x-2,O.y-2,5,5)}for(R=0;R<S.length;R++)if(L=S[R],!!L.isActive){var B=L.collision,N=L.activeContacts;if(N.length>0){var G=N[0].vertex.x,z=N[0].vertex.y;N.length===2&&(G=(N[0].vertex.x+N[1].vertex.x)/2,z=(N[0].vertex.y+N[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?P.lineBetween(G-B.normal.x*8,z-B.normal.y*8,G,z):P.lineBetween(G+B.normal.x*8,z+B.normal.y*8,G,z)}}return this},renderBodyBounds:function(S,P,w,R){P.lineStyle(1,w,R);for(var L=0;L<S.length;L++){var D=S[L];if(D.render.visible){var F=D.bounds;if(F)P.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var O=D.parts,B=O.length>1?1:0;B<O.length;B++){var N=O[B];P.strokeRect(N.bounds.min.x,N.bounds.min.y,N.bounds.max.x-N.bounds.min.x,N.bounds.max.y-N.bounds.min.y)}}}return this},renderBodyAxes:function(S,P,w,R,L){P.lineStyle(1,R,L);for(var D=0;D<S.length;D++){var F=S[D],O=F.parts;if(F.render.visible){var B,N,G;if(w)for(N=O.length>1?1:0;N<O.length;N++)for(B=O[N],G=0;G<B.axes.length;G++){var z=B.axes[G];P.lineBetween(B.position.x,B.position.y,B.position.x+z.x*20,B.position.y+z.y*20)}else for(N=O.length>1?1:0;N<O.length;N++)for(B=O[N],G=0;G<B.axes.length;G++)P.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(S,P,w,R,L){P.lineStyle(L,w,R);for(var D=0;D<S.length;D++){var F=S[D];F.render.visible&&P.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},renderBodies:function(S){for(var P=this.debugGraphic,w=this.debugConfig,R=w.showBody,L=w.showStaticBody,D=w.showSleeping,F=w.showInternalEdges,O=w.showConvexHulls,B=w.renderFill,N=w.renderLine,G=w.staticBodySleepOpacity,z=w.sleepFillColor,X=w.sleepLineColor,H=w.hullColor,V=0;V<S.length;V++){var W=S[V];if(W.render.visible&&!(!L&&W.isStatic||!R&&!W.isStatic)){var I=W.render.lineColor,b=W.render.lineOpacity,U=W.render.lineThickness,Y=W.render.fillColor,$=W.render.fillOpacity;D&&W.isSleeping&&(W.isStatic?(b*=G,$*=G):(I=X,Y=z)),B||(Y=null),N||(I=null),this.renderBody(W,P,F,I,b,U,Y,$);var j=W.parts.length;O&&j>1&&this.renderConvexHull(W,P,H,U)}}},renderBody:function(S,P,w,R,L,D,F,O){R===void 0&&(R=null),L===void 0&&(L=null),D===void 0&&(D=1),F===void 0&&(F=null),O===void 0&&(O=null);for(var B=this.debugConfig,N=B.sensorFillColor,G=B.sensorLineColor,z=S.parts,X=z.length,H=X>1?1:0;H<X;H++){var V=z[H],W=V.render,I=W.opacity;if(!(!W.visible||I===0||V.isSensor&&!B.showSensors)){var b=V.circleRadius;if(P.beginPath(),V.isSensor?(F!==null&&P.fillStyle(N,O*I),R!==null&&P.lineStyle(D,G,L*I)):(F!==null&&P.fillStyle(F,O*I),R!==null&&P.lineStyle(D,R,L*I)),b)P.arc(V.position.x,V.position.y,b,0,2*Math.PI);else{var U=V.vertices,Y=U.length;P.moveTo(U[0].x,U[0].y);for(var $=1;$<Y;$++){var j=U[$];if(!U[$-1].isInternal||w?P.lineTo(j.x,j.y):P.moveTo(j.x,j.y),$<Y&&j.isInternal&&!w){var K=($+1)%Y;P.moveTo(U[K].x,U[K].y)}}P.closePath()}F!==null&&P.fillPath(),R!==null&&P.strokePath()}}if(B.showPositions&&!S.isStatic){var J=S.position.x,k=S.position.y,_=Math.ceil(B.positionSize/2);P.fillStyle(B.positionColor,1),P.fillRect(J-_,k-_,B.positionSize,B.positionSize)}return this},renderConvexHull:function(S,P,w,R){R===void 0&&(R=1);var L=S.parts,D=L.length;if(D>1){var F=S.vertices;P.lineStyle(R,w),P.beginPath(),P.moveTo(F[0].x,F[0].y);for(var O=1;O<F.length;O++)P.lineTo(F[O].x,F[O].y);P.lineTo(F[0].x,F[0].y),P.strokePath()}return this},renderJoints:function(){for(var S=this.debugGraphic,P=a.allConstraints(this.localWorld),w=0;w<P.length;w++){var R=P[w].render,L=R.lineColor,D=R.lineOpacity,F=R.lineThickness,O=R.pinSize,B=R.anchorColor,N=R.anchorSize;this.renderConstraint(P[w],S,L,D,F,O,B,N)}},renderConstraint:function(S,P,w,R,L,D,F,O){var B=S.render;if(!B.visible||!S.pointA||!S.pointB)return this;P.lineStyle(L,w,R);var N=S.bodyA,G=S.bodyB,z,X;if(N?z=y.add(N.position,S.pointA):z=S.pointA,B.type==="pin")P.strokeCircle(z.x,z.y,D);else{if(G?X=y.add(G.position,S.pointB):X=S.pointB,P.beginPath(),P.moveTo(z.x,z.y),B.type==="spring")for(var H=y.sub(X,z),V=y.perp(y.normalise(H)),W=Math.ceil(s.clamp(S.length/5,12,20)),I,b=1;b<W;b+=1)I=b%2===0?1:-1,P.lineTo(z.x+H.x*(b/W)+V.x*I*4,z.y+H.y*(b/W)+V.y*I*4);P.lineTo(X.x,X.y)}return P.strokePath(),B.anchors&&O>0&&(P.fillStyle(F),P.fillCircle(z.x,z.y,O),P.fillCircle(X.x,X.y,O)),this},resetCollisionIDs:function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=C},70410:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(t){return this.body.restitution=t,this}};p.exports=T},66968:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var u=0;if(!Array.isArray(t))u=t;else for(var m=0;m<t.length;m++)u|=t[m];return this.body.collisionFilter.mask=u,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,u){Array.isArray(t)||(t=[t]);for(var m=0;m<t.length;m++){var l=t[m].hasOwnProperty("body")?t[m].body:t[m];this.body.setOnCollideWith(l,u)}return this}};p.exports=T},51607:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22562),m={applyForce:function(l){return this._tempVec2.set(this.body.position.x,this.body.position.y),u.applyForce(this.body,this._tempVec2,l),this},applyForceFrom:function(l,s){return u.applyForce(this.body,l,s),this},thrust:function(l){var s=this.body.angle;return this._tempVec2.set(l*Math.cos(s),l*Math.sin(s)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(l){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(l*Math.cos(s),l*Math.sin(s)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(l){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(l*Math.cos(s),l*Math.sin(s)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(l){var s=this.body.angle-Math.PI;return this._tempVec2.set(l*Math.cos(s),l*Math.sin(s)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=m},5436:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(t,u,m){return this.body.friction=t,u!==void 0&&(this.body.frictionAir=u),m!==void 0&&(this.body.frictionStatic=m),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=T},39858:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=T},37302:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22562),m=t(26099),l={setMass:function(s){return u.setMass(this.body,s),this},setDensity:function(s){return u.setDensity(this.body,s),this},centerOfMass:{get:function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=l},39132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=T},57772:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(66280),m=t(22562),l=t(43855),s=t(95540),a=t(19496),e=t(85791),r=t(41598),d={setRectangle:function(n,h,f){return this.setBody({type:"rectangle",width:n,height:h},f)},setCircle:function(n,h){return this.setBody({type:"circle",radius:n},h)},setPolygon:function(n,h,f){return this.setBody({type:"polygon",sides:h,radius:n},f)},setTrapezoid:function(n,h,f,c){return this.setBody({type:"trapezoid",width:n,height:h,slope:f},c)},setExistingBody:function(n,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=n;for(var f=0;f<n.parts.length;f++)n.parts[f].gameObject=this;var c=this;if(n.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},h&&(this.world.has(n)&&this.world.remove(n,!0),this.world.add(n)),this._originComponent){var v=n.render.sprite.xOffset,g=n.render.sprite.yOffset,y=n.centerOfMass.x,C=n.centerOfMass.y;if(l(y,.5)&&l(C,.5))this.setOrigin(v+.5,g+.5);else{var S=n.centerOffset.x,P=n.centerOffset.y;this.setOrigin(v+S/this.displayWidth,g+P/this.displayHeight)}}return this},setBody:function(n,h){if(!n)return this;var f;typeof n=="string"&&(n={type:n});var c=s(n,"type","rectangle"),v=s(n,"x",this._tempVec2.x),g=s(n,"y",this._tempVec2.y),y=s(n,"width",this.width),C=s(n,"height",this.height);switch(c){case"rectangle":f=u.rectangle(v,g,y,C,h);break;case"circle":var S=s(n,"radius",Math.max(y,C)/2),P=s(n,"maxSides",25);f=u.circle(v,g,S,h,P);break;case"trapezoid":var w=s(n,"slope",.5);f=u.trapezoid(v,g,y,C,w,h);break;case"polygon":var R=s(n,"sides",5),L=s(n,"radius",Math.max(y,C)/2);f=u.polygon(v,g,R,L,h);break;case"fromVertices":case"fromVerts":var D=s(n,"verts",null);if(D)if(typeof D=="string"&&(D=r.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,D),f=this.body;else{var F=s(n,"flagInternal",!1),O=s(n,"removeCollinear",.01),B=s(n,"minimumArea",10);f=u.fromVertices(v,g,D,h,F,O,B)}break;case"fromPhysicsEditor":f=a.parseBody(v,g,n,h);break;case"fromPhysicsTracer":f=e.parseBody(v,g,n,h);break}return f&&this.setExistingBody(f,n.addToWorld),this}};p.exports=d},38083:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(1121),m=t(53614),l=t(35810),s={setToSleep:function(){return m.set(this.body,!0),this},setAwake:function(){return m.set(this.body,!1),this},setSleepThreshold:function(a){return a===void 0&&(a=60),this.body.sleepThreshold=a,this},setSleepEvents:function(a,e){return this.setSleepStartEvent(a),this.setSleepEndEvent(e),this},setSleepStartEvent:function(a){if(a){var e=this.world;l.on(this.body,"sleepStart",function(r){e.emit(u.SLEEP_START,r,this)})}else l.off(this.body,"sleepStart");return this},setSleepEndEvent:function(a){if(a){var e=this.world;l.on(this.body,"sleepEnd",function(r){e.emit(u.SLEEP_END,r,this)})}else l.off(this.body,"sleepEnd");return this}};p.exports=s},90556:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22562),m={setStatic:function(l){return u.setStatic(this.body,l),this},isStatic:function(){return this.body.isStatic}};p.exports=m},85436:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22562),m=t(36383),l=t(86554),s=t(30954),a=4,e={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),u.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),u.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var d=1/this._scaleX,n=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=~a:this.renderFlags|=a,u.scale(this.body,d,n),u.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var d=1/this._scaleX,n=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=~a:this.renderFlags|=a,u.scale(this.body,d,n),u.scale(this.body,this._scaleX,r)}},angle:{get:function(){return s(this.body.angle*m.RAD_TO_DEG)},set:function(r){this.rotation=s(r)*m.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=l(r),u.setAngle(this.body,this._rotation)}},setPosition:function(r,d){return r===void 0&&(r=0),d===void 0&&(d=r),this._tempVec2.set(r,d),u.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=l(r),u.setAngle(this.body,r),this},setFixedRotation:function(){return u.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,u.setAngle(this.body,this.rotation),this},setScale:function(r,d,n){r===void 0&&(r=1),d===void 0&&(d=r);var h=1/this._scaleX,f=1/this._scaleY;return this._scaleX=r,this._scaleY=d,u.scale(this.body,h,f,n),u.scale(this.body,r,d,n),this}};p.exports=e},42081:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(22562),m={setVelocityX:function(l){return this._tempVec2.set(l,this.body.velocity.y),u.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(l){return this._tempVec2.set(this.body.velocity.x,l),u.setVelocity(this.body,this._tempVec2),this},setVelocity:function(l,s){return this._tempVec2.set(l,s),u.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return u.getVelocity(this.body)},setAngularVelocity:function(l){return u.setAngularVelocity(this.body,l),this},getAngularVelocity:function(){return u.getAngularVelocity(this.body)},setAngularSpeed:function(l){return u.setAngularSpeed(this.body,l),this},getAngularSpeed:function(){return u.getAngularSpeed(this.body)}};p.exports=m},31884:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},1213:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},25968:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},67205:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},39438:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},44823:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},92593:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},60128:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},76861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},92362:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},76408:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},93971:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},5656:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},47861:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},79099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},35906:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},1121:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(p,T,t)=>{var u={};p.exports=u;var m=t(41598),l=t(31725),s=t(53614),a=t(53402),e=t(15647),r=t(66615);(function(){u._timeCorrection=!0,u._inertiaScale=4,u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,u._baseDelta=16.666666666666668,u.create=function(n){var h={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!n.hasOwnProperty("position")&&n.hasOwnProperty("vertices")?n.position=m.centre(n.vertices):n.hasOwnProperty("vertices")||(h.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=a.extend(h,n);return d(f,n),f.setOnCollideWith=function(c,v){return v?this.onCollideWith[c.id]=v:delete this.onCollideWith[c.id],this},f},u.nextGroup=function(n){return n?u._nextNonCollidingGroupId--:u._nextCollidingGroupId++},u.nextCategory=function(){return u._nextCategory=u._nextCategory<<1,u._nextCategory};var d=function(n,h){if(h=h||{},u.set(n,{bounds:n.bounds||e.create(n.vertices),positionPrev:n.positionPrev||l.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),m.rotate(n.vertices,n.angle,n.position),r.rotate(n.axes,n.angle),e.update(n.bounds,n.vertices,n.velocity),u.set(n,{axes:h.axes||n.axes,area:h.area||n.area,mass:h.mass||n.mass,inertia:h.inertia||n.inertia}),n.parts.length===1){var f=n.bounds,c=n.centerOfMass,v=n.centerOffset,g=f.max.x-f.min.x,y=f.max.y-f.min.y;c.x=-(f.min.x-n.position.x)/g,c.y=-(f.min.y-n.position.y)/y,v.x=g*c.x,v.y=y*c.y}};u.set=function(n,h,f){var c;typeof h=="string"&&(c=h,h={},h[c]=f);for(c in h)if(Object.prototype.hasOwnProperty.call(h,c))switch(f=h[c],c){case"isStatic":u.setStatic(n,f);break;case"isSleeping":s.set(n,f);break;case"mass":u.setMass(n,f);break;case"density":u.setDensity(n,f);break;case"inertia":u.setInertia(n,f);break;case"vertices":u.setVertices(n,f);break;case"position":u.setPosition(n,f);break;case"angle":u.setAngle(n,f);break;case"velocity":u.setVelocity(n,f);break;case"angularVelocity":u.setAngularVelocity(n,f);break;case"speed":u.setSpeed(n,f);break;case"angularSpeed":u.setAngularSpeed(n,f);break;case"parts":u.setParts(n,f);break;case"centre":u.setCentre(n,f);break;default:n[c]=f}},u.setStatic=function(n,h){for(var f=0;f<n.parts.length;f++){var c=n.parts[f];h?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=h}},u.setMass=function(n,h){var f=n.inertia/(n.mass/6);n.inertia=f*(h/6),n.inverseInertia=1/n.inertia,n.mass=h,n.inverseMass=1/n.mass,n.density=n.mass/n.area},u.setDensity=function(n,h){u.setMass(n,h*n.area),n.density=h},u.setInertia=function(n,h){n.inertia=h,n.inverseInertia=1/n.inertia},u.setVertices=function(n,h){h[0].body===n?n.vertices=h:n.vertices=m.create(h,n),n.axes=r.fromVertices(n.vertices),n.area=m.area(n.vertices),u.setMass(n,n.density*n.area);var f=m.centre(n.vertices);m.translate(n.vertices,f,-1),u.setInertia(n,u._inertiaScale*m.inertia(n.vertices,n.mass)),m.translate(n.vertices,n.position),e.update(n.bounds,n.vertices,n.velocity)},u.setParts=function(n,h,f){var c;for(h=h.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,c=0;c<h.length;c++){var v=h[c];v!==n&&(v.parent=n,n.parts.push(v))}if(n.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var g=[];for(c=0;c<h.length;c++)g=g.concat(h[c].vertices);m.clockwiseSort(g);var y=m.hull(g),C=m.centre(y);u.setVertices(n,y),m.translate(n.vertices,C)}var S=u._totalProperties(n),P=S.centre.x,w=S.centre.y,R=n.bounds,L=n.centerOfMass,D=n.centerOffset;e.update(R,n.vertices,n.velocity),L.x=-(R.min.x-P)/(R.max.x-R.min.x),L.y=-(R.min.y-w)/(R.max.y-R.min.y),D.x=P,D.y=w,n.area=S.area,n.parent=n,n.position.x=P,n.position.y=w,n.positionPrev.x=P,n.positionPrev.y=w,u.setMass(n,S.mass),u.setInertia(n,S.inertia),u.setPosition(n,S.centre)}},u.setCentre=function(n,h,f){f?(n.positionPrev.x+=h.x,n.positionPrev.y+=h.y,n.position.x+=h.x,n.position.y+=h.y):(n.positionPrev.x=h.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=h.y-(n.position.y-n.positionPrev.y),n.position.x=h.x,n.position.y=h.y)},u.setPosition=function(n,h,f){var c=l.sub(h,n.position);f?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=c.x,n.velocity.y=c.y,n.speed=l.magnitude(c)):(n.positionPrev.x+=c.x,n.positionPrev.y+=c.y);for(var v=0;v<n.parts.length;v++){var g=n.parts[v];g.position.x+=c.x,g.position.y+=c.y,m.translate(g.vertices,c),e.update(g.bounds,g.vertices,n.velocity)}},u.setAngle=function(n,h,f){var c=h-n.angle;f?(n.anglePrev=n.angle,n.angularVelocity=c,n.angularSpeed=Math.abs(c)):n.anglePrev+=c;for(var v=0;v<n.parts.length;v++){var g=n.parts[v];g.angle+=c,m.rotate(g.vertices,c,n.position),r.rotate(g.axes,c),e.update(g.bounds,g.vertices,n.velocity),v>0&&l.rotateAbout(g.position,c,n.position,g.position)}},u.setVelocity=function(n,h){var f=n.deltaTime/u._baseDelta;n.positionPrev.x=n.position.x-h.x*f,n.positionPrev.y=n.position.y-h.y*f,n.velocity.x=(n.position.x-n.positionPrev.x)/f,n.velocity.y=(n.position.y-n.positionPrev.y)/f,n.speed=l.magnitude(n.velocity)},u.getVelocity=function(n){var h=u._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*h,y:(n.position.y-n.positionPrev.y)*h}},u.getSpeed=function(n){return l.magnitude(u.getVelocity(n))},u.setSpeed=function(n,h){u.setVelocity(n,l.mult(l.normalise(u.getVelocity(n)),h))},u.setAngularVelocity=function(n,h){var f=n.deltaTime/u._baseDelta;n.anglePrev=n.angle-h*f,n.angularVelocity=(n.angle-n.anglePrev)/f,n.angularSpeed=Math.abs(n.angularVelocity)},u.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*u._baseDelta/n.deltaTime},u.getAngularSpeed=function(n){return Math.abs(u.getAngularVelocity(n))},u.setAngularSpeed=function(n,h){u.setAngularVelocity(n,a.sign(u.getAngularVelocity(n))*h)},u.translate=function(n,h,f){u.setPosition(n,l.add(n.position,h),f)},u.rotate=function(n,h,f,c){if(!f)u.setAngle(n,n.angle+h,c);else{var v=Math.cos(h),g=Math.sin(h),y=n.position.x-f.x,C=n.position.y-f.y;u.setPosition(n,{x:f.x+(y*v-C*g),y:f.y+(y*g+C*v)},c),u.setAngle(n,n.angle+h,c)}},u.scale=function(n,h,f,c){var v=0,g=0;c=c||n.position;for(var y=n.inertia===1/0,C=0;C<n.parts.length;C++){var S=n.parts[C];S.scale.x=h,S.scale.y=f,m.scale(S.vertices,h,f,c),S.axes=r.fromVertices(S.vertices),S.area=m.area(S.vertices),u.setMass(S,n.density*S.area),m.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),u.setInertia(S,u._inertiaScale*m.inertia(S.vertices,S.mass)),m.translate(S.vertices,{x:S.position.x,y:S.position.y}),C>0&&(v+=S.area,g+=S.inertia),S.position.x=c.x+(S.position.x-c.x)*h,S.position.y=c.y+(S.position.y-c.y)*f,e.update(S.bounds,S.vertices,n.velocity)}n.parts.length>1&&(n.area=v,n.isStatic||(u.setMass(n,n.density*v),u.setInertia(n,g))),n.circleRadius&&(h===f?n.circleRadius*=h:n.circleRadius=null),y&&u.setInertia(n,1/0)},u.update=function(n,h){h=(typeof h<"u"?h:16.666666666666668)*n.timeScale;var f=h*h,c=u._timeCorrection?h/(n.deltaTime||h):1,v=1-n.frictionAir*(h/a._baseDelta),g=(n.position.x-n.positionPrev.x)*c,y=(n.position.y-n.positionPrev.y)*c;n.velocity.x=g*v+n.force.x/n.mass*f,n.velocity.y=y*v+n.force.y/n.mass*f,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=h,n.angularVelocity=(n.angle-n.anglePrev)*v*c+n.torque/n.inertia*f,n.anglePrev=n.angle,n.angle+=n.angularVelocity,n.speed=l.magnitude(n.velocity),n.angularSpeed=Math.abs(n.angularVelocity);for(var C=0;C<n.parts.length;C++){var S=n.parts[C];m.translate(S.vertices,n.velocity),C>0&&(S.position.x+=n.velocity.x,S.position.y+=n.velocity.y),n.angularVelocity!==0&&(m.rotate(S.vertices,n.angularVelocity,n.position),r.rotate(S.axes,n.angularVelocity),C>0&&l.rotateAbout(S.position,n.angularVelocity,n.position,S.position)),e.update(S.bounds,S.vertices,n.velocity)}},u.updateVelocities=function(n){var h=u._baseDelta/n.deltaTime,f=n.velocity;f.x=(n.position.x-n.positionPrev.x)*h,f.y=(n.position.y-n.positionPrev.y)*h,n.speed=Math.sqrt(f.x*f.x+f.y*f.y),n.angularVelocity=(n.angle-n.anglePrev)*h,n.angularSpeed=Math.abs(n.angularVelocity)},u.applyForce=function(n,h,f){var c={x:h.x-n.position.x,y:h.y-n.position.y};n.force.x+=f.x,n.force.y+=f.y,n.torque+=c.x*f.y-c.y*f.x},u._totalProperties=function(n){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=n.parts.length===1?0:1;f<n.parts.length;f++){var c=n.parts[f],v=c.mass!==1/0?c.mass:1;h.mass+=v,h.area+=c.area,h.inertia+=c.inertia,h.centre=l.add(h.centre,l.mult(c.position,v))}return h.centre=l.div(h.centre,h.mass),h}})()},69351:(p,T,t)=>{var u={};p.exports=u;var m=t(35810),l=t(53402),s=t(15647),a=t(22562);(function(){u.create=function(e){return l.extend({id:l.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},u.setModified=function(e,r,d,n){if(m.trigger(e,"compositeModified",e),e.isModified=r,r&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),d&&e.parent&&u.setModified(e.parent,r,d,n),n)for(var h=0;h<e.composites.length;h++){var f=e.composites[h];u.setModified(f,r,d,n)}},u.add=function(e,r){var d=[].concat(r);m.trigger(e,"beforeAdd",{object:r});for(var n=0;n<d.length;n++){var h=d[n];switch(h.type){case"body":if(h.parent!==h){l.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}u.addBody(e,h);break;case"constraint":u.addConstraint(e,h);break;case"composite":u.addComposite(e,h);break;case"mouseConstraint":u.addConstraint(e,h.constraint);break}}return m.trigger(e,"afterAdd",{object:r}),e},u.remove=function(e,r,d){var n=[].concat(r);m.trigger(e,"beforeRemove",{object:r});for(var h=0;h<n.length;h++){var f=n[h];switch(f.type){case"body":u.removeBody(e,f,d);break;case"constraint":u.removeConstraint(e,f,d);break;case"composite":u.removeComposite(e,f,d);break;case"mouseConstraint":u.removeConstraint(e,f.constraint);break}}return m.trigger(e,"afterRemove",{object:r}),e},u.addComposite=function(e,r){return e.composites.push(r),r.parent=e,u.setModified(e,!0,!0,!1),e},u.removeComposite=function(e,r,d){var n=l.indexOf(e.composites,r);if(n!==-1&&u.removeCompositeAt(e,n),d)for(var h=0;h<e.composites.length;h++)u.removeComposite(e.composites[h],r,!0);return e},u.removeCompositeAt=function(e,r){return e.composites.splice(r,1),u.setModified(e,!0,!0,!1),e},u.addBody=function(e,r){return e.bodies.push(r),u.setModified(e,!0,!0,!1),e},u.removeBody=function(e,r,d){var n=l.indexOf(e.bodies,r);if(n!==-1&&u.removeBodyAt(e,n),d)for(var h=0;h<e.composites.length;h++)u.removeBody(e.composites[h],r,!0);return e},u.removeBodyAt=function(e,r){return e.bodies.splice(r,1),u.setModified(e,!0,!0,!1),e},u.addConstraint=function(e,r){return e.constraints.push(r),u.setModified(e,!0,!0,!1),e},u.removeConstraint=function(e,r,d){var n=l.indexOf(e.constraints,r);if(n!==-1&&u.removeConstraintAt(e,n),d)for(var h=0;h<e.composites.length;h++)u.removeConstraint(e.composites[h],r,!0);return e},u.removeConstraintAt=function(e,r){return e.constraints.splice(r,1),u.setModified(e,!0,!0,!1),e},u.clear=function(e,r,d){if(d)for(var n=0;n<e.composites.length;n++)u.clear(e.composites[n],r,!0);return r?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,u.setModified(e,!0,!0,!1),e},u.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var r=[].concat(e.bodies),d=0;d<e.composites.length;d++)r=r.concat(u.allBodies(e.composites[d]));return e.cache&&(e.cache.allBodies=r),r},u.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var r=[].concat(e.constraints),d=0;d<e.composites.length;d++)r=r.concat(u.allConstraints(e.composites[d]));return e.cache&&(e.cache.allConstraints=r),r},u.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var r=[].concat(e.composites),d=0;d<e.composites.length;d++)r=r.concat(u.allComposites(e.composites[d]));return e.cache&&(e.cache.allComposites=r),r},u.get=function(e,r,d){var n,h;switch(d){case"body":n=u.allBodies(e);break;case"constraint":n=u.allConstraints(e);break;case"composite":n=u.allComposites(e).concat(e);break}return n?(h=n.filter(function(f){return f.id.toString()===r.toString()}),h.length===0?null:h[0]):null},u.move=function(e,r,d){return u.remove(e,r),u.add(d,r),e},u.rebase=function(e){for(var r=u.allBodies(e).concat(u.allConstraints(e)).concat(u.allComposites(e)),d=0;d<r.length;d++)r[d].id=l.nextId();return e},u.translate=function(e,r,d){for(var n=d?u.allBodies(e):e.bodies,h=0;h<n.length;h++)a.translate(n[h],r);return e},u.rotate=function(e,r,d,n){for(var h=Math.cos(r),f=Math.sin(r),c=n?u.allBodies(e):e.bodies,v=0;v<c.length;v++){var g=c[v],y=g.position.x-d.x,C=g.position.y-d.y;a.setPosition(g,{x:d.x+(y*h-C*f),y:d.y+(y*f+C*h)}),a.rotate(g,r)}return e},u.scale=function(e,r,d,n,h){for(var f=h?u.allBodies(e):e.bodies,c=0;c<f.length;c++){var v=f[c],g=v.position.x-n.x,y=v.position.y-n.y;a.setPosition(v,{x:n.x+g*r,y:n.y+y*d}),a.scale(v,r,d)}return e},u.bounds=function(e){for(var r=u.allBodies(e),d=[],n=0;n<r.length;n+=1){var h=r[n];d.push(h.bounds.min,h.bounds.max)}return s.create(d)}})()},4372:(p,T,t)=>{var u={};p.exports=u;var m=t(69351);(function(){u.create=m.create,u.add=m.add,u.remove=m.remove,u.clear=m.clear,u.addComposite=m.addComposite,u.addBody=m.addBody,u.addConstraint=m.addConstraint})()},52284:(p,T,t)=>{var u={};p.exports=u;var m=t(41598),l=t(4506);(function(){var s=[],a={overlap:0,axis:null},e={overlap:0,axis:null};u.create=function(r,d){return{pair:null,collided:!1,bodyA:r,bodyB:d,parentA:r.parent,parentB:d.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},u.collides=function(r,d,n){if(u._overlapAxes(a,r.vertices,d.vertices,r.axes),a.overlap<=0||(u._overlapAxes(e,d.vertices,r.vertices,d.axes),e.overlap<=0))return null;var h=n&&n.table[l.id(r,d)],f;h?f=h.collision:(f=u.create(r,d),f.collided=!0,f.bodyA=r.id<d.id?r:d,f.bodyB=r.id<d.id?d:r,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),r=f.bodyA,d=f.bodyB;var c;a.overlap<e.overlap?c=a:c=e;var v=f.normal,g=f.supports,y=c.axis,C=y.x,S=y.y;C*(d.position.x-r.position.x)+S*(d.position.y-r.position.y)<0?(v.x=C,v.y=S):(v.x=-C,v.y=-S),f.tangent.x=-v.y,f.tangent.y=v.x,f.depth=c.overlap,f.penetration.x=v.x*f.depth,f.penetration.y=v.y*f.depth;var P=u._findSupports(r,d,v,1),w=0;if(m.contains(r.vertices,P[0])&&(g[w++]=P[0]),m.contains(r.vertices,P[1])&&(g[w++]=P[1]),w<2){var R=u._findSupports(d,r,v,-1);m.contains(d.vertices,R[0])&&(g[w++]=R[0]),w<2&&m.contains(d.vertices,R[1])&&(g[w++]=R[1])}return w===0&&(g[w++]=P[0]),g.length=w,f},u._overlapAxes=function(r,d,n,h){var f=d.length,c=n.length,v=d[0].x,g=d[0].y,y=n[0].x,C=n[0].y,S=h.length,P=Number.MAX_VALUE,w=0,R,L,D,F,O,B;for(O=0;O<S;O++){var N=h[O],G=N.x,z=N.y,X=v*G+g*z,H=y*G+C*z,V=X,W=H;for(B=1;B<f;B+=1)F=d[B].x*G+d[B].y*z,F>V?V=F:F<X&&(X=F);for(B=1;B<c;B+=1)F=n[B].x*G+n[B].y*z,F>W?W=F:F<H&&(H=F);if(L=V-H,D=W-X,R=L<D?L:D,R<P&&(P=R,w=O,R<=0))break}r.axis=h[w],r.overlap=P},u._projectToAxis=function(r,d,n){for(var h=d[0].x*n.x+d[0].y*n.y,f=h,c=1;c<d.length;c+=1){var v=d[c].x*n.x+d[c].y*n.y;v>f?f=v:v<h&&(h=v)}r.min=h,r.max=f},u._findSupports=function(r,d,n,h){var f=d.vertices,c=f.length,v=r.position.x,g=r.position.y,y=n.x*h,C=n.y*h,S=Number.MAX_VALUE,P,w,R,L,D;for(D=0;D<c;D+=1)w=f[D],L=y*(v-w.x)+C*(g-w.y),L<S&&(S=L,P=w);return R=f[(c+P.index-1)%c],S=y*(v-R.x)+C*(g-R.y),w=f[(P.index+1)%c],y*(v-w.x)+C*(g-w.y)<S?(s[0]=P,s[1]=w,s):(s[0]=P,s[1]=R,s)}})()},43424:p=>{var T={};p.exports=T,function(){T.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(p,T,t)=>{var u={};p.exports=u;var m=t(53402),l=t(52284);(function(){u.create=function(s){var a={bodies:[],pairs:null};return m.extend(a,s)},u.setBodies=function(s,a){s.bodies=a.slice(0)},u.clear=function(s){s.bodies=[]},u.collisions=function(s){var a=[],e=s.pairs,r=s.bodies,d=r.length,n=u.canCollide,h=l.collides,f,c;for(r.sort(u._compareBoundsX),f=0;f<d;f++){var v=r[f],g=v.bounds,y=v.bounds.max.x,C=v.bounds.max.y,S=v.bounds.min.y,P=v.isStatic||v.isSleeping,w=v.parts.length,R=w===1;for(c=f+1;c<d;c++){var L=r[c],D=L.bounds;if(D.min.x>y)break;if(!(C<D.min.y||S>D.max.y)&&!(P&&(L.isStatic||L.isSleeping))&&n(v.collisionFilter,L.collisionFilter)){var F=L.parts.length;if(R&&F===1){var O=h(v,L,e);O&&a.push(O)}else for(var B=w>1?1:0,N=F>1?1:0,G=B;G<w;G++)for(var z=v.parts[G],g=z.bounds,X=N;X<F;X++){var H=L.parts[X],D=H.bounds;if(!(g.min.x>D.max.x||g.max.x<D.min.x||g.max.y<D.min.y||g.min.y>D.max.y)){var O=h(z,H,e);O&&a.push(O)}}}}}return a},u.canCollide=function(s,a){return s.group===a.group&&s.group!==0?s.group>0:(s.mask&a.category)!==0&&(a.mask&s.category)!==0},u._compareBoundsX=function(s,a){return s.bounds.min.x-a.bounds.min.x}})()},4506:(p,T,t)=>{var u={};p.exports=u;var m=t(43424);(function(){u.create=function(l,s){var a=l.bodyA,e=l.bodyB,r={id:u.id(a,e),bodyA:a,bodyB:e,collision:l,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:a.isSensor||e.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return u.update(r,l,s),r},u.update=function(l,s,a){var e=l.contacts,r=s.supports,d=l.activeContacts,n=s.parentA,h=s.parentB,f=n.vertices.length;l.isActive=!0,l.timeUpdated=a,l.collision=s,l.separation=s.depth,l.inverseMass=n.inverseMass+h.inverseMass,l.friction=n.friction<h.friction?n.friction:h.friction,l.frictionStatic=n.frictionStatic>h.frictionStatic?n.frictionStatic:h.frictionStatic,l.restitution=n.restitution>h.restitution?n.restitution:h.restitution,l.slop=n.slop>h.slop?n.slop:h.slop,s.pair=l,d.length=0;for(var c=0;c<r.length;c++){var v=r[c],g=v.body===n?v.index:f+v.index,y=e[g];y?d.push(y):d.push(e[g]=m.create(v))}},u.setActive=function(l,s,a){s?(l.isActive=!0,l.timeUpdated=a):(l.isActive=!1,l.activeContacts.length=0)},u.id=function(l,s){return l.id<s.id?"A"+l.id+"B"+s.id:"A"+s.id+"B"+l.id}})()},99561:(p,T,t)=>{var u={};p.exports=u;var m=t(4506),l=t(53402);(function(){u.create=function(s){return l.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},u.update=function(s,a,e){var r=s.list,d=r.length,n=s.table,h=a.length,f=s.collisionStart,c=s.collisionEnd,v=s.collisionActive,g,y,C,S;for(f.length=0,c.length=0,v.length=0,S=0;S<d;S++)r[S].confirmedActive=!1;for(S=0;S<h;S++)g=a[S],C=g.pair,C?(C.isActive?v.push(C):f.push(C),m.update(C,g,e),C.confirmedActive=!0):(C=m.create(g,e),n[C.id]=C,f.push(C),r.push(C));var P=[];for(d=r.length,S=0;S<d;S++)C=r[S],C.confirmedActive||(m.setActive(C,!1,e),c.push(C),!C.collision.bodyA.isSleeping&&!C.collision.bodyB.isSleeping&&P.push(S));for(S=0;S<P.length;S++)y=P[S]-S,C=r[y],r.splice(y,1),delete n[C.id]},u.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},73296:(p,T,t)=>{var u={};p.exports=u;var m=t(31725),l=t(52284),s=t(15647),a=t(66280),e=t(41598);(function(){u.collides=function(r,d){for(var n=[],h=d.length,f=r.bounds,c=l.collides,v=s.overlaps,g=0;g<h;g++){var y=d[g],C=y.parts.length,S=C===1?0:1;if(r!==y&&v(y.bounds,f))for(var P=S;P<C;P++){var w=y.parts[P];if(v(w.bounds,f)){var R=c(w,r);if(R){n.push(R);break}}}}return n},u.ray=function(r,d,n,h){h=h||1e-100;for(var f=m.angle(d,n),c=m.magnitude(m.sub(d,n)),v=(n.x+d.x)*.5,g=(n.y+d.y)*.5,y=a.rectangle(v,g,c,h,{angle:f}),C=u.collides(y,r),S=0;S<C.length;S+=1){var P=C[S];P.body=P.bodyB=P.bodyA}return C},u.region=function(r,d,n){for(var h=[],f=0;f<r.length;f++){var c=r[f],v=s.overlaps(c.bounds,d);(v&&!n||!v&&n)&&h.push(c)}return h},u.point=function(r,d){for(var n=[],h=0;h<r.length;h++){var f=r[h];if(s.contains(f.bounds,d))for(var c=f.parts.length===1?0:1;c<f.parts.length;c++){var v=f.parts[c];if(s.contains(v.bounds,d)&&e.contains(v.vertices,d)){n.push(f);break}}}return n}})()},66272:(p,T,t)=>{var u={};p.exports=u;var m=t(41598),l=t(53402),s=t(15647);(function(){u._restingThresh=2,u._restingThreshTangent=Math.sqrt(6),u._positionDampen=.9,u._positionWarming=.8,u._frictionNormalMultiplier=5,u._frictionMaxStatic=Number.MAX_VALUE,u.preSolvePosition=function(a){var e,r,d,n=a.length;for(e=0;e<n;e++)r=a[e],r.isActive&&(d=r.activeContacts.length,r.collision.parentA.totalContacts+=d,r.collision.parentB.totalContacts+=d)},u.solvePosition=function(a,e,r){var d,n,h,f,c,v,g,y,C=u._positionDampen*(r||1),S=l.clamp(e/l._baseDelta,0,1),P=a.length;for(d=0;d<P;d++)n=a[d],!(!n.isActive||n.isSensor)&&(h=n.collision,f=h.parentA,c=h.parentB,v=h.normal,n.separation=v.x*(c.positionImpulse.x+h.penetration.x-f.positionImpulse.x)+v.y*(c.positionImpulse.y+h.penetration.y-f.positionImpulse.y));for(d=0;d<P;d++)n=a[d],!(!n.isActive||n.isSensor)&&(h=n.collision,f=h.parentA,c=h.parentB,v=h.normal,y=n.separation-n.slop*S,(f.isStatic||c.isStatic)&&(y*=2),f.isStatic||f.isSleeping||(g=C/f.totalContacts,f.positionImpulse.x+=v.x*y*g,f.positionImpulse.y+=v.y*y*g),c.isStatic||c.isSleeping||(g=C/c.totalContacts,c.positionImpulse.x-=v.x*y*g,c.positionImpulse.y-=v.y*y*g))},u.postSolvePosition=function(a){for(var e=u._positionWarming,r=a.length,d=m.translate,n=s.update,h=0;h<r;h++){var f=a[h],c=f.positionImpulse,v=c.x,g=c.y,y=f.velocity;if(f.totalContacts=0,v!==0||g!==0){for(var C=0;C<f.parts.length;C++){var S=f.parts[C];d(S.vertices,c),n(S.bounds,S.vertices,y),S.position.x+=v,S.position.y+=g}f.positionPrev.x+=v,f.positionPrev.y+=g,v*y.x+g*y.y<0?(c.x=0,c.y=0):(c.x*=e,c.y*=e)}}},u.preSolveVelocity=function(a){var e=a.length,r,d;for(r=0;r<e;r++){var n=a[r];if(!(!n.isActive||n.isSensor)){var h=n.activeContacts,f=h.length,c=n.collision,v=c.parentA,g=c.parentB,y=c.normal,C=c.tangent;for(d=0;d<f;d++){var S=h[d],P=S.vertex,w=S.normalImpulse,R=S.tangentImpulse;if(w!==0||R!==0){var L=y.x*w+C.x*R,D=y.y*w+C.y*R;v.isStatic||v.isSleeping||(v.positionPrev.x+=L*v.inverseMass,v.positionPrev.y+=D*v.inverseMass,v.anglePrev+=v.inverseInertia*((P.x-v.position.x)*D-(P.y-v.position.y)*L)),g.isStatic||g.isSleeping||(g.positionPrev.x-=L*g.inverseMass,g.positionPrev.y-=D*g.inverseMass,g.anglePrev-=g.inverseInertia*((P.x-g.position.x)*D-(P.y-g.position.y)*L))}}}}},u.solveVelocity=function(a,e){var r=e/l._baseDelta,d=r*r,n=d*r,h=-u._restingThresh*r,f=u._restingThreshTangent,c=u._frictionNormalMultiplier*r,v=u._frictionMaxStatic,g=a.length,y,C,S,P;for(S=0;S<g;S++){var w=a[S];if(!(!w.isActive||w.isSensor)){var R=w.collision,L=R.parentA,D=R.parentB,F=L.velocity,O=D.velocity,B=R.normal.x,N=R.normal.y,G=R.tangent.x,z=R.tangent.y,X=w.activeContacts,H=X.length,V=1/H,W=L.inverseMass+D.inverseMass,I=w.friction*w.frictionStatic*c;for(F.x=L.position.x-L.positionPrev.x,F.y=L.position.y-L.positionPrev.y,O.x=D.position.x-D.positionPrev.x,O.y=D.position.y-D.positionPrev.y,L.angularVelocity=L.angle-L.anglePrev,D.angularVelocity=D.angle-D.anglePrev,P=0;P<H;P++){var b=X[P],U=b.vertex,Y=U.x-L.position.x,$=U.y-L.position.y,j=U.x-D.position.x,K=U.y-D.position.y,J=F.x-$*L.angularVelocity,k=F.y+Y*L.angularVelocity,_=O.x-K*D.angularVelocity,et=O.y+j*D.angularVelocity,nt=J-_,it=k-et,ot=B*nt+N*it,ft=G*nt+z*it,pt=w.separation+ot,mt=Math.min(pt,1);mt=pt<0?0:mt;var rt=mt*I;ft<-rt||ft>rt?(C=ft>0?ft:-ft,y=w.friction*(ft>0?1:-1)*n,y<-C?y=-C:y>C&&(y=C)):(y=ft,C=v);var dt=Y*N-$*B,ct=j*N-K*B,Pt=V/(W+L.inverseInertia*dt*dt+D.inverseInertia*ct*ct),Et=(1+w.restitution)*ot*Pt;if(y*=Pt,ot<h)b.normalImpulse=0;else{var Mt=b.normalImpulse;b.normalImpulse+=Et,b.normalImpulse>0&&(b.normalImpulse=0),Et=b.normalImpulse-Mt}if(ft<-f||ft>f)b.tangentImpulse=0;else{var Dt=b.tangentImpulse;b.tangentImpulse+=y,b.tangentImpulse<-C&&(b.tangentImpulse=-C),b.tangentImpulse>C&&(b.tangentImpulse=C),y=b.tangentImpulse-Dt}var wt=B*Et+G*y,St=N*Et+z*y;L.isStatic||L.isSleeping||(L.positionPrev.x+=wt*L.inverseMass,L.positionPrev.y+=St*L.inverseMass,L.anglePrev+=(Y*St-$*wt)*L.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=wt*D.inverseMass,D.positionPrev.y-=St*D.inverseMass,D.anglePrev-=(j*St-K*wt)*D.inverseInertia)}}}}})()},48140:(p,T,t)=>{var u={};p.exports=u;var m=t(41598),l=t(31725),s=t(53614),a=t(15647),e=t(66615),r=t(53402);(function(){u._warming=.4,u._torqueDampen=1,u._minLength=1e-6,u.create=function(d){var n=d;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var h=n.bodyA?l.add(n.bodyA.position,n.pointA):n.pointA,f=n.bodyB?l.add(n.bodyB.position,n.pointB):n.pointB,c=l.magnitude(l.sub(h,f));n.length=typeof n.length<"u"?n.length:c,n.id=n.id||r.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return n.length===0&&n.stiffness>.1?(v.type="pin",v.anchors=!1):n.stiffness<.9&&(v.type="spring"),n.render=r.extend(v,n.render),n},u.preSolveAll=function(d){for(var n=0;n<d.length;n+=1){var h=d[n],f=h.constraintImpulse;h.isStatic||f.x===0&&f.y===0&&f.angle===0||(h.position.x+=f.x,h.position.y+=f.y,h.angle+=f.angle)}},u.solveAll=function(d,n){for(var h=r.clamp(n/r._baseDelta,0,1),f=0;f<d.length;f+=1){var c=d[f],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,g=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(v||g)&&u.solve(d[f],h)}for(f=0;f<d.length;f+=1)c=d[f],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,g=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!v&&!g&&u.solve(d[f],h)},u.solve=function(d,n){var h=d.bodyA,f=d.bodyB,c=d.pointA,v=d.pointB;if(!(!h&&!f)){h&&!h.isStatic&&(l.rotate(c,h.angle-d.angleA,c),d.angleA=h.angle),f&&!f.isStatic&&(l.rotate(v,f.angle-d.angleB,v),d.angleB=f.angle);var g=c,y=v;if(h&&(g=l.add(h.position,c)),f&&(y=l.add(f.position,v)),!(!g||!y)){var C=l.sub(g,y),S=l.magnitude(C);S<u._minLength&&(S=u._minLength);var P=(S-d.length)/S,w=d.stiffness>=1||d.length===0,R=w?d.stiffness*n:d.stiffness*n*n,L=d.damping*n,D=l.mult(C,P*R),F=(h?h.inverseMass:0)+(f?f.inverseMass:0),O=(h?h.inverseInertia:0)+(f?f.inverseInertia:0),B=F+O,N,G,z,X,H;if(L>0){var V=l.create();z=l.div(C,S),H=l.sub(f&&l.sub(f.position,f.positionPrev)||V,h&&l.sub(h.position,h.positionPrev)||V),X=l.dot(z,H)}h&&!h.isStatic&&(G=h.inverseMass/F,h.constraintImpulse.x-=D.x*G,h.constraintImpulse.y-=D.y*G,h.position.x-=D.x*G,h.position.y-=D.y*G,L>0&&(h.positionPrev.x-=L*z.x*X*G,h.positionPrev.y-=L*z.y*X*G),N=l.cross(c,D)/B*u._torqueDampen*h.inverseInertia*(1-d.angularStiffness),h.constraintImpulse.angle-=N,h.angle-=N),f&&!f.isStatic&&(G=f.inverseMass/F,f.constraintImpulse.x+=D.x*G,f.constraintImpulse.y+=D.y*G,f.position.x+=D.x*G,f.position.y+=D.y*G,L>0&&(f.positionPrev.x+=L*z.x*X*G,f.positionPrev.y+=L*z.y*X*G),N=l.cross(v,D)/B*u._torqueDampen*f.inverseInertia*(1-d.angularStiffness),f.constraintImpulse.angle+=N,f.angle+=N)}}},u.postSolveAll=function(d){for(var n=0;n<d.length;n++){var h=d[n],f=h.constraintImpulse;if(!(h.isStatic||f.x===0&&f.y===0&&f.angle===0)){s.set(h,!1);for(var c=0;c<h.parts.length;c++){var v=h.parts[c];m.translate(v.vertices,f),c>0&&(v.position.x+=f.x,v.position.y+=f.y),f.angle!==0&&(m.rotate(v.vertices,f.angle,h.position),e.rotate(v.axes,f.angle),c>0&&l.rotateAbout(v.position,f.angle,h.position,v.position)),a.update(v.bounds,v.vertices,h.velocity)}f.angle*=u._warming,f.x*=u._warming,f.y*=u._warming}}},u.pointAWorld=function(d){return{x:(d.bodyA?d.bodyA.position.x:0)+(d.pointA?d.pointA.x:0),y:(d.bodyA?d.bodyA.position.y:0)+(d.pointA?d.pointA.y:0)}},u.pointBWorld=function(d){return{x:(d.bodyB?d.bodyB.position.x:0)+(d.pointB?d.pointB.x:0),y:(d.bodyB?d.bodyB.position.y:0)+(d.pointB?d.pointB.y:0)}},u.currentLength=function(d){var n=(d.bodyA?d.bodyA.position.x:0)+(d.pointA?d.pointA.x:0),h=(d.bodyA?d.bodyA.position.y:0)+(d.pointA?d.pointA.y:0),f=(d.bodyB?d.bodyB.position.x:0)+(d.pointB?d.pointB.x:0),c=(d.bodyB?d.bodyB.position.y:0)+(d.pointB?d.pointB.y:0),v=n-f,g=h-c;return Math.sqrt(v*v+g*g)}})()},53402:(p,T,t)=>{var u={};p.exports=u,function(){u._baseDelta=16.666666666666668,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(l,s){var a,e;typeof s=="boolean"?(a=2,e=s):(a=1,e=!0);for(var r=a;r<arguments.length;r++){var d=arguments[r];if(d)for(var n in d)e&&d[n]&&d[n].constructor===Object&&(!l[n]||l[n].constructor===Object)?(l[n]=l[n]||{},u.extend(l[n],e,d[n])):l[n]=d[n]}return l},u.clone=function(l,s){return u.extend({},s,l)},u.keys=function(l){if(Object.keys)return Object.keys(l);var s=[];for(var a in l)s.push(a);return s},u.values=function(l){var s=[];if(Object.keys){for(var a=Object.keys(l),e=0;e<a.length;e++)s.push(l[a[e]]);return s}for(var r in l)s.push(l[r]);return s},u.get=function(l,s,a,e){s=s.split(".").slice(a,e);for(var r=0;r<s.length;r+=1)l=l[s[r]];return l},u.set=function(l,s,a,e,r){var d=s.split(".").slice(e,r);return u.get(l,s,0,-1)[d[d.length-1]]=a,a},u.shuffle=function(l){for(var s=l.length-1;s>0;s--){var a=Math.floor(u.random()*(s+1)),e=l[s];l[s]=l[a],l[a]=e}return l},u.choose=function(l){return l[Math.floor(u.random()*l.length)]},u.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},u.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},u.isFunction=function(l){return typeof l=="function"},u.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},u.isString=function(l){return toString.call(l)==="[object String]"},u.clamp=function(l,s,a){return l<s?s:l>a?a:l},u.sign=function(l){return l<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(l,s){return l=typeof l<"u"?l:0,s=typeof s<"u"?s:1,l+m()*(s-l)};var m=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[l]||(u.warn(l),u._warnedOnce[l]=!0)},u.deprecated=function(l,s,a){l[s]=u.chain(function(){u.warnOnce("🔅 deprecated 🔅",a)},l[s])},u.nextId=function(){return u._nextId++},u.indexOf=function(l,s){if(l.indexOf)return l.indexOf(s);for(var a=0;a<l.length;a++)if(l[a]===s)return a;return-1},u.map=function(l,s){if(l.map)return l.map(s);for(var a=[],e=0;e<l.length;e+=1)a.push(s(l[e]));return a},u.topologicalSort=function(l){var s=[],a=[],e=[];for(var r in l)!a[r]&&!e[r]&&u._topologicalSort(r,a,e,l,s);return s},u._topologicalSort=function(l,s,a,e,r){var d=e[l]||[];a[l]=!0;for(var n=0;n<d.length;n+=1){var h=d[n];a[h]||s[h]||u._topologicalSort(h,s,a,e,r)}a[l]=!1,s[l]=!0,r.push(l)},u.chain=function(){for(var l=[],s=0;s<arguments.length;s+=1){var a=arguments[s];a._chained?l.push.apply(l,a._chained):l.push(a)}var e=function(){for(var r,d=new Array(arguments.length),n=0,h=arguments.length;n<h;n++)d[n]=arguments[n];for(n=0;n<l.length;n+=1){var f=l[n].apply(r,d);typeof f<"u"&&(r=f)}return r};return e._chained=l,e},u.chainPathBefore=function(l,s,a){return u.set(l,s,u.chain(a,u.get(l,s)))},u.chainPathAfter=function(l,s,a){return u.set(l,s,u.chain(u.get(l,s),a))},u.setDecomp=function(l){u._decomp=l},u.getDecomp=function(){var l=u._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof t.g<"u"&&(l=t.g.decomp)}catch{l=null}return l}}()},48413:(p,T,t)=>{var u={};p.exports=u;var m=t(53614),l=t(66272),s=t(81388),a=t(99561),e=t(35810),r=t(69351),d=t(48140),n=t(53402),h=t(22562);(function(){u.create=function(f){f=f||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},v=n.extend(c,f);return v.world=f.world||r.create({label:"World"}),v.pairs=f.pairs||a.create(),v.detector=f.detector||s.create(),v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},u.update=function(f,c){var v=n.now(),g=f.world,y=f.detector,C=f.pairs,S=f.timing,P=S.timestamp,w;c=typeof c<"u"?c:n._baseDelta,c*=S.timeScale,S.timestamp+=c,S.lastDelta=c;var R={timestamp:S.timestamp,delta:c};e.trigger(f,"beforeUpdate",R);var L=r.allBodies(g),D=r.allConstraints(g);for(g.isModified&&(s.setBodies(y,L),r.setModified(g,!1,!1,!0)),f.enableSleeping&&m.update(L,c),u._bodiesApplyGravity(L,f.gravity),c>0&&u._bodiesUpdate(L,c),e.trigger(f,"beforeSolve",R),d.preSolveAll(L),w=0;w<f.constraintIterations;w++)d.solveAll(D,c);d.postSolveAll(L),y.pairs=f.pairs;var F=s.collisions(y);a.update(C,F,P),f.enableSleeping&&m.afterCollisions(C.list),C.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:C.collisionStart,timestamp:S.timestamp,delta:c});var O=n.clamp(20/f.positionIterations,0,1);for(l.preSolvePosition(C.list),w=0;w<f.positionIterations;w++)l.solvePosition(C.list,c,O);for(l.postSolvePosition(L),d.preSolveAll(L),w=0;w<f.constraintIterations;w++)d.solveAll(D,c);for(d.postSolveAll(L),l.preSolveVelocity(C.list),w=0;w<f.velocityIterations;w++)l.solveVelocity(C.list,c);return u._bodiesUpdateVelocities(L),C.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:C.collisionActive,timestamp:S.timestamp,delta:c}),C.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:C.collisionEnd,timestamp:S.timestamp,delta:c}),u._bodiesClearForces(L),e.trigger(f,"afterUpdate",R),f.timing.lastElapsed=n.now()-v,f},u.merge=function(f,c){if(n.extend(f,c),c.world){f.world=c.world,u.clear(f);for(var v=r.allBodies(f.world),g=0;g<v.length;g++){var y=v[g];m.set(y,!1),y.id=n.nextId()}}},u.clear=function(f){a.clear(f.pairs),s.clear(f.detector)},u._bodiesClearForces=function(f){for(var c=f.length,v=0;v<c;v++){var g=f[v];g.force.x=0,g.force.y=0,g.torque=0}},u._bodiesApplyGravity=function(f,c){var v=typeof c.scale<"u"?c.scale:.001,g=f.length;if(!(c.x===0&&c.y===0||v===0))for(var y=0;y<g;y++){var C=f[y];C.ignoreGravity||C.isStatic||C.isSleeping||(C.force.y+=C.mass*c.y*v,C.force.x+=C.mass*c.x*v)}},u._bodiesUpdate=function(f,c){for(var v=f.length,g=0;g<v;g++){var y=f[g];y.isStatic||y.isSleeping||h.update(y,c)}},u._bodiesUpdateVelocities=function(f){for(var c=f.length,v=0;v<c;v++)h.updateVelocities(f[v])}})()},35810:(p,T,t)=>{var u={};p.exports=u;var m=t(53402);(function(){u.on=function(l,s,a){for(var e=s.split(" "),r,d=0;d<e.length;d++)r=e[d],l.events=l.events||{},l.events[r]=l.events[r]||[],l.events[r].push(a);return a},u.off=function(l,s,a){if(!s){l.events={};return}typeof s=="function"&&(a=s,s=m.keys(l.events).join(" "));for(var e=s.split(" "),r=0;r<e.length;r++){var d=l.events[e[r]],n=[];if(a&&d)for(var h=0;h<d.length;h++)d[h]!==a&&n.push(d[h]);l.events[e[r]]=n}},u.trigger=function(l,s,a){var e,r,d,n,h=l.events;if(h&&m.keys(h).length>0){a||(a={}),e=s.split(" ");for(var f=0;f<e.length;f++)if(r=e[f],d=h[r],d){n=m.clone(a,!1),n.name=r,n.source=l;for(var c=0;c<d.length;c++)d[c].apply(l,[n])}}}})()},6790:(p,T,t)=>{var u={};p.exports=u;var m=t(73832),l=t(53402);(function(){u.name="matter-js",u.version="0.19.0",u.uses=[],u.used=[],u.use=function(){m.use(u,Array.prototype.slice.call(arguments))},u.before=function(s,a){return s=s.replace(/^Matter./,""),l.chainPathBefore(u,s,a)},u.after=function(s,a){return s=s.replace(/^Matter./,""),l.chainPathAfter(u,s,a)}})()},73832:(p,T,t)=>{var u={};p.exports=u;var m=t(53402);(function(){u._registry={},u.register=function(l){if(u.isPlugin(l)||m.warn("Plugin.register:",u.toString(l),"does not implement all required fields."),l.name in u._registry){var s=u._registry[l.name],a=u.versionParse(l.version).number,e=u.versionParse(s.version).number;a>e?(m.warn("Plugin.register:",u.toString(s),"was upgraded to",u.toString(l)),u._registry[l.name]=l):a<e?m.warn("Plugin.register:",u.toString(s),"can not be downgraded to",u.toString(l)):l!==s&&m.warn("Plugin.register:",u.toString(l),"is already registered to different plugin object")}else u._registry[l.name]=l;return l},u.resolve=function(l){return u._registry[u.dependencyParse(l).name]},u.toString=function(l){return typeof l=="string"?l:(l.name||"anonymous")+"@"+(l.version||l.range||"0.0.0")},u.isPlugin=function(l){return l&&l.name&&l.version&&l.install},u.isUsed=function(l,s){return l.used.indexOf(s)>-1},u.isFor=function(l,s){var a=l.for&&u.dependencyParse(l.for);return!l.for||s.name===a.name&&u.versionSatisfies(s.version,a.range)},u.use=function(l,s){if(l.uses=(l.uses||[]).concat(s||[]),l.uses.length===0){m.warn("Plugin.use:",u.toString(l),"does not specify any dependencies to install.");return}for(var a=u.dependencies(l),e=m.topologicalSort(a),r=[],d=0;d<e.length;d+=1)if(e[d]!==l.name){var n=u.resolve(e[d]);if(!n){r.push("❌ "+e[d]);continue}u.isUsed(l,n.name)||(u.isFor(n,l)||(m.warn("Plugin.use:",u.toString(n),"is for",n.for,"but installed on",u.toString(l)+"."),n._warned=!0),n.install?n.install(l):(m.warn("Plugin.use:",u.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(r.push("🔶 "+u.toString(n)),delete n._warned):r.push("✅ "+u.toString(n)),l.used.push(n.name))}r.length>0&&!n.silent&&m.info(r.join("  "))},u.dependencies=function(l,s){var a=u.dependencyParse(l),e=a.name;if(s=s||{},!(e in s)){l=u.resolve(l)||l,s[e]=m.map(l.uses||[],function(d){u.isPlugin(d)&&u.register(d);var n=u.dependencyParse(d),h=u.resolve(d);return h&&!u.versionSatisfies(h.version,n.range)?(m.warn("Plugin.dependencies:",u.toString(h),"does not satisfy",u.toString(n),"used by",u.toString(a)+"."),h._warned=!0,l._warned=!0):h||(m.warn("Plugin.dependencies:",u.toString(d),"used by",u.toString(a),"could not be resolved."),l._warned=!0),n.name});for(var r=0;r<s[e].length;r+=1)u.dependencies(s[e][r],s);return s}},u.dependencyParse=function(l){if(m.isString(l)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(l)||m.warn("Plugin.dependencyParse:",l,"is not a valid dependency string."),{name:l.split("@")[0],range:l.split("@")[1]||"*"}}return{name:l.name,range:l.range||l.version}},u.versionParse=function(l){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(l)||m.warn("Plugin.versionParse:",l,"is not a valid version or range.");var a=s.exec(l),e=Number(a[4]),r=Number(a[5]),d=Number(a[6]);return{isRange:!!(a[1]||a[2]),version:a[3],range:l,operator:a[1]||a[2]||"",major:e,minor:r,patch:d,parts:[e,r,d],prerelease:a[7],number:e*1e8+r*1e4+d}},u.versionSatisfies=function(l,s){s=s||"*";var a=u.versionParse(s),e=u.versionParse(l);if(a.isRange){if(a.operator==="*"||l==="*")return!0;if(a.operator===">")return e.number>a.number;if(a.operator===">=")return e.number>=a.number;if(a.operator==="~")return e.major===a.major&&e.minor===a.minor&&e.patch>=a.patch;if(a.operator==="^")return a.major>0?e.major===a.major&&e.number>=a.number:a.minor>0?e.minor===a.minor&&e.patch>=a.patch:e.patch===a.patch}return l===s||l==="*"}})()},53614:(p,T,t)=>{var u={};p.exports=u;var m=t(22562),l=t(35810),s=t(53402);(function(){u._motionWakeThreshold=.18,u._motionSleepThreshold=.08,u._minBias=.9,u.update=function(a,e){for(var r=e/s._baseDelta,d=u._motionSleepThreshold,n=0;n<a.length;n++){var h=a[n],f=m.getSpeed(h),c=m.getAngularSpeed(h),v=f*f+c*c;if(h.force.x!==0||h.force.y!==0){u.set(h,!1);continue}var g=Math.min(h.motion,v),y=Math.max(h.motion,v);h.motion=u._minBias*g+(1-u._minBias)*y,h.sleepThreshold>0&&h.motion<d?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/r&&u.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}},u.afterCollisions=function(a){for(var e=u._motionSleepThreshold,r=0;r<a.length;r++){var d=a[r];if(d.isActive){var n=d.collision,h=n.bodyA.parent,f=n.bodyB.parent;if(!(h.isSleeping&&f.isSleeping||h.isStatic||f.isStatic)&&(h.isSleeping||f.isSleeping)){var c=h.isSleeping&&!h.isStatic?h:f,v=c===h?f:h;!c.isStatic&&v.motion>e&&u.set(c,!1)}}}},u.set=function(a,e){var r=a.isSleeping;e?(a.isSleeping=!0,a.sleepCounter=a.sleepThreshold,a.positionImpulse.x=0,a.positionImpulse.y=0,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.speed=0,a.angularSpeed=0,a.motion=0,r||l.trigger(a,"sleepStart")):(a.isSleeping=!1,a.sleepCounter=0,r&&l.trigger(a,"sleepEnd"))}})()},66280:(p,T,t)=>{var u={};p.exports=u;var m=t(41598),l=t(53402),s=t(22562),a=t(15647),e=t(31725);(function(){u.rectangle=function(r,d,n,h,f){f=f||{};var c={label:"Rectangle Body",position:{x:r,y:d},vertices:m.fromPath("L 0 0 L "+n+" 0 L "+n+" "+h+" L 0 "+h)};if(f.chamfer){var v=f.chamfer;c.vertices=m.chamfer(c.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete f.chamfer}return s.create(l.extend({},c,f))},u.trapezoid=function(r,d,n,h,f,c){c=c||{},f*=.5;var v=(1-f*2)*n,g=n*f,y=g+v,C=y+g,S;f<.5?S="L 0 0 L "+g+" "+-h+" L "+y+" "+-h+" L "+C+" 0":S="L 0 0 L "+y+" "+-h+" L "+C+" 0";var P={label:"Trapezoid Body",position:{x:r,y:d},vertices:m.fromPath(S)};if(c.chamfer){var w=c.chamfer;P.vertices=m.chamfer(P.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete c.chamfer}return s.create(l.extend({},P,c))},u.circle=function(r,d,n,h,f){h=h||{};var c={label:"Circle Body",circleRadius:n};f=f||25;var v=Math.ceil(Math.max(10,Math.min(f,n)));return v%2===1&&(v+=1),u.polygon(r,d,v,n,l.extend({},c,h))},u.polygon=function(r,d,n,h,f){if(f=f||{},n<3)return u.circle(r,d,h,f);for(var c=2*Math.PI/n,v="",g=c*.5,y=0;y<n;y+=1){var C=g+y*c,S=Math.cos(C)*h,P=Math.sin(C)*h;v+="L "+S.toFixed(3)+" "+P.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:r,y:d},vertices:m.fromPath(v)};if(f.chamfer){var R=f.chamfer;w.vertices=m.chamfer(w.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete f.chamfer}return s.create(l.extend({},w,f))},u.fromVertices=function(r,d,n,h,f,c,v,g){var y=l.getDecomp(),C,S,P,w,R,L,D,F,O,B,N;for(C=!!(y&&y.quickDecomp),h=h||{},P=[],f=typeof f<"u"?f:!1,c=typeof c<"u"?c:.01,v=typeof v<"u"?v:10,g=typeof g<"u"?g:.01,l.isArray(n[0])||(n=[n]),B=0;B<n.length;B+=1)if(L=n[B],w=m.isConvex(L),R=!w,R&&!C&&l.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!C)w?L=m.clockwiseSort(L):L=m.hull(L),P.push({position:{x:r,y:d},vertices:L});else{var G=L.map(function(j){return[j.x,j.y]});y.makeCCW(G),c!==!1&&y.removeCollinearPoints(G,c),g!==!1&&y.removeDuplicatePoints&&y.removeDuplicatePoints(G,g);var z=y.quickDecomp(G);for(D=0;D<z.length;D++){var X=z[D],H=X.map(function(j){return{x:j[0],y:j[1]}});v>0&&m.area(H)<v||P.push({position:m.centre(H),vertices:H})}}for(D=0;D<P.length;D++)P[D]=s.create(l.extend(P[D],h));if(f){var V=5;for(D=0;D<P.length;D++){var W=P[D];for(F=D+1;F<P.length;F++){var I=P[F];if(a.overlaps(W.bounds,I.bounds)){var b=W.vertices,U=I.vertices;for(O=0;O<W.vertices.length;O++)for(N=0;N<I.vertices.length;N++){var Y=e.magnitudeSquared(e.sub(b[(O+1)%b.length],U[N])),$=e.magnitudeSquared(e.sub(b[O],U[(N+1)%U.length]));Y<V&&$<V&&(b[O].isInternal=!0,U[N].isInternal=!0)}}}}}return P.length>1?(S=s.create(l.extend({parts:P.slice(0)},h)),s.setPosition(S,{x:r,y:d}),S):P[0]},u.flagCoincidentParts=function(r,d){d===void 0&&(d=5);for(var n=0;n<r.length;n++)for(var h=r[n],f=n+1;f<r.length;f++){var c=r[f];if(a.overlaps(h.bounds,c.bounds))for(var v=h.vertices,g=c.vertices,y=0;y<h.vertices.length;y++)for(var C=0;C<c.vertices.length;C++){var S=e.magnitudeSquared(e.sub(v[(y+1)%v.length],g[C])),P=e.magnitudeSquared(e.sub(v[y],g[(C+1)%g.length]));S<d&&P<d&&(v[y].isInternal=!0,g[C].isInternal=!0)}}return r}})()},74116:(p,T,t)=>{var u={};p.exports=u;var m=t(69351),l=t(48140),s=t(53402),a=t(22562),e=t(66280);(function(){u.stack=function(r,d,n,h,f,c,v){for(var g=m.create({label:"Stack"}),y=r,C=d,S,P=0,w=0;w<h;w++){for(var R=0,L=0;L<n;L++){var D=v(y,C,L,w,S,P);if(D){var F=D.bounds.max.y-D.bounds.min.y,O=D.bounds.max.x-D.bounds.min.x;F>R&&(R=F),a.translate(D,{x:O*.5,y:F*.5}),y=D.bounds.max.x+f,m.addBody(g,D),S=D,P+=1}else y+=f}C+=R+c,y=r}return g},u.chain=function(r,d,n,h,f,c){for(var v=r.bodies,g=1;g<v.length;g++){var y=v[g-1],C=v[g],S=y.bounds.max.y-y.bounds.min.y,P=y.bounds.max.x-y.bounds.min.x,w=C.bounds.max.y-C.bounds.min.y,R=C.bounds.max.x-C.bounds.min.x,L={bodyA:y,pointA:{x:P*d,y:S*n},bodyB:C,pointB:{x:R*h,y:w*f}},D=s.extend(L,c);m.addConstraint(r,l.create(D))}return r.label+=" Chain",r},u.mesh=function(r,d,n,h,f){var c=r.bodies,v,g,y,C,S;for(v=0;v<n;v++){for(g=1;g<d;g++)y=c[g-1+v*d],C=c[g+v*d],m.addConstraint(r,l.create(s.extend({bodyA:y,bodyB:C},f)));if(v>0)for(g=0;g<d;g++)y=c[g+(v-1)*d],C=c[g+v*d],m.addConstraint(r,l.create(s.extend({bodyA:y,bodyB:C},f))),h&&g>0&&(S=c[g-1+(v-1)*d],m.addConstraint(r,l.create(s.extend({bodyA:S,bodyB:C},f)))),h&&g<d-1&&(S=c[g+1+(v-1)*d],m.addConstraint(r,l.create(s.extend({bodyA:S,bodyB:C},f))))}return r.label+=" Mesh",r},u.pyramid=function(r,d,n,h,f,c,v){return u.stack(r,d,n,h,f,c,function(g,y,C,S,P,w){var R=Math.min(h,Math.ceil(n/2)),L=P?P.bounds.max.x-P.bounds.min.x:0;if(!(S>R)){S=R-S;var D=S,F=n-1-S;if(!(C<D||C>F)){w===1&&a.translate(P,{x:(C+(n%2===1?1:-1))*L,y:0});var O=P?C*L:0;return v(r+O+C*f,y,C,S,P,w)}}})},u.newtonsCradle=function(r,d,n,h,f){for(var c=m.create({label:"Newtons Cradle"}),v=0;v<n;v++){var g=1.9,y=e.circle(r+v*(h*g),d+f,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),C=l.create({pointA:{x:r+v*(h*g),y:d},bodyB:y});m.addBody(c,y),m.addConstraint(c,C)}return c},u.car=function(r,d,n,h,f){var c=a.nextGroup(!0),v=20,g=-n*.5+v,y=n*.5-v,C=0,S=m.create({label:"Car"}),P=e.rectangle(r,d,n,h,{collisionFilter:{group:c},chamfer:{radius:h*.5},density:2e-4}),w=e.circle(r+g,d+C,f,{collisionFilter:{group:c},friction:.8}),R=e.circle(r+y,d+C,f,{collisionFilter:{group:c},friction:.8}),L=l.create({bodyB:P,pointB:{x:g,y:C},bodyA:w,stiffness:1,length:0}),D=l.create({bodyB:P,pointB:{x:y,y:C},bodyA:R,stiffness:1,length:0});return m.addBody(S,P),m.addBody(S,w),m.addBody(S,R),m.addConstraint(S,L),m.addConstraint(S,D),S},u.softBody=function(r,d,n,h,f,c,v,g,y,C){y=s.extend({inertia:1/0},y),C=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},C);var S=u.stack(r,d,n,h,f,c,function(P,w){return e.circle(P,w,g,y)});return u.mesh(S,n,h,v,C),S.label="Soft Body",S}})()},66615:(p,T,t)=>{var u={};p.exports=u;var m=t(31725),l=t(53402);(function(){u.fromVertices=function(s){for(var a={},e=0;e<s.length;e++){var r=(e+1)%s.length,d=m.normalise({x:s[r].y-s[e].y,y:s[e].x-s[r].x}),n=d.y===0?1/0:d.x/d.y;n=n.toFixed(3).toString(),a[n]=d}return l.values(a)},u.rotate=function(s,a){if(a!==0)for(var e=Math.cos(a),r=Math.sin(a),d=0;d<s.length;d++){var n=s[d],h;h=n.x*e-n.y*r,n.y=n.x*r+n.y*e,n.x=h}}})()},15647:p=>{var T={};p.exports=T,function(){T.create=function(t){var u={min:{x:0,y:0},max:{x:0,y:0}};return t&&T.update(u,t),u},T.update=function(t,u,m){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var l=0;l<u.length;l++){var s=u[l];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}m&&(m.x>0?t.max.x+=m.x:t.min.x+=m.x,m.y>0?t.max.y+=m.y:t.min.y+=m.y)},T.contains=function(t,u){return u.x>=t.min.x&&u.x<=t.max.x&&u.y>=t.min.y&&u.y<=t.max.y},T.overlaps=function(t,u){return t.min.x<=u.max.x&&t.max.x>=u.min.x&&t.max.y>=u.min.y&&t.min.y<=u.max.y},T.translate=function(t,u){t.min.x+=u.x,t.max.x+=u.x,t.min.y+=u.y,t.max.y+=u.y},T.shift=function(t,u){var m=t.max.x-t.min.x,l=t.max.y-t.min.y;t.min.x=u.x,t.max.x=u.x+m,t.min.y=u.y,t.max.y=u.y+l}}()},74058:(p,T,t)=>{var u={};p.exports=u,t(15647);var m=t(53402);(function(){u.pathToVertices=function(l,s){typeof window<"u"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var a,e,r,d,n,h,f,c,v,g,y=[],C,S,P=0,w=0,R=0;s=s||15;var L=function(F,O,B){var N=B%2===1&&B>1;if(!v||F!=v.x||O!=v.y){v&&N?(C=v.x,S=v.y):(C=0,S=0);var G={x:C+F,y:S+O};(N||!v)&&(v=G),y.push(G),w=C+F,R=S+O}},D=function(F){var O=F.pathSegTypeAsLetter.toUpperCase();if(O!=="Z"){switch(O){case"M":case"L":case"T":case"C":case"S":case"Q":w=F.x,R=F.y;break;case"H":w=F.x;break;case"V":R=F.y;break}L(w,R,F.pathSegType)}};for(u._svgPathToAbsolute(l),r=l.getTotalLength(),h=[],a=0;a<l.pathSegList.numberOfItems;a+=1)h.push(l.pathSegList.getItem(a));for(f=h.concat();P<r;){if(g=l.getPathSegAtLength(P),n=h[g],n!=c){for(;f.length&&f[0]!=n;)D(f.shift());c=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":d=l.getPointAtLength(P),L(d.x,d.y,0);break}P+=s}for(a=0,e=f.length;a<e;++a)D(f[a]);return y},u._svgPathToAbsolute=function(l){for(var s,a,e,r,d,n,h=l.pathSegList,f=0,c=0,v=h.numberOfItems,g=0;g<v;++g){var y=h.getItem(g),C=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in y&&(f=y.x),"y"in y&&(c=y.y);else switch("x1"in y&&(e=f+y.x1),"x2"in y&&(d=f+y.x2),"y1"in y&&(r=c+y.y1),"y2"in y&&(n=c+y.y2),"x"in y&&(f+=y.x),"y"in y&&(c+=y.y),C){case"m":h.replaceItem(l.createSVGPathSegMovetoAbs(f,c),g);break;case"l":h.replaceItem(l.createSVGPathSegLinetoAbs(f,c),g);break;case"h":h.replaceItem(l.createSVGPathSegLinetoHorizontalAbs(f),g);break;case"v":h.replaceItem(l.createSVGPathSegLinetoVerticalAbs(c),g);break;case"c":h.replaceItem(l.createSVGPathSegCurvetoCubicAbs(f,c,e,r,d,n),g);break;case"s":h.replaceItem(l.createSVGPathSegCurvetoCubicSmoothAbs(f,c,d,n),g);break;case"q":h.replaceItem(l.createSVGPathSegCurvetoQuadraticAbs(f,c,e,r),g);break;case"t":h.replaceItem(l.createSVGPathSegCurvetoQuadraticSmoothAbs(f,c),g);break;case"a":h.replaceItem(l.createSVGPathSegArcAbs(f,c,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),g);break;case"z":case"Z":f=s,c=a;break}(C=="M"||C=="m")&&(s=f,a=c)}}})()},31725:p=>{var T={};p.exports=T,function(){T.create=function(t,u){return{x:t||0,y:u||0}},T.clone=function(t){return{x:t.x,y:t.y}},T.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},T.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},T.rotate=function(t,u,m){var l=Math.cos(u),s=Math.sin(u);m||(m={});var a=t.x*l-t.y*s;return m.y=t.x*s+t.y*l,m.x=a,m},T.rotateAbout=function(t,u,m,l){var s=Math.cos(u),a=Math.sin(u);l||(l={});var e=m.x+((t.x-m.x)*s-(t.y-m.y)*a);return l.y=m.y+((t.x-m.x)*a+(t.y-m.y)*s),l.x=e,l},T.normalise=function(t){var u=T.magnitude(t);return u===0?{x:0,y:0}:{x:t.x/u,y:t.y/u}},T.dot=function(t,u){return t.x*u.x+t.y*u.y},T.cross=function(t,u){return t.x*u.y-t.y*u.x},T.cross3=function(t,u,m){return(u.x-t.x)*(m.y-t.y)-(u.y-t.y)*(m.x-t.x)},T.add=function(t,u,m){return m||(m={}),m.x=t.x+u.x,m.y=t.y+u.y,m},T.sub=function(t,u,m){return m||(m={}),m.x=t.x-u.x,m.y=t.y-u.y,m},T.mult=function(t,u){return{x:t.x*u,y:t.y*u}},T.div=function(t,u){return{x:t.x/u,y:t.y/u}},T.perp=function(t,u){return u=u===!0?-1:1,{x:u*-t.y,y:u*t.x}},T.neg=function(t){return{x:-t.x,y:-t.y}},T.angle=function(t,u){return Math.atan2(u.y-t.y,u.x-t.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},41598:(p,T,t)=>{var u={};p.exports=u;var m=t(31725),l=t(53402);(function(){u.create=function(s,a){for(var e=[],r=0;r<s.length;r++){var d=s[r],n={x:d.x,y:d.y,index:r,body:a,isInternal:!1};e.push(n)}return e},u.fromPath=function(s,a){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return s.replace(e,function(d,n,h){r.push({x:parseFloat(n),y:parseFloat(h)})}),u.create(r,a)},u.centre=function(s){for(var a=u.area(s,!0),e={x:0,y:0},r,d,n,h=0;h<s.length;h++)n=(h+1)%s.length,r=m.cross(s[h],s[n]),d=m.mult(m.add(s[h],s[n]),r),e=m.add(e,d);return m.div(e,6*a)},u.mean=function(s){for(var a={x:0,y:0},e=0;e<s.length;e++)a.x+=s[e].x,a.y+=s[e].y;return m.div(a,s.length)},u.area=function(s,a){for(var e=0,r=s.length-1,d=0;d<s.length;d++)e+=(s[r].x-s[d].x)*(s[r].y+s[d].y),r=d;return a?e/2:Math.abs(e)/2},u.inertia=function(s,a){for(var e=0,r=0,d=s,n,h,f=0;f<d.length;f++)h=(f+1)%d.length,n=Math.abs(m.cross(d[h],d[f])),e+=n*(m.dot(d[h],d[h])+m.dot(d[h],d[f])+m.dot(d[f],d[f])),r+=n;return a/6*(e/r)},u.translate=function(s,a,e){e=typeof e<"u"?e:1;var r=s.length,d=a.x*e,n=a.y*e,h;for(h=0;h<r;h++)s[h].x+=d,s[h].y+=n;return s},u.rotate=function(s,a,e){if(a!==0){var r=Math.cos(a),d=Math.sin(a),n=e.x,h=e.y,f=s.length,c,v,g,y;for(y=0;y<f;y++)c=s[y],v=c.x-n,g=c.y-h,c.x=n+(v*r-g*d),c.y=h+(v*d+g*r);return s}},u.contains=function(s,a){for(var e=a.x,r=a.y,d=s.length,n=s[d-1],h,f=0;f<d;f++){if(h=s[f],(e-n.x)*(h.y-n.y)+(r-n.y)*(n.x-h.x)>0)return!1;n=h}return!0},u.scale=function(s,a,e,r){if(a===1&&e===1)return s;r=r||u.centre(s);for(var d,n,h=0;h<s.length;h++)d=s[h],n=m.sub(d,r),s[h].x=r.x+n.x*a,s[h].y=r.y+n.y*e;return s},u.chamfer=function(s,a,e,r,d){typeof a=="number"?a=[a]:a=a||[8],e=typeof e<"u"?e:-1,r=r||2,d=d||14;for(var n=[],h=0;h<s.length;h++){var f=s[h-1>=0?h-1:s.length-1],c=s[h],v=s[(h+1)%s.length],g=a[h<a.length?h:a.length-1];if(g===0){n.push(c);continue}var y=m.normalise({x:c.y-f.y,y:f.x-c.x}),C=m.normalise({x:v.y-c.y,y:c.x-v.x}),S=Math.sqrt(2*Math.pow(g,2)),P=m.mult(l.clone(y),g),w=m.normalise(m.mult(m.add(y,C),.5)),R=m.sub(c,m.mult(w,S)),L=e;e===-1&&(L=Math.pow(g,.32)*1.75),L=l.clamp(L,r,d),L%2===1&&(L+=1);for(var D=Math.acos(m.dot(y,C)),F=D/L,O=0;O<L;O++)n.push(m.add(m.rotate(P,F*O),R))}return n},u.clockwiseSort=function(s){var a=u.mean(s);return s.sort(function(e,r){return m.angle(a,e)-m.angle(a,r)}),s},u.isConvex=function(s){var a=0,e=s.length,r,d,n,h;if(e<3)return null;for(r=0;r<e;r++)if(d=(r+1)%e,n=(r+2)%e,h=(s[d].x-s[r].x)*(s[n].y-s[d].y),h-=(s[d].y-s[r].y)*(s[n].x-s[d].x),h<0?a|=1:h>0&&(a|=2),a===3)return!1;return a!==0?!0:null},u.hull=function(s){var a=[],e=[],r,d;for(s=s.slice(0),s.sort(function(n,h){var f=n.x-h.x;return f!==0?f:n.y-h.y}),d=0;d<s.length;d+=1){for(r=s[d];e.length>=2&&m.cross3(e[e.length-2],e[e.length-1],r)<=0;)e.pop();e.push(r)}for(d=s.length-1;d>=0;d-=1){for(r=s[d];a.length>=2&&m.cross3(a[a.length-2],a[a.length-1],r)<=0;)a.pop();a.push(r)}return a.pop(),e.pop(),a.concat(e)}})()},18210:(p,T,t)=>{var u=t(19933),m={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(l){l.after("Body.create",function(){m.Body.init(this)}),l.before("Engine.update",function(s){m.Engine.update(s)})},Body:{init:function(l){l.plugin.attractors=l.plugin.attractors||[]}},Engine:{update:function(l){for(var s=u.Composite.allBodies(l.world),a=0;a<s.length;a++){var e=s[a],r=e.plugin.attractors;if(r&&r.length>0)for(var d=0;d<s.length;d++){var n=s[d];if(a!==d)for(var h=0;h<r.length;h++){var f=r[h],c=f;u.Common.isFunction(f)&&(c=f(e,n)),c&&u.Body.applyForce(n,n.position,c)}}}}},Attractors:{gravityConstant:.001,gravity:function(l,s){var a=u.Vector.sub(s.position,l.position),e=u.Vector.magnitudeSquared(a)||1e-4,r=u.Vector.normalise(a),d=-m.Attractors.gravityConstant*(l.mass*s.mass/e),n=u.Vector.mult(r,d);u.Body.applyForce(l,l.position,u.Vector.neg(n)),u.Body.applyForce(s,s.position,n)}}};p.exports=m},40178:p=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(u){u.pairs.map(function(m){var l=m.bodyA,s=m.bodyB;l.gameObject&&l.gameObject.emit("collide",l,s,m),s.gameObject&&s.gameObject.emit("collide",s,l,m),t.Events.trigger(l,"onCollide",{pair:m}),t.Events.trigger(s,"onCollide",{pair:m}),l.onCollideCallback&&l.onCollideCallback(m),s.onCollideCallback&&s.onCollideCallback(m),l.onCollideWith[s.id]&&l.onCollideWith[s.id](s,m),s.onCollideWith[l.id]&&s.onCollideWith[l.id](l,m)})}),t.Events.on(this,"collisionActive",function(u){u.pairs.map(function(m){var l=m.bodyA,s=m.bodyB;l.gameObject&&l.gameObject.emit("collideActive",l,s,m),s.gameObject&&s.gameObject.emit("collideActive",s,l,m),t.Events.trigger(l,"onCollideActive",{pair:m}),t.Events.trigger(s,"onCollideActive",{pair:m}),l.onCollideActiveCallback&&l.onCollideActiveCallback(m),s.onCollideActiveCallback&&s.onCollideActiveCallback(m)})}),t.Events.on(this,"collisionEnd",function(u){u.pairs.map(function(m){var l=m.bodyA,s=m.bodyB;l.gameObject&&l.gameObject.emit("collideEnd",l,s,m),s.gameObject&&s.gameObject.emit("collideEnd",s,l,m),t.Events.trigger(l,"onCollideEnd",{pair:m}),t.Events.trigger(s,"onCollideEnd",{pair:m}),l.onCollideEndCallback&&l.onCollideEndCallback(m),s.onCollideEndCallback&&s.onCollideEndCallback(m)})})})}};p.exports=T},74507:(p,T,t)=>{var u=t(19933),m={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(l){l.after("Engine.update",function(){m.Engine.update(this)})},Engine:{update:function(l){for(var s=l.world,a=u.Composite.allBodies(s),e=u.Composite.allComposites(s),r=0;r<a.length;r+=1){var d=a[r];d.plugin.wrap&&m.Body.wrap(d,d.plugin.wrap)}for(r=0;r<e.length;r+=1){var n=e[r];n.plugin.wrap&&m.Composite.wrap(n,n.plugin.wrap)}}},Bounds:{wrap:function(l,s){var a=null,e=null;if(typeof s.min.x<"u"&&typeof s.max.x<"u"&&(l.min.x>s.max.x?a=s.min.x-l.max.x:l.max.x<s.min.x&&(a=s.max.x-l.min.x)),typeof s.min.y<"u"&&typeof s.max.y<"u"&&(l.min.y>s.max.y?e=s.min.y-l.max.y:l.max.y<s.min.y&&(e=s.max.y-l.min.y)),a!==null||e!==null)return{x:a||0,y:e||0}}},Body:{wrap:function(l,s){var a=m.Bounds.wrap(l.bounds,s);return a&&u.Body.translate(l,a),a}},Composite:{bounds:function(l){for(var s=u.Composite.allBodies(l),a=[],e=0;e<s.length;e+=1){var r=s[e];a.push(r.bounds.min,r.bounds.max)}return u.Bounds.create(a)},wrap:function(l,s){var a=m.Bounds.wrap(m.Composite.bounds(l),s);return a&&u.Composite.translate(l,a),a}}};p.exports=m},55973:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:D,quickDecomp:N,isSimple:O,removeCollinearPoints:G,removeDuplicatePoints:z,makeCCW:v};function T(V,W,I){I=I||0;var b=[0,0],U,Y,$,j,K,J,k;return U=V[1][1]-V[0][1],Y=V[0][0]-V[1][0],$=U*V[0][0]+Y*V[0][1],j=W[1][1]-W[0][1],K=W[0][0]-W[1][0],J=j*W[0][0]+K*W[0][1],k=U*K-j*Y,X(k,0,I)||(b[0]=(K*$-Y*J)/k,b[1]=(U*J-j*$)/k),b}function t(V,W,I,b){var U=W[0]-V[0],Y=W[1]-V[1],$=b[0]-I[0],j=b[1]-I[1];if($*Y-j*U===0)return!1;var K=(U*(I[1]-V[1])+Y*(V[0]-I[0]))/($*Y-j*U),J=($*(V[1]-I[1])+j*(I[0]-V[0]))/(j*U-$*Y);return K>=0&&K<=1&&J>=0&&J<=1}function u(V,W,I){return(W[0]-V[0])*(I[1]-V[1])-(I[0]-V[0])*(W[1]-V[1])}function m(V,W,I){return u(V,W,I)>0}function l(V,W,I){return u(V,W,I)>=0}function s(V,W,I){return u(V,W,I)<0}function a(V,W,I){return u(V,W,I)<=0}var e=[],r=[];function d(V,W,I,b){if(b){var U=e,Y=r;U[0]=W[0]-V[0],U[1]=W[1]-V[1],Y[0]=I[0]-W[0],Y[1]=I[1]-W[1];var $=U[0]*Y[0]+U[1]*Y[1],j=Math.sqrt(U[0]*U[0]+U[1]*U[1]),K=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),J=Math.acos($/(j*K));return J<b}else return u(V,W,I)===0}function n(V,W){var I=W[0]-V[0],b=W[1]-V[1];return I*I+b*b}function h(V,W){var I=V.length;return V[W<0?W%I+I:W%I]}function f(V){V.length=0}function c(V,W,I,b){for(var U=I;U<b;U++)V.push(W[U])}function v(V){for(var W=0,I=V,b=1;b<V.length;++b)(I[b][1]<I[W][1]||I[b][1]===I[W][1]&&I[b][0]>I[W][0])&&(W=b);return m(h(V,W-1),h(V,W),h(V,W+1))?!1:(g(V),!0)}function g(V){for(var W=[],I=V.length,b=0;b!==I;b++)W.push(V.pop());for(var b=0;b!==I;b++)V[b]=W[b]}function y(V,W){return s(h(V,W-1),h(V,W),h(V,W+1))}var C=[],S=[];function P(V,W,I){var b,U,Y=C,$=S;if(l(h(V,W+1),h(V,W),h(V,I))&&a(h(V,W-1),h(V,W),h(V,I)))return!1;U=n(h(V,W),h(V,I));for(var j=0;j!==V.length;++j)if(!((j+1)%V.length===W||j===W)&&l(h(V,W),h(V,I),h(V,j+1))&&a(h(V,W),h(V,I),h(V,j))&&(Y[0]=h(V,W),Y[1]=h(V,I),$[0]=h(V,j),$[1]=h(V,j+1),b=T(Y,$),n(h(V,W),b)<U))return!1;return!0}function w(V,W,I){for(var b=0;b!==V.length;++b)if(!(b===W||b===I||(b+1)%V.length===W||(b+1)%V.length===I)&&t(h(V,W),h(V,I),h(V,b),h(V,b+1)))return!1;return!0}function R(V,W,I,b){var U=b||[];if(f(U),W<I)for(var Y=W;Y<=I;Y++)U.push(V[Y]);else{for(var Y=0;Y<=I;Y++)U.push(V[Y]);for(var Y=W;Y<V.length;Y++)U.push(V[Y])}return U}function L(V){for(var W=[],I=[],b=[],U=[],Y=Number.MAX_VALUE,$=0;$<V.length;++$)if(y(V,$)){for(var j=0;j<V.length;++j)if(P(V,$,j)){I=L(R(V,$,j,U)),b=L(R(V,j,$,U));for(var K=0;K<b.length;K++)I.push(b[K]);I.length<Y&&(W=I,Y=I.length,W.push([h(V,$),h(V,j)]))}}return W}function D(V){var W=L(V);return W.length>0?F(V,W):[V]}function F(V,W){if(W.length===0)return[V];if(W instanceof Array&&W.length&&W[0]instanceof Array&&W[0].length===2&&W[0][0]instanceof Array){for(var I=[V],b=0;b<W.length;b++)for(var U=W[b],Y=0;Y<I.length;Y++){var $=I[Y],j=F($,U);if(j){I.splice(Y,1),I.push(j[0],j[1]);break}}return I}else{var U=W,b=V.indexOf(U[0]),Y=V.indexOf(U[1]);return b!==-1&&Y!==-1?[R(V,b,Y),R(V,Y,b)]:!1}}function O(V){var W=V,I;for(I=0;I<W.length-1;I++)for(var b=0;b<I-1;b++)if(t(W[I],W[I+1],W[b],W[b+1]))return!1;for(I=1;I<W.length-2;I++)if(t(W[0],W[W.length-1],W[I],W[I+1]))return!1;return!0}function B(V,W,I,b,U){U=U||0;var Y=W[1]-V[1],$=V[0]-W[0],j=Y*V[0]+$*V[1],K=b[1]-I[1],J=I[0]-b[0],k=K*I[0]+J*I[1],_=Y*J-K*$;return X(_,0,U)?[0,0]:[(J*j-$*k)/_,(Y*k-K*j)/_]}function N(V,W,I,b,U,Y,$){Y=Y||100,$=$||0,U=U||25,W=typeof W<"u"?W:[],I=I||[],b=b||[];var j=[0,0],K=[0,0],J=[0,0],k=0,_=0,et=0,nt=0,it=0,ot=0,ft=0,pt=[],mt=[],rt=V,dt=V;if(dt.length<3)return W;if($++,$>Y)return console.warn("quickDecomp: max level ("+Y+") reached."),W;for(var ct=0;ct<V.length;++ct)if(y(rt,ct)){I.push(rt[ct]),k=_=Number.MAX_VALUE;for(var Pt=0;Pt<V.length;++Pt)m(h(rt,ct-1),h(rt,ct),h(rt,Pt))&&a(h(rt,ct-1),h(rt,ct),h(rt,Pt-1))&&(J=B(h(rt,ct-1),h(rt,ct),h(rt,Pt),h(rt,Pt-1)),s(h(rt,ct+1),h(rt,ct),J)&&(et=n(rt[ct],J),et<_&&(_=et,K=J,ot=Pt))),m(h(rt,ct+1),h(rt,ct),h(rt,Pt+1))&&a(h(rt,ct+1),h(rt,ct),h(rt,Pt))&&(J=B(h(rt,ct+1),h(rt,ct),h(rt,Pt),h(rt,Pt+1)),m(h(rt,ct-1),h(rt,ct),J)&&(et=n(rt[ct],J),et<k&&(k=et,j=J,it=Pt)));if(ot===(it+1)%V.length)J[0]=(K[0]+j[0])/2,J[1]=(K[1]+j[1])/2,b.push(J),ct<it?(c(pt,rt,ct,it+1),pt.push(J),mt.push(J),ot!==0&&c(mt,rt,ot,rt.length),c(mt,rt,0,ct+1)):(ct!==0&&c(pt,rt,ct,rt.length),c(pt,rt,0,it+1),pt.push(J),mt.push(J),c(mt,rt,ot,ct+1));else{if(ot>it&&(it+=V.length),nt=Number.MAX_VALUE,it<ot)return W;for(var Pt=ot;Pt<=it;++Pt)l(h(rt,ct-1),h(rt,ct),h(rt,Pt))&&a(h(rt,ct+1),h(rt,ct),h(rt,Pt))&&(et=n(h(rt,ct),h(rt,Pt)),et<nt&&w(rt,ct,Pt)&&(nt=et,ft=Pt%V.length));ct<ft?(c(pt,rt,ct,ft+1),ft!==0&&c(mt,rt,ft,dt.length),c(mt,rt,0,ct+1)):(ct!==0&&c(pt,rt,ct,dt.length),c(pt,rt,0,ft+1),c(mt,rt,ft,ct+1))}return pt.length<mt.length?(N(pt,W,I,b,U,Y,$),N(mt,W,I,b,U,Y,$)):(N(mt,W,I,b,U,Y,$),N(pt,W,I,b,U,Y,$)),W}return W.push(V),W}function G(V,W){for(var I=0,b=V.length-1;V.length>3&&b>=0;--b)d(h(V,b-1),h(V,b),h(V,b+1),W)&&(V.splice(b%V.length,1),I++);return I}function z(V,W){for(var I=V.length-1;I>=1;--I)for(var b=V[I],U=I-1;U>=0;--U)if(H(b,V[U],W)){V.splice(I,1);continue}}function X(V,W,I){return I=I||0,Math.abs(V-W)<=I}function H(V,W,I){return X(V[0],W[0],I)&&X(V[1],W[1],I)}},52018:(p,T,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=t(83419),m=new u({initialize:function(s){this.pluginManager=s,this.game=s.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=m},42363:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=T},37277:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},t={},u={};u.register=function(m,l,s,a){a===void 0&&(a=!1),T[m]={plugin:l,mapping:s,custom:a}},u.registerCustom=function(m,l,s,a){t[m]={plugin:l,mapping:s,data:a}},u.hasCore=function(m){return T.hasOwnProperty(m)},u.hasCustom=function(m){return t.hasOwnProperty(m)},u.getCore=function(m){return T[m]},u.getCustom=function(m){return t[m]},u.getCustomClass=function(m){return t.hasOwnProperty(m)?t[m].plugin:null},u.remove=function(m){T.hasOwnProperty(m)&&delete T[m]},u.removeCustom=function(m){t.hasOwnProperty(m)&&delete t[m]},u.destroyCorePlugins=function(){for(var m in T)T.hasOwnProperty(m)&&delete T[m]},u.destroyCustomPlugins=function(){for(var m in t)t.hasOwnProperty(m)&&delete t[m]},p.exports=u},77332:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(8443),l=t(50792),s=t(74099),a=t(44603),e=t(39429),r=t(95540),d=t(37277),n=t(72905),h=new u({Extends:l,initialize:function(c){l.call(this),this.game=c,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],c.isBooted?this.boot():c.events.once(m.BOOT,this.boot,this)},boot:function(){var f,c,v,g,y,C,S,P=this.game.config,w=P.installGlobalPlugins;for(w=w.concat(this._pendingGlobal),f=0;f<w.length;f++)c=w[f],v=r(c,"key",null),g=r(c,"plugin",null),y=r(c,"start",!1),C=r(c,"mapping",null),S=r(c,"data",null),v&&(g?this.install(v,g,y,C,S):console.warn("Missing `plugin` for key: "+v));for(w=P.installScenePlugins,w=w.concat(this._pendingScene),f=0;f<w.length;f++)c=w[f],v=r(c,"key",null),g=r(c,"plugin",null),C=r(c,"mapping",null),v&&(g?this.installScenePlugin(v,g,C):console.warn("Missing `plugin` for key: "+v));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(f,c,v){var g,y,C,S=this.game,P=f.scene,w=f.settings.map,R=f.settings.isBooted;for(g=0;g<c.length;g++)y=c[g],S[y]?(f[y]=S[y],w.hasOwnProperty(y)&&(P[w[y]]=f[y])):y==="game"&&w.hasOwnProperty(y)&&(P[w[y]]=S);for(var L=0;L<v.length;L++)for(C=v[L],g=0;g<C.length;g++)if(y=C[g],!!d.hasCore(y)){var D=d.getCore(y),F=D.mapping,O=new D.plugin(P,this,F);f[F]=O,D.custom?P[F]=O:w.hasOwnProperty(F)&&(P[w[F]]=O),R&&O.boot()}for(C=this.plugins,g=0;g<C.length;g++){var B=C[g];B.mapping&&(P[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,c,v,g,y){if(y===void 0&&(y=!1),typeof c!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(d.hasCore(f)||d.register(f,c,v,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!y&&d.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(g){var C=new c(g,this,f);g.sys[f]=C,v&&v!==""&&(g[v]=C),C.boot()}},install:function(f,c,v,g,y){if(v===void 0&&(v=!1),g===void 0&&(g=null),y===void 0&&(y=null),typeof c!="function")return console.warn("Invalid Plugin: "+f),null;if(d.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(g!==null&&(v=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:c,start:v,mapping:g,data:y});else if(d.registerCustom(f,c,g,y),v)return this.start(f);return null},getIndex:function(f){for(var c=this.plugins,v=0;v<c.length;v++){var g=c[v];if(g.key===f)return v}return-1},getEntry:function(f){var c=this.getIndex(f);if(c!==-1)return this.plugins[c]},isActive:function(f){var c=this.getEntry(f);return c&&c.active},start:function(f,c){c===void 0&&(c=f);var v=this.getEntry(c);return v&&!v.active?(v.active=!0,v.plugin.start()):v||(v=this.createEntry(f,c)),v?v.plugin:null},createEntry:function(f,c){var v=d.getCustom(f);if(v){var g=new v.plugin(this);v={key:c,plugin:g,active:!0,mapping:v.mapping,data:v.data},this.plugins.push(v),g.init(v.data),g.start()}return v},stop:function(f){var c=this.getEntry(f);return c&&c.active&&(c.active=!1,c.plugin.stop()),this},get:function(f,c){c===void 0&&(c=!0);var v=this.getEntry(f);if(v)return v.plugin;var g=this.getClass(f);return g&&c?(v=this.createEntry(f,f),v?v.plugin:null):g||null},getClass:function(f){return d.getCustomClass(f)},removeGlobalPlugin:function(f){var c=this.getEntry(f);c&&n(this.plugins,c),d.removeCustom(f)},removeScenePlugin:function(f){n(this.scenePlugins,f),d.remove(f)},registerGameObject:function(f,c,v){return c&&e.register(f,c),v&&a.register(f,v),this},removeGameObject:function(f,c,v){return c===void 0&&(c=!0),v===void 0&&(v=!0),c&&e.remove(f),v&&a.remove(f),this},registerFileType:function(f,c,v){s.register(f,c),v&&v.sys.load&&(v.sys.load[f]=c)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();d.destroyCustomPlugins(),this.game.noReturn&&d.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=h},45145:(p,T,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var u=t(52018),m=t(83419),l=t(44594),s=new m({Extends:u,initialize:function(e,r,d){u.call(this,r),this.scene=e,this.systems=e.sys,this.pluginKey=d,e.sys.events.once(l.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=s},18922:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const T=performance.now(),t=this.getVideoPlaybackQuality(),u=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,m=(l,s)=>{const a=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames;if(e>u){const r=this.mozFrameDelay||a.totalFrameDelay-t.totalFrameDelay||0,d=s-l;p(s,{presentationTime:s+r*1e3,expectedDisplayTime:s+d,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+d/1e3,presentedFrames:e,processingDuration:r}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(r=>m(s,r))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(l=>m(T,l)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},10312:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=T},68627:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19715),m=t(32880),l=t(83419),s=t(8054),a=t(50792),e=t(92503),r=t(56373),d=t(97480),n=t(69442),h=t(61340),f=new l({Extends:a,initialize:function(v){a.call(this);var g=v.config;this.config={clearBeforeRender:g.clearBeforeRender,backgroundColor:g.backgroundColor,antialias:g.antialias,roundPixels:g.roundPixels},this.game=v,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=v.canvas;var y={alpha:v.config.transparent,desynchronized:v.config.desynchronized,willReadFrequently:!1};this.gameContext=g.context?g.context:this.gameCanvas.getContext("2d",y),this.currentContext=this.gameContext,this.antialias=v.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(n.READY,this.boot,this)},boot:function(){var c=this.game,v=c.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,c.scale.on(d.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(c,v){(v.width!==this.width||v.height!==this.height)&&this.resize(v.width,v.height)},resize:function(c,v){this.width=c,this.height=v,this.emit(e.RESIZE,c,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(c){return this.currentContext.globalCompositeOperation=c,this},setContext:function(c){return this.currentContext=c||this.gameContext,this},setAlpha:function(c){return this.currentContext.globalAlpha=c,this},preRender:function(){var c=this.gameContext,v=this.config,g=this.width,y=this.height;c.globalAlpha=1,c.globalCompositeOperation="source-over",c.setTransform(1,0,0,1,0,0),v.clearBeforeRender&&(c.clearRect(0,0,g,y),v.transparent||(c.fillStyle=v.backgroundColor.rgba,c.fillRect(0,0,g,y))),c.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(c,v,g){var y=v.length;this.emit(e.RENDER,c,g);var C=g.x,S=g.y,P=g.width,w=g.height,R=g.renderToTexture?g.context:c.sys.context;R.save(),this.game.scene.customViewports&&(R.beginPath(),R.rect(C,S,P,w),R.clip()),g.emit(u.PRE_RENDER,g),this.currentContext=R;var L=g.mask;L&&L.preRenderCanvas(this,null,g._maskCamera),g.transparent||(R.fillStyle=g.backgroundColor.rgba,R.fillRect(C,S,P,w)),R.globalAlpha=g.alpha,R.globalCompositeOperation="source-over",this.drawCount+=y,g.renderToTexture&&g.emit(u.PRE_RENDER,g),g.matrix.copyToContext(R);for(var D=0;D<y;D++){var F=v[D];F.mask&&F.mask.preRenderCanvas(this,F,g),F.renderCanvas(this,F,g),F.mask&&F.mask.postRenderCanvas(this,F,g)}R.setTransform(1,0,0,1,0,0),R.globalCompositeOperation="source-over",R.globalAlpha=1,g.flashEffect.postRenderCanvas(R),g.fadeEffect.postRenderCanvas(R),g.dirty=!1,L&&L.postRenderCanvas(this),R.restore(),g.renderToTexture&&(g.emit(u.POST_RENDER,g),g.renderToGame&&c.sys.context.drawImage(g.canvas,C,S)),g.emit(u.POST_RENDER,g)},postRender:function(){var c=this.gameContext;c.restore(),this.emit(e.POST_RENDER);var v=this.snapshotState;v.callback&&(m(this.gameCanvas,v),v.callback=null)},snapshotCanvas:function(c,v,g,y,C,S,P,w,R){g===void 0&&(g=!1),this.snapshotArea(y,C,S,P,v,w,R);var L=this.snapshotState;return L.getPixel=g,m(c,L),L.callback=null,this},snapshot:function(c,v,g){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,c,v,g)},snapshotArea:function(c,v,g,y,C,S,P){var w=this.snapshotState;return w.callback=C,w.type=S,w.encoder=P,w.getPixel=!1,w.x=c,w.y=v,w.width=Math.min(g,this.gameCanvas.width),w.height=Math.min(y,this.gameCanvas.height),this},snapshotPixel:function(c,v,g){return this.snapshotArea(c,v,1,1,g),this.snapshotState.getPixel=!0,this},batchSprite:function(c,v,g,y){var C=g.alpha*c.alpha;if(C!==0){var S=this.currentContext,P=this._tempMatrix1,w=this._tempMatrix2,R=v.canvasData,L=R.x,D=R.y,F=v.cutWidth,O=v.cutHeight,B=v.customPivot,N=v.source.resolution,G=c.displayOriginX,z=c.displayOriginY,X=-G+v.x,H=-z+v.y;if(c.isCropped){var V=c._crop;(V.flipX!==c.flipX||V.flipY!==c.flipY)&&v.updateCropUVs(V,c.flipX,c.flipY),F=V.cw,O=V.ch,L=V.cx,D=V.cy,X=-G+V.x,H=-z+V.y,c.flipX&&(X>=0?X=-(X+F):X<0&&(X=Math.abs(X)-F)),c.flipY&&(H>=0?H=-(H+O):H<0&&(H=Math.abs(H)-O))}var W=1,I=1;c.flipX&&(B||(X+=-v.realWidth+G*2),W=-1),c.flipY&&(B||(H+=-v.realHeight+z*2),I=-1);var b=c.x,U=c.y;w.applyITRS(b,U,c.rotation,c.scaleX*W,c.scaleY*I),P.copyFrom(g.matrix),y?(P.multiplyWithOffset(y,-g.scrollX*c.scrollFactorX,-g.scrollY*c.scrollFactorY),w.e=b,w.f=U):(w.e-=g.scrollX*c.scrollFactorX,w.f-=g.scrollY*c.scrollFactorY),P.multiply(w),g.roundPixels&&(P.e=Math.round(P.e),P.f=Math.round(P.f)),S.save(),P.setToContext(S),S.globalCompositeOperation=this.blendModes[c.blendMode],S.globalAlpha=C,S.imageSmoothingEnabled=!v.source.scaleMode,c.mask&&c.mask.preRenderCanvas(this,c,g),F>0&&O>0&&(g.roundPixels?S.drawImage(v.source.image,L,D,F,O,Math.round(X),Math.round(H),Math.round(F/N),Math.round(O/N)):S.drawImage(v.source.image,L,D,F,O,X,H,F/N,O/N)),c.mask&&c.mask.postRenderCanvas(this,c,g),S.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=f},55830:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10312),m=t(89289),l=function(){var s=[],a=m.supportNewBlendModes,e="source-over";return s[u.NORMAL]=e,s[u.ADD]="lighter",s[u.MULTIPLY]=a?"multiply":e,s[u.SCREEN]=a?"screen":e,s[u.OVERLAY]=a?"overlay":e,s[u.DARKEN]=a?"darken":e,s[u.LIGHTEN]=a?"lighten":e,s[u.COLOR_DODGE]=a?"color-dodge":e,s[u.COLOR_BURN]=a?"color-burn":e,s[u.HARD_LIGHT]=a?"hard-light":e,s[u.SOFT_LIGHT]=a?"soft-light":e,s[u.DIFFERENCE]=a?"difference":e,s[u.EXCLUSION]=a?"exclusion":e,s[u.HUE]=a?"hue":e,s[u.SATURATION]=a?"saturation":e,s[u.COLOR]=a?"color":e,s[u.LUMINOSITY]=a?"luminosity":e,s[u.ERASE]="destination-out",s[u.SOURCE_IN]="source-in",s[u.SOURCE_OUT]="source-out",s[u.SOURCE_ATOP]="source-atop",s[u.DESTINATION_OVER]="destination-over",s[u.DESTINATION_IN]="destination-in",s[u.DESTINATION_OUT]="destination-out",s[u.DESTINATION_ATOP]="destination-atop",s[u.LIGHTER]="lighter",s[u.COPY]="copy",s[u.XOR]="xor",s};p.exports=l},20926:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91296),m=function(l,s,a,e,r){var d=e.alpha*a.alpha;if(d<=0)return!1;var n=u(a,e,r).calc;return s.globalCompositeOperation=l.blendModes[a.blendMode],s.globalAlpha=d,s.save(),n.setToContext(s),s.imageSmoothingEnabled=a.frame?!a.frame.source.scaleMode:l.antialias,!0};p.exports=m},63899:p=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="losewebgl"},6119:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},48070:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},15640:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},8912:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},87124:p=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="restorewebgl"},92503:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(92503),Snapshot:t(89966)},p.exports.Canvas=t(55830),p.exports.WebGL=t(4159)},32880:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27919),m=t(40987),l=t(95540),s=function(a,e){var r=l(e,"callback"),d=l(e,"type","image/png"),n=l(e,"encoder",.92),h=Math.abs(Math.round(l(e,"x",0))),f=Math.abs(Math.round(l(e,"y",0))),c=Math.floor(l(e,"width",a.width)),v=Math.floor(l(e,"height",a.height)),g=l(e,"getPixel",!1);if(g){var y=a.getContext("2d",{willReadFrequently:!1}),C=y.getImageData(h,f,1,1),S=C.data;r.call(null,new m(S[0],S[1],S[2],S[3]))}else if(h!==0||f!==0||c!==a.width||v!==a.height){var P=u.createWebGL(this,c,v),w=P.getContext("2d",{willReadFrequently:!0});c>0&&v>0&&w.drawImage(a,h,f,c,v,0,0,c,v);var R=new Image;R.onerror=function(){r.call(null),u.remove(P)},R.onload=function(){r.call(null,R),u.remove(P)},R.src=P.toDataURL(d,n)}else{var L=new Image;L.onerror=function(){r.call(null)},L.onload=function(){r.call(null,L)},L.src=a.toDataURL(d,n)}};p.exports=s},88815:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27919),m=t(40987),l=t(95540),s=function(a,e){var r=a,d=l(e,"callback"),n=l(e,"type","image/png"),h=l(e,"encoder",.92),f=Math.abs(Math.round(l(e,"x",0))),c=Math.abs(Math.round(l(e,"y",0))),v=l(e,"getPixel",!1),g=l(e,"isFramebuffer",!1),y=g?l(e,"bufferWidth",1):r.drawingBufferWidth,C=g?l(e,"bufferHeight",1):r.drawingBufferHeight;if(v){var S=new Uint8Array(4),P=g?c:C-c;r.readPixels(f,P,1,1,r.RGBA,r.UNSIGNED_BYTE,S),d.call(null,new m(S[0],S[1],S[2],S[3]))}else{var w=Math.floor(l(e,"width",y)),R=Math.floor(l(e,"height",C)),L=w*R*4,D=new Uint8Array(L);r.readPixels(f,C-c-R,w,R,r.RGBA,r.UNSIGNED_BYTE,D);for(var F=u.createWebGL(this,w,R),O=F.getContext("2d",{willReadFrequently:!0}),B=O.getImageData(0,0,w,R),N=B.data,G=0;G<R;G++)for(var z=0;z<w;z++){var X=((R-G-1)*w+z)*4,H=g?L-(G*w+(w-z))*4:(G*w+z)*4;N[H+0]=D[X+0],N[H+1]=D[X+1],N[H+2]=D[X+2],N[H+3]=D[X+3]}O.putImageData(B,0,0);var V=new Image;V.onerror=function(){d.call(null),u.remove(F)},V.onload=function(){d.call(null,V),u.remove(F)},V.src=F.toDataURL(n,h)}};p.exports=s},89966:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(36060),l=t(90330),s=t(82264),a=t(95540),e=t(32302),r=t(63448),d=t(31302),n=t(58918),h=t(14811),f=t(92651),c=t(96569),v=t(56527),g=t(57516),y=t(43439),C=t(81041),S=t(12385),P=t(7589),w=t(95428),R=t(72905),L=new u({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new l([[m.UTILITY_PIPELINE,P],[m.MULTI_PIPELINE,g],[m.BITMAPMASK_PIPELINE,d],[m.SINGLE_PIPELINE,S],[m.ROPE_PIPELINE,C],[m.LIGHT_PIPELINE,c],[m.POINTLIGHT_PIPELINE,y],[m.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new l,this.pipelines=new l,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,F,O){var B=this.renderer,N=this.renderTargets;this.frameInc=Math.floor(a(D,"frameInc",32));var G=B.width,z=B.height,X=this.game.config.disablePreFX,H=this.game.config.disablePostFX;if(H||this.postPipelineClasses.setAll([[String(h.BARREL),n.Barrel],[String(h.BLOOM),n.Bloom],[String(h.BLUR),n.Blur],[String(h.BOKEH),n.Bokeh],[String(h.CIRCLE),n.Circle],[String(h.COLOR_MATRIX),n.ColorMatrix],[String(h.DISPLACEMENT),n.Displacement],[String(h.GLOW),n.Glow],[String(h.GRADIENT),n.Gradient],[String(h.PIXELATE),n.Pixelate],[String(h.SHADOW),n.Shadow],[String(h.SHINE),n.Shine],[String(h.VIGNETTE),n.Vignette],[String(h.WIPE),n.Wipe]]),!X){this.classes.set(m.FX_PIPELINE,f);for(var V=Math.min(G,z),W=Math.ceil(V/this.frameInc),I=1;I<W;I++){var b=I*this.frameInc;N.push(new e(B,b,b)),N.push(new e(B,b,b)),N.push(new e(B,b,b)),this.maxDimension=b}N.push(new e(B,G,z,1,0,!0,!0)),N.push(new e(B,G,z,1,0,!0,!0)),N.push(new e(B,G,z,1,0,!0,!0))}var U,Y,$=this,j=this.game;if(this.classes.each(function(J,k){U=$.add(J,new k({game:j})),J===m.UTILITY_PIPELINE&&($.UTILITY_PIPELINE=U,$.fullFrame1=U.fullFrame1,$.fullFrame2=U.fullFrame2,$.halfFrame1=U.halfFrame1,$.halfFrame2=U.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE),X||(this.FX_PIPELINE=this.get(m.FX_PIPELINE)),D)for(Y in D){var K=D[Y];U=new K(j),U.name=Y,U.isPostFX?this.postPipelineClasses.set(Y,K):this.has(Y)||(this.classes.set(Y,K),this.add(Y,U))}this.default=this.get(F),O&&!s.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var F=this.get(D);return F&&(this.default=F),F},add:function(D,F){if(F.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var O=this.pipelines,B=this.renderer;return O.has(D)?console.warn("Pipeline exists: "+D):(F.name=D,F.manager=this,O.set(D,F)),F.hasBooted||F.boot(),B.width!==0&&B.height!==0&&!F.isPreFX&&F.resize(B.width,B.height),F},addPostPipeline:function(D,F){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,F)},flush:function(){this.current&&this.current.flush()},has:function(D){var F=this.pipelines;return typeof D=="string"?F.has(D):!!F.contains(D)},get:function(D){var F=this.pipelines;if(typeof D=="string")return F.get(D);if(F.contains(D))return D},getPostPipeline:function(D,F,O){var B=this.postPipelineClasses,N,G="",z=typeof D;if(z==="string"||z==="number"?(N=B.get(D),G=D):z==="function"?(B.contains(D)&&(N=D),G=D.name):z==="object"&&(N=B.get(D.name),G=D.name),N){var X=new N(this.game,O);return X.name=G,F&&(X.gameObject=F),this.postPipelineInstances.push(X),X}},removePostPipeline:function(D){R(this.postPipelineInstances,D)},remove:function(D,F,O){F===void 0&&(F=!0),O===void 0&&(O=!0),this.pipelines.delete(D),F&&this.classes.delete(D),O&&this.postPipelineClasses.delete(D)},set:function(D,F,O){if(!D.isPostFX)return this.isCurrent(D,O)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind(O)),D.updateProjectionMatrix(),D.onBind(F),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,O=F.length-1;O>=0;O--){var B=F[O];B.active&&B.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,O=0;O<F.length;O++){var B=F[O];B.active&&B.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,O=F.length-1;O>=0;O--){var B=F[O];B.active&&B.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,O=0;O<F.length;O++){var B=F[O];B.active&&B.postBatch(D)}}},isCurrent:function(D,F){var O=this.renderer,B=this.current;return B&&!F&&(F=B.currentShader),!(B!==D||F.program!==O.currentProgram)},copyFrame:function(D,F,O,B,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,F,O,B,N),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,F,O,B){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,F,O,B),this},blendFrames:function(D,F,O,B,N){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,F,O,B,N),this},blendFramesAdditive:function(D,F,O,B,N){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,F,O,B,N),this},clearFrame:function(D,F){return this.UTILITY_PIPELINE.clearFrame(D,F),this},blitFrame:function(D,F,O,B,N,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,F,O,B,N,G),this},copyFrameRect:function(D,F,O,B,N,G,z,X){return this.UTILITY_PIPELINE.copyFrameRect(D,F,O,B,N,G,z,X),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,F){F.restoreContext()}),w(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var F=this.renderer,O=F.gl;O.disable(O.DEPTH_TEST),O.disable(O.CULL_FACE),F.hasActiveStencilMask()?O.clear(O.DEPTH_BUFFER_BIT):(O.disable(O.STENCIL_TEST),O.clear(O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)),O.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var B=F.vaoExtension;B&&B.bindVertexArrayOES(null);var N=this.pipelines.entries;for(var G in N)N[G].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var F=D.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(D){var F=this.renderTargets,O=3;if(D>this.maxDimension)return this.targetIndex=F.length-O,F[this.targetIndex];var B=(r(D,this.frameInc,0,!0)-1)*O;return this.targetIndex=B,F[B]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=L},32302:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(92503),l=new u({initialize:function(a,e,r,d,n,h,f,c,v){d===void 0&&(d=1),n===void 0&&(n=0),h===void 0&&(h=!0),f===void 0&&(f=!1),c===void 0&&(c=!0),v===void 0&&(v=!0),this.renderer=a,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=d,this.minFilter=n,this.autoClear=h,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=v,this.resize(e,r),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,a){if(s=Math.round(s*this.scale),a=Math.round(a*this.scale),s<=0&&(s=1),a<=0&&(a=1),this.autoResize&&(s!==this.width||a!==this.height)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,s,a,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(s,a,this.texture,this.hasDepthBuffer),this.width=s,this.height=a}return this},willResize:function(s,a){return s=Math.round(s*this.scale),a=Math.round(a*this.scale),s<=0&&(s=1),a<=0&&(a=1),s!==this.width||a!==this.height},bind:function(s,a,e){s===void 0&&(s=!1);var r=this.renderer;if(s&&r.flush(),a&&e&&this.resize(a,e),r.pushFramebuffer(this.framebuffer,!1,!1),s&&this.adjustViewport(),this.autoClear){var d=this.renderer.gl;d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT)}r.clearStencilMask()},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(){var s=this.renderer,a=s.gl;s.pushFramebuffer(this.framebuffer),a.disable(a.SCISSOR_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),s.popFramebuffer(),s.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var a=this.renderer;return s&&a.flush(),a.popFramebuffer()},destroy:function(){var s=this.renderer;s.off(m.RESIZE,this.resize,this),s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=l},70554:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(T,t,u,m){var l=(T*255|0)&255,s=(t*255|0)&255,a=(u*255|0)&255,e=(m*255|0)&255;return(e<<24|l<<16|s<<8|a)>>>0},getTintAppendFloatAlpha:function(T,t){var u=(t*255|0)&255;return(u<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,t){var u=(T>>16|0)&255,m=(T>>8|0)&255,l=(T|0)&255,s=(t*255|0)&255;return(s<<24|l<<16|m<<8|u)>>>0},getFloatsFromUintRGB:function(T){var t=(T>>16|0)&255,u=(T>>8|0)&255,m=(T|0)&255;return[t/255,u/255,m/255]},checkShaderMax:function(T,t){var u=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?u:Math.min(u,t)},parseFragmentShaderMaxTextures:function(T,t){if(!T)return"";for(var u="",m=0;m<t;m++)m>0&&(u+=`
	else `),m<t-1&&(u+="if (outTexId < "+m+".5)"),u+=`
	{`,u+=`
		texture = texture2D(uMainSampler[`+m+"], outTexCoord);",u+=`
	}`;return T=T.replace(/%count%/gi,t.toString()),T.replace(/%forloop%/gi,u)},setGlowQuality:function(T,t,u,m){return u===void 0&&(u=t.config.glowFXQuality),m===void 0&&(m=t.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/u/m).toFixed(7)),T=T.replace(/__DIST__/gi,m.toFixed(0)+".0"),T}}},29100:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(62644),l=t(50792),s=t(77085),a=t(95540),e=t(37867),r=t(92503),d=t(32302),n=t(70554),h=t(38683),f=new u({Extends:l,initialize:function(v){l.call(this);var g=v.game,y=g.renderer,C=y.gl;this.name=a(v,"name","WebGLPipeline"),this.game=g,this.renderer=y,this.manager,this.gl=C,this.view=g.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=a(v,"topology",C.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=a(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=a(v,"resizeUniform","")},boot:function(){var c,v=this.gl,g=this.config,y=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var C=this.renderTargets,S=a(g,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var P=y.width,w=y.height;if(typeof S=="number")for(c=0;c<S;c++)C.push(new d(y,P,w,1,0,!0));else if(Array.isArray(S))for(c=0;c<S.length;c++){var R=a(S[c],"scale",1),L=a(S[c],"minFilter",0),D=a(S[c],"autoClear",1),F=a(S[c],"autoResize",!1),O=a(S[c],"width",null),B=a(S[c],"height",O);O?C.push(new d(y,O,B,1,L,D,F)):C.push(new d(y,P,w,R,L,D,F))}C.length&&(this.currentRenderTarget=C[0]),this.setShadersFromConfig(g);var N=this.shaders,G=0;for(c=0;c<N.length;c++)N[c].vertexSize>G&&(G=N[c].vertexSize);var z=a(g,"batchSize",y.config.batchSize);this.vertexCapacity=z*6;var X=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=X,this.bytes=new Uint8Array(X),this.vertexViewF32=new Float32Array(X),this.vertexViewU32=new Uint32Array(X);var H=a(g,"vertices",null);for(H?(this.vertexViewF32.set(H),this.vertexBuffer=y.createVertexBuffer(X,v.STATIC_DRAW)):this.vertexBuffer=y.createVertexBuffer(X.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),c=N.length-1;c>=0;c--)N[c].rebind();this.hasBooted=!0,y.on(r.RESIZE,this.resize,this),y.on(r.PRE_RENDER,this.onPreRender,this),y.on(r.RENDER,this.onRender,this),y.on(r.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,v,g){var y=this.renderer;if(c!==this.currentShader||y.currentProgram!==this.currentShader.program){this.flush();var C=this.setVertexBuffer(g);C&&!v&&(v=!0),c.bind(v,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var v=this.shaders,g=0;g<v.length;g++)if(v[g].name===c)return v[g]},setShadersFromConfig:function(c){var v,g=this.shaders,y=this.renderer;for(v=0;v<g.length;v++)g[v].destroy();var C="vertShader",S="fragShader",P="attributes",w=a(c,C,null),R=n.parseFragmentShaderMaxTextures(a(c,S,null),y.maxTextures),L=a(c,P,null),D=a(c,"shaders",[]),F=D.length;if(F===0)w&&R&&(this.shaders=[new h(this,"default",w,R,m(L))]);else{var O=[];for(v=0;v<F;v++){var B=D[v],N,G,z,X;if(typeof B=="string"?(N="default",G=w,z=n.parseFragmentShaderMaxTextures(B,y.maxTextures),X=L):(N=a(B,"name","default"),G=a(B,C,w),z=n.parseFragmentShaderMaxTextures(a(B,S,R),y.maxTextures),X=a(B,P,L)),N==="default"){var H=z.split(`
`),V=H[0].trim();V.indexOf("#define SHADER_NAME")>-1&&(N=V.substring(20))}G&&z&&O.push(new h(this,N,G,z,m(X)))}this.shaders=O}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var v=this.currentBatch;v&&(v.texture.push(c),v.unit++,v.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var v=this.currentBatch,g=v.texture.indexOf(c);return g===-1?v.texture.length===this.renderer.maxTextures?this.createBatch(c):(v.unit++,v.maxUnit++,v.texture.push(c),this.currentUnit=v.unit,this.currentTexture=c,v.unit):(this.currentUnit=g,this.currentTexture=c,g)},setGameObject:function(c,v){return v===void 0&&(v=c.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,v){(c!==this.width||v!==this.height)&&this.flush(),this.width=c,this.height=v;for(var g=this.renderTargets,y=0;y<g.length;y++)g[y].resize(c,v);return this.setProjectionMatrix(c,v),this.resizeUniform&&this.set2f(this.resizeUniform,c,v),this.emit(s.RESIZE,c,v,this),this.onResize(c,v),this},setProjectionMatrix:function(c,v){var g=this.projectionMatrix;if(!g)return this;this.projectionWidth=c,this.projectionHeight=v,g.ortho(0,c,v,0,-1e3,1e3);for(var y=this.shaders,C="uProjectionMatrix",S=0;S<y.length;S++){var P=y[S];P.hasUniform(C)&&(P.resetUniform(C),P.setMatrix4fv(C,!1,g.val,P))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var v=this.projectionMatrix;if(!v)return this;var g=this.projectionWidth,y=this.projectionHeight;c?v.ortho(0,g,0,y,-1e3,1e3):v.ortho(0,g,y,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==v)&&this.setProjectionMatrix(c,v)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var v=!1,g=this.gl;return g.getParameter(g.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(g.bindBuffer(g.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),c.bind(v),this.currentShader=c,this.activeTextures.length=0,this.emit(s.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,g=v.length-1;g>=0;g--){var y=v[g].rebind();(!c||y===c)&&(this.currentShader=y)}return this.activeTextures.length=0,this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var c=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var g=0;g<c.length;g++){var y=c[g];y.syncUniforms(),v&&y.rebind()}},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var v=this.gl;return this.gl.bindBuffer(v.ARRAY_BUFFER,c.webGLBuffer),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(s.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var v=this.gl,g=this.vertexCount,y=this.currentShader.vertexSize,C=this.topology;if(this.active){this.setVertexBuffer(),g===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,g*y));var S,P,w,R=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||v.activeTexture(v.TEXTURE0),S=0;S<R.length;S++)P=R[S],w=P.texture[0],L[0]!==w&&(v.bindTexture(v.TEXTURE_2D,w.webGLTexture),L[0]=w),v.drawArrays(C,P.start,P.count);else for(S=0;S<R.length;S++){P=R[S];for(var D=0;D<=P.maxUnit;D++)w=P.texture[D],L[D]!==w&&(v.activeTexture(v.TEXTURE0+D),v.bindTexture(v.TEXTURE_2D,w.webGLTexture),L[D]=w);v.drawArrays(C,P.start,P.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(s.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,v,g,y,C,S,P){var w=this.vertexViewF32,R=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;w[++L]=c,w[++L]=v,w[++L]=g,w[++L]=y,w[++L]=C,w[++L]=S,R[++L]=P,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,v,g,y,C,S,P,w,R,L,D,F,O,B,N,G,z,X,H,V){V===void 0&&(V=this.currentUnit);var W=!1;this.shouldFlush(6)&&(this.flush(),W=!0),this.currentBatch||(V=this.setTexture2D(H));var I=this.vertexViewF32,b=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return I[++U]=v,I[++U]=g,I[++U]=L,I[++U]=D,I[++U]=V,I[++U]=X,b[++U]=B,I[++U]=y,I[++U]=C,I[++U]=L,I[++U]=O,I[++U]=V,I[++U]=X,b[++U]=G,I[++U]=S,I[++U]=P,I[++U]=F,I[++U]=O,I[++U]=V,I[++U]=X,b[++U]=z,I[++U]=v,I[++U]=g,I[++U]=L,I[++U]=D,I[++U]=V,I[++U]=X,b[++U]=B,I[++U]=S,I[++U]=P,I[++U]=F,I[++U]=O,I[++U]=V,I[++U]=X,b[++U]=z,I[++U]=w,I[++U]=R,I[++U]=F,I[++U]=D,I[++U]=V,I[++U]=X,b[++U]=N,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),W},batchTri:function(c,v,g,y,C,S,P,w,R,L,D,F,O,B,N,G,z){z===void 0&&(z=this.currentUnit);var X=!1;this.shouldFlush(3)&&(this.flush(),X=!0),this.currentBatch||(z=this.setTexture2D(G));var H=this.vertexViewF32,V=this.vertexViewU32,W=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++W]=v,H[++W]=g,H[++W]=w,H[++W]=R,H[++W]=z,H[++W]=N,V[++W]=F,H[++W]=y,H[++W]=C,H[++W]=w,H[++W]=D,H[++W]=z,H[++W]=N,V[++W]=O,H[++W]=S,H[++W]=P,H[++W]=L,H[++W]=D,H[++W]=z,H[++W]=N,V[++W]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),X},drawFillRect:function(c,v,g,y,C,S,P,w){P===void 0&&(P=this.renderer.whiteTexture),w===void 0&&(w=!0),c=Math.floor(c),v=Math.floor(v);var R=Math.floor(c+g),L=Math.floor(v+y),D=this.setTexture2D(P),F=n.getTintAppendFloatAlphaAndSwap(C,S),O=0,B=0,N=1,G=1;w&&(B=1,G=0),this.batchQuad(null,c,v,c,L,R,L,R,v,O,B,N,G,F,F,F,F,0,P,D)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,v){v===void 0&&(v=0);var g=this.gl;return g.activeTexture(g.TEXTURE0+v),g.bindTexture(g.TEXTURE_2D,c.webGLTexture),this},bindRenderTarget:function(c,v){return this.bindTexture(c.texture,v)},setTime:function(c,v){return this.set1f(c,this.game.loop.getDuration(),v),this},setBoolean:function(c,v,g){return g===void 0&&(g=this.currentShader),g.setBoolean(c,v),this},set1f:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set1f(c,v),this},set2f:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.set2f(c,v,g),this},set3f:function(c,v,g,y,C){return C===void 0&&(C=this.currentShader),C.set3f(c,v,g,y),this},set4f:function(c,v,g,y,C,S){return S===void 0&&(S=this.currentShader),S.set4f(c,v,g,y,C),this},set1fv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set1fv(c,v),this},set2fv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set2fv(c,v),this},set3fv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set3fv(c,v),this},set4fv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set4fv(c,v),this},set1iv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set1iv(c,v),this},set2iv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set2iv(c,v),this},set3iv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set3iv(c,v),this},set4iv:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set4iv(c,v),this},set1i:function(c,v,g){return g===void 0&&(g=this.currentShader),g.set1i(c,v),this},set2i:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.set2i(c,v,g),this},set3i:function(c,v,g,y,C){return C===void 0&&(C=this.currentShader),C.set3i(c,v,g,y),this},set4i:function(c,v,g,y,C,S){return S===void 0&&(S=this.currentShader),S.set4i(c,v,g,y,C),this},setMatrix2fv:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.setMatrix2fv(c,v,g),this},setMatrix3fv:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.setMatrix3fv(c,v,g),this},setMatrix4fv:function(c,v,g,y){return y===void 0&&(y=this.currentShader),y.setMatrix4fv(c,v,g),this},destroy:function(){this.emit(s.DESTROY,this);var c,v=this.shaders;for(c=0;c<v.length;c++)v[c].destroy();var g=this.renderTargets;for(c=0;c<g.length;c++)g[c].destroy();var y=this.renderer;return y.deleteBuffer(this.vertexBuffer),y.off(r.RESIZE,this.resize,this),y.off(r.PRE_RENDER,this.onPreRender,this),y.off(r.RENDER,this.onRender,this),y.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=f},74797:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95428),m=t(72905),l=t(19715),s=t(83419),a=t(8054),e=t(50792),r=t(92503),d=t(50030),n=t(37867),h=t(29747),f=t(7530),c=t(32302),v=t(97480),g=t(69442),y=t(70554),C=t(88815),S=t(26128),P=t(1482),w=t(82751),R=t(84387),L=t(93567),D=t(57183),F=new s({Extends:e,initialize:function(B){e.call(this);var N=B.config,G={alpha:N.transparent,desynchronized:N.desynchronized,depth:!0,antialias:N.antialiasGL,premultipliedAlpha:N.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:N.failIfMajorPerformanceCaveat,powerPreference:N.powerPreference,preserveDrawingBuffer:N.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:N.clearBeforeRender,antialias:N.antialias,backgroundColor:N.backgroundColor,contextCreation:G,roundPixels:N.roundPixels,maxTextures:N.maxTextures,maxTextureSize:N.maxTextureSize,batchSize:N.batchSize,maxLights:N.maxLights,mipmapFilter:N.mipmapFilter},this.game=B,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=B.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(O){var B,N=this.game,G=this.canvas,z=O.backgroundColor;if(N.config.context?B=N.config.context:B=G.getContext("webgl",O.contextCreation)||G.getContext("experimental-webgl",O.contextCreation),!B||B.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=B;var X=this,H=function(){var I=B.getSupportedExtensions();X.supportedExtensions=I;var b="ANGLE_instanced_arrays";X.instancedArraysExtension=I.indexOf(b)>-1?B.getExtension(b):null;var U="OES_vertex_array_object";X.vaoExtension=I.indexOf(U)>-1?B.getExtension(U):null};H(),this.contextLostHandler=function(I){X.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),X.emit(r.LOSE_WEBGL,X),I.preventDefault()},G.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(I){if(B.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}X.currentProgram=null,X.currentFramebuffer=null,X.setBlendMode(a.BlendModes.NORMAL),B.disable(B.BLEND),B.disable(B.DEPTH_TEST),B.enable(B.CULL_FACE),X.compression=X.getCompressedTextures();var b=function(U){U.createResource()};u(X.glTextureWrappers,b),u(X.glBufferWrappers,b),u(X.glFramebufferWrappers,b),u(X.glProgramWrappers,b),u(X.glAttribLocationWrappers,b),u(X.glUniformLocationWrappers,b),X.createTemporaryTextures(),X.pipelines.restoreContext(),X.resize(X.game.scale.baseSize.width,X.game.scale.baseSize.height),H(),X.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),X.emit(r.RESTORE_WEBGL,X),I.preventDefault()},G.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),N.context=B;for(var V=0;V<=27;V++)this.blendModes.push({func:[B.ONE,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_ADD});this.blendModes[1].func=[B.ONE,B.DST_ALPHA],this.blendModes[2].func=[B.DST_COLOR,B.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[B.ONE,B.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[B.ZERO,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_REVERSE_SUBTRACT},this.glFormats=[B.BYTE,B.SHORT,B.UNSIGNED_BYTE,B.UNSIGNED_SHORT,B.FLOAT],this.glFuncMap={mat2:{func:B.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:B.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:B.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:B.uniform1f,length:1},"1fv":{func:B.uniform1fv,length:1},"1i":{func:B.uniform1i,length:1},"1iv":{func:B.uniform1iv,length:1},"2f":{func:B.uniform2f,length:2},"2fv":{func:B.uniform2fv,length:1},"2i":{func:B.uniform2i,length:2},"2iv":{func:B.uniform2iv,length:1},"3f":{func:B.uniform3f,length:3},"3fv":{func:B.uniform3fv,length:1},"3i":{func:B.uniform3i,length:3},"3iv":{func:B.uniform3iv,length:1},"4f":{func:B.uniform4f,length:4},"4fv":{func:B.uniform4fv,length:1},"4i":{func:B.uniform4i,length:4},"4iv":{func:B.uniform4iv,length:1}},(!O.maxTextures||O.maxTextures===-1)&&(O.maxTextures=B.getParameter(B.MAX_TEXTURE_IMAGE_UNITS)),O.maxTextureSize||(O.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),B.enable(B.BLEND),B.clearColor(z.redGL,z.greenGL,z.blueGL,z.alphaGL);var W=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return W.indexOf(O.mipmapFilter)!==-1&&(this.mipmapFilter=B[O.mipmapFilter]),this.maxTextures=y.checkShaderMax(B,O.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new n().identity(),N.textures.once(g.READY,this.boot,this),this},boot:function(){var O=this.game,B=this.pipelines,N=O.scale.baseSize,G=N.width,z=N.height;this.width=G,this.height=z,this.isBooted=!0,this.renderTarget=new c(this,G,z,1,0,!0,!0),this.maskTarget=new c(this,G,z,1,0,!0,!0),this.maskSource=new c(this,G,z,1,0,!0,!0);var X=O.config;B.boot(X.pipeline,X.defaultPipeline,X.autoMobilePipeline),this.blankTexture=O.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=O.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=O.textures.getFrame("__WHITE").glTexture;var H=this.gl;H.bindFramebuffer(H.FRAMEBUFFER,null),H.enable(H.SCISSOR_TEST),O.scale.on(v.RESIZE,this.onResize,this),this.resize(G,z)},createTemporaryTextures:function(){for(var O=this.gl,B=0;B<this.maxTextures;B++){var N=O.createTexture();O.activeTexture(O.TEXTURE0+B),O.bindTexture(O.TEXTURE_2D,N),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,1,1,0,O.RGBA,O.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(B)}},captureFrame:function(O,B){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(O,B,N){},stopCapture:function(){},onCapture:function(O){},onResize:function(O,B){(B.width!==this.width||B.height!==this.height)&&this.resize(B.width,B.height)},beginCapture:function(O,B){O===void 0&&(O=this.width),B===void 0&&(B=this.height),this.renderTarget.bind(!0,O,B),this.setProjectionMatrix(O,B)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(O,B){var N=this.gl;return this.width=O,this.height=B,this.setProjectionMatrix(O,B),N.viewport(0,0,O,B),this.drawingBufferHeight=N.drawingBufferHeight,N.scissor(0,N.drawingBufferHeight-B,O,B),this.defaultScissor[2]=O,this.defaultScissor[3]=B,this.emit(r.RESIZE,O,B),this},getCompressedTextures:function(){var O="WEBGL_compressed_texture_",B="WEBKIT_"+O,N="EXT_texture_compression_",G=function(X,H){var V=X.getExtension(O+H)||X.getExtension(B+H)||X.getExtension(N+H);if(V){var W={};for(var I in V)W[V[I]]=I;return W}},z=this.gl;return{ETC:G(z,"etc"),ETC1:G(z,"etc1"),ATC:G(z,"atc"),ASTC:G(z,"astc"),BPTC:G(z,"bptc"),RGTC:G(z,"rgtc"),PVRTC:G(z,"pvrtc"),S3TC:G(z,"s3tc"),S3TCSRGB:G(z,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(O,B){var N=this.compression[O.toUpperCase()];if(B in N)return N[B]},supportsCompressedTexture:function(O,B){var N=this.compression[O.toUpperCase()];return N?B?B in N:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(O,B){return(O!==this.projectionWidth||B!==this.projectionHeight)&&(this.projectionWidth=O,this.projectionHeight=B,this.projectionMatrix.ortho(0,O,B,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(O){return this.supportedExtensions?this.supportedExtensions.indexOf(O):!1},getExtension:function(O){return this.hasExtension(O)?(O in this.extensions||(this.extensions[O]=this.gl.getExtension(O)),this.extensions[O]):null},flush:function(){this.pipelines.flush()},pushScissor:function(O,B,N,G,z){z===void 0&&(z=this.drawingBufferHeight);var X=this.scissorStack,H=[O,B,N,G];return X.push(H),this.setScissor(O,B,N,G,z),this.currentScissor=H,H},setScissor:function(O,B,N,G,z){z===void 0&&(z=this.drawingBufferHeight);var X=this.gl,H=this.currentScissor,V=N>0&&G>0;if(H&&V){var W=H[0],I=H[1],b=H[2],U=H[3];V=W!==O||I!==B||b!==N||U!==G}V&&(this.flush(),X.scissor(O,z-B-G,N,G))},resetScissor:function(){var O=this.gl;O.enable(O.SCISSOR_TEST);var B=this.currentScissor;if(B){var N=B[0],G=B[1],z=B[2],X=B[3];z>0&&X>0&&O.scissor(N,this.drawingBufferHeight-G-X,z,X)}},popScissor:function(){var O=this.scissorStack;O.pop();var B=O[O.length-1];B&&this.setScissor(B[0],B[1],B[2],B[3]),this.currentScissor=B},hasActiveStencilMask:function(){var O=this.currentMask.mask,B=this.currentCameraMask.mask;return O&&O.isStencil||B&&B.isStencil},resetViewport:function(){var O=this.gl;O.viewport(0,0,this.width,this.height),this.drawingBufferHeight=O.drawingBufferHeight},setBlendMode:function(O,B){B===void 0&&(B=!1);var N=this.gl,G=this.blendModes[O];return B||O!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==O?(this.flush(),N.enable(N.BLEND),N.blendEquation(G.equation),G.func.length>2?N.blendFuncSeparate(G.func[0],G.func[1],G.func[2],G.func[3]):N.blendFunc(G.func[0],G.func[1]),this.currentBlendMode=O,!0):!1},addBlendMode:function(O,B){var N=this.blendModes.push({func:O,equation:B});return N-1},updateBlendMode:function(O,B,N){return this.blendModes[O]&&(this.blendModes[O].func=B,N&&(this.blendModes[O].equation=N)),this},removeBlendMode:function(O){return O>17&&this.blendModes[O]&&this.blendModes.splice(O,1),this},pushFramebuffer:function(O,B,N,G,z){return O===this.currentFramebuffer?this:(this.fboStack.push(O),this.setFramebuffer(O,B,N,G,z))},setFramebuffer:function(O,B,N,G,z){if(B===void 0&&(B=!1),N===void 0&&(N=!0),G===void 0&&(G=null),z===void 0&&(z=!1),O===this.currentFramebuffer)return this;var X=this.gl,H=this.width,V=this.height;return O&&O.renderTexture&&N?(H=O.renderTexture.width,V=O.renderTexture.height):this.flush(),O?X.bindFramebuffer(X.FRAMEBUFFER,O.webGLFramebuffer):X.bindFramebuffer(X.FRAMEBUFFER,null),N&&X.viewport(0,0,H,V),G&&X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,G.webGLTexture,0),z&&(X.clearColor(0,0,0,0),X.clear(X.COLOR_BUFFER_BIT)),B&&(O?(this.drawingBufferHeight=V,this.pushScissor(0,0,H,V)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=O,this},popFramebuffer:function(O,B){O===void 0&&(O=!1),B===void 0&&(B=!0);var N=this.fboStack;N.pop();var G=N[N.length-1];return G||(G=null),this.setFramebuffer(G,O,B),G},restoreFramebuffer:function(O,B){O===void 0&&(O=!1),B===void 0&&(B=!0);var N=this.fboStack,G=N[N.length-1];G||(G=null),this.currentFramebuffer=null,this.setFramebuffer(G,O,B)},setProgram:function(O){return O!==this.currentProgram?(this.flush(),this.gl.useProgram(O.webGLProgram),this.currentProgram=O,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(O,B,N,G,z){z===void 0&&(z=!1);var X=this.gl,H=X.NEAREST,V=X.NEAREST,W=X.CLAMP_TO_EDGE,I=null;B=O?O.width:B,N=O?O.height:N;var b=d(B,N);if(b&&!z&&(W=X.REPEAT),G===a.ScaleModes.LINEAR&&this.config.antialias){var U=O&&O.compressed,Y=!U&&b||U&&O.mipmaps.length>1;H=this.mipmapFilter&&Y?this.mipmapFilter:X.LINEAR,V=X.LINEAR}return!O&&typeof B=="number"&&typeof N=="number"?I=this.createTexture2D(0,H,V,W,W,X.RGBA,null,B,N):I=this.createTexture2D(0,H,V,W,W,X.RGBA,O),I},createTexture2D:function(O,B,N,G,z,X,H,V,W,I,b,U){typeof V!="number"&&(V=H?H.width:1),typeof W!="number"&&(W=H?H.height:1);var Y=new w(this.gl,O,B,N,G,z,X,H,V,W,I,b,U);return this.glTextureWrappers.push(Y),Y},createFramebuffer:function(O,B,N,G){this.currentFramebuffer=null;var z=new R(this.gl,O,B,N,G);return this.glFramebufferWrappers.push(z),z},beginBitmapMask:function(O,B){var N=this.gl;N&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==O&&(this.currentMask.mask=O,this.currentMask.camera=B))},drawBitmapMask:function(O,B,N){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),O.renderWebGL(this,O,B),this.maskSource.unbind(!0),this.maskTarget.unbind();var G=this.gl,z=this.getCurrentStencilMask();z?(G.enable(G.STENCIL_TEST),z.mask.applyStencil(this,z.camera,!0)):this.currentMask.mask=null,this.pipelines.set(N),G.activeTexture(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,this.maskTarget.texture.webGLTexture),G.activeTexture(G.TEXTURE1),G.bindTexture(G.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(O,B){var N=new P(this.gl,O,B);return this.glProgramWrappers.push(N),N},createVertexBuffer:function(O,B){var N=this.gl,G=new S(N,O,N.ARRAY_BUFFER,B);return this.glBufferWrappers.push(G),G},createAttribLocation:function(O,B){var N=new L(this.gl,O,B);return this.glAttribLocationWrappers.push(N),N},createUniformLocation:function(O,B){var N=new D(this.gl,O,B);return this.glUniformLocationWrappers.push(N),N},createIndexBuffer:function(O,B){var N=this.gl,G=new S(N,O,N.ELEMENT_ARRAY_BUFFER,B);return this.glBufferWrappers.push(G),G},deleteTexture:function(O){if(O)return m(this.glTextureWrappers,O),O.destroy(),this},deleteFramebuffer:function(O){return O?(m(this.fboStack,O),m(this.glFramebufferWrappers,O),O.destroy(),this):this},deleteProgram:function(O){return O&&(m(this.glProgramWrappers,O),O.destroy()),this},deleteAttribLocation:function(O){return O&&(m(this.glAttribLocationWrappers,O),O.destroy()),this},deleteUniformLocation:function(O){return O&&(m(this.glUniformLocationWrappers,O),O.destroy()),this},deleteBuffer:function(O){return O?(m(this.glBufferWrappers,O),O.destroy(),this):this},preRenderCamera:function(O){var B=O.x,N=O.y,G=O.width,z=O.height,X=O.backgroundColor;if(O.emit(l.PRE_RENDER,O),this.pipelines.preBatchCamera(O),this.pushScissor(B,N,G,z),O.mask&&(this.currentCameraMask.mask=O.mask,this.currentCameraMask.camera=O._maskCamera,O.mask.preRenderWebGL(this,O,O._maskCamera)),X.alphaGL>0){var H=this.pipelines.setMulti();H.drawFillRect(B,N,G,z,y.getTintFromFloats(X.blueGL,X.greenGL,X.redGL,1),X.alphaGL)}},getCurrentStencilMask:function(){var O=null,B=this.maskStack,N=this.currentCameraMask;return B.length>0?O=B[B.length-1]:N.mask&&N.mask.isStencil&&(O=N),O},postRenderCamera:function(O){var B=O.flashEffect,N=O.fadeEffect;if(B.isRunning||N.isRunning||N.isComplete){var G=this.pipelines.setMulti();B.postRenderWebGL(G,y.getTintFromFloats),N.postRenderWebGL(G,y.getTintFromFloats)}O.dirty=!1,this.popScissor(),O.mask&&(this.currentCameraMask.mask=null,O.mask.postRenderWebGL(this,O._maskCamera)),this.pipelines.postBatchCamera(O),O.emit(l.POST_RENDER,O)},preRender:function(){if(!this.contextLost){var O=this.gl;if(O.bindFramebuffer(O.FRAMEBUFFER,null),this.config.clearBeforeRender){var B=this.config.backgroundColor;O.clearColor(B.redGL,B.greenGL,B.blueGL,B.alphaGL),O.clear(O.COLOR_BUFFER_BIT|O.DEPTH_BUFFER_BIT|O.STENCIL_BUFFER_BIT)}O.enable(O.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&O.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(r.PRE_RENDER)}},render:function(O,B,N){if(!this.contextLost){var G=B.length;if(this.emit(r.RENDER,O,N),this.preRenderCamera(N),G===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(N);return}this.currentType="";for(var z=this.currentMask,X=0;X<G;X++){this.finalType=X===G-1;var H=B[X],V=H.mask;z=this.currentMask,z.mask&&z.mask!==V&&z.mask.postRenderWebGL(this,z.camera),V&&z.mask!==V&&V.preRenderWebGL(this,H,N),H.blendMode!==this.currentBlendMode&&this.setBlendMode(H.blendMode);var W=H.type;W!==this.currentType&&(this.newType=!0,this.currentType=W),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=B[X+1].type===this.currentType,H.renderWebGL(this,H,N),this.newType=!1}z=this.currentMask,z.mask&&z.mask.postRenderWebGL(this,z.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(N)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(r.POST_RENDER);var O=this.snapshotState;O.callback&&(C(this.gl,O),O.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var O=this.gl,B=this.getCurrentStencilMask();if(B){var N=B.mask;O.enable(O.STENCIL_TEST),N.invertAlpha?O.stencilFunc(O.NOTEQUAL,N.level,255):O.stencilFunc(O.EQUAL,N.level,255)}},snapshot:function(O,B,N){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,O,B,N)},snapshotArea:function(O,B,N,G,z,X,H){var V=this.snapshotState;return V.callback=z,V.type=X,V.encoder=H,V.getPixel=!1,V.x=O,V.y=B,V.width=N,V.height=G,this},snapshotPixel:function(O,B,N){return this.snapshotArea(O,B,1,1,N),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(O,B,N,G,z,X,H,V,W,I,b){z===void 0&&(z=!1),X===void 0&&(X=0),H===void 0&&(H=0),V===void 0&&(V=B),W===void 0&&(W=N),I==="pixel"&&(z=!0,I="image/png");var U=this.currentFramebuffer;this.snapshotArea(X,H,V,W,G,I,b);var Y=this.snapshotState;return Y.getPixel=z,Y.isFramebuffer=!0,Y.bufferWidth=B,Y.bufferHeight=N,Y.width=Math.min(Y.width,B),Y.height=Math.min(Y.height,N),this.setFramebuffer(O),C(this.gl,Y),this.setFramebuffer(U),Y.callback=null,Y.isFramebuffer=!1,this},canvasToTexture:function(O,B,N,G){N===void 0&&(N=!1),G===void 0&&(G=!1);var z=this.gl,X=z.NEAREST,H=z.NEAREST,V=O.width,W=O.height,I=z.CLAMP_TO_EDGE,b=d(V,W);return!N&&b&&(I=z.REPEAT),this.config.antialias&&(X=b&&this.mipmapFilter?this.mipmapFilter:z.LINEAR,H=z.LINEAR),B?(B.update(O,V,W,G,I,I,X,H,B.format),B):this.createTexture2D(0,X,H,I,I,z.RGBA,O,V,W,!0,!1,G)},createCanvasTexture:function(O,B,N){return B===void 0&&(B=!1),N===void 0&&(N=!1),this.canvasToTexture(O,null,B,N)},updateCanvasTexture:function(O,B,N,G){return N===void 0&&(N=!1),G===void 0&&(G=!1),this.canvasToTexture(O,B,G,N)},videoToTexture:function(O,B,N,G){N===void 0&&(N=!1),G===void 0&&(G=!1);var z=this.gl,X=z.NEAREST,H=z.NEAREST,V=O.videoWidth,W=O.videoHeight,I=z.CLAMP_TO_EDGE,b=d(V,W);return!N&&b&&(I=z.REPEAT),this.config.antialias&&(X=b&&this.mipmapFilter?this.mipmapFilter:z.LINEAR,H=z.LINEAR),B?(B.update(O,V,W,G,I,I,X,H,B.format),B):this.createTexture2D(0,X,H,I,I,z.RGBA,O,V,W,!0,!0,G)},createVideoTexture:function(O,B,N){return B===void 0&&(B=!1),N===void 0&&(N=!1),this.videoToTexture(O,null,B,N)},updateVideoTexture:function(O,B,N,G){return N===void 0&&(N=!1),G===void 0&&(G=!1),this.videoToTexture(O,B,G,N)},createUint8ArrayTexture:function(O,B,N){var G=this.gl,z=G.NEAREST,X=G.NEAREST,H=G.CLAMP_TO_EDGE,V=d(B,N);return V&&(H=G.REPEAT),this.createTexture2D(0,z,X,H,H,G.RGBA,O,B,N)},setTextureFilter:function(O,B){var N=this.gl,G=B===0?N.LINEAR:N.NEAREST;N.activeTexture(N.TEXTURE0);var z=N.getParameter(N.TEXTURE_BINDING_2D);return N.bindTexture(N.TEXTURE_2D,O.webGLTexture),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,G),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,G),O.minFilter=G,O.magFilter=G,z&&N.bindTexture(N.TEXTURE_2D,z),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var O=function(B){B.destroy()};u(this.glAttribLocationWrappers,O),u(this.glBufferWrappers,O),u(this.glFramebufferWrappers,O),u(this.glProgramWrappers,O),u(this.glTextureWrappers,O),u(this.glUniformLocationWrappers,O),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=F},38683:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95428),l=t(95540),s=t(14500),a=new u({initialize:function(r,d,n,h,f){this.pipeline=r,this.name=d,this.renderer=r.renderer,this.gl=this.renderer.gl,this.fragSrc=h,this.vertSrc=n,this.program=this.renderer.createProgram(n,h),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(f),this.createUniforms()},createAttributes:function(e){var r=0,d=0,n=[];this.vertexComponentCount=0;for(var h=0;h<e.length;h++){var f=e[h],c=f.name,v=l(f,"size",1),g=l(f,"type",s.FLOAT),y=g.enum,C=g.size,S=!!f.normalized;n.push({name:c,size:v,type:y,normalized:S,offset:d,enabled:!1,location:-1}),C===4?r+=v:r++,d+=v*C}this.vertexSize=d,this.vertexComponentCount=r,this.attributes=n},bind:function(e,r){return e===void 0&&(e=!1),r===void 0&&(r=!1),r&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var r=this.gl,d=this.renderer,n=this.vertexSize,h=this.attributes,f=this.program,c=0;c<h.length;c++){var v=h[c],g=v.size,y=v.type,C=v.offset,S=v.enabled,P=v.location,w=!!v.normalized;if(e){P!==-1&&d.deleteAttribLocation(P);var R=this.renderer.createAttribLocation(f,v.name);R.webGLAttribLocation>=0?(r.enableVertexAttribArray(R.webGLAttribLocation),r.vertexAttribPointer(R.webGLAttribLocation,g,y,w,n,C),v.enabled=!0,v.location=R):R.webGLAttribLocation!==-1&&r.disableVertexAttribArray(R.webGLAttribLocation)}else S?r.vertexAttribPointer(P.webGLAttribLocation,g,y,w,n,C):!S&&P!==-1&&P.webGLAttribLocation>-1&&(r.disableVertexAttribArray(P.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var e=this.gl,r=this.program,d=this.uniforms,n,h,f,c=e.getProgramParameter(r.webGLProgram,e.ACTIVE_UNIFORMS);for(n=0;n<c;n++){var v=e.getActiveUniform(r.webGLProgram,n);if(v){h=v.name,f=this.renderer.createUniformLocation(r,h),f!==null&&(d[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null});var g=h.indexOf("[");g>0&&(h=h.substr(0,g),d.hasOwnProperty(h)||(f=this.renderer.createUniformLocation(r,h),f!==null&&(d[h]={name:h,location:f,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var r in this.uniforms){var d=this.uniforms[r];d.setter&&d.setter.call(e,d.location.webGLUniformLocation,d.value1,d.value2,d.value3,d.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var r=this.uniforms[e];return r&&(r.value1=null,r.value2=null,r.value3=null,r.value4=null),this},setUniform1:function(e,r,d,n){var h=this.uniforms[r];return h?((n||h.value1!==d)&&(h.setter||(h.setter=e),h.value1=d,this.renderer.setProgram(this.program),e.call(this.gl,h.location.webGLUniformLocation,d),this.pipeline.currentShader=this),this):this},setUniform2:function(e,r,d,n,h){var f=this.uniforms[r];return f?((h||f.value1!==d||f.value2!==n)&&(f.setter||(f.setter=e),f.value1=d,f.value2=n,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,d,n),this.pipeline.currentShader=this),this):this},setUniform3:function(e,r,d,n,h,f){var c=this.uniforms[r];return c?((f||c.value1!==d||c.value2!==n||c.value3!==h)&&(c.setter||(c.setter=e),c.value1=d,c.value2=n,c.value3=h,this.renderer.setProgram(this.program),e.call(this.gl,c.location.webGLUniformLocation,d,n,h),this.pipeline.currentShader=this),this):this},setUniform4:function(e,r,d,n,h,f,c){var v=this.uniforms[r];return v?((c||v.value1!==d||v.value2!==n||v.value3!==h||v.value4!==f)&&(v.setter||(v.setter=e),v.value1=d,v.value2=n,v.value3=h,v.value4=f,this.renderer.setProgram(this.program),e.call(this.gl,v.location.webGLUniformLocation,d,n,h,f),this.pipeline.currentShader=this),this):this},setBoolean:function(e,r){return this.setUniform1(this.gl.uniform1i,e,Number(r))},set1f:function(e,r){return this.setUniform1(this.gl.uniform1f,e,r)},set2f:function(e,r,d){return this.setUniform2(this.gl.uniform2f,e,r,d)},set3f:function(e,r,d,n){return this.setUniform3(this.gl.uniform3f,e,r,d,n)},set4f:function(e,r,d,n,h){return this.setUniform4(this.gl.uniform4f,e,r,d,n,h)},set1fv:function(e,r){return this.setUniform1(this.gl.uniform1fv,e,r,!0)},set2fv:function(e,r){return this.setUniform1(this.gl.uniform2fv,e,r,!0)},set3fv:function(e,r){return this.setUniform1(this.gl.uniform3fv,e,r,!0)},set4fv:function(e,r){return this.setUniform1(this.gl.uniform4fv,e,r,!0)},set1iv:function(e,r){return this.setUniform1(this.gl.uniform1iv,e,r,!0)},set2iv:function(e,r){return this.setUniform1(this.gl.uniform2iv,e,r,!0)},set3iv:function(e,r){return this.setUniform1(this.gl.uniform3iv,e,r,!0)},set4iv:function(e,r){return this.setUniform1(this.gl.uniform4iv,e,r,!0)},set1i:function(e,r){return this.setUniform1(this.gl.uniform1i,e,r)},set2i:function(e,r,d){return this.setUniform2(this.gl.uniform2i,e,r,d)},set3i:function(e,r,d,n){return this.setUniform3(this.gl.uniform3i,e,r,d,n)},set4i:function(e,r,d,n,h){return this.setUniform4(this.gl.uniform4i,e,r,d,n,h)},setMatrix2fv:function(e,r,d){return this.setUniform2(this.gl.uniformMatrix2fv,e,r,d,!0)},setMatrix3fv:function(e,r,d){return this.setUniform2(this.gl.uniformMatrix3fv,e,r,d,!0)},setMatrix4fv:function(e,r,d){return this.setUniform2(this.gl.uniformMatrix4fv,e,r,d,!0)},createProgram:function(e,r){return e===void 0&&(e=this.vertSrc),r===void 0&&(r=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=r,this.program=this.renderer.createProgram(e,r),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;m(this.uniforms,function(r){e.deleteUniformLocation(r.location)}),this.uniforms=null,m(this.attributes,function(r){e.deleteAttribLocation(r.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});p.exports=a},14500:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=T},4159:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(14500),m=t(79291),l={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};l=m(!1,l,u),p.exports=l},31302:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=t(78908),s=t(85191),a=t(14500),e=t(29100),r=new u({Extends:e,initialize:function(n){n.fragShader=m(n,"fragShader",l),n.vertShader=m(n,"vertShader",s),n.batchSize=m(n,"batchSize",1),n.vertices=m(n,"vertices",[-1,1,-1,-7,7,1]),n.attributes=m(n,"attributes",[{name:"inPosition",size:2,type:a.FLOAT}]),e.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(d,n){e.prototype.resize.call(this,d,n),this.set2f("uResolution",d,n)},beginMask:function(d,n,h){this.renderer.beginBitmapMask(d,h)},endMask:function(d,n,h){var f=this.gl,c=this.renderer,v=d.bitmapMask;v&&f&&(c.drawBitmapMask(v,n,this),h&&this.set2f("uResolution",h.width,h.height),this.set1i("uInvertMaskAlpha",d.invertAlpha),f.drawArrays(this.topology,0,3),h&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});p.exports=r},92651:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(58918),l=t(14811),s=t(95540),a=t(43558),e=t(89350),r=t(70554),d=new u({Extends:a,initialize:function(h){h.shaders=[r.setGlowQuality(e.FXGlowFrag,h.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],a.call(this,h);var f=this.game;this.glow=new m.Glow(f),this.shadow=new m.Shadow(f),this.pixelate=new m.Pixelate(f),this.vignette=new m.Vignette(f),this.shine=new m.Shine(f),this.gradient=new m.Gradient(f),this.circle=new m.Circle(f),this.barrel=new m.Barrel(f),this.wipe=new m.Wipe(f),this.bokeh=new m.Bokeh(f);var c=[];c[l.GLOW]=this.onGlow,c[l.SHADOW]=this.onShadow,c[l.PIXELATE]=this.onPixelate,c[l.VIGNETTE]=this.onVignette,c[l.SHINE]=this.onShine,c[l.BLUR]=this.onBlur,c[l.GRADIENT]=this.onGradient,c[l.BLOOM]=this.onBloom,c[l.COLOR_MATRIX]=this.onColorMatrix,c[l.CIRCLE]=this.onCircle,c[l.BARREL]=this.onBarrel,c[l.DISPLACEMENT]=this.onDisplacement,c[l.WIPE]=this.onWipe,c[l.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(n,h,f){this.source=n,this.target=h,this.swap=f;var c=n.width,v=n.height,g=this.tempSprite,y=this.fxHandlers;if(g&&g.preFX)for(var C=g.preFX.list,S=0;S<C.length;S++){var P=C[S];P.active&&y[P.type].call(this,P,c,v)}this.drawToGame(this.source)},runDraw:function(){var n=this.source,h=this.target;this.copy(n,h),this.source=h,this.target=n},onGlow:function(n,h,f){var c=this.shaders[l.GLOW];this.setShader(c),this.glow.onPreRender(n,c,h,f),this.runDraw()},onShadow:function(n){var h=this.shaders[l.SHADOW];this.setShader(h),this.shadow.onPreRender(n,h),this.runDraw()},onPixelate:function(n,h,f){var c=this.shaders[l.PIXELATE];this.setShader(c),this.pixelate.onPreRender(n,c,h,f),this.runDraw()},onVignette:function(n){var h=this.shaders[l.VIGNETTE];this.setShader(h),this.vignette.onPreRender(n,h),this.runDraw()},onShine:function(n,h,f){var c=this.shaders[l.SHINE];this.setShader(c),this.shine.onPreRender(n,c,h,f),this.runDraw()},onBlur:function(n,h,f){var c=s(n,"quality"),v=this.shaders[l.BLUR+c];this.setShader(v),this.set1i("uMainSampler",0),this.set2f("resolution",h,f),this.set1f("strength",s(n,"strength")),this.set3fv("color",s(n,"glcolor"));for(var g=s(n,"x"),y=s(n,"y"),C=s(n,"steps"),S=0;S<C;S++)this.set2f("offset",g,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw()},onGradient:function(n){var h=this.shaders[l.GRADIENT];this.setShader(h),this.gradient.onPreRender(n,h),this.runDraw()},onBloom:function(n,h,f){var c=this.shaders[l.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",s(n,"blurStrength")),this.set3fv("color",s(n,"glcolor"));for(var v=2/h*s(n,"offsetX"),g=2/f*s(n,"offsetY"),y=s(n,"steps"),C=0;C<y;C++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw();this.blendFrames(this.swap,this.source,this.target,s(n,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(n){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",n.getData()),this.set1f("uAlpha",n.alpha),this.runDraw()},onCircle:function(n,h,f){var c=this.shaders[l.CIRCLE];this.setShader(c),this.circle.onPreRender(n,c,h,f),this.runDraw()},onBarrel:function(n){var h=this.shaders[l.BARREL];this.setShader(h),this.barrel.onPreRender(n,h),this.runDraw()},onDisplacement:function(n){this.setShader(this.shaders[l.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.runDraw()},onWipe:function(n){var h=this.shaders[l.WIPE];this.setShader(h),this.wipe.onPreRender(n,h),this.runDraw()},onBokeh:function(n,h,f){var c=this.shaders[l.BOKEH];this.setShader(c),this.bokeh.onPreRender(n,c,h,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,a.prototype.destroy.call(this),this}});p.exports=d},96569:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=t(31063),s=t(57516),a=t(61340),e=t(26099),r=t(29100),d=new u({Extends:s,initialize:function(h){var f=m(h,"fragShader",l);h.fragShader=f.replace("%LIGHT_COUNT%",h.game.renderer.config.maxLights),s.call(this,h),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new a,this._tempMatrix2=new a},boot:function(){r.prototype.boot.call(this)},onRender:function(n,h){var f=n.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var c=f.getLights(h),v=c.length;this.lightsActive=!0;var g,y=this.renderer,C=y.height,S=h.matrix,P=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",h.x,h.y,h.rotation,h.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",v),g=0;g<v;g++){var w=c[g].light,R=w.color,L="uLights["+g+"].";S.transformPoint(w.x,w.y,P),this.set2f(L+"position",P.x-h.scrollX*w.scrollFactorX*h.zoom,C-(P.y-h.scrollY*w.scrollFactorY*h.zoom)),this.set3f(L+"color",R.r,R.g,R.b),this.set1f(L+"intensity",w.intensity),this.set1f(L+"radius",w.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(n){if(n!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var h=this.inverseRotationMatrix;if(n){var f=-n,c=Math.cos(f),v=Math.sin(f);h[1]=v,h[3]=-v,h[0]=h[4]=c}else h[0]=h[4]=1,h[1]=h[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,h),this.currentNormalMapRotation=n}},setTexture2D:function(n,h){var f=this.renderer;n===void 0&&(n=f.whiteTexture);var c=this.getNormalMap(h);this.isNewNormalMap(n,c)&&(this.flush(),this.createBatch(n),this.addTextureToBatch(c),this.currentNormalMap=c);var v=0;if(h&&h.parentContainer){var g=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);v=g.rotationNormalized}else h&&(v=h.rotation);return this.setNormalMapRotation(v),0},setGameObject:function(n,h){h===void 0&&(h=n.frame);var f=h.glTexture,c=this.getNormalMap(n);if(this.isNewNormalMap(f,c)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(c),this.currentNormalMap=c),n.parentContainer){var v=n.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(n.rotation);return 0},isNewNormalMap:function(n,h){return this.currentTexture!==n||this.currentNormalMap!==h},getNormalMap:function(n){var h;if(n)n.displayTexture?h=n.displayTexture.dataSource[n.displayFrame.sourceIndex]:n.texture?h=n.texture.dataSource[n.frame.sourceIndex]:n.tileset&&(Array.isArray(n.tileset)?h=n.tileset[0].image.dataSource[0]:h=n.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return h?h.glTexture:this.renderer.normalTexture},batchSprite:function(n,h,f){this.lightsActive&&s.prototype.batchSprite.call(this,n,h,f)},batchTexture:function(n,h,f,c,v,g,y,C,S,P,w,R,L,D,F,O,B,N,G,z,X,H,V,W,I,b,U,Y,$,j,K,J){this.lightsActive&&s.prototype.batchTexture.call(this,n,h,f,c,v,g,y,C,S,P,w,R,L,D,F,O,B,N,G,z,X,H,V,W,I,b,U,Y,$,j,K,J)},batchTextureFrame:function(n,h,f,c,v,g,y){this.lightsActive&&s.prototype.batchTextureFrame.call(this,n,h,f,c,v,g,y)}});p.exports=d},56527:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=t(57516),s=t(45561),a=t(60722),e=t(14500),r=t(29100),d=new u({Extends:l,initialize:function(h){h.fragShader=m(h,"fragShader",s),h.vertShader=m(h,"vertShader",a),h.attributes=m(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),h.forceZero=!0,h.resizeUniform="uResolution",l.call(this,h)},boot:function(){r.prototype.boot.call(this);var n=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",n.width,n.height),this.set1i("uRoundPixels",n.config.roundPixels)}});p.exports=d},57516:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(94811),l=t(95540),s=t(98840),a=t(44667),e=t(61340),r=t(70554),d=t(14500),n=t(29100),h=new u({Extends:n,initialize:function(c){var v=c.game.renderer,g=l(c,"fragShader",s);c.fragShader=r.parseFragmentShaderMaxTextures(g,v.maxTextures),c.vertShader=l(c,"vertShader",a),c.attributes=l(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:d.UNSIGNED_BYTE,normalized:!0}]),c.resizeUniform="uResolution",n.call(this,c),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){n.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes),this.set2f("uResolution",f.width,f.height),this.set1i("uRoundPixels",f.config.roundPixels)},batchSprite:function(f,c,v){this.manager.set(this,f);var g=this._tempMatrix1,y=this._tempMatrix2,C=this._tempMatrix3,S=f.frame,P=S.glTexture,w=S.u0,R=S.v0,L=S.u1,D=S.v1,F=S.x,O=S.y,B=S.cutWidth,N=S.cutHeight,G=S.customPivot,z=f.displayOriginX,X=f.displayOriginY,H=-z+F,V=-X+O;if(f.isCropped){var W=f._crop;(W.flipX!==f.flipX||W.flipY!==f.flipY)&&S.updateCropUVs(W,f.flipX,f.flipY),w=W.u0,R=W.v0,L=W.u1,D=W.v1,B=W.width,N=W.height,F=W.x,O=W.y,H=-z+F,V=-X+O}var I=1,b=1;f.flipX&&(G||(H+=-S.realWidth+z*2),I=-1),f.flipY&&(G||(V+=-S.realHeight+X*2),b=-1);var U=f.x,Y=f.y;y.applyITRS(U,Y,f.rotation,f.scaleX*I,f.scaleY*b),g.copyFrom(c.matrix),v?(g.multiplyWithOffset(v,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),y.e=U,y.f=Y):(y.e-=c.scrollX*f.scrollFactorX,y.f-=c.scrollY*f.scrollFactorY),g.multiply(y,C);var $=C.setQuad(H,V,H+B,V+N),j=r.getTintAppendFloatAlpha,K=c.alpha,J=j(f.tintTopLeft,K*f._alphaTL),k=j(f.tintTopRight,K*f._alphaTR),_=j(f.tintBottomLeft,K*f._alphaBL),et=j(f.tintBottomRight,K*f._alphaBR);this.shouldFlush(6)&&this.flush();var nt=this.setGameObject(f,S);this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",c.roundPixels),this.batchQuad(f,$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],w,R,L,D,J,k,_,et,f.tintFill,P,nt),this.manager.postBatch(f)},batchTexture:function(f,c,v,g,y,C,S,P,w,R,L,D,F,O,B,N,G,z,X,H,V,W,I,b,U,Y,$,j,K,J,k,_,et){et===void 0&&(et=!1),this.manager.set(this,f);var nt=this._tempMatrix1,it=this._tempMatrix2,ot=this._tempMatrix3,ft=z/v+$,pt=X/g+j,mt=(z+H)/v+$,rt=(X+V)/g+j,dt=S,ct=P,Pt=-N,Et=-G;if(f.isCropped){var Mt=f._crop,Dt=Mt.width,wt=Mt.height;dt=Dt,ct=wt,S=Dt,P=wt,z=Mt.x,X=Mt.y;var St=z,Nt=X;D&&(St=H-Mt.x-Dt),F&&(Nt=V-Mt.y-wt),ft=St/v+$,pt=Nt/g+j,mt=(St+Dt)/v+$,rt=(Nt+wt)/g+j,Pt=-N+z,Et=-G+X}F=F^(!k&&c.isRenderTexture?1:0),D&&(dt*=-1,Pt+=S),F&&(ct*=-1,Et+=P),it.applyITRS(y,C,L,w,R),nt.copyFrom(K.matrix),J?(nt.multiplyWithOffset(J,-K.scrollX*O,-K.scrollY*B),it.e=y,it.f=C):(it.e-=K.scrollX*O,it.f-=K.scrollY*B),nt.multiply(it,ot);var Q=ot.setQuad(Pt,Et,Pt+dt,Et+ct);_==null&&(_=this.setTexture2D(c)),f&&!et&&this.manager.preBatch(f),this.currentShader.set1i("uRoundPixels",K.roundPixels),this.batchQuad(f,Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],ft,pt,mt,rt,W,I,b,U,Y,c,_),f&&!et&&this.manager.postBatch(f)},batchTextureFrame:function(f,c,v,g,y,C,S){this.manager.set(this);var P=this._tempMatrix1.copyFrom(C),w=this._tempMatrix2;S?P.multiply(S,w):w=P;var R=w.setQuad(c,v,c+f.width,v+f.height),L=this.setTexture2D(f.source.glTexture);g=r.getTintAppendFloatAlpha(g,y),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],f.u0,f.v0,f.u1,f.v1,g,g,g,g,0,f.glTexture,L)},batchFillRect:function(f,c,v,g,y,C){this.renderer.pipelines.set(this);var S=this.calcMatrix;C&&C.multiply(y,S);var P=S.setQuad(f,c,f+v,c+g),w=this.fillTint;this.batchQuad(null,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],0,0,1,1,w.TL,w.TR,w.BL,w.BR,2)},batchFillTriangle:function(f,c,v,g,y,C,S,P){this.renderer.pipelines.set(this);var w=this.calcMatrix;P&&P.multiply(S,w);var R=w.getX(f,c),L=w.getY(f,c),D=w.getX(v,g),F=w.getY(v,g),O=w.getX(y,C),B=w.getY(y,C),N=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,R,L,D,F,O,B,0,0,1,1,N.TL,N.TR,N.BL,2)},batchStrokeTriangle:function(f,c,v,g,y,C,S,P,w){var R=this.tempTriangle;R[0].x=f,R[0].y=c,R[0].width=S,R[1].x=v,R[1].y=g,R[1].width=S,R[2].x=y,R[2].y=C,R[2].width=S,R[3].x=f,R[3].y=c,R[3].width=S,this.batchStrokePath(R,S,!1,P,w)},batchFillPath:function(f,c,v){this.renderer.pipelines.set(this);var g=this.calcMatrix;v&&v.multiply(c,g);for(var y=f.length,C=this.polygonCache,S,P,w=this.fillTint.TL,R=this.fillTint.TR,L=this.fillTint.BL,D=0;D<y;++D)P=f[D],C.push(P.x,P.y);S=m(C),y=S.length,this.currentShader.set1i("uRoundPixels",!1);for(var F=0;F<y;F+=3){var O=S[F+0]*2,B=S[F+1]*2,N=S[F+2]*2,G=C[O+0],z=C[O+1],X=C[B+0],H=C[B+1],V=C[N+0],W=C[N+1],I=g.getX(G,z),b=g.getY(G,z),U=g.getX(X,H),Y=g.getY(X,H),$=g.getX(V,W),j=g.getY(V,W);this.batchTri(null,I,b,U,Y,$,j,0,0,1,1,w,R,L,2)}C.length=0},batchStrokePath:function(f,c,v,g,y){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var C=f.length-1,S=0;S<C;S++){var P=f[S],w=f[S+1];this.batchLine(P.x,P.y,w.x,w.y,P.width/2,w.width/2,c,S,!v&&S===C-1,g,y)}},batchLine:function(f,c,v,g,y,C,S,P,w,R,L){this.renderer.pipelines.set(this);var D=this.calcMatrix;L&&L.multiply(R,D);var F=v-f,O=g-c,B=Math.sqrt(F*F+O*O);if(B!==0){var N=y*(g-c)/B,G=y*(f-v)/B,z=C*(g-c)/B,X=C*(f-v)/B,H=v-z,V=g-X,W=f-N,I=c-G,b=v+z,U=g+X,Y=f+N,$=c+G,j=D.getX(H,V),K=D.getY(H,V),J=D.getX(W,I),k=D.getY(W,I),_=D.getX(b,U),et=D.getY(b,U),nt=D.getX(Y,$),it=D.getY(Y,$),ot=this.strokeTint,ft=ot.TL,pt=ot.TR,mt=ot.BL,rt=ot.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,nt,it,J,k,j,K,_,et,0,0,1,1,ft,pt,mt,rt,2),!(S<=2)){var dt=this.prevQuad,ct=this.firstQuad;P>0&&dt[4]?this.batchQuad(null,nt,it,J,k,dt[0],dt[1],dt[2],dt[3],0,0,1,1,ft,pt,mt,rt,2):(ct[0]=nt,ct[1]=it,ct[2]=J,ct[3]=k,ct[4]=1),w&&ct[4]?this.batchQuad(null,j,K,_,et,ct[0],ct[1],ct[2],ct[3],0,0,1,1,ft,pt,mt,rt,2):(dt[0]=j,dt[1]=K,dt[2]=_,dt[3]=et,dt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,n.prototype.destroy.call(this),this}});p.exports=h},43439:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=t(4127),s=t(89924),a=t(29100),e=new u({Extends:a,initialize:function(d){d.vertShader=m(d,"vertShader",s),d.fragShader=m(d,"fragShader",l),d.attributes=m(d,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),a.call(this,d)},onRender:function(r,d){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",d.zoom)},batchPointLight:function(r,d,n,h,f,c,v,g,y,C,S,P){var w=r.color,R=r.intensity,L=r.radius,D=r.attenuation,F=w.r*R,O=w.g*R,B=w.b*R,N=d.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(n,h,S,P,L,D,F,O,B,N),this.batchLightVert(f,c,S,P,L,D,F,O,B,N),this.batchLightVert(v,g,S,P,L,D,F,O,B,N),this.batchLightVert(n,h,S,P,L,D,F,O,B,N),this.batchLightVert(v,g,S,P,L,D,F,O,B,N),this.batchLightVert(y,C,S,P,L,D,F,O,B,N),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(r,d,n,h,f,c,v,g,y,C){var S=this.vertexViewF32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++P]=r,S[++P]=d,S[++P]=n,S[++P]=h,S[++P]=f,S[++P]=c,S[++P]=v,S[++P]=g,S[++P]=y,S[++P]=C,this.vertexCount++}});p.exports=e},84057:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(89422),l=t(95540),s=t(27681),a=t(49627),e=t(29100),r=new u({Extends:e,initialize:function(n){n.renderTarget=l(n,"renderTarget",1),n.fragShader=l(n,"fragShader",s),n.vertShader=l(n,"vertShader",a),n.attributes=l(n,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),n.batchSize=1,n.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,n),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new m,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var d=this.manager.UTILITY_PIPELINE;this.fullFrame1=d.fullFrame1,this.fullFrame2=d.fullFrame2,this.halfFrame1=d.halfFrame1,this.halfFrame2=d.halfFrame2;var n=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",n.width,n.height),this.set1i("uRoundPixels",n.config.roundPixels);for(var h=this.renderTargets,f=0;f<h.length;f++)h[f].autoResize=!0},postBatch:function(d){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(d){this.bindAndDraw(d)},getController:function(d){return d!==void 0?d:this.controller?this.controller:this},copySprite:function(d,n,h){h===void 0&&(h=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,d.texture.webGLTexture);var c=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,n.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,n.texture.webGLTexture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),h&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,c))},copyFrame:function(d,n,h,f,c){this.manager.copyFrame(d,n,h,f,c)},copyToGame:function(d){this.manager.copyToGame(d)},drawFrame:function(d,n,h){this.manager.drawFrame(d,n,h,this.colorMatrix)},blendFrames:function(d,n,h,f,c){this.manager.blendFrames(d,n,h,f,c)},blendFramesAdditive:function(d,n,h,f,c){this.manager.blendFramesAdditive(d,n,h,f,c)},clearFrame:function(d,n){this.manager.clearFrame(d,n)},blitFrame:function(d,n,h,f,c,v){this.manager.blitFrame(d,n,h,f,c,v)},copyFrameRect:function(d,n,h,f,c,v,g,y){this.manager.copyFrameRect(d,n,h,f,c,v,g,y)},bindAndDraw:function(d,n,h,f,c){h===void 0&&(h=!0),f===void 0&&(f=!0);var v=this.gl,g=this.renderer;this.bind(c),this.set1i("uMainSampler",0),n?(v.viewport(0,0,n.width,n.height),v.bindFramebuffer(v.FRAMEBUFFER,n.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,n.texture.webGLTexture,0),h&&(f?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT))):(g.popFramebuffer(!1,!1),g.currentFramebuffer||v.viewport(0,0,g.width,g.height)),g.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,d.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),n&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,g.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});p.exports=r},43558:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10312),m=t(67502),l=t(83419),s=t(96293),a=t(95540),e=t(57516),r=t(27681),d=t(87841),n=t(32302),h=t(45561),f=t(60722),c=t(29100),v=new l({Extends:e,initialize:function(y){var C=a(y,"fragShader",r),S=a(y,"vertShader",f),P=a(y,"drawShader",r),w=[{name:"DrawSprite",fragShader:h,vertShader:f},{name:"CopySprite",fragShader:C,vertShader:S},{name:"DrawGame",fragShader:P,vertShader:f},{name:"ColorMatrix",fragShader:s}],R=a(y,"shaders",[]);y.shaders=w.concat(R),y.vertShader||(y.vertShader=S),y.batchSize=1,e.call(this,y),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new d,this.targetBounds=new d,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var g=this.shaders,y=this.renderer;this.drawSpriteShader=g[0],this.copyShader=g[1],this.gameShader=g[2],this.colorMatrixShader=g[3],this.fsTarget=new n(y,y.width,y.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var C=new ArrayBuffer(168);this.quadVertexData=C,this.quadVertexViewF32=new Float32Array(C),this.quadVertexBuffer=y.createVertexBuffer(C,this.gl.STATIC_DRAW),this.onResize(y.width,y.height),this.currentShader=this.copyShader,this.set2f("uResolution",y.width,y.height),this.set1i("uRoundPixels",y.config.roundPixels)},onResize:function(g,y){var C=this.quadVertexViewF32;C[1]=y,C[22]=y,C[14]=g,C[28]=g,C[35]=g,C[36]=y},batchQuad:function(g,y,C,S,P,w,R,L,D,F,O,B,N,G,z,X,H,V,W){var I=Math.min(y,S,w,L),b=Math.min(C,P,R,D),U=Math.max(y,S,w,L),Y=Math.max(C,P,R,D),$=U-I,j=Y-b,K=this.spriteBounds.setTo(I,b,$,j),J=g?g.preFX.padding:0,k=$+J*2,_=j+J*2,et=Math.abs(Math.max(k,_)),nt=this.manager.getRenderTarget(et),it=this.targetBounds.setTo(0,0,nt.width,nt.height);m(it,K.centerX,K.centerY),this.tempSprite=g;var ot=this.gl,ft=this.renderer;ft.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ft.width,ft.height),this.set1i("uRoundPixels",ft.config.roundPixels),this.flipProjectionMatrix(!0),g&&(this.onDrawSprite(g,nt),g.preFX.onFX(this));var pt=this.fsTarget;return this.flush(),ot.viewport(0,0,ft.width,ft.height),ot.bindFramebuffer(ot.FRAMEBUFFER,pt.framebuffer.webGLFramebuffer),ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,pt.texture.webGLTexture,0),ot.clearColor(0,0,0,0),ot.clear(ot.COLOR_BUFFER_BIT),this.setTexture2D(W),this.batchVert(y,C,F,O,0,V,G),this.batchVert(S,P,F,N,0,V,X),this.batchVert(w,R,B,N,0,V,H),this.batchVert(y,C,F,O,0,V,G),this.batchVert(w,R,B,N,0,V,H),this.batchVert(L,D,B,O,0,V,z),this.flush(),this.flipProjectionMatrix(!1),ot.activeTexture(ot.TEXTURE0),ot.bindTexture(ot.TEXTURE_2D,nt.texture.webGLTexture),ot.copyTexSubImage2D(ot.TEXTURE_2D,0,0,0,it.x,it.y,it.width,it.height),ot.bindFramebuffer(ot.FRAMEBUFFER,null),ot.bindTexture(ot.TEXTURE_2D,null),this.onBatch(g),this.currentShader=this.copyShader,this.onDraw(nt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(g,y,C,S,P,w,R){C===void 0&&(C=!0),S===void 0&&(S=!0),P===void 0&&(P=!1),R===void 0&&(R=this.copyShader);var L=this.gl,D=this.tempSprite;w&&(R=this.colorMatrixShader),this.currentShader=R;var F=this.setVertexBuffer(this.quadVertexBuffer);R.bind(F,!1);var O=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",O.width,O.height),this.set1i("uRoundPixels",O.config.roundPixels),D.preFX.onFXCopy(this),this.onCopySprite(g,y,D),w&&(this.set1fv("uColorMatrix",w.getData()),this.set1f("uAlpha",w.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,g.texture.webGLTexture),g.height>y.height)L.viewport(0,0,g.width,g.height),this.setTargetUVs(g,y);else{var B=y.height-g.height;L.viewport(0,B,g.width,g.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,y.texture.webGLTexture,0),C&&(L.clearColor(0,0,0,+!S),L.clear(L.COLOR_BUFFER_BIT)),P){var N=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),P&&this.renderer.setBlendMode(N),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(g,y){var C=this.gl;this.set1i("uMainSampler",0),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,g.texture.webGLTexture),C.viewport(0,0,g.width,g.height),this.setUVs(0,0,0,1,1,1,1,0),C.bindFramebuffer(C.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,y.texture.webGLTexture,0),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.quadVertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null)},blendFrames:function(g,y,C,S,P){this.manager.blendFrames(g,y,C,S,P)},blendFramesAdditive:function(g,y,C,S,P){this.manager.blendFramesAdditive(g,y,C,S,P)},drawToGame:function(g){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(g)},copyToGame:function(g){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(g)},bindAndDraw:function(g){var y=this.gl,C=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(g.texture);var S=this._tempMatrix1.loadIdentity(),P=this.targetBounds.x,w=this.targetBounds.y,R=P+g.width,L=w+g.height,D=S.getX(P,w),F=S.getX(P,L),O=S.getX(R,L),B=S.getX(R,w),N=S.getY(P,w),G=S.getY(P,L),z=S.getY(R,L),X=S.getY(R,w),H=16777215;this.batchVert(D,N,0,0,0,0,H),this.batchVert(F,G,0,1,0,0,H),this.batchVert(O,z,1,1,0,0,H),this.batchVert(D,N,0,0,0,0,H),this.batchVert(O,z,1,1,0,0,H),this.batchVert(B,X,1,0,0,0,H),C.restoreFramebuffer(!1,!0),C.currentFramebuffer||y.viewport(0,0,C.width,C.height),C.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(g){this.drawToGame(g)},setUVs:function(g,y,C,S,P,w,R,L){var D=this.quadVertexViewF32;D[2]=g,D[3]=y,D[9]=C,D[10]=S,D[16]=P,D[17]=w,D[23]=g,D[24]=y,D[30]=P,D[31]=w,D[37]=R,D[38]=L},setTargetUVs:function(g,y){var C=y.height/g.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});p.exports=v},81041:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=t(57516),s=new u({Extends:l,initialize:function(e){e.topology=5,e.batchSize=m(e,"batchSize",256),l.call(this,e)}});p.exports=s},12385:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=t(57516),s=t(45561),a=t(60722),e=t(29100),r=new u({Extends:l,initialize:function(n){n.fragShader=m(n,"fragShader",s),n.vertShader=m(n,"vertShader",a),n.forceZero=!0,l.call(this,n)},boot:function(){e.prototype.boot.call(this);var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height),this.set1i("uRoundPixels",d.config.roundPixels)}});p.exports=r},7589:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35407),m=t(10312),l=t(83419),s=t(89422),a=t(96293),e=t(36682),r=t(95540),d=t(48247),n=t(49627),h=t(29100),f=new l({Extends:h,initialize:function(v){v.renderTarget=r(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=r(v,"vertShader",n),v.shaders=r(v,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:u},{name:"LinearBlend",fragShader:d},{name:"ColorMatrix",fragShader:a}]),v.attributes=r(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,h.call(this,v),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var c=this.shaders,v=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(c,v,g,y,C){g===void 0&&(g=1),y===void 0&&(y=!0),C===void 0&&(C=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",g),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,c.texture.webGLTexture),v?(S.viewport(0,0,v.width,v.height),S.bindFramebuffer(S.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,v.texture.webGLTexture,0)):S.viewport(0,0,c.width,c.height),y&&(C?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(c,v,g,y,C,S,P){g===void 0&&(g=1),y===void 0&&(y=!0),C===void 0&&(C=!0),S===void 0&&(S=!1),P===void 0&&(P=!1);var w=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",g),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,c.texture.webGLTexture),c.height>v.height)w.viewport(0,0,c.width,c.height),this.setTargetUVs(c,v);else{var R=v.height-c.height;w.viewport(0,R,c.width,c.height)}if(w.bindFramebuffer(w.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,v.texture.webGLTexture,0),y&&(C?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),S){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}P&&this.flipY(),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),S&&this.renderer.setBlendMode(L),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,v,g,y,C,S,P,w){P===void 0&&(P=!0),w===void 0&&(w=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,c.texture.webGLTexture,0),P&&(w?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,v.texture.webGLTexture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,g,y,C,S),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(c){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,c.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(c,v,g,y){g===void 0&&(g=!0),y===void 0&&(y=this.colorMatrix);var C=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",y.getData()),this.set1f("uAlpha",y.alpha),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,c.texture.webGLTexture),v?(C.viewport(0,0,v.width,v.height),C.bindFramebuffer(C.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,v.texture.webGLTexture,0)):C.viewport(0,0,c.width,c.height),g?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFrames:function(c,v,g,y,C,S){y===void 0&&(y=1),C===void 0&&(C=!0),S===void 0&&(S=this.linearShader);var P=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",y),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.texture.webGLTexture),P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,v.texture.webGLTexture),g?(P.bindFramebuffer(P.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,g.texture.webGLTexture,0),P.viewport(0,0,g.width,g.height)):P.viewport(0,0,c.width,c.height),C?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFramesAdditive:function(c,v,g,y,C){this.blendFrames(c,v,g,y,C,this.addShader)},clearFrame:function(c,v){v===void 0&&(v=!0);var g=this.gl;g.viewport(0,0,c.width,c.height),g.bindFramebuffer(g.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),v?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT);var y=this.renderer.currentFramebuffer;g.bindFramebuffer(g.FRAMEBUFFER,y.webGLFramebuffer)},setUVs:function(c,v,g,y,C,S,P,w){var R=this.vertexViewF32;R[2]=c,R[3]=v,R[6]=g,R[7]=y,R[10]=C,R[11]=S,R[14]=c,R[15]=v,R[18]=C,R[19]=S,R[22]=P,R[23]=w},setTargetUVs:function(c,v){var g=v.height/c.height;g>.5?g=.5-(g-.5):g=.5+(.5-g),this.setUVs(0,g,0,1+g,1,1+g,1,g)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=f},36060:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=T},84817:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},36712:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},40285:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},65918:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},92852:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},56072:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},57566:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},77085:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(99155),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.amount=1},onPreRender:function(a,e){a=this.getController(a),this.set1f("amount",a.amount,e)}});p.exports=s},67329:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(24400),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(a){a=this.getController(a),this.set1f("strength",a.blurStrength),this.set3fv("color",a.glcolor)},onDraw:function(a){var e=this.getController(),r=this.fullFrame1,d=this.fullFrame2;this.copyFrame(a,d);for(var n=2/a.width*e.offsetX,h=2/a.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",n,0),this.copySprite(a,r),this.set2f("offset",0,h),this.copySprite(r,a);this.blendFrames(d,a,r,e.strength),this.copyToGame(r)}});p.exports=s},8861:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(41514),l=t(51078),s=t(94328),a=t(84057),e=new u({Extends:a,initialize:function(d){a.call(this,{game:d,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:l},{name:"Gaussian13",fragShader:s}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(r){var d=this.getController(),n=this.gl,h=this.fullFrame1,f=n.getParameter(n.FRAMEBUFFER_BINDING);this.bind(this.shaders[d.quality]),n.activeTexture(n.TEXTURE0),n.viewport(0,0,r.width,r.height),this.set1i("uMainSampler",0),this.set2f("resolution",r.width,r.height),this.set1f("strength",d.strength),this.set3fv("color",d.glcolor);for(var c=0;c<d.steps;c++)this.set2f("offset",d.x,0),this.copySprite(r,h),this.set2f("offset",0,d.y),this.copySprite(h,r);n.bindFramebuffer(n.FRAMEBUFFER,f),n.bindTexture(n.TEXTURE_2D,null),this.copyToGame(r)}});p.exports=e},51051:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(90610),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(a,e,r,d){a=this.getController(a),this.set1f("radius",a.radius,e),this.set1f("amount",a.amount,e),this.set1f("contrast",a.contrast,e),this.set1f("strength",a.strength,e),this.set2f("blur",a.blurX,a.blurY,e),this.setBoolean("isTiltShift",a.isTiltShift,e),r&&d&&this.set2f("resolution",r,d,e)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});p.exports=s},89428:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(91899),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(a,e,r,d){a=this.getController(a),this.set1f("scale",a.scale,e),this.set1f("feather",a.feather,e),this.set1f("thickness",a.thickness,e),this.set3fv("color",a.glcolor,e),this.set4fv("backgroundColor",a.glcolor2,e),r&&d&&this.set2f("resolution",r,d,e)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});p.exports=s},88904:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(84057),l=new u({Extends:m,initialize:function(a){m.call(this,{game:a})},onDraw:function(s){var a=this.fullFrame1;this.controller?this.manager.drawFrame(s,a,!0,this.controller):this.drawFrame(s,a),this.copyToGame(a)}});p.exports=l},63563:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(47838),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(a){var e=this.game.textures.getFrame(a);e&&(this.glTexture=e.glTexture)},onDraw:function(a){var e=this.getController(),r=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(a,r),this.copyToGame(r)}});p.exports=s},94045:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=t(98656),s=t(84057),a=t(70554),e=new u({Extends:s,initialize:function(d,n){var h=m(n,"quality",.1),f=m(n,"distance",10);s.call(this,{game:d,fragShader:a.setGlowQuality(l,d,h,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(r,d,n,h){r=this.getController(r),this.set1f("outerStrength",r.outerStrength,d),this.set1f("innerStrength",r.innerStrength,d),this.set4fv("glowColor",r.glcolor,d),this.setBoolean("knockout",r.knockout,d),n&&h&&this.set2f("resolution",n,h,d)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});p.exports=e},74088:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(70463),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(a,e){a=this.getController(a),this.set1f("alpha",a.alpha,e),this.set1i("size",a.size,e),this.set3fv("color1",a.glcolor1,e),this.set3fv("color2",a.glcolor2,e),this.set2f("positionFrom",a.fromX,a.fromY,e),this.set2f("positionTo",a.toX,a.toY,e)}});p.exports=s},99636:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50831),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.amount=1},onPreRender:function(a,e,r,d){a=this.getController(a),this.set1f("amount",a.amount,e),r&&d&&this.set2f("resolution",r,d,e)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});p.exports=s},34700:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(92595),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(a,e){a=this.getController(a);var r=a.samples;this.set1i("samples",r,e),this.set1f("intensity",a.intensity,e),this.set1f("decay",a.decay,e),this.set1f("power",a.power/r,e),this.set2f("lightPosition",a.x,a.y,e),this.set4fv("color",a.glcolor,e)}});p.exports=s},91157:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(72464),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(a,e,r,d){a=this.getController(a),this.setTime("time",e),this.set1f("speed",a.speed,e),this.set1f("lineWidth",a.lineWidth,e),this.set1f("gradient",a.gradient,e),this.setBoolean("reveal",a.reveal,e),r&&d&&this.set2f("resolution",r,d,e)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});p.exports=s},27797:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(39249),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(a,e){a=this.getController(a),this.set1f("radius",a.radius,e),this.set1f("strength",a.strength,e),this.set2f("position",a.x,a.y,e)}});p.exports=s},67603:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(2878),l=t(84057),s=new u({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:m}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(a,e){a=this.getController(a);var r=a.progress,d=a.wipeWidth,n=a.direction,h=a.axis;this.set4f("config",r,d,n,h,e),this.setBoolean("reveal",a.reveal,e)}});p.exports=s},58918:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};p.exports=u},96615:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(36060),m=t(79291),l={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};l=m(!1,l,u),p.exports=l},35407:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(p,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e){this.webGLAttribLocation=-1,this.gl=s,this.program=a,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var l=this.gl;l.isContextLost()||(this.webGLAttribLocation=l.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});p.exports=m},26128:(p,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e,r){this.webGLBuffer=null,this.gl=s,this.initialDataOrSize=a,this.bufferType=e,this.bufferUsage=r,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var l=this.gl;if(!l.isContextLost()){var s=this.bufferType,a=l.createBuffer();this.webGLBuffer=a,l.bindBuffer(s,this.webGLBuffer),l.bufferData(s,this.initialDataOrSize,this.bufferUsage),l.bindBuffer(s,null)}}},destroy:function(){var l=this.gl;l.isContextLost()||l.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});p.exports=m},84387:(p,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},l=new u({initialize:function(a,e,r,d,n){this.webGLFramebuffer=null,this.gl=a,this.width=e,this.height=r,this.renderTexture=d,this.addDepthStencilBuffer=!!n,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var a=this.renderTexture,e=0,r=s.createFramebuffer();if(this.webGLFramebuffer=r,s.bindFramebuffer(s.FRAMEBUFFER,r),a.isRenderTexture=!0,a.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,a.webGLTexture,0),e=s.checkFramebufferStatus(s.FRAMEBUFFER),e!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(m[e]||e));if(this.addDepthStencilBuffer){var d=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,d),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,this.width,this.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,d)}s.bindFramebuffer(s.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var s=this.gl;if(!s.isContextLost()){s.bindFramebuffer(s.FRAMEBUFFER,this.webGLFramebuffer);var a=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,null,0),s.deleteTexture(a));var e=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&s.deleteRenderbuffer(e),s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});p.exports=l},1482:(p,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e){this.webGLProgram=null,this.gl=s,this.vertexSource=a,this.fragmentSource=e,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var s=l.createProgram(),a=l.createShader(l.VERTEX_SHADER),e=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(a,this.vertexSource),l.shaderSource(e,this.fragmentSource),l.compileShader(a),l.compileShader(e);var r=`Shader failed:
`;if(!l.getShaderParameter(a,l.COMPILE_STATUS))throw new Error("Vertex "+r+l.getShaderInfoLog(a));if(!l.getShaderParameter(e,l.COMPILE_STATUS))throw new Error("Fragment "+r+l.getShaderInfoLog(e));if(l.attachShader(s,a),l.attachShader(s,e),l.linkProgram(s),!l.getProgramParameter(s,l.LINK_STATUS))throw new Error("Link "+r+l.getProgramInfoLog(s));l.useProgram(s),this.webGLProgram=s}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});p.exports=m},82751:(p,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50030),l=new u({initialize:function(a,e,r,d,n,h,f,c,v,g,y,C,S){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=a,this.mipLevel=e,this.minFilter=r,this.magFilter=d,this.wrapT=n,this.wrapS=h,this.format=f,this.pixels=c,this.width=v,this.height=g,this.pma=y??!0,this.forceSize=!!C,this.flipY=!!S,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){if(this.pixels instanceof l){this.webGLTexture=this.pixels.webGLTexture;return}var a=s.createTexture();a.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=a,this._processTexture()}},update:function(s,a,e,r,d,n,h,f,c){if(!(a===0||e===0)){this.pixels=s,this.width=a,this.height=e,this.flipY=r,this.wrapS=d,this.wrapT=n,this.minFilter=h,this.magFilter=f,this.format=c;var v=this.gl;v.isContextLost()||this._processTexture()}},_processTexture:function(){var s=this.gl;s.activeTexture(s.TEXTURE0);var a=s.getParameter(s.TEXTURE_BINDING_2D);s.bindTexture(s.TEXTURE_2D,this.webGLTexture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.minFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,this.wrapT),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,r=this.mipLevel,d=this.width,n=this.height,h=this.format,f=!1;if(e==null)s.texImage2D(s.TEXTURE_2D,r,h,d,n,0,h,s.UNSIGNED_BYTE,null),f=m(d,n);else if(e.compressed){d=e.width,n=e.height,f=e.generateMipmap;for(var c=0;c<e.mipmaps.length;c++)s.compressedTexImage2D(s.TEXTURE_2D,c,e.internalFormat,e.mipmaps[c].width,e.mipmaps[c].height,0,e.mipmaps[c].data)}else e instanceof Uint8Array?(s.texImage2D(s.TEXTURE_2D,r,h,d,n,0,h,s.UNSIGNED_BYTE,e),f=m(d,n)):(this.forceSize||(d=e.width,n=e.height),s.texImage2D(s.TEXTURE_2D,r,h,h,s.UNSIGNED_BYTE,e),f=m(d,n));f&&s.generateMipmap(s.TEXTURE_2D),a?s.bindTexture(s.TEXTURE_2D,a):s.bindTexture(s.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(s){this.__SPECTOR_Metadata=s,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=s)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof l||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});p.exports=l},57183:(p,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e){this.webGLUniformLocation=null,this.gl=s,this.program=a,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var l=this.gl;l.isContextLost()||(this.webGLUniformLocation=l.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});p.exports=m},9503:(p,T,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};p.exports=u},76531:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(13560),m=t(83419),l=t(50792),s=t(97480),a=t(8443),e=t(57811),r=t(74403),d=t(45818),n=t(29747),h=t(87841),f=t(86555),c=t(56583),v=t(26099),g=t(38058),y=new m({Extends:l,initialize:function(S){l.call(this),this.game=S,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=u.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=u.CENTER.NO_CENTER,this.orientation=u.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:n,windowResize:n,fullScreenChange:n,fullScreenError:n}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var C=this.game;this.canvas=C.canvas,this.fullscreen=C.device.fullscreen,this.scaleMode!==u.SCALE_MODE.RESIZE&&this.scaleMode!==u.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===u.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),C.events.on(a.PRE_STEP,this.step,this),C.events.once(a.READY,this.refresh,this),C.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(C){this.getParent(C),this.getParentBounds();var S=C.width,P=C.height,w=C.scaleMode,R=C.zoom,L=C.autoRound;if(typeof S=="string")if(S.substr(-1)!=="%")S=parseInt(S,10);else{var D=this.parentSize.width;D===0&&(D=window.innerWidth);var F=parseInt(S,10)/100;S=Math.floor(D*F)}if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var O=this.parentSize.height;O===0&&(O=window.innerHeight);var B=parseInt(P,10)/100;P=Math.floor(O*B)}this.scaleMode=w,this.autoRound=L,this.autoCenter=C.autoCenter,this.resizeInterval=C.resizeInterval,L&&(S=Math.floor(S),P=Math.floor(P)),this.gameSize.setSize(S,P),R===u.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),this.zoom=R,R!==1&&(this._resetZoom=!0),this.baseSize.setSize(S,P),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),C.minWidth>0&&this.displaySize.setMin(C.minWidth*R,C.minHeight*R),C.maxWidth>0&&this.displaySize.setMax(C.maxWidth*R,C.maxHeight*R),this.displaySize.setSize(S,P),(C.snapWidth>0||C.snapHeight>0)&&this.displaySize.setSnap(C.snapWidth,C.snapHeight),this.orientation=d(S,P)},getParent:function(C){var S=C.parent;if(S!==null){if(this.parent=r(S),this.parentIsWindow=this.parent===document.body,C.expandParent&&C.scaleMode!==u.SCALE_MODE.NONE){var P=this.parent.getBoundingClientRect();(this.parentIsWindow||P.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",P=this.parent.getBoundingClientRect(),!this.parentIsWindow&&P.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}C.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(C.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var C=this.parentSize,S=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(S.height=e(!0));var P=S.width,w=S.height;if(C.width!==P||C.height!==w)return C.setSize(P,w),!0;if(this.canvas){var R=this.canvasBounds,L=this.canvas.getBoundingClientRect();if(L.x!==R.x||L.y!==R.y)return!0}return!1},lockOrientation:function(C){var S=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return S?S.call(screen,C):!1},setParentSize:function(C,S){return this.parentSize.setSize(C,S),this.refresh()},setGameSize:function(C,S){var P=this.autoRound;P&&(C=Math.floor(C),S=Math.floor(S));var w=this.width,R=this.height;return this.gameSize.resize(C,S),this.baseSize.resize(C,S),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(C/S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(w,R)},resize:function(C,S){var P=this.zoom,w=this.autoRound;w&&(C=Math.floor(C),S=Math.floor(S));var R=this.width,L=this.height;this.gameSize.resize(C,S),this.baseSize.resize(C,S),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(C*P,S*P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,F=C*P,O=S*P;return w&&(F=Math.floor(F),O=Math.floor(O)),(F!==C||O!==S)&&(D.width=F+"px",D.height=O+"px"),this.refresh(R,L)},setZoom:function(C){return this.zoom=C,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(C,S){return C===void 0&&(C=0),S===void 0&&(S=C),this.displaySize.setSnap(C,S),this.refresh()},refresh:function(C,S){C===void 0&&(C=this.width),S===void 0&&(S=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var P=this.game.domContainer;if(P){this.baseSize.setCSS(P);var w=this.canvas.style,R=P.style;R.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",R.marginLeft=w.marginLeft,R.marginTop=w.marginTop}return this.emit(s.RESIZE,this.gameSize,this.baseSize,this.displaySize,C,S),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var C=d(this.width,this.height);C!==this.orientation&&(this.orientation=C,this.emit(s.ORIENTATION_CHANGE,C))}},updateScale:function(){var C=this.canvas.style,S=this.gameSize.width,P=this.gameSize.height,w,R,L=this.zoom,D=this.autoRound;if(this.scaleMode===u.SCALE_MODE.NONE)this.displaySize.setSize(S*L,P*L),w=this.displaySize.width,R=this.displaySize.height,D&&(w=Math.floor(w),R=Math.floor(R)),this._resetZoom&&(C.width=w+"px",C.height=R+"px",this._resetZoom=!1);else if(this.scaleMode===u.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),w=this.displaySize.width,R=this.displaySize.height,D&&(w=Math.floor(w),R=Math.floor(R)),this.canvas.width=w,this.canvas.height=R;else if(this.scaleMode===u.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),w=this.displaySize.width,R=this.displaySize.height,D&&(w=Math.floor(w),R=Math.floor(R)),C.width=w+"px",C.height=R+"px";var F=this.parentSize.width/this.gameSize.width,O=this.parentSize.height/this.gameSize.height;F<O?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/F):this.baseSize.setSize(this.displaySize.width/O,this.gameSize.height),w=this.baseSize.width,R=this.baseSize.height,D&&(w=Math.floor(w),R=Math.floor(R)),this.canvas.width=w,this.canvas.height=R}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),w=this.displaySize.width,R=this.displaySize.height,D&&(w=Math.floor(w),R=Math.floor(R)),C.width=w+"px",C.height=R+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var C=c(this.parentSize.width,this.gameSize.width,0,!0),S=c(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(C,S),1)},updateCenter:function(){var C=this.autoCenter;if(C!==u.CENTER.NO_CENTER){var S=this.canvas,P=S.style,w=S.getBoundingClientRect(),R=w.width,L=w.height,D=Math.floor((this.parentSize.width-R)/2),F=Math.floor((this.parentSize.height-L)/2);C===u.CENTER.CENTER_HORIZONTALLY?F=0:C===u.CENTER.CENTER_VERTICALLY&&(D=0),P.marginLeft=D+"px",P.marginTop=F+"px"}},updateBounds:function(){var C=this.canvasBounds,S=this.canvas.getBoundingClientRect();C.x=S.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),C.y=S.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),C.width=S.width,C.height=S.height},transformX:function(C){return(C-this.canvasBounds.left)*this.displayScale.x},transformY:function(C){return(C-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(C){C===void 0&&(C={navigationUI:"hide"});var S=this.fullscreen;if(!S.available){this.emit(s.FULLSCREEN_UNSUPPORTED);return}if(!S.active){var P=this.getFullscreenTarget();S.keyboard?P[S.request](Element.ALLOW_KEYBOARD_INPUT):P[S.request](C)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(s.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(C){this.removeFullscreenTarget(),this.emit(s.FULLSCREEN_FAILED,C)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var C=document.createElement("div");C.style.margin="0",C.style.padding="0",C.style.width="100%",C.style.height="100%",this.fullscreenTarget=C,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var S=this.canvas.parentNode;S.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var C=this.fullscreenTarget;if(C&&C.parentNode){var S=C.parentNode;S.insertBefore(this.canvas,C),S.removeChild(C)}}},stopFullscreen:function(){var C=this.fullscreen;if(!C.available)return this.emit(s.FULLSCREEN_UNSUPPORTED),!1;C.active&&document[C.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(s.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(C){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(C)},startListeners:function(){var C=this,S=this.domlisteners;if(S.orientationChange=function(){C.updateBounds(),C._checkOrientation=!0,C.dirty=!0,C.refresh()},S.windowResize=function(){C.updateBounds(),C.dirty=!0},window.addEventListener("orientationchange",S.orientationChange,!1),window.addEventListener("resize",S.windowResize,!1),this.fullscreen.available){S.fullScreenChange=function(w){return C.onFullScreenChange(w)},S.fullScreenError=function(w){return C.onFullScreenError(w)};var P=["webkit","moz",""];P.forEach(function(w){document.addEventListener(w+"fullscreenchange",S.fullScreenChange,!1),document.addEventListener(w+"fullscreenerror",S.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.addEventListener("MSFullscreenError",S.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(C,S){C instanceof g||(S=C,C=void 0),S===void 0&&(S=new h);var P=this.baseSize,w=this.parentSize,R=this.canvasBounds,L=this.displayScale,D=R.x>=0?0:-(R.x*L.x),F=R.y>=0?0:-(R.y*L.y),O;w.width>=R.width?O=P.width:O=P.width-(R.width-w.width)*L.x;var B;return w.height>=R.height?B=P.height:B=P.height-(R.height-w.height)*L.y,S.setTo(D,F,O,B),C&&(S.width/=C.zoomX,S.height/=C.zoomY,S.centerX=C.centerX+C.scrollX,S.centerY=C.centerY+C.scrollY),S},step:function(C,S){this.parent&&(this._lastCheck+=S,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var C=this.domlisteners;window.removeEventListener("orientationchange",C.orientationChange,!1),window.removeEventListener("resize",C.windowResize,!1);var S=["webkit","moz",""];S.forEach(function(P){document.removeEventListener(P+"fullscreenchange",C.fullScreenChange,!1),document.removeEventListener(P+"fullscreenerror",C.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",C.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===u.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===u.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=y},64743:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};p.exports=u},56139:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},2336:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},47412:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},51452:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},20666:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},47945:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},97480:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79291),m=t(13560),l={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};l=u(!1,l,m.CENTER),l=u(!1,l,m.ORIENTATION),l=u(!1,l,m.SCALE_MODE),l=u(!1,l,m.ZOOM),p.exports=l},27397:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95540),m=t(35355),l=function(s){var a=s.game.config.defaultPhysicsSystem,e=u(s.settings,"physics",!1);if(!(!a&&!e)){var r=[];if(a&&r.push(m(a+"Physics")),e)for(var d in e)d=m(d.concat("Physics")),r.indexOf(d)===-1&&r.push(d);return r}};p.exports=l},52106:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95540),m=function(l){var s=l.plugins.getDefaultScenePlugins(),a=u(l.settings,"plugins",!1);return Array.isArray(a)?a:s||[]};p.exports=m},87033:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=T},97482:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(2368),l=new u({initialize:function(a){this.sys=new m(this,a),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=l},60903:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(89993),l=t(44594),s=t(8443),a=t(35154),e=t(54899),r=t(29747),d=t(97482),n=t(2368),h=new u({initialize:function(c,v){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)this._pending.push({key:"default",scene:v[g],autoStart:g===0,data:{}})}c.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new d),this.game.events.emit(s.SYSTEM_READY,this.systemScene,this);var f,c,v,g;for(f=0;f<this._pending.length;f++){c=this._pending[f],v=c.key,g=c.scene;var y;g instanceof d?y=this.createSceneFromInstance(v,g):typeof g=="object"?y=this.createSceneFromObject(v,g):typeof g=="function"&&(y=this.createSceneFromFunction(v,g)),v=y.sys.settings.key,this.keys[v]=y,this.scenes.push(y),this._data[v]&&(y.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(c.autoStart=!0)),(c.autoStart||y.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)c=this._start[f],this.start(c);this._start.length=0}},processQueue:function(){var f=this._pending.length,c=this._queue.length;if(!(f===0&&c===0)){var v,g;if(f){for(v=0;v<f;v++)g=this._pending[v],this.add(g.key,g.scene,g.autoStart,g.data);for(v=0;v<this._start.length;v++)g=this._start[v],this.start(g);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)g=this._queue[v],this[g.op](g.keyA,g.keyB);this._queue.length=0}},add:function(f,c,v,g){if(v===void 0&&(v=!1),g===void 0&&(g={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:c,autoStart:v,data:g}),this.isBooted||(this._data[f]={data:g}),null;f=this.getKey(f,c);var y;return c instanceof d?y=this.createSceneFromInstance(f,c):typeof c=="object"?(c.key=f,y=this.createSceneFromObject(f,c)):typeof c=="function"&&(y=this.createSceneFromFunction(f,c)),y.sys.settings.data=g,f=y.sys.settings.key,this.keys[f]=y,this.scenes.push(y),(v||y.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),y},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var c=this.getScene(f);if(!c||c.sys.isTransitioning())return this;var v=this.scenes.indexOf(c),g=c.sys.settings.key;v>-1&&(delete this.keys[g],this.scenes.splice(v,1),this._start.indexOf(g)>-1&&(v=this._start.indexOf(g),this._start.splice(v,1)),c.sys.destroy())}return this},bootScene:function(f){var c=f.sys,v=c.settings;c.sceneUpdate=r,f.init&&(f.init.call(f,v.data),v.status=m.INIT,v.isTransition&&c.events.emit(l.TRANSITION_INIT,v.transitionFrom,v.transitionDuration));var g;c.load&&(g=c.load,g.reset()),g&&f.preload?(f.preload.call(f),v.status=m.LOADING,g.once(e.COMPLETE,this.loadComplete,this),g.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,c){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var g=this.scenes[v].sys;g.settings.status>m.START&&g.settings.status<=m.RUNNING&&g.step(f,c),g.scenePlugin&&g.scenePlugin._target&&g.scenePlugin.step(f,c)}},render:function(f){for(var c=0;c<this.scenes.length;c++){var v=this.scenes[c].sys;v.settings.visible&&v.settings.status>=m.LOADING&&v.settings.status<m.SLEEPING&&v.render(f)}this.isProcessing=!1},create:function(f){var c=f.sys,v=c.settings;f.create&&(v.status=m.CREATING,f.create.call(f,v.data),v.status===m.DESTROYED)||(v.isTransition&&c.events.emit(l.TRANSITION_START,v.transitionFrom,v.transitionDuration),f.update&&(c.sceneUpdate=f.update),v.status=m.RUNNING,c.events.emit(l.CREATE,f))},createSceneFromFunction:function(f,c){var v=new c;if(v instanceof d){var g=v.sys.settings.key;if(g!==""&&(f=g),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,v)}else return v.sys=new n(v),v.sys.settings.key=f,v.sys.init(this.game),v},createSceneFromInstance:function(f,c){var v=c.sys.settings.key;return v===""&&(c.sys.settings.key=f),c.sys.init(this.game),c},createSceneFromObject:function(f,c){var v=new d(c),g=v.sys.settings.key;g!==""?f=g:v.sys.settings.key=f,v.sys.init(this.game);for(var y=["init","preload","create","update","render"],C=0;C<y.length;C++){var S=a(c,y[C],null);S&&(v[y[C]]=S)}if(c.hasOwnProperty("extend")){for(var P in c.extend)if(c.extend.hasOwnProperty(P)){var w=c.extend[P];P==="data"&&v.hasOwnProperty("data")&&typeof w=="object"?v.data.merge(w):P!=="sys"&&(v[P]=w)}}return v},getKey:function(f,c){if(f||(f="default"),typeof c=="function")return f;if(c instanceof d?f=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(f=c.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,c){f===void 0&&(f=!0),c===void 0&&(c=!1);for(var v=[],g=this.scenes,y=0;y<g.length;y++){var C=g[y];C&&(!f||f&&C.sys.isActive())&&v.push(C)}return c?v.reverse():v},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var c=0;c<this.scenes.length;c++)if(f===this.scenes[c])return f;return null},isActive:function(f){var c=this.getScene(f);return c?c.sys.isActive():null},isPaused:function(f){var c=this.getScene(f);return c?c.sys.isPaused():null},isVisible:function(f){var c=this.getScene(f);return c?c.sys.isVisible():null},isSleeping:function(f){var c=this.getScene(f);return c?c.sys.isSleeping():null},pause:function(f,c){var v=this.getScene(f);return v&&v.sys.pause(c),this},resume:function(f,c){var v=this.getScene(f);return v&&v.sys.resume(c),this},sleep:function(f,c){var v=this.getScene(f);return v&&!v.sys.isTransitioning()&&v.sys.sleep(c),this},wake:function(f,c){var v=this.getScene(f);return v&&v.sys.wake(c),this},run:function(f,c){var v=this.getScene(f);if(!v){for(var g=0;g<this._pending.length;g++)if(this._pending[g].key===f){this.queueOp("start",f,c);break}return this}v.sys.isSleeping()?v.sys.wake(c):v.sys.isPaused()?v.sys.resume(c):this.start(f,c)},start:function(f,c){if(!this.isBooted)return this._data[f]={autoStart:!0,data:c},this;var v=this.getScene(f);if(!v)return console.warn("Scene not found for key: "+f),this;var g=v.sys,y=g.settings.status;if(y>=m.START&&y<=m.CREATING)return this;if(y>=m.RUNNING&&y<=m.SLEEPING)g.shutdown(),g.sceneUpdate=r,g.start(c);else{g.sceneUpdate=r,g.start(c);var C;if(g.load&&(C=g.load),C&&g.settings.hasOwnProperty("pack")&&(C.reset(),C.addPack({payload:g.settings.pack})))return g.settings.status=m.LOADING,C.once(e.COMPLETE,this.payloadComplete,this),C.start(),this}return this.bootScene(v),this},stop:function(f,c){var v=this.getScene(f);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==m.SHUTDOWN){var g=v.sys.load;g&&(g.off(e.COMPLETE,this.loadComplete,this),g.off(e.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(c)}return this},switch:function(f,c){var v=this.getScene(f),g=this.getScene(c);return v&&g&&v!==g&&(this.sleep(f),this.isSleeping(c)?this.wake(c):this.start(c)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var c=this.getScene(f);return this.scenes.indexOf(c)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var c=this.getIndex(f);if(c!==-1&&c<this.scenes.length){var v=this.getScene(f);this.scenes.splice(c,1),this.scenes.push(v)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var c=this.getIndex(f);if(c!==-1&&c>0){var v=this.getScene(f);this.scenes.splice(c,1),this.scenes.unshift(v)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var c=this.getIndex(f);if(c>0){var v=c-1,g=this.getScene(f),y=this.getAt(v);this.scenes[c]=y,this.scenes[v]=g}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var c=this.getIndex(f);if(c<this.scenes.length-1){var v=c+1,g=this.getScene(f),y=this.getAt(v);this.scenes[c]=y,this.scenes[v]=g}}return this},moveAbove:function(f,c){if(f===c)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:c});else{var v=this.getIndex(f),g=this.getIndex(c);if(v!==-1&&g!==-1&&g<v){var y=this.getAt(g);this.scenes.splice(g,1),this.scenes.splice(v+(g>v),0,y)}}return this},moveBelow:function(f,c){if(f===c)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:c});else{var v=this.getIndex(f),g=this.getIndex(c);if(v!==-1&&g!==-1&&g>v){var y=this.getAt(g);this.scenes.splice(g,1),v===0?this.scenes.unshift(y):this.scenes.splice(v-(g<v),0,y)}}return this},queueOp:function(f,c,v){return this._queue.push({op:f,keyA:c,keyB:v}),this},swapPosition:function(f,c){if(f===c)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:c});else{var v=this.getIndex(f),g=this.getIndex(c);if(v!==g&&v!==-1&&g!==-1){var y=this.getAt(v);this.scenes[v]=this.scenes[g],this.scenes[g]=y}}return this},dump:function(){for(var f=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var g=this.scenes[v].sys,y=g.settings.visible&&(g.settings.status===m.RUNNING||g.settings.status===m.PAUSED)?"[*] ":"[-] ";y+=g.settings.key+" ("+c[g.settings.status]+")",f.push(y)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=h},52209:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(44594),s=t(95540),a=t(37277),e=new m({initialize:function(d){this.scene=d,this.systems=d.sys,this.settings=d.sys.settings,this.key=d.sys.settings.key,this.manager=d.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,d.sys.events.once(l.BOOT,this.boot,this),d.sys.events.on(l.START,this.pluginStart,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(l.SHUTDOWN,this.shutdown,this)},start:function(r,d){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,d),this},restart:function(r){var d=this.key;return this.manager.queueOp("stop",d),this.manager.queueOp("start",d,r),this},transition:function(r){r===void 0&&(r={});var d=s(r,"target",!1),n=this.manager.getScene(d);if(!d||!this.checkValidTransition(n))return!1;var h=s(r,"duration",1e3);this._elapsed=0,this._target=n,this._duration=h,this._willSleep=s(r,"sleep",!1),this._willRemove=s(r,"remove",!1);var f=s(r,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=s(r,"onUpdateScope",this.scene));var c=s(r,"allowInput",!1);this.settings.transitionAllowInput=c;var v=n.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=h,v.transitionAllowInput=c,s(r,"moveAbove",!1)?this.manager.moveAbove(this.key,d):s(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,d),n.sys.isSleeping()?n.sys.wake(s(r,"data")):this.manager.start(d,s(r,"data"));var g=s(r,"onStart",null),y=s(r,"onStartScope",this.scene);return g&&g.call(y,this.scene,n,h),this.systems.events.emit(l.TRANSITION_OUT,n,h),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,d){this._elapsed+=d,this.transitionProgress=u(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,d=this._target.sys.settings;r.events.emit(l.TRANSITION_COMPLETE,this.scene),d.isTransition=!1,d.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,d,n,h){return this.manager.add(r,d,n,h)},launch:function(r,d){return r&&r!==this.key&&this.manager.queueOp("start",r,d),this},run:function(r,d){return r&&r!==this.key&&this.manager.queueOp("run",r,d),this},pause:function(r,d){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,d),this},resume:function(r,d){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,d),this},sleep:function(r,d){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,d),this},wake:function(r,d){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,d),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,d){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,d),this},setActive:function(r,d,n){d===void 0&&(d=this.key);var h=this.manager.getScene(d);return h&&h.sys.setActive(r,n),this},setVisible:function(r,d){d===void 0&&(d=this.key);var n=this.manager.getScene(d);return n&&n.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,d){return d===void 0&&(d=this.key),r!==d&&this.manager.swapPosition(r,d),this},moveAbove:function(r,d){return d===void 0&&(d=this.key),r!==d&&this.manager.moveAbove(r,d),this},moveBelow:function(r,d){return d===void 0&&(d=this.key),r!==d&&this.manager.moveBelow(r,d),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getStatus:function(r){var d=this.manager.getScene(r);if(d)return d.sys.getStatus()},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(l.SHUTDOWN,this.shutdown,this),r.off(l.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",e,"scenePlugin"),p.exports=e},55681:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(89993),m=t(35154),l=t(46975),s=t(87033),a={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:u.PENDING,key:m(e,"key",""),active:m(e,"active",!1),visible:m(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(e,"pack",!1),cameras:m(e,"cameras",null),map:m(e,"map",l(s,m(e,"mapAdd",{}))),physics:m(e,"physics",{}),loader:m(e,"loader",{}),plugins:m(e,"plugins",!1),input:m(e,"input",{})}}};p.exports=a},2368:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(89993),l=t(42363),s=t(44594),a=t(27397),e=t(52106),r=t(29747),d=t(55681),n=new u({initialize:function(f,c){this.scene=f,this.game,this.renderer,this.config=c,this.settings=d.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=r},init:function(h){this.settings.status=m.INIT,this.sceneUpdate=r,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var f=h.plugins;this.plugins=f,f.addToScene(this,l.Global,[l.CoreScene,e(this),a(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(h,f){var c=this.events;c.emit(s.PRE_UPDATE,h,f),c.emit(s.UPDATE,h,f),this.sceneUpdate.call(this.scene,h,f),c.emit(s.POST_UPDATE,h,f)},render:function(h){var f=this.displayList;f.depthSort(),this.events.emit(s.PRE_RENDER,h),this.cameras.render(h,f),this.events.emit(s.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){var f=this.settings,c=this.getStatus();return c!==m.CREATING&&c!==m.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=m.PAUSED,f.active=!1,this.events.emit(s.PAUSE,this,h)),this},resume:function(h){var f=this.events,c=this.settings;return this.settings.active||(c.status=m.RUNNING,c.active=!0,f.emit(s.RESUME,this,h)),this},sleep:function(h){var f=this.settings,c=this.getStatus();return c!==m.CREATING&&c!==m.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=m.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(s.SLEEP,this,h)),this},wake:function(h){var f=this.events,c=this.settings;return c.status=m.RUNNING,c.active=!0,c.visible=!0,f.emit(s.WAKE,this,h),c.isTransition&&f.emit(s.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var h=this.settings.status;return h>m.PENDING&&h<=m.RUNNING},isSleeping:function(){return this.settings.status===m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,f){return h?this.resume(f):this.pause(f)},start:function(h){var f=this.events,c=this.settings;h&&(c.data=h),c.status=m.START,c.active=!0,c.visible=!0,f.emit(s.START,this),f.emit(s.READY,this,h)},shutdown:function(h){var f=this.events,c=this.settings;f.off(s.TRANSITION_INIT),f.off(s.TRANSITION_START),f.off(s.TRANSITION_COMPLETE),f.off(s.TRANSITION_OUT),c.status=m.SHUTDOWN,c.active=!1,c.visible=!1,f.emit(s.SHUTDOWN,this,h)},destroy:function(){var h=this.events,f=this.settings;f.status=m.DESTROYED,f.active=!1,f.visible=!1,h.emit(s.DESTROY,this),h.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<c.length;v++)this[c[v]]=null}});p.exports=n},89993:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=T},69830:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},7919:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},46763:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},11763:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},71555:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},36735:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},3809:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},90716:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},58262:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},91633:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},10319:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},87132:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},81961:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},90194:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},6265:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},33178:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},43063:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},11259:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},61611:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},45209:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},22966:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},21747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},44594:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(89993),m=t(79291),l={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};l=m(!1,l,u),p.exports=l},30341:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50792),l=t(14463),s=t(79291),a=t(29747),e=new u({Extends:m,initialize:function(d,n,h){m.call(this),this.manager=d,this.key=n,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=s(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=s(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var d=this.markers[r];return d?(this.markers[r]=null,d):null},play:function(r,d){if(r===void 0&&(r=""),typeof r=="object"&&(d=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=s(this.currentConfig,d),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var r=1.0005777895065548,d=this.currentConfig.detune+this.manager.detune,n=Math.pow(r,d);this.totalRate=this.currentConfig.rate*this.manager.rate*n},destroy:function(){this.pendingRemove||(this.stop(),this.emit(l.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=e},85034:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(41786),l=t(50792),s=t(14463),a=t(8443),e=t(46710),r=t(58731),d=t(29747),n=t(26099),h=new u({Extends:l,initialize:function(c){l.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new n,c.events.on(a.BLUR,this.onGameBlur,this),c.events.on(a.FOCUS,this.onGameFocus,this),c.events.on(a.PRE_STEP,this.update,this),c.events.once(a.DESTROY,this.destroy,this)},add:d,addAudioSprite:function(f,c){c===void 0&&(c={});var v=this.add(f,c);v.spritemap=this.jsonCache.get(f).spritemap;for(var g in v.spritemap)if(v.spritemap.hasOwnProperty(g)){var y=m(c),C=v.spritemap[g];y.loop=C.hasOwnProperty("loop")?C.loop:!1,v.addMarker({name:g,start:C.start,duration:C.end-C.start,config:y})}return v},get:function(f){return r(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,c){var v=this.add(f);return v.once(s.COMPLETE,v.destroy,v),c?c.name?(v.addMarker(c),v.play(c.name)):v.play(c):v.play()},playAudioSprite:function(f,c,v){var g=this.addAudioSprite(f);return g.once(s.COMPLETE,g.destroy,g),g.play(c,v)},remove:function(f){var c=this.sounds.indexOf(f);return c!==-1?(f.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var c=0,v=this.sounds.length-1;v>=0;v--){var g=this.sounds[v];g.key===f&&(g.destroy(),this.sounds.splice(v,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(s.RESUME_ALL,this)},setListenerPosition:d,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(f){var c=0;return this.getAll(f).forEach(function(v){v.stop()&&c++}),c},unlock:d,onBlur:d,onFocus:d,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(g){g.update(f,c)})},destroy:function(){this.game.events.off(a.BLUR,this.onGameBlur,this),this.game.events.off(a.FOCUS,this.onGameFocus,this),this.game.events.off(a.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,c){var v=this;this.sounds.forEach(function(g,y){g&&!g.pendingRemove&&f.call(c||v,g,y,v.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(s.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,f)}}});p.exports=h},14747:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(33684),m=t(25960),l=t(57490),s={create:function(a){var e=a.config.audio,r=a.device.audio;return e.noAudio||!r.webAudio&&!r.audioData?new m(a):r.webAudio&&!e.disableWebAudio?new l(a):new u(a)}};p.exports=s},19723:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},98882:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},57506:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},73146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},11305:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},40577:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},30333:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},20394:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},21802:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},1299:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},99190:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},97125:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},89259:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},79986:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},17586:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},19618:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},42306:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},10387:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},48959:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},9960:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},19180:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},98328:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},50401:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},52498:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},14463:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(30341),m=t(83419),l=t(14463),s=t(45319),a=new m({Extends:u,initialize:function(r,d,n){if(n===void 0&&(n={}),this.tags=r.game.cache.audio.get(d),!this.tags)throw new Error('No cached audio asset with key "'+d);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,u.call(this,r,d,n)},play:function(e,r){return this.manager.isLocked(this,"play",[e,r])||!u.prototype.play.call(this,e,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!u.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!u.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(l.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,r=this.currentConfig.delay,d=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=d,this.audio.currentTime=d,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var r=this.tags[e];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var d=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&d.push(h)},this),d.sort(function(h,f){return h.loop===f.loop?f.seek/f.duration-h.seek/h.duration:h.loop?1:-1});var n=d[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){u.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,d=r+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=d-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,n-d),n=this.audio.currentTime):n<r&&(this.audio.currentTime+=r,n=this.audio.currentTime),n<this.previousTime&&this.emit(l.LOOPED,this);else if(n>=d){this.reset(),this.stopAndReleaseAudioTag(),this.emit(l.COMPLETE,this);return}this.previousTime=n}},destroy:function(){u.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){u.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(l.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(l.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,l.RATE,e)&&(this.calculateRate(),this.emit(l.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,l.DETUNE,e)&&(this.calculateRate(),this.emit(l.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(l.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(l.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(l.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=a},33684:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85034),m=t(83419),l=t(14463),s=t(64895),a=new m({Extends:u,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,u.call(this,r)},add:function(e,r){var d=new s(this,e,r);return this.sounds.push(d),d},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(h,f){for(var c=0;c<f.length;c++)if(f[c].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var r=!1,d=function(){r=!0},n=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",d),document.body.removeEventListener("touchend",n);var h=[];if(e.game.cache.audio.entries.each(function(c,v){for(var g=0;g<v.length;g++){var y=v[g];y.dataset.locked==="true"&&h.push(y)}return!0}),h.length!==0){var f=h[h.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,h.forEach(function(c){c.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(c){c.load()})}};this.once(l.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",d,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){u.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,r,d){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:r,value:d}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(l.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(l.GLOBAL_VOLUME,this,e)}}});p.exports=a},23717:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(30341),m=t(83419),l=t(50792),s=t(79291),a=t(29747),e=function(){return!1},r=function(){return null},d=function(){return this},n=new m({Extends:l,initialize:function(f,c,v){v===void 0&&(v={}),l.call(this),this.manager=f,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:r,play:e,pause:e,resume:e,stop:e,setMute:d,setVolume:d,setRate:d,setDetune:d,setSeek:d,setLoop:d,setPan:d,applyConfig:r,resetConfig:r,update:a,calculateRate:r,destroy:function(){u.prototype.destroy.call(this)}});p.exports=n},25960:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85034),m=t(83419),l=t(50792),s=t(4603),a=t(29747),e=new m({Extends:l,initialize:function(d){l.call(this),this.game=d,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,d){var n=new s(this,r,d);return this.sounds.push(n),n},addAudioSprite:function(r,d){var n=this.add(r,d);return n.spritemap={},n},get:function(r){return u.prototype.get.call(this,r)},getAll:function(r){return u.prototype.getAll.call(this,r)},play:function(r,d){return!1},playAudioSprite:function(r,d,n){return!1},remove:function(r){return u.prototype.remove.call(this,r)},removeAll:function(){return u.prototype.removeAll.call(this)},removeByKey:function(r){return u.prototype.removeByKey.call(this,r)},stopByKey:function(r){return u.prototype.stopByKey.call(this,r)},onBlur:a,onFocus:a,onGameBlur:a,onGameFocus:a,pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,unlock:a,forEachActiveSound:function(r,d){u.prototype.forEachActiveSound.call(this,r,d)},destroy:function(){u.prototype.destroy.call(this)}});p.exports=e},71741:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(30341),m=t(83419),l=t(14463),s=t(95540),a=new m({Extends:u,initialize:function(r,d,n){if(n===void 0&&(n={}),this.audioBuffer=r.game.cache.audio.get(d),!this.audioBuffer)throw new Error('Audio key "'+d+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=r.context.createGain(),this.volumeNode=r.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),r.context.createPanner&&(this.spatialNode=r.context.createPanner(),this.volumeNode.connect(this.spatialNode)),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),r.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(r.destination)):r.context.createPanner?this.spatialNode.connect(r.destination):this.volumeNode.connect(r.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,u.call(this,r,d,n)},play:function(e,r){return u.prototype.play.call(this,e,r)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(l.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(l.RESUME,this),!0)},stop:function(){return u.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(l.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,r=this.currentConfig.delay,d=this.manager.context.currentTime+r,n=(this.currentMarker?this.currentMarker.start:0)+e,h=this.duration-e;this.playTime=d-e,this.startTime=d,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,d),Math.max(0,n),Math.max(0,h)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),r=this.currentMarker?this.currentMarker.start:0,d=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,r),Math.max(0,d))},createBufferSource:function(){var e=this,r=this.manager.context.createBufferSource();return r.buffer=this.audioBuffer,r.connect(this.muteNode),r.onended=function(d){d.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},r},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var r=this.spatialNode;r.panningModel=s(e,"panningModel","equalpower"),r.distanceModel=s(e,"distanceModel","inverse"),r.orientationX.value=s(e,"orientationX",0),r.orientationY.value=s(e,"orientationY",0),r.orientationZ.value=s(e,"orientationZ",-1),r.refDistance=s(e,"refDistance",1),r.maxDistance=s(e,"maxDistance",1e4),r.rolloffFactor=s(e,"rolloffFactor",1),r.coneInnerAngle=s(e,"coneInnerAngle",360),r.coneOuterAngle=s(e,"coneOuterAngle",0),r.coneOuterGain=s(e,"coneOuterGain",0),this.spatialSource=s(e,"follow",null),this.spatialSource||(r.positionX.value=s(e,"x",0),r.positionY.value=s(e,"y",0),r.positionZ.value=s(e,"z",0))}u.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=s(this.spatialSource,"x",null),r=s(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),r&&r!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=r)}this.hasEnded?(u.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(l.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(l.LOOPED,this))},destroy:function(){this.pendingRemove||(u.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){u.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,r=0;r<this.rateUpdates.length;r++){var d=0;r<this.rateUpdates.length-1?d=this.rateUpdates[r+1].time:d=this.manager.context.currentTime-this.playTime,e+=(d-this.rateUpdates[r].time)*this.rateUpdates[r].rate}return e},getLoopTime:function(){for(var e=0,r=0;r<this.rateUpdates.length-1;r++)e+=(this.rateUpdates[r+1].time-this.rateUpdates[r].time)*this.rateUpdates[r].rate;var d=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+d.time+(this.duration-e)/d.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(l.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(l.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(l.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(l.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(l.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(l.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(l.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=a},57490:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(53134),m=t(85034),l=t(83419),s=t(14463),a=t(8443),e=t(71741),r=t(95540),d=new l({Extends:m,initialize:function(h){this.context=this.createAudioContext(h),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),m.call(this,h),this.locked&&h.isBooted?this.unlock():h.events.once(a.BOOT,this.unlock,this)},createAudioContext:function(n){var h=n.config.audio;if(h.context)return h.context.resume(),h.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(n){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=n,this.masterMuteNode=n.createGain(),this.masterVolumeNode=n.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(n.destination),this.destination=this.masterMuteNode,this},add:function(n,h){var f=new e(this,n,h);return this.sounds.push(f),f},decodeAudio:function(n,h){var f;Array.isArray(n)?f=n:f=[{key:n,data:h}];for(var c=this.game.cache.audio,v=f.length,g=0;g<f.length;g++){var y=f[g],C=y.key,S=y.data;typeof S=="string"&&(S=u(S));var P=(function(R,L){c.add(R,L),this.emit(s.DECODED,R),v--,v===0&&this.emit(s.DECODED_ALL)}).bind(this,C),w=(function(R,L){console.error("Error decoding audio: "+R+" - ",L?L.message:""),v--,v===0&&this.emit(s.DECODED_ALL)}).bind(this,C);this.context.decodeAudioData(S,P,w)}},setListenerPosition:function(n,h){return n===void 0&&(n=this.game.scale.width/2),h===void 0&&(h=this.game.scale.height/2),this.listenerPosition.set(n,h),this},unlock:function(){var n=this,h=document.body,f=function c(){if(n.context&&h){var v=h.removeEventListener.bind(h);n.context.resume().then(function(){v("touchstart",c),v("touchend",c),v("click",c),v("keydown",c),n.unlocked=!0},function(){v("touchstart",c),v("touchend",c),v("click",c),v("keydown",c)})}};h&&(h.addEventListener("touchstart",f,!1),h.addEventListener("touchend",f,!1),h.addEventListener("click",f,!1),h.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var n=this.context;n&&!this.locked&&(n.state==="suspended"||n.state==="interrupted")&&n.resume()},update:function(n,h){var f=this.context.listener;if(f&&f.positionX!==void 0){var c=r(this.listenerPosition,"x",null),v=r(this.listenerPosition,"y",null);c&&c!==this._spatialx&&(this._spatialx=f.positionX.value=c),v&&v!==this._spatialy&&(this._spatialy=f.positionY.value=v)}m.prototype.update.call(this,n,h),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var n=this;this.context.close().then(function(){n.context=null})}m.prototype.destroy.call(this)},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(n){this.masterMuteNode.gain.setValueAtTime(n?0:1,0),this.emit(s.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(n){this.masterVolumeNode.gain.setValueAtTime(n,0),this.emit(s.GLOBAL_VOLUME,this,n)}}});p.exports=d},73162:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37105),m=t(83419),l=t(29747),s=t(19186),a=new m({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=l,this.removeCallback=l,this._sortKey=""},add:function(e,r){return r?u.Add(this.list,e):u.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,r,d){return d?u.AddAt(this.list,e,r):u.AddAt(this.list,e,r,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,r){return e?(r===void 0&&(r=function(d,n){return d[e]-n[e]}),s(this.list,r),this):this},getByName:function(e){return u.GetFirst(this.list,"name",e)},getRandom:function(e,r){return u.GetRandom(this.list,e,r)},getFirst:function(e,r,d,n){return u.GetFirst(this.list,e,r,d,n)},getAll:function(e,r,d,n){return u.GetAll(this.list,e,r,d,n)},count:function(e,r){return u.CountAllMatching(this.list,e,r)},swap:function(e,r){u.Swap(this.list,e,r)},moveTo:function(e,r){return u.MoveTo(this.list,e,r)},moveAbove:function(e,r){return u.MoveAbove(this.list,e,r)},moveBelow:function(e,r){return u.MoveBelow(this.list,e,r)},remove:function(e,r){return r?u.Remove(this.list,e):u.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,r){return r?u.RemoveAt(this.list,e):u.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,r,d){return d?u.RemoveBetween(this.list,e,r):u.RemoveBetween(this.list,e,r,this.removeCallback,this)},removeAll:function(e){for(var r=this.list.length;r--;)this.remove(this.list[r],e);return this},bringToTop:function(e){return u.BringToTop(this.list,e)},sendToBack:function(e){return u.SendToBack(this.list,e)},moveUp:function(e){return u.MoveUp(this.list,e),e},moveDown:function(e){return u.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(e,r){return u.Replace(this.list,e,r)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,r,d,n){return u.SetAll(this.list,e,r,d,n),this},each:function(e,r){for(var d=[null],n=2;n<arguments.length;n++)d.push(arguments[n]);for(n=0;n<this.list.length;n++)d[0]=this.list[n],e.apply(r,d)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=a},90330:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s){this.entries={},this.size=0,this.setAll(s)},setAll:function(l){if(Array.isArray(l))for(var s=0;s<l.length;s++)this.set(l[s][0],l[s][1]);return this},set:function(l,s){return this.has(l)||this.size++,this.entries[l]=s,this},get:function(l){if(this.has(l))return this.entries[l]},getArray:function(){var l=[],s=this.entries;for(var a in s)l.push(s[a]);return l},has:function(l){return this.entries.hasOwnProperty(l)},delete:function(l){return this.has(l)&&(delete this.entries[l],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(l){delete this.entries[l]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var l=[],s=this.entries;for(var a in s)l.push(s[a]);return l},dump:function(){var l=this.entries;console.group("Map");for(var s in l)console.log(s,l[s]);console.groupEnd()},each:function(l){var s=this.entries;for(var a in s)if(l(a,s[a])===!1)break;return this},contains:function(l){var s=this.entries;for(var a in s)if(s[a]===l)return!0;return!1},merge:function(l,s){s===void 0&&(s=!1);var a=this.entries,e=l.entries;for(var r in e)a.hasOwnProperty(r)&&s?a[r]=e[r]:this.set(r,e[r]);return this}});p.exports=m},25774:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50792),l=t(82348),s=new u({Extends:m,initialize:function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(a){return this._active.indexOf(a)>-1},isPending:function(a){return this._toProcess>0&&this._pending.indexOf(a)>-1},isDestroying:function(a){return this._destroy.indexOf(a)>-1},add:function(a){return this.checkQueue&&this.isActive(a)&&!this.isDestroying(a)||this.isPending(a)||(this._pending.push(a),this._toProcess++),a},remove:function(a){if(this.isPending(a)){var e=this._pending,r=e.indexOf(a);r!==-1&&e.splice(r,1)}else this.isActive(a)&&(this._destroy.push(a),this._toProcess++);return a},removeAll:function(){for(var a=this._active,e=this._destroy,r=a.length;r--;)e.push(a[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var a=this._destroy,e=this._active,r,d;for(r=0;r<a.length;r++){d=a[r];var n=e.indexOf(d);n!==-1&&(e.splice(n,1),this.emit(l.PROCESS_QUEUE_REMOVE,d))}for(a.length=0,a=this._pending,r=0;r<a.length;r++)d=a[r],(!this.checkQueue||this.checkQueue&&e.indexOf(d)===-1)&&(e.push(d),this.emit(l.PROCESS_QUEUE_ADD,d));return a.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=s},59542:(p,T,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(43886);function m(S){if(!(this instanceof m))return new m(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}m.prototype={all:function(){return this._all(this.data,[])},search:function(S){var P=this.data,w=[],R=this.toBBox;if(!g(S,P))return w;for(var L=[],D,F,O,B;P;){for(D=0,F=P.children.length;D<F;D++)O=P.children[D],B=P.leaf?R(O):O,g(S,B)&&(P.leaf?w.push(O):v(S,B)?this._all(O,w):L.push(O));P=L.pop()}return w},collides:function(S){var P=this.data,w=this.toBBox;if(!g(S,P))return!1;for(var R=[],L,D,F,O;P;){for(L=0,D=P.children.length;L<D;L++)if(F=P.children[L],O=P.leaf?w(F):F,g(S,O)){if(P.leaf||v(S,O))return!0;R.push(F)}P=R.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var P=0,w=S.length;P<w;P++)this.insert(S[P]);return this}var R=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var L=this.data;this.data=R,R=L}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(S,P){if(!S)return this;for(var w=this.data,R=this.toBBox(S),L=[],D=[],F,O,B,N;w||L.length;){if(w||(w=L.pop(),O=L[L.length-1],F=D.pop(),N=!0),w.leaf&&(B=l(S,w.children,P),B!==-1))return w.children.splice(B,1),L.push(w),this._condense(L),this;!N&&!w.leaf&&v(w,R)?(L.push(w),D.push(F),F=0,O=w,w=w.children[0]):O?(F++,w=O.children[F],N=!1):w=null}return this},toBBox:function(S){return S},compareMinX:r,compareMinY:d,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,P){for(var w=[];S;)S.leaf?P.push.apply(P,S.children):w.push.apply(w,S.children),S=w.pop();return P},_build:function(S,P,w,R){var L=w-P+1,D=this._maxEntries,F;if(L<=D)return F=y(S.slice(P,w+1)),s(F,this.toBBox),F;R||(R=Math.ceil(Math.log(L)/Math.log(D)),D=Math.ceil(L/Math.pow(D,R-1))),F=y([]),F.leaf=!1,F.height=R;var O=Math.ceil(L/D),B=O*Math.ceil(Math.sqrt(D)),N,G,z,X;for(C(S,P,w,B,this.compareMinX),N=P;N<=w;N+=B)for(z=Math.min(N+B-1,w),C(S,N,z,O,this.compareMinY),G=N;G<=z;G+=O)X=Math.min(G+O-1,z),F.children.push(this._build(S,G,X,R-1));return s(F,this.toBBox),F},_chooseSubtree:function(S,P,w,R){for(var L,D,F,O,B,N,G,z;R.push(P),!(P.leaf||R.length-1===w);){for(G=z=1/0,L=0,D=P.children.length;L<D;L++)F=P.children[L],B=n(F),N=f(S,F)-B,N<z?(z=N,G=B<G?B:G,O=F):N===z&&B<G&&(G=B,O=F);P=O||P.children[0]}return P},_insert:function(S,P,w){var R=this.toBBox,L=w?S:R(S),D=[],F=this._chooseSubtree(L,this.data,P,D);for(F.children.push(S),e(F,L);P>=0&&D[P].children.length>this._maxEntries;)this._split(D,P),P--;this._adjustParentBBoxes(L,D,P)},_split:function(S,P){var w=S[P],R=w.children.length,L=this._minEntries;this._chooseSplitAxis(w,L,R);var D=this._chooseSplitIndex(w,L,R),F=y(w.children.splice(D,w.children.length-D));F.height=w.height,F.leaf=w.leaf,s(w,this.toBBox),s(F,this.toBBox),P?S[P-1].children.push(F):this._splitRoot(w,F)},_splitRoot:function(S,P){this.data=y([S,P]),this.data.height=S.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(S,P,w){var R,L,D,F,O,B,N,G;for(B=N=1/0,R=P;R<=w-P;R++)L=a(S,0,R,this.toBBox),D=a(S,R,w,this.toBBox),F=c(L,D),O=n(L)+n(D),F<B?(B=F,G=R,N=O<N?O:N):F===B&&O<N&&(N=O,G=R);return G},_chooseSplitAxis:function(S,P,w){var R=S.leaf?this.compareMinX:r,L=S.leaf?this.compareMinY:d,D=this._allDistMargin(S,P,w,R),F=this._allDistMargin(S,P,w,L);D<F&&S.children.sort(R)},_allDistMargin:function(S,P,w,R){S.children.sort(R);var L=this.toBBox,D=a(S,0,P,L),F=a(S,w-P,w,L),O=h(D)+h(F),B,N;for(B=P;B<w-P;B++)N=S.children[B],e(D,S.leaf?L(N):N),O+=h(D);for(B=w-P-1;B>=P;B--)N=S.children[B],e(F,S.leaf?L(N):N),O+=h(F);return O},_adjustParentBBoxes:function(S,P,w){for(var R=w;R>=0;R--)e(P[R],S)},_condense:function(S){for(var P=S.length-1,w;P>=0;P--)S[P].children.length===0?P>0?(w=S[P-1].children,w.splice(w.indexOf(S[P]),1)):this.clear():s(S[P],this.toBBox)},compareMinX:function(S,P){return S.left-P.left},compareMinY:function(S,P){return S.top-P.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function l(S,P,w){if(!w)return P.indexOf(S);for(var R=0;R<P.length;R++)if(w(S,P[R]))return R;return-1}function s(S,P){a(S,0,S.children.length,P,S)}function a(S,P,w,R,L){L||(L=y(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var D=P,F;D<w;D++)F=S.children[D],e(L,S.leaf?R(F):F);return L}function e(S,P){return S.minX=Math.min(S.minX,P.minX),S.minY=Math.min(S.minY,P.minY),S.maxX=Math.max(S.maxX,P.maxX),S.maxY=Math.max(S.maxY,P.maxY),S}function r(S,P){return S.minX-P.minX}function d(S,P){return S.minY-P.minY}function n(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function h(S){return S.maxX-S.minX+(S.maxY-S.minY)}function f(S,P){return(Math.max(P.maxX,S.maxX)-Math.min(P.minX,S.minX))*(Math.max(P.maxY,S.maxY)-Math.min(P.minY,S.minY))}function c(S,P){var w=Math.max(S.minX,P.minX),R=Math.max(S.minY,P.minY),L=Math.min(S.maxX,P.maxX),D=Math.min(S.maxY,P.maxY);return Math.max(0,L-w)*Math.max(0,D-R)}function v(S,P){return S.minX<=P.minX&&S.minY<=P.minY&&P.maxX<=S.maxX&&P.maxY<=S.maxY}function g(S,P){return P.minX<=S.maxX&&P.minY<=S.maxY&&P.maxX>=S.minX&&P.maxY>=S.minY}function y(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function C(S,P,w,R,L){for(var D=[P,w],F;D.length;)w=D.pop(),P=D.pop(),!(w-P<=R)&&(F=P+Math.ceil((w-P)/R/2)*R,u(S,F,P,w,L),D.push(P,F,F,w))}p.exports=m},35072:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s){if(this.entries=[],Array.isArray(s))for(var a=0;a<s.length;a++)this.set(s[a])},set:function(l){return this.entries.indexOf(l)===-1&&this.entries.push(l),this},get:function(l,s){for(var a=0;a<this.entries.length;a++){var e=this.entries[a];if(e[l]===s)return e}},getArray:function(){return this.entries.slice(0)},delete:function(l){var s=this.entries.indexOf(l);return s>-1&&this.entries.splice(s,1),this},dump:function(){console.group("Set");for(var l=0;l<this.entries.length;l++){var s=this.entries[l];console.log(s)}console.groupEnd()},each:function(l,s){var a,e=this.entries.slice(),r=e.length;if(s)for(a=0;a<r&&l.call(s,e[a],a)!==!1;a++);else for(a=0;a<r&&l(e[a],a)!==!1;a++);return this},iterate:function(l,s){var a,e=this.entries.length;if(s)for(a=0;a<e&&l.call(s,this.entries[a],a)!==!1;a++);else for(a=0;a<e&&l(this.entries[a],a)!==!1;a++);return this},iterateLocal:function(l){var s,a=[];for(s=1;s<arguments.length;s++)a.push(arguments[s]);var e=this.entries.length;for(s=0;s<e;s++){var r=this.entries[s];r[l].apply(r,a)}return this},clear:function(){return this.entries.length=0,this},contains:function(l){return this.entries.indexOf(l)>-1},union:function(l){var s=new m;return l.entries.forEach(function(a){s.set(a)}),this.entries.forEach(function(a){s.set(a)}),s},intersect:function(l){var s=new m;return this.entries.forEach(function(a){l.contains(a)&&s.set(a)}),s},difference:function(l){var s=new m;return this.entries.forEach(function(a){l.contains(a)||s.set(a)}),s},size:{get:function(){return this.entries.length},set:function(l){return l<this.entries.length?this.entries.length=l:this.entries.length}}});p.exports=m},86555:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45319),m=t(83419),l=t(56583),s=t(26099),a=new m({initialize:function(r,d,n,h){r===void 0&&(r=0),d===void 0&&(d=r),n===void 0&&(n=0),h===void 0&&(h=null),this._width=r,this._height=d,this._parent=h,this.aspectMode=n,this.aspectRatio=d===0?1:r/d,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.snapTo.set(e,r),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.minWidth=u(e,0,this.maxWidth),this.minHeight=u(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,r){return e===void 0&&(e=Number.MAX_VALUE),r===void 0&&(r=e),this.maxWidth=u(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=u(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,r){switch(e===void 0&&(e=0),r===void 0&&(r=e),this.aspectMode){case a.NONE:this._width=this.getNewWidth(l(e,this.snapTo.x)),this._height=this.getNewHeight(l(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(l(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(l(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(e,r,!0);break;case a.ENVELOP:this.constrain(e,r,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,r){return this._width=this.getNewWidth(l(e,this.snapTo.x)),this._height=this.getNewHeight(l(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,r){return r===void 0&&(r=!0),e=u(e,this.minWidth,this.maxWidth),r&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,r){return r===void 0&&(r=!0),e=u(e,this.minHeight,this.maxHeight),r&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,r,d){e===void 0&&(e=0),r===void 0&&(r=e),d===void 0&&(d=!0),e=this.getNewWidth(e),r=this.getNewHeight(r);var n=this.snapTo,h=r===0?1:e/r;return d&&this.aspectRatio>h||!d&&this.aspectRatio<h?(e=l(e,n.x),r=e/this.aspectRatio,n.y>0&&(r=l(r,n.y),e=r*this.aspectRatio)):(d&&this.aspectRatio<h||!d&&this.aspectRatio>h)&&(r=l(r,n.y),e=r*this.aspectRatio,n.x>0&&(e=l(e,n.x),r=e*(1/this.aspectRatio))),this._width=e,this._height=r,this},fitTo:function(e,r){return this.constrain(e,r,!0)},envelop:function(e,r){return this.constrain(e,r,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,p.exports=a},15238:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},56187:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},82348:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(45319),l=t(40987),s=t(8054),a=t(50030),e=t(79237),r=new u({Extends:e,initialize:function(n,h,f,c,v){e.call(this,n,h,f,c,v),this.add("__BASE",0,0,0,c,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=v,this.imageData=this.context.getImageData(0,0,c,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(d,n,h,f){return f===void 0&&(f=!0),this.context.drawImage(h,d,n),f&&this.update(),this},drawFrame:function(d,n,h,f,c){h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=!0);var v=this.manager.getFrame(d,n);if(v){var g=v.canvasData,y=v.cutWidth,C=v.cutHeight,S=v.source.resolution;this.context.drawImage(v.source.image,g.x,g.y,y,C,h,f,y/S,C/S),c&&this.update()}return this},setPixel:function(d,n,h,f,c,v){v===void 0&&(v=255),d=Math.abs(Math.floor(d)),n=Math.abs(Math.floor(n));var g=this.getIndex(d,n);if(g>-1){var y=this.context.getImageData(d,n,1,1);y.data[0]=h,y.data[1]=f,y.data[2]=c,y.data[3]=v,this.context.putImageData(y,d,n)}return this},putData:function(d,n,h,f,c,v,g){return f===void 0&&(f=0),c===void 0&&(c=0),v===void 0&&(v=d.width),g===void 0&&(g=d.height),this.context.putImageData(d,n,h,f,c,v,g),this},getData:function(d,n,h,f){d=m(Math.floor(d),0,this.width-1),n=m(Math.floor(n),0,this.height-1),h=m(h,1,this.width-d),f=m(f,1,this.height-n);var c=this.context.getImageData(d,n,h,f);return c},getPixel:function(d,n,h){h||(h=new l);var f=this.getIndex(d,n);if(f>-1){var c=this.data,v=c[f+0],g=c[f+1],y=c[f+2],C=c[f+3];h.setTo(v,g,y,C)}return h},getPixels:function(d,n,h,f){d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=this.width),f===void 0&&(f=h),d=Math.abs(Math.round(d)),n=Math.abs(Math.round(n));for(var c=m(d,0,this.width),v=m(d+h,0,this.width),g=m(n,0,this.height),y=m(n+f,0,this.height),C=new l,S=[],P=g;P<y;P++){for(var w=[],R=c;R<v;R++)C=this.getPixel(R,P,C),w.push({x:R,y:P,color:C.color,alpha:C.alphaGL});S.push(w)}return S},getIndex:function(d,n){return d=Math.abs(Math.round(d)),n=Math.abs(Math.round(n)),d<this.width&&n<this.height?(d+n*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(d,n,h,f,c){return d===void 0&&(d=0),n===void 0&&(n=0),h===void 0&&(h=this.width),f===void 0&&(f=this.height),c===void 0&&(c=!0),this.context.clearRect(d,n,h,f),c&&this.update(),this},setSize:function(d,n){return n===void 0&&(n=d),(d!==this.width||n!==this.height)&&(this.canvas.width=d,this.canvas.height=n,this._source.width=d,this._source.height=n,this._source.isPowerOf2=a(d,n),this.frames.__BASE.setSize(d,n,0,0),this.width=d,this.height=n,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=r},81320:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(10312),m=t(71911),l=t(27919),s=t(83419),a=t(8054),e=t(4327),r=t(95540),d=t(36060),n=t(32302),h=t(79237),f=t(70554),c=new s({Extends:h,initialize:function(g,y,C,S){C===void 0&&(C=256),S===void 0&&(S=256),this.type="DynamicTexture";var P=g.game.renderer,w=P&&P.type===a.CANVAS,R=w?l.create2D(this,C,S):[this];h.call(this,g,y,R,C,S),this.add("__BASE",0,0,0,C,S),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=w?R:null,this.context=w?R.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new m(0,0,C,S).setScene(g.game.scene.systemScene,!1),this.renderTarget=w?null:new n(P,C,S,1,0,!1,!0,!0,!1),this.pipeline=w?null:P.pipelines.get(d.SINGLE_PIPELINE),this.setSize(C,S)},setSize:function(v,g){g===void 0&&(g=v);var y=this.get(),C=y.source;if(v!==this.width||g!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=g);var S=this.renderTarget;S&&(S.willResize(v,g)&&S.resize(v,g),S.texture!==C.glTexture&&this.renderer.deleteTexture(C.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,g),C.width=v,C.height=g,y.setSize(v,g),this.width=v,this.height=g}else{var P=this.getSourceImage();y.cutX+v>P.width&&(v=P.width-y.cutX),y.cutY+g>P.height&&(g=P.height-y.cutY),y.setSize(v,g,y.cutX,y.cutY)}return this},setFromRenderTarget:function(){var v=this.get(),g=v.source,y=this.renderTarget;return g.isRenderTexture=!0,g.isGLTexture=!0,g.glTexture=y.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,g,y,C,S,P){var w=this.camera,R=this.renderer;g===void 0&&(g=1),y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=this.width),P===void 0&&(P=this.height);var L=v>>16&255,D=v>>8&255,F=v&255,O=this.renderTarget;if(w.preRender(),O){O.bind(!0);var B=this.pipeline.manager.set(this.pipeline),N=R.width/O.width,G=R.height/O.height,z=O.height-(C+P);B.drawFillRect(y*N,z*G,S*N,P*G,f.getTintFromFloats(F/255,D/255,L/255,1),g),O.unbind(!0)}else{var X=this.context;R.setContext(X),X.globalCompositeOperation="source-over",X.fillStyle="rgba("+L+","+D+","+F+","+g+")",X.fillRect(y,C,S,P),R.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var v=this.context,g=this.renderTarget;g?g.clear():v&&(v.save(),v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,this.width,this.height),v.restore()),this.dirty=!1}return this},stamp:function(v,g,y,C,S){y===void 0&&(y=0),C===void 0&&(C=0);var P=r(S,"alpha",1),w=r(S,"tint",16777215),R=r(S,"angle",0),L=r(S,"rotation",0),D=r(S,"scale",1),F=r(S,"scaleX",D),O=r(S,"scaleY",D),B=r(S,"originX",.5),N=r(S,"originY",.5),G=r(S,"blendMode",0),z=r(S,"erase",!1),X=r(S,"skipBatch",!1),H=this.manager.resetStamp(P,w);return H.setAngle(0),R!==0?H.setAngle(R):L!==0&&H.setRotation(L),H.setScale(F,O),H.setTexture(v,g),H.setOrigin(B,N),H.setBlendMode(G),z&&(this._eraseMode=!0),X?this.batchGameObject(H,y,C):this.draw(H,y,C),z&&(this._eraseMode=!1),this},erase:function(v,g,y){return this._eraseMode=!0,this.draw(v,g,y),this._eraseMode=!1,this},draw:function(v,g,y,C,S){return this.beginDraw(),this.batchDraw(v,g,y,C,S),this.endDraw(),this},drawFrame:function(v,g,y,C,S,P){return this.beginDraw(),this.batchDrawFrame(v,g,y,C,S,P),this.endDraw(),this},repeat:function(v,g,y,C,S,P,w,R,L){if(y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=this.width),P===void 0&&(P=this.height),w===void 0&&(w=1),R===void 0&&(R=16777215),L===void 0&&(L=!1),v instanceof e?g=v:g=this.manager.getFrame(v,g),!g)return this;var D=this.manager.resetStamp(w,R);D.setFrame(g),D.setOrigin(0);var F=g.width,O=g.height;S=Math.floor(S),P=Math.floor(P);var B=Math.ceil(S/F),N=Math.ceil(P/O),G=B*F-S,z=N*O-P;G>0&&(G=F-G),z>0&&(z=O-z),y<0&&(B+=Math.ceil(Math.abs(y)/F)),C<0&&(N+=Math.ceil(Math.abs(C)/O));var X=y,H=C,V=!1,W=this.manager.stampCrop.setTo(0,0,F,O);L||this.beginDraw();for(var I=0;I<N;I++){if(H+O<0){H+=O;continue}for(var b=0;b<B;b++){if(V=!1,X+F<0){X+=F;continue}else X<0&&(V=!0,W.width=F+X,W.x=F-W.width);H<0&&(V=!0,W.height=O+H,W.y=O-W.height),G>0&&b===B-1&&(V=!0,W.width=G),z>0&&I===N-1&&(V=!0,W.height=z),V&&D.setCrop(W),this.batchGameObject(D,X,H),D.isCropped=!1,W.setTo(0,0,F,O),X+=F}X=y,H+=O}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var v=this.camera,g=this.renderer,y=this.renderTarget;v.preRender(),y?g.beginCapture(y.width,y.height):g.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,g,y,C,S){return Array.isArray(v)||(v=[v]),this.batchList(v,g,y,C,S),this},batchDrawFrame:function(v,g,y,C,S,P){y===void 0&&(y=0),C===void 0&&(C=0),S===void 0&&(S=1),P===void 0&&(P=16777215);var w=this.manager.getFrame(v,g);return w&&(this.renderTarget?this.pipeline.batchTextureFrame(w,y,C,P,S,this.camera.matrix,null):this.batchTextureFrame(w,y,C,S,P)),this},endDraw:function(v){if(v===void 0&&(v=this._eraseMode),this.isDrawing){var g=this.renderer,y=this.renderTarget;if(y){var C=g.endCapture(),S=g.pipelines.setUtility();S.blitFrame(C,y,1,!1,!1,v,this.isSpriteTexture),g.resetScissor(),g.resetViewport()}else g.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,g,y,C,S){var P=v.length;if(P!==0)for(var w=0;w<P;w++){var R=v[w];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,g,y):R.isParent||R.list?this.batchGroup(R.getChildren(),g,y):typeof R=="string"?this.batchTextureFrameKey(R,null,g,y,C,S):R instanceof e?this.batchTextureFrame(R,g,y,C,S):Array.isArray(R)&&this.batchList(R,g,y,C,S))}},batchGroup:function(v,g,y){g===void 0&&(g=0),y===void 0&&(y=0);for(var C=0;C<v.length;C++){var S=v[C];S.willRender(this.camera)&&this.batchGameObject(S,S.x+g,S.y+y)}},batchGameObject:function(v,g,y){g===void 0&&(g=v.x),y===void 0&&(y=v.y);var C=v.x,S=v.y,P=this.camera,w=this.renderer,R=this._eraseMode,L=v.mask;if(v.setPosition(g,y),this.canvas){if(R){var D=v.blendMode;v.blendMode=u.ERASE}L&&L.preRenderCanvas(w,v,P),v.renderCanvas(w,v,P,null),L&&L.postRenderCanvas(w,v,P),R&&(v.blendMode=D)}else w&&(L&&L.preRenderWebGL(w,v,P),R||w.setBlendMode(v.blendMode),v.renderWebGL(w,v,P),L&&L.postRenderWebGL(w,P,this.renderTarget));v.setPosition(C,S)},batchTextureFrameKey:function(v,g,y,C,S,P){var w=this.manager.getFrame(v,g);w&&this.batchTextureFrame(w,y,C,S,P)},batchTextureFrame:function(v,g,y,C,S){g===void 0&&(g=0),y===void 0&&(y=0),C===void 0&&(C=1),S===void 0&&(S=16777215);var P=this.camera.matrix,w=this.renderTarget;if(w)this.pipeline.batchTextureFrame(v,g,y,S,C,P,null);else{var R=this.context,L=v.canvasData,D=v.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=C,P.setToContext(R),L.width>0&&L.height>0&&R.drawImage(D,L.x,L.y,L.width,L.height,g,y,L.width,L.height),R.restore()}},snapshotArea:function(v,g,y,C,S,P,w){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,v,g,y,C,P,w):this.renderer.snapshotCanvas(this.canvas,S,!1,v,g,y,C,P,w),this},snapshot:function(v,g,y){return this.snapshotArea(0,0,this.width,this.height,v,g,y)},snapshotPixel:function(v,g,y){return this.snapshotArea(v,g,1,1,y,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,g,y,C){var S=this.manager.resetStamp();S.setTexture(this),S.setOrigin(0),S.renderWebGL(v,S,y,C)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),h.prototype.destroy.call(this),l.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});p.exports=c},4327:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(45319),l=t(79291),s=new u({initialize:function(e,r,d,n,h,f,c){this.texture=e,this.name=r,this.source=e.source[d],this.sourceIndex=d,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(f,c,n,h)},setSize:function(a,e,r,d){r===void 0&&(r=0),d===void 0&&(d=0),this.cutX=r,this.cutY=d,this.cutWidth=a,this.cutHeight=e,this.width=a,this.height=e,this.halfWidth=Math.floor(a*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(a/2),this.centerY=Math.floor(e/2);var n=this.data,h=n.cut;h.x=r,h.y=d,h.w=a,h.h=e,h.r=r+a,h.b=d+e,n.sourceSize.w=a,n.sourceSize.h=e,n.spriteSourceSize.w=a,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(a*a+e*e);var f=n.drawImage;return f.x=r,f.y=d,f.width=a,f.height=e,this.updateUVs()},setTrim:function(a,e,r,d,n,h){var f=this.data,c=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=a,f.sourceSize.h=e,c.x=r,c.y=d,c.w=n,c.h=h,c.r=r+n,c.b=d+h,this.x=r,this.y=d,this.width=n,this.height=h,this.halfWidth=n*.5,this.halfHeight=h*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(h/2),this.updateUVs()},setScale9:function(a,e,r,d){var n=this.data;return n.scale9=!0,n.is3Slice=e===0&&d===this.height,n.scale9Borders.x=a,n.scale9Borders.y=e,n.scale9Borders.w=r,n.scale9Borders.h=d,this},setCropUVs:function(a,e,r,d,n,h,f){var c=this.cutX,v=this.cutY,g=this.cutWidth,y=this.cutHeight,C=this.realWidth,S=this.realHeight;e=m(e,0,C),r=m(r,0,S),d=m(d,0,C-e),n=m(n,0,S-r);var P=c+e,w=v+r,R=d,L=n,D=this.data;if(D.trim){var F=D.spriteSourceSize;d=m(d,0,g-e),n=m(n,0,y-r);var O=e+d,B=r+n,N=!(F.r<e||F.b<r||F.x>O||F.y>B);if(N){var G=Math.max(F.x,e),z=Math.max(F.y,r),X=Math.min(F.r,O)-G,H=Math.min(F.b,B)-z;R=X,L=H,h?P=c+(g-(G-F.x)-X):P=c+(G-F.x),f?w=v+(y-(z-F.y)-H):w=v+(z-F.y),e=G,r=z,d=X,n=H}else P=0,w=0,R=0,L=0}else h&&(P=c+(g-e-d)),f&&(w=v+(y-r-n));var V=this.source.width,W=this.source.height;return a.u0=Math.max(0,P/V),a.v0=Math.max(0,w/W),a.u1=Math.min(1,(P+R)/V),a.v1=Math.min(1,(w+L)/W),a.x=e,a.y=r,a.cx=P,a.cy=w,a.cw=R,a.ch=L,a.width=d,a.height=n,a.flipX=h,a.flipY=f,a},updateCropUVs:function(a,e,r){return this.setCropUVs(a,a.x,a.y,a.width,a.height,e,r)},setUVs:function(a,e,r,d,n,h){var f=this.data.drawImage;return f.width=a,f.height=e,this.u0=r,this.v0=d,this.u1=n,this.v1=h,this},updateUVs:function(){var a=this.cutX,e=this.cutY,r=this.cutWidth,d=this.cutHeight,n=this.data.drawImage;n.width=r,n.height=d;var h=this.source.width,f=this.source.height;return this.u0=a/h,this.v0=e/f,this.u1=(a+r)/h,this.v1=(e+d)/f,this},updateUVsInverted:function(){var a=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/a,this.v0=this.cutY/e,this.u1=this.cutX/a,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var a=new s(this.texture,this.name,this.sourceIndex);return a.cutX=this.cutX,a.cutY=this.cutY,a.cutWidth=this.cutWidth,a.cutHeight=this.cutHeight,a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,a.halfWidth=this.halfWidth,a.halfHeight=this.halfHeight,a.centerX=this.centerX,a.centerY=this.centerY,a.rotated=this.rotated,a.data=l(!0,a.data,this.data),a.updateUVs(),a},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=s},79237:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(4327),l=t(11876),s='Texture "%s" has no frame "%s"',a=new u({initialize:function(r,d,n,h,f){Array.isArray(n)||(n=[n]),this.manager=r,this.key=d,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<n.length;c++)this.source.push(new l(this,n[c],h,f))},add:function(e,r,d,n,h,f){if(this.has(e))return null;var c=new m(this,e,r,d,n,h,f);return this.frames[e]=c,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,c},remove:function(e){if(this.has(e)){var r=this.get(e);return r.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var r=this.frames[e];return r||(console.warn(s,this.key,e),r=this.frames[this.firstFrame]),r},getTextureSourceIndex:function(e){for(var r=0;r<this.source.length;r++)if(this.source[r]===e)return r;return-1},getFramesFromTextureSource:function(e,r){r===void 0&&(r=!1);var d=[];for(var n in this.frames)if(!(n==="__BASE"&&!r)){var h=this.frames[n];h.sourceIndex===e&&d.push(h)}return d},getFrameBounds:function(e){e===void 0&&(e=0);for(var r=this.getFramesFromTextureSource(e),d=1/0,n=1/0,h=0,f=0,c=0;c<r.length;c++){var v=r[c];v.cutX<d&&(d=v.cutX),v.cutY<n&&(n=v.cutY),v.cutX+v.cutWidth>h&&(h=v.cutX+v.cutWidth),v.cutY+v.cutHeight>f&&(f=v.cutY+v.cutHeight)}return{x:d,y:n,width:h-d,height:f-n}},getFrameNames:function(e){e===void 0&&(e=!1);var r=Object.keys(this.frames);if(!e){var d=r.indexOf("__BASE");d!==-1&&r.splice(d,1)}return r},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e];return r?r.source.image:(console.warn(s,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var r=this.frames[e],d;return r?d=r.sourceIndex:(console.warn(s,this.key,e),d=this.frames.__BASE.sourceIndex),this.dataSource[d].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var d=this.source[r];this.dataSource.push(new l(this,e[r],d.width,d.height))}},setFilter:function(e){var r;for(r=0;r<this.source.length;r++)this.source[r].setFilter(e);for(r=0;r<this.dataSource.length;r++)this.dataSource[r].setFilter(e)},destroy:function(){var e,r=this.source,d=this.dataSource;for(e=0;e<r.length;e++)r[e]&&r[e].destroy();for(e=0;e<d.length;e++)d[e]&&d[e].destroy();for(var n in this.frames){var h=this.frames[n];h&&h.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=a},17130:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27919),m=t(57382),l=t(83419),s=t(40987),a=t(8054),e=t(81320),r=t(50792),d=t(69442),n=t(4327),h=t(8443),f=t(99584),c=t(35154),v=t(88571),g=t(41212),y=t(61309),C=t(87841),S=t(79237),P=new l({Extends:r,initialize:function(R){r.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=u.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new C,this.silentWarnings=!1,R.events.once(h.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(d.LOAD,this.updatePending,this),this.on(d.ERROR,this.updatePending,this);var w=this.game.config;this.addBase64("__DEFAULT",w.defaultImage),this.addBase64("__MISSING",w.missingImage),this.addBase64("__WHITE",w.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(h.DESTROY,this.destroy,this),this.game.events.once(h.SYSTEM_READY,function(R){this.stamp=new v(R).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(d.LOAD),this.off(d.ERROR),this.emit(d.READY))},checkKey:function(w){return this.exists(w)?(this.silentWarnings||console.error("Texture key already in use: "+w),!1):!0},remove:function(w){if(typeof w=="string")if(this.exists(w))w=this.get(w);else return this.silentWarnings||console.warn("No texture found matching key: "+w),this;var R=w.key;return this.list.hasOwnProperty(R)&&(w.destroy(),this.emit(d.REMOVE,R),this.emit(d.REMOVE_KEY+R)),this},removeKey:function(w){return this.list.hasOwnProperty(w)&&delete this.list[w],this},addBase64:function(w,R){if(this.checkKey(w)){var L=this,D=new Image;D.onerror=function(){L.emit(d.ERROR,w)},D.onload=function(){var F=L.create(w,D);y.Image(F,0),L.emit(d.ADD,w,F),L.emit(d.ADD_KEY+w,F),L.emit(d.LOAD,w,F)},D.src=R}return this},getBase64:function(w,R,L,D){L===void 0&&(L="image/png"),D===void 0&&(D=.92);var F="",O=this.getFrame(w,R);if(O&&(O.source.isRenderTexture||O.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(O){var B=O.canvasData,N=u.create2D(this,B.width,B.height),G=N.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&G.drawImage(O.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),F=N.toDataURL(L,D),u.remove(N)}return F},addImage:function(w,R,L){var D=null;return this.checkKey(w)&&(D=this.create(w,R),y.Image(D,0),L&&D.setDataSource(L),this.emit(d.ADD,w,D),this.emit(d.ADD_KEY+w,D)),D},addGLTexture:function(w,R){var L=null;if(this.checkKey(w)){var D=R.width,F=R.height;L=this.create(w,R,D,F),L.add("__BASE",0,0,0,D,F),this.emit(d.ADD,w,L),this.emit(d.ADD_KEY+w,L)}return L},addCompressedTexture:function(w,R,L){var D=null;if(this.checkKey(w)){if(D=this.create(w,R),D.add("__BASE",0,0,0,R.width,R.height),L){var F=function(B,N,G){Array.isArray(G.textures)||Array.isArray(G.frames)?y.JSONArray(B,N,G):y.JSONHash(B,N,G)};if(Array.isArray(L))for(var O=0;O<L.length;O++)F(D,O,L[O]);else F(D,0,L)}this.emit(d.ADD,w,D),this.emit(d.ADD_KEY+w,D)}return D},addRenderTexture:function(w,R){var L=null;return this.checkKey(w)&&(L=this.create(w,R),L.add("__BASE",0,0,0,R.width,R.height),this.emit(d.ADD,w,L),this.emit(d.ADD_KEY+w,L)),L},generate:function(w,R){if(this.checkKey(w)){var L=u.create(this,1,1);return R.canvas=L,f(R),this.addCanvas(w,L)}else return null},createCanvas:function(w,R,L){if(R===void 0&&(R=256),L===void 0&&(L=256),this.checkKey(w)){var D=u.create(this,R,L,a.CANVAS,!0);return this.addCanvas(w,D)}return null},addCanvas:function(w,R,L){L===void 0&&(L=!1);var D=null;return L?D=new m(this,w,R,R.width,R.height):this.checkKey(w)&&(D=new m(this,w,R,R.width,R.height),this.list[w]=D,this.emit(d.ADD,w,D),this.emit(d.ADD_KEY+w,D)),D},addDynamicTexture:function(w,R,L){var D=null;return typeof w=="string"&&!this.exists(w)?D=new e(this,w,R,L):(D=w,w=D.key),this.checkKey(w)?(this.list[w]=D,this.emit(d.ADD,w,D),this.emit(d.ADD_KEY+w,D)):D=null,D},addAtlas:function(w,R,L,D){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(w,R,L,D):this.addAtlasJSONHash(w,R,L,D)},addAtlasJSONArray:function(w,R,L,D){var F=null;if(R instanceof S?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F){if(Array.isArray(L))for(var O=L.length===1,B=0;B<F.source.length;B++){var N=O?L[0]:L[B];y.JSONArray(F,B,N)}else y.JSONArray(F,0,L);D&&F.setDataSource(D),this.emit(d.ADD,w,F),this.emit(d.ADD_KEY+w,F)}return F},addAtlasJSONHash:function(w,R,L,D){var F=null;if(R instanceof S?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F){if(Array.isArray(L))for(var O=0;O<L.length;O++)y.JSONHash(F,O,L[O]);else y.JSONHash(F,0,L);D&&F.setDataSource(D),this.emit(d.ADD,w,F),this.emit(d.ADD_KEY+w,F)}return F},addAtlasXML:function(w,R,L,D){var F=null;return R instanceof S?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F&&(y.AtlasXML(F,0,L),D&&F.setDataSource(D),this.emit(d.ADD,w,F),this.emit(d.ADD_KEY+w,F)),F},addUnityAtlas:function(w,R,L,D){var F=null;return R instanceof S?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F&&(y.UnityYAML(F,0,L),D&&F.setDataSource(D),this.emit(d.ADD,w,F),this.emit(d.ADD_KEY+w,F)),F},addSpriteSheet:function(w,R,L,D){var F=null;if(R instanceof S?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F){var O=F.source[0].width,B=F.source[0].height;y.SpriteSheet(F,0,0,0,O,B,L),D&&F.setDataSource(D),this.emit(d.ADD,w,F),this.emit(d.ADD_KEY+w,F)}return F},addSpriteSheetFromAtlas:function(w,R){if(!this.checkKey(w))return null;var L=c(R,"atlas",null),D=c(R,"frame",null);if(!(!L||!D)){var F=this.get(L),O=F.get(D);if(O){var B=O.source.image;B||(B=O.source.glTexture);var N=this.create(w,B);return O.trimmed?y.SpriteSheetFromAtlas(N,O,R):y.SpriteSheet(N,0,O.cutX,O.cutY,O.cutWidth,O.cutHeight,R),this.emit(d.ADD,w,N),this.emit(d.ADD_KEY+w,N),N}}},addUint8Array:function(w,R,L,D){if(!this.checkKey(w)||R.length/4!==L*D)return null;var F=this.create(w,R,L,D);return F.add("__BASE",0,0,0,L,D),this.emit(d.ADD,w,F),this.emit(d.ADD_KEY+w,F),F},create:function(w,R,L,D){var F=null;return this.checkKey(w)&&(F=new S(this,w,R,L,D),this.list[w]=F),F},exists:function(w){return this.list.hasOwnProperty(w)},get:function(w){return w===void 0&&(w="__DEFAULT"),this.list[w]?this.list[w]:w instanceof S?w:w instanceof n?w.texture:this.list.__MISSING},cloneFrame:function(w,R){if(this.list[w])return this.list[w].get(R).clone()},getFrame:function(w,R){if(this.list[w])return this.list[w].get(R)},parseFrame:function(w){if(w){if(typeof w=="string")return this.getFrame(w);if(Array.isArray(w)&&w.length===2)return this.getFrame(w[0],w[1]);if(g(w))return this.getFrame(w.key,w.frame);if(w instanceof S)return w.get();if(w instanceof n)return w}else return},getTextureKeys:function(){var w=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&R!=="__NORMAL"&&w.push(R);return w},getPixel:function(w,R,L,D){var F=this.getFrame(L,D);if(F){w-=F.x,R-=F.y;var O=F.data.cut;if(w+=O.x,R+=O.y,w>=O.x&&w<O.r&&R>=O.y&&R<O.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(F.source.image,w,R,1,1,0,0,1,1);var N=B.getImageData(0,0,1,1);return new s(N.data[0],N.data[1],N.data[2],N.data[3])}}return null},getPixelAlpha:function(w,R,L,D){var F=this.getFrame(L,D);if(F){w-=F.x,R-=F.y;var O=F.data.cut;if(w+=O.x,R+=O.y,w>=O.x&&w<O.r&&R>=O.y&&R<O.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(F.source.image,w,R,1,1,0,0,1,1);var N=B.getImageData(0,0,1,1);return N.data[3]}}return null},setTexture:function(w,R,L){return this.list[R]&&(w.texture=this.list[R],w.frame=w.texture.get(L)),w},renameTexture:function(w,R){var L=this.get(w);return L&&w!==R?(L.key=R,this.list[R]=L,delete this.list[w],!0):!1},each:function(w,R){for(var L=[null],D=1;D<arguments.length;D++)L.push(arguments[D]);for(var F in this.list)L[0]=this.list[F],w.apply(R,L)},resetStamp:function(w,R){w===void 0&&(w=1),R===void 0&&(R=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(w),L.setTint(R),L.setTexture("__WHITE"),L},destroy:function(){for(var w in this.list)this.list[w].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,u.remove(this._tempCanvas)}});p.exports=P},11876:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(27919),m=t(83419),l=t(50030),s=t(29795),a=t(82751),e=new m({initialize:function(d,n,h,f,c){c===void 0&&(c=!1);var v=d.manager.game;this.renderer=v.renderer,this.texture=d,this.source=n,this.image=n.compressed?null:n,this.compressionAlgorithm=n.compressed?n.format:null,this.resolution=1,this.width=h||n.naturalWidth||n.videoWidth||n.width||0,this.height=f||n.naturalHeight||n.videoHeight||n.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=n instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&n instanceof HTMLVideoElement,this.isRenderTexture=n.type==="RenderTexture"||n.type==="DynamicTexture",this.isGLTexture=n instanceof a,this.isPowerOf2=l(this.width,this.height),this.glTexture=null,this.flipY=c,this.init(v)},init:function(r){var d=this.renderer;if(d){var n=this.source;if(d.gl){var h=this.image,f=this.flipY,c=this.width,v=this.height,g=this.scaleMode;this.isCanvas?this.glTexture=d.createCanvasTexture(h,!1,f):this.isVideo?this.glTexture=d.createVideoTexture(h,!1,f):this.isRenderTexture?this.glTexture=d.createTextureFromSource(null,c,v,g):this.isGLTexture?this.glTexture=n:this.compressionAlgorithm?this.glTexture=d.createTextureFromSource(n,void 0,void 0,g):n instanceof Uint8Array?this.glTexture=d.createUint8ArrayTexture(n,c,v,g):this.glTexture=d.createTextureFromSource(h,c,v,g)}else this.isRenderTexture&&(this.image=n.canvas)}r.config.antialias||this.setFilter(1)},setFilter:function(r){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,r),this.scaleMode=r},setFlipY:function(r){return r===void 0&&(r=!0),r===this.flipY?this:(this.flipY=r,this.update(),this)},update:function(){var r=this.renderer,d=this.image,n=this.flipY,h=r.gl;h&&this.isCanvas?r.updateCanvasTexture(d,this.glTexture,n):h&&this.isVideo&&r.updateVideoTexture(d,this.glTexture,n)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&u.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=e},19673:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};p.exports=T},44538:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},63486:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},94851:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},29099:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},8678:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},86415:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},30879:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},69442:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79291),m=t(19673),l={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:m,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};l=u(!1,l,m),p.exports=l},89905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(!m.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var l=t.source[u];t.add("__BASE",u,0,0,l.width,l.height);for(var s=m.getElementsByTagName("SubTexture"),a,e=0;e<s.length;e++){var r=s[e].attributes,d=r.name.value,n=parseInt(r.x.value,10),h=parseInt(r.y.value,10),f=parseInt(r.width.value,10),c=parseInt(r.height.value,10);if(a=t.add(d,u,n,h,f,c),r.frameX){var v=Math.abs(parseInt(r.frameX.value,10)),g=Math.abs(parseInt(r.frameY.value,10)),y=parseInt(r.frameWidth.value,10),C=parseInt(r.frameHeight.value,10);a.setTrim(f,c,v,g,y,C)}}return t};p.exports=T},72893:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.source[u];return t.add("__BASE",u,0,0,m.width,m.height),t};p.exports=T},4832:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.source[u];return t.add("__BASE",u,0,0,m.width,m.height),t};p.exports=T},78566:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(41786),m=function(l,s,a){if(!a.frames&&!a.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=l.source[s];l.add("__BASE",s,0,0,e.width,e.height);for(var r=Array.isArray(a.textures)?a.textures[s].frames:a.frames,d,n=0;n<r.length;n++){var h=r[n];if(d=l.add(h.filename,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!d){console.warn("Invalid atlas json, frame already exists: "+h.filename);continue}h.trimmed&&d.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(d.rotated=!0,d.updateUVsInverted());var f=h.anchor||h.pivot;f&&(d.customPivot=!0,d.pivotX=f.x,d.pivotY=f.y),h.scale9Borders&&d.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),d.customData=u(h)}for(var c in a)c!=="frames"&&(Array.isArray(a[c])?l.customData[c]=a[c].slice(0):l.customData[c]=a[c]);return l};p.exports=m},39711:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(41786),m=function(l,s,a){if(!a.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=l.source[s];l.add("__BASE",s,0,0,e.width,e.height);var r=a.frames,d;for(var n in r)if(r.hasOwnProperty(n)){var h=r[n];if(d=l.add(n,s,h.frame.x,h.frame.y,h.frame.w,h.frame.h),!d){console.warn("Invalid atlas json, frame already exists: "+n);continue}h.trimmed&&d.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(d.rotated=!0,d.updateUVsInverted());var f=h.anchor||h.pivot;f&&(d.customPivot=!0,d.pivotX=f.x,d.pivotY=f.y),h.scale9Borders&&d.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),d.customData=u(h)}for(var c in a)c!=="frames"&&(Array.isArray(a[c])?l.customData[c]=a[c].slice(0):l.customData[c]=a[c]);return l};p.exports=m},31403:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u=[171,75,84,88,32,49,49,187,13,10,26,10],m,l=new Uint8Array(t,0,12);for(m=0;m<l.length;m++)if(l[m]!==u[m]){console.warn("KTXParser - Invalid file format");return}var s=Uint32Array.BYTES_PER_ELEMENT,a=new DataView(t,12,13*s),e=a.getUint32(0,!0)===67305985,r=a.getUint32(1*s,e);if(r!==0){console.warn("KTXParser - Only compressed formats supported");return}var d=a.getUint32(4*s,e),n=a.getUint32(6*s,e),h=a.getUint32(7*s,e),f=Math.max(1,a.getUint32(11*s,e)),c=a.getUint32(12*s,e),v=new Array(f),g=12+13*4+c,y=n,C=h;for(m=0;m<f;m++){var S=new Int32Array(t,g,1)[0];g+=4,v[m]={data:new Uint8Array(t,g,S),width:y,height:C},y=Math.max(1,y>>1),C=Math.max(1,C>>1),g+=S}return{mipmaps:v,width:n,height:h,internalFormat:d,compressed:!0,generateMipmap:!1}};p.exports=T},82038:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(R,L,D,F,O,B,N){return N===void 0&&(N=16),Math.floor((R+D)/O)*Math.floor((L+F)/B)*N}function t(R,L){return R=Math.max(R,16),L=Math.max(L,8),R*L/4}function u(R,L){return R=Math.max(R,8),L=Math.max(L,8),R*L/2}function m(R,L){return Math.ceil(R/4)*Math.ceil(L/4)*16}function l(R,L){return T(R,L,3,3,4,4,8)}function s(R,L){return T(R,L,3,3,4,4)}function a(R,L){return T(R,L,4,3,5,4)}function e(R,L){return T(R,L,4,4,5,5)}function r(R,L){return T(R,L,5,4,6,5)}function d(R,L){return T(R,L,5,5,6,6)}function n(R,L){return T(R,L,7,4,8,5)}function h(R,L){return T(R,L,7,5,8,6)}function f(R,L){return T(R,L,7,7,8,8)}function c(R,L){return T(R,L,9,4,10,5)}function v(R,L){return T(R,L,9,5,10,6)}function g(R,L){return T(R,L,9,7,10,8)}function y(R,L){return T(R,L,9,9,10,10)}function C(R,L){return T(R,L,11,9,12,10)}function S(R,L){return T(R,L,11,11,12,12)}var P={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:u,glFormat:[35840]},3:{sizeFunc:u,glFormat:[35842]},6:{sizeFunc:l,glFormat:[36196]},7:{sizeFunc:l,glFormat:[33776,35916]},8:{sizeFunc:s,glFormat:[33777,35917]},9:{sizeFunc:s,glFormat:[33778,35918]},11:{sizeFunc:s,glFormat:[33779,35919]},14:{sizeFunc:m,glFormat:[36494,36495]},15:{sizeFunc:m,glFormat:[36492,36493]},22:{sizeFunc:l,glFormat:[37492,37493]},23:{sizeFunc:s,glFormat:[37496,37497]},24:{sizeFunc:l,glFormat:[37494,37495]},25:{sizeFunc:l,glFormat:[37488]},26:{sizeFunc:s,glFormat:[37490]},27:{sizeFunc:s,glFormat:[37808,37840]},28:{sizeFunc:a,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:r,glFormat:[37811,37843]},31:{sizeFunc:d,glFormat:[37812,37844]},32:{sizeFunc:n,glFormat:[37813,37845]},33:{sizeFunc:h,glFormat:[37814,37846]},34:{sizeFunc:f,glFormat:[37815,37847]},35:{sizeFunc:c,glFormat:[37816,37848]},36:{sizeFunc:v,glFormat:[37817,37849]},37:{sizeFunc:g,glFormat:[37818,37850]},38:{sizeFunc:y,glFormat:[37819,37851]},39:{sizeFunc:C,glFormat:[37820,37852]},40:{sizeFunc:S,glFormat:[37821,37853]}},w=function(R){for(var L=new Uint32Array(R,0,13),D=L[0],F=D===55727696,O=F?L[2]:L[3],B=L[4],N=P[O].glFormat[B],G=P[O].sizeFunc,z=L[11],X=L[7],H=L[6],V=52+L[12],W=new Uint8Array(R,V),I=new Array(z),b=0,U=X,Y=H,$=0;$<z;$++){var j=G(U,Y);I[$]={data:new Uint8Array(W.buffer,W.byteOffset+b,j),width:U,height:Y},U=Math.max(1,U>>1),Y=Math.max(1,Y>>1),b+=j}return{mipmaps:I,width:X,height:H,internalFormat:N,compressed:!0,generateMipmap:!1}};p.exports=w},75549:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95540),m=function(l,s,a,e,r,d,n){var h=u(n,"frameWidth",null),f=u(n,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=l.source[s];l.add("__BASE",s,0,0,c.width,c.height);var v=u(n,"startFrame",0),g=u(n,"endFrame",-1),y=u(n,"margin",0),C=u(n,"spacing",0),S=Math.floor((r-y+C)/(h+C)),P=Math.floor((d-y+C)/(f+C)),w=S*P;w===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",l.key),(v>w||v<-w)&&(v=0),v<0&&(v=w+v),(g===-1||g>w||g<v)&&(g=w);for(var R=y,L=y,D=0,F=0,O=0,B=0;B<w;B++){D=0,F=0;var N=R+h,G=L+f;N>r&&(D=N-r),G>d&&(F=G-d),B>=v&&B<=g&&(l.add(O,s,a+R,e+L,h-D,f-F),O++),R+=h+C,R+h>r&&(R=y,L+=f+C)}return l};p.exports=m},47534:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95540),m=function(l,s,a){var e=u(a,"frameWidth",null),r=u(a,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var d=l.source[0];l.add("__BASE",0,0,0,d.width,d.height),u(a,"startFrame",0),u(a,"endFrame",-1);for(var n=u(a,"margin",0),h=u(a,"spacing",0),f=s.cutX,c=s.cutY,v=s.cutWidth,g=s.cutHeight,y=s.realWidth,C=s.realHeight,S=Math.floor((y-n+h)/(e+h)),P=Math.floor((C-n+h)/(r+h)),w=s.x,R=e-w,L=e-(y-v-w),D=s.y,F=r-D,O=r-(C-g-D),B,N=n,G=n,z=0,X=0,H=0;H<P;H++){for(var V=H===0,W=H===P-1,I=0;I<S;I++){var b=I===0,U=I===S-1;if(B=l.add(z,X,f+N,c+G,e,r),b||V||U||W){var Y=b?w:0,$=V?D:0,j=0,K=0;b&&(j+=e-R),U&&(j+=e-L),V&&(K+=r-F),W&&(K+=r-O);var J=e-j,k=r-K;B.cutWidth=J,B.cutHeight=k,B.setTrim(e,r,Y,$,J,k)}N+=h,b?N+=R:U?N+=L:N+=e,z++}N=n,G+=h,V?G+=F:W?G+=O:G+=r}return l};p.exports=m},86147:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,t=function(m,l,s,a){var e=T-a.y-a.height;m.add(s,l,a.x,e,a.width,a.height)},u=function(m,l,s){var a=m.source[l];m.add("__BASE",l,0,0,a.width,a.height),T=a.height;for(var e=s.split(`
`),r=/^[ ]*(- )*(\w+)+[: ]+(.*)/,d="",n="",h={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var c=e[f].match(r);if(c){var v=c[1]==="- ",g=c[2],y=c[3];if(v&&(n!==d&&(t(m,l,n,h),d=n),h={x:0,y:0,width:0,height:0}),g==="name"){n=y;continue}switch(g){case"x":case"y":case"width":case"height":h[g]=parseInt(y,10);break}}}return n!==d&&t(m,l,n,h),m};p.exports=u},55222:(p,T,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(50030),m=function(d){for(var n=d.mipmaps,h=1;h<n.length;h++){var f=n[h].width,c=n[h].height;if(!u(f,c))return console.warn("Mip level "+h+" is not a power-of-two size: "+f+"x"+c),!1}var v=r[d.internalFormat];return v?v(d):(console.warn("No format checker found for internal format "+d.internalFormat+". Assuming valid."),!0)};function l(d){for(var n=d.mipmaps,h=0;h<n.length;h++){var f=n[h].width,c=n[h].height;if((f<<h)%4!==0||(c<<h)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+h+" is "+f+"x"+c),!1}return!0}function s(){return!0}function a(d){var n=d.mipmaps,h=n[0];return u(h.width,h.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+h.width+"x"+h.height),!1)}function e(d){var n=d.mipmaps,h=n[0];return h.width%4!==0||h.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+h.width+"x"+h.height+" pixels"),!1):!0}var r={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:l,36493:l,36494:l,36495:l,36283:l,36284:l,36285:l,36286:l,35840:a,35841:a,35842:a,35843:a,33776:l,33777:l,33778:l,33779:l,35916:e,35917:e,35918:e,35919:e};p.exports=m},61309:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s,a,e,r,d,n,h){(e===void 0||e<=0)&&(e=32),(r===void 0||r<=0)&&(r=32),d===void 0&&(d=0),n===void 0&&(n=0),this.name=s,this.firstgid=a|0,this.imageWidth=e|0,this.imageHeight=r|0,this.imageMargin=d|0,this.imageSpacing=n|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},addImage:function(l,s){return this.images.push({gid:l,image:s}),this.total++,this}});p.exports=m},27462:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=new u({initialize:function(s){if(this.gids=[],s!==void 0)for(var a=0;a<s.length;++a)for(var e=s[a],r=0;r<e.total;++r)this.gids[e.firstgid+r]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(l){this.gids=l?this._gids:void 0}},getTypeIncludingTile:function(l){if(l.type!==void 0&&l.type!=="")return l.type;if(!(!this.gids||l.gid===void 0)){var s=this.gids[l.gid];if(s){var a=s.getTileData(l.gid);if(a)return a.type}}},setTextureAndFrame:function(l,s,a,e){if(s===null&&this.gids&&e.gid!==void 0){var r=this.gids[e.gid];r&&(s===null&&r.image!==void 0&&(s=r.image.key),a===null&&(a=e.gid-r.firstgid),l.scene.textures.getFrame(s,a)||(s=null,a=null))}l.setTexture(s,a)},setPropertiesFromTiledObject:function(l,s){if(this.gids!==void 0&&s.gid!==void 0){var a=this.gids[s.gid];a!==void 0&&this.setFromJSON(l,a.getTileProperties(s.gid))}this.setFromJSON(l,s.properties)},setFromJSON:function(l,s){if(s){if(Array.isArray(s)){for(var a=0;a<s.length;a++){var e=s[a];l[e.name]!==void 0?l[e.name]=e.value:l.setData(e.name,e.value)}return}for(var r in s)l[r]!==void 0?l[r]=s[r]:l.setData(r,s[r])}}});p.exports=m},31989:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(80341),m=t(87010),l=t(46177),s=t(49075),a=function(e,r,d,n,h,f,c,v){d===void 0&&(d=32),n===void 0&&(n=32),h===void 0&&(h=10),f===void 0&&(f=10),v===void 0&&(v=!1);var g=null;if(Array.isArray(c)){var y=r!==void 0?r:"map";g=l(y,u.ARRAY_2D,c,d,n,v)}else if(r!==void 0){var C=e.cache.tilemap.get(r);C?g=l(r,C.format,C.data,d,n,v):console.warn("No map data found for key "+r)}return g===null&&(g=new m({tileWidth:d,tileHeight:n,width:h,height:f})),new s(e,g)};p.exports=a},23029:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(31401),l=t(91907),s=t(62644),a=t(93232),e=new u({Mixins:[m.AlphaSingle,m.Flip,m.Visible],initialize:function(d,n,h,f,c,v,g,y){this.layer=d,this.index=n,this.x=h,this.y=f,this.width=c,this.height=v,this.right,this.bottom,this.baseWidth=g!==void 0?g:c,this.baseHeight=y!==void 0?y:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(r,d){return!(r<this.pixelX||d<this.pixelY||r>this.right||d>this.bottom)},copy:function(r){return this.index=r.index,this.alpha=r.alpha,this.properties=s(r.properties),this.visible=r.visible,this.setFlip(r.flipX,r.flipY),this.tint=r.tint,this.rotation=r.rotation,this.collideUp=r.collideUp,this.collideDown=r.collideDown,this.collideLeft=r.collideLeft,this.collideRight=r.collideRight,this.collisionCallback=r.collisionCallback,this.collisionCallbackContext=r.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(r){var d=this.tilemapLayer;if(d){var n=d.tileToWorldXY(this.x,this.y,void 0,r);return n.x}return this.x*this.baseWidth},getRight:function(r){var d=this.tilemapLayer;return d?this.getLeft(r)+this.width*d.scaleX:this.getLeft(r)+this.width},getTop:function(r){var d=this.tilemapLayer;if(d){var n=d.tileToWorldXY(this.x,this.y,void 0,r);return n.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(r){var d=this.tilemapLayer;return d?this.getTop(r)+this.height*d.scaleY:this.getTop(r)+this.height},getBounds:function(r,d){return d===void 0&&(d=new a),d.x=this.getLeft(r),d.y=this.getTop(r),d.width=this.getRight(r)-d.x,d.height=this.getBottom(r)-d.y,d},getCenterX:function(r){return(this.getLeft(r)+this.getRight(r))/2},getCenterY:function(r){return(this.getTop(r)+this.getBottom(r))/2},intersects:function(r,d,n,h){return!(n<=this.pixelX||h<=this.pixelY||r>=this.right||d>=this.bottom)},isInteresting:function(r,d){return r&&d?this.canCollide||this.hasInterestingFace:r?this.collides:d?this.hasInterestingFace:!1},resetCollision:function(r){if(r===void 0&&(r=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,r){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(r,d,n,h,f){if(d===void 0&&(d=r),n===void 0&&(n=r),h===void 0&&(h=r),f===void 0&&(f=!0),this.collideLeft=r,this.collideRight=d,this.collideUp=n,this.collideDown=h,this.faceLeft=r,this.faceRight=d,this.faceTop=n,this.faceBottom=h,f){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(r,d){return r===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=r,this.collisionCallbackContext=d),this},setSize:function(r,d,n,h){return r!==void 0&&(this.width=r),d!==void 0&&(this.height=d),n!==void 0&&(this.baseWidth=n),h!==void 0&&(this.baseHeight=h),this.updatePixelXY(),this},updatePixelXY:function(){var r=this.layer.orientation;if(r===l.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(r===l.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(r===l.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(r===l.HEXAGONAL){var d=this.layer.staggerAxis,n=this.layer.staggerIndex,h=this.layer.hexSideLength,f,c;d==="y"?(c=(this.baseHeight-h)/2+h,n==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):d==="x"&&(f=(this.baseWidth-h)/2+h,this.pixelX=this.x*f,n==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var r=this.layer.tilemapLayer;if(r){var d=r.gidMap[this.index];if(d)return d}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var r=this.tilemapLayer;return r?r.tilemap:null}}});p.exports=e},49075:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(84101),m=t(83419),l=t(39506),s=t(80341),a=t(95540),e=t(14977),r=t(27462),d=t(91907),n=t(36305),h=t(19133),f=t(68287),c=t(23029),v=t(81086),g=t(20442),y=t(33629),C=new m({initialize:function(P,w){this.scene=P,this.tileWidth=w.tileWidth,this.tileHeight=w.tileHeight,this.width=w.width,this.height=w.height,this.orientation=w.orientation,this.renderOrder=w.renderOrder,this.format=w.format,this.version=w.version,this.properties=w.properties,this.widthInPixels=w.widthInPixels,this.heightInPixels=w.heightInPixels,this.imageCollections=w.imageCollections,this.images=w.images,this.layers=w.layers,this.tiles=w.tiles,this.tilesets=w.tilesets,this.objects=w.objects,this.currentLayerIndex=0,this.hexSideLength=w.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(R),WorldToTileX:v.GetWorldToTileXFunction(R),WorldToTileY:v.GetWorldToTileYFunction(R),TileToWorldXY:v.GetTileToWorldXYFunction(R),TileToWorldX:v.GetTileToWorldXFunction(R),TileToWorldY:v.GetTileToWorldYFunction(R),GetTileCorners:v.GetTileCornersFunction(R)}},setRenderOrder:function(S){var P=["right-down","left-down","right-up","left-up"];return typeof S=="number"&&(S=P[S]),P.indexOf(S)>-1&&(this.renderOrder=S),this},addTilesetImage:function(S,P,w,R,L,D,F,O){if(S===void 0)return null;P==null&&(P=S);var B=this.scene.sys.textures;if(!B.exists(P))return console.warn('Texture key "%s" not found',P),null;var N=B.get(P),G=this.getTilesetIndex(S);if(G===null&&this.format===s.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',S,this.tilesets),null;var z=this.tilesets[G];return z?(z.setTileSize(w,R),z.setSpacing(L,D),z.setImage(N),z):(w===void 0&&(w=this.tileWidth),R===void 0&&(R=this.tileHeight),L===void 0&&(L=0),D===void 0&&(D=0),F===void 0&&(F=0),O===void 0&&(O={x:0,y:0}),z=new y(S,F,w,R,L,D,void 0,void 0,O),z.setImage(N),this.tilesets.push(z),this.tiles=u(this),z)},copy:function(S,P,w,R,L,D,F,O){return O=this.getLayer(O),O!==null?(v.Copy(S,P,w,R,L,D,F,O),this):null},createBlankLayer:function(S,P,w,R,L,D,F,O){w===void 0&&(w=0),R===void 0&&(R=0),L===void 0&&(L=this.width),D===void 0&&(D=this.height),F===void 0&&(F=this.tileWidth),O===void 0&&(O=this.tileHeight);var B=this.getLayerIndex(S);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+S),null;for(var N=new e({name:S,tileWidth:F,tileHeight:O,width:L,height:D,orientation:this.orientation}),G,z=0;z<D;z++){G=[];for(var X=0;X<L;X++)G.push(new c(N,-1,X,z,F,O,this.tileWidth,this.tileHeight));N.data.push(G)}this.layers.push(N),this.currentLayerIndex=this.layers.length-1;var H=new g(this.scene,this,this.currentLayerIndex,P,w,R);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(S,P,w,R){var L=this.getLayerIndex(S);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+S),typeof S=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[L];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+S),null;this.currentLayerIndex=L,w===void 0&&(w=D.x),R===void 0&&(R=D.y);var F=new g(this.scene,this,L,P,w,R);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(S,P,w){w===void 0&&(w=!0);var R=[],L=this.getObjectLayer(S);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+S),R;var D=new r(w?this.tilesets:void 0);Array.isArray(P)||(P=[P]);for(var F=L.objects,O=0;O<P.length;O++){var B=P[O],N=a(B,"id",null),G=a(B,"gid",null),z=a(B,"name",null),X=a(B,"type",null);D.enabled=!a(B,"ignoreTileset",null);for(var H,V=[],W=0;W<F.length;W++)H=F[W],(N===null&&G===null&&z===null&&X===null||N!==null&&H.id===N||G!==null&&H.gid===G||z!==null&&H.name===z||X!==null&&D.getTypeIncludingTile(H)===X)&&V.push(H);for(var I=a(B,"classType",f),b=a(B,"scene",this.scene),U=a(B,"container",null),Y=a(B,"key",null),$=a(B,"frame",null),j=0;j<V.length;j++){H=V[j];var K=new I(b);if(K.setName(H.name),K.setPosition(H.x,H.y),D.setTextureAndFrame(K,Y,$,H),H.width&&(K.displayWidth=H.width),H.height&&(K.displayHeight=H.height),this.orientation===d.ISOMETRIC){var J=this.tileWidth/this.tileHeight,k={x:K.x-K.y,y:(K.x+K.y)/J};K.x=k.x,K.y=k.y}var _={x:K.originX*H.width,y:(K.originY-(H.gid?1:0))*H.height};if(H.rotation){var et=l(H.rotation);n(_,et),K.rotation=et}K.x+=_.x,K.y+=_.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&K.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||(K.visible=!1),D.setPropertiesFromTiledObject(K,H),U?U.add(K):b.add.existing(K),R.push(K)}}return R},createFromTiles:function(S,P,w,R,L,D){return D=this.getLayer(D),D===null?null:v.CreateFromTiles(S,P,w,R,L,D)},fill:function(S,P,w,R,L,D,F){return D===void 0&&(D=!0),F=this.getLayer(F),F===null?null:(v.Fill(S,P,w,R,L,D,F),this)},filterObjects:function(S,P,w){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.filter(P,w)},filterTiles:function(S,P,w,R,L,D,F,O){return O=this.getLayer(O),O===null?null:v.FilterTiles(S,P,w,R,L,D,F,O)},findByIndex:function(S,P,w,R){return R=this.getLayer(R),R===null?null:v.FindByIndex(S,P,w,R)},findObject:function(S,P,w){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.find(P,w)||null},findTile:function(S,P,w,R,L,D,F,O){return O=this.getLayer(O),O===null?null:v.FindTile(S,P,w,R,L,D,F,O)},forEachTile:function(S,P,w,R,L,D,F,O){return O=this.getLayer(O),O===null?null:(v.ForEachTile(S,P,w,R,L,D,F,O),this)},getImageIndex:function(S){return this.getIndex(this.images,S)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(S){return S.name})},getIndex:function(S,P){for(var w=0;w<S.length;w++)if(S[w].name===P)return w;return null},getLayer:function(S){var P=this.getLayerIndex(S);return P!==null?this.layers[P]:null},getObjectLayer:function(S){var P=this.getIndex(this.objects,S);return P!==null?this.objects[P]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(S){return S.name})},getLayerIndex:function(S){return S===void 0?this.currentLayerIndex:typeof S=="string"?this.getLayerIndexByName(S):typeof S=="number"&&S<this.layers.length?S:S instanceof g&&S.tilemap===this?S.layerIndex:null},getLayerIndexByName:function(S){return this.getIndex(this.layers,S)},getTileAt:function(S,P,w,R){return R=this.getLayer(R),R===null?null:v.GetTileAt(S,P,w,R)},getTileAtWorldXY:function(S,P,w,R,L){return L=this.getLayer(L),L===null?null:v.GetTileAtWorldXY(S,P,w,R,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(S){return S.name})},getTilesWithin:function(S,P,w,R,L,D){return D=this.getLayer(D),D===null?null:v.GetTilesWithin(S,P,w,R,L,D)},getTilesWithinShape:function(S,P,w,R){return R=this.getLayer(R),R===null?null:v.GetTilesWithinShape(S,P,w,R)},getTilesWithinWorldXY:function(S,P,w,R,L,D,F){return F=this.getLayer(F),F===null?null:v.GetTilesWithinWorldXY(S,P,w,R,L,D,F)},getTileset:function(S){var P=this.getIndex(this.tilesets,S);return P!==null?this.tilesets[P]:null},getTilesetIndex:function(S){return this.getIndex(this.tilesets,S)},hasTileAt:function(S,P,w){return w=this.getLayer(w),w===null?null:v.HasTileAt(S,P,w)},hasTileAtWorldXY:function(S,P,w,R){return R=this.getLayer(R),R===null?null:v.HasTileAtWorldXY(S,P,w,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(S){this.setLayer(S)}},putTileAt:function(S,P,w,R,L){return R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:v.PutTileAt(S,P,w,R,L)},putTileAtWorldXY:function(S,P,w,R,L,D){return R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:v.PutTileAtWorldXY(S,P,w,R,L,D)},putTilesAt:function(S,P,w,R,L){return R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:(v.PutTilesAt(S,P,w,R,L),this)},randomize:function(S,P,w,R,L,D){return D=this.getLayer(D),D===null?null:(v.Randomize(S,P,w,R,L,D),this)},calculateFacesAt:function(S,P,w){return w=this.getLayer(w),w===null?null:(v.CalculateFacesAt(S,P,w),this)},calculateFacesWithin:function(S,P,w,R,L){return L=this.getLayer(L),L===null?null:(v.CalculateFacesWithin(S,P,w,R,L),this)},removeLayer:function(S){var P=this.getLayerIndex(S);if(P!==null){h(this.layers,P);for(var w=P;w<this.layers.length;w++)this.layers[w].tilemapLayer&&this.layers[w].tilemapLayer.layerIndex--;return this.currentLayerIndex===P&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(S){var P=this.getLayerIndex(S);return P!==null?(S=this.layers[P],S.tilemapLayer.destroy(),h(this.layers,P),this.currentLayerIndex===P&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var S=this.layers,P=0;P<S.length;P++)S[P].tilemapLayer&&S[P].tilemapLayer.destroy(!1);return S.length=0,this.currentLayerIndex=0,this},removeTile:function(S,P,w){P===void 0&&(P=-1),w===void 0&&(w=!0);var R=[];Array.isArray(S)||(S=[S]);for(var L=0;L<S.length;L++){var D=S[L];R.push(this.removeTileAt(D.x,D.y,!0,w,D.tilemapLayer)),P>-1&&this.putTileAt(P,D.x,D.y,w,D.tilemapLayer)}return R},removeTileAt:function(S,P,w,R,L){return w===void 0&&(w=!0),R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:v.RemoveTileAt(S,P,w,R,L)},removeTileAtWorldXY:function(S,P,w,R,L,D){return w===void 0&&(w=!0),R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:v.RemoveTileAtWorldXY(S,P,w,R,L,D)},renderDebug:function(S,P,w){return w=this.getLayer(w),w===null?null:(this.orientation===d.ORTHOGONAL&&v.RenderDebug(S,P,w),this)},renderDebugFull:function(S,P){for(var w=this.layers,R=0;R<w.length;R++)v.RenderDebug(S,P,w[R]);return this},replaceByIndex:function(S,P,w,R,L,D,F){return F=this.getLayer(F),F===null?null:(v.ReplaceByIndex(S,P,w,R,L,D,F),this)},setCollision:function(S,P,w,R,L){return P===void 0&&(P=!0),w===void 0&&(w=!0),L===void 0&&(L=!0),R=this.getLayer(R),R===null?null:(v.SetCollision(S,P,w,R,L),this)},setCollisionBetween:function(S,P,w,R,L){return w===void 0&&(w=!0),R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:(v.SetCollisionBetween(S,P,w,R,L),this)},setCollisionByProperty:function(S,P,w,R){return P===void 0&&(P=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(v.SetCollisionByProperty(S,P,w,R),this)},setCollisionByExclusion:function(S,P,w,R){return P===void 0&&(P=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(v.SetCollisionByExclusion(S,P,w,R),this)},setCollisionFromCollisionGroup:function(S,P,w){return S===void 0&&(S=!0),P===void 0&&(P=!0),w=this.getLayer(w),w===null?null:(v.SetCollisionFromCollisionGroup(S,P,w),this)},setTileIndexCallback:function(S,P,w,R){return R=this.getLayer(R),R===null?null:(v.SetTileIndexCallback(S,P,w,R),this)},setTileLocationCallback:function(S,P,w,R,L,D,F){return F=this.getLayer(F),F===null?null:(v.SetTileLocationCallback(S,P,w,R,L,D,F),this)},setLayer:function(S){var P=this.getLayerIndex(S);return P!==null&&(this.currentLayerIndex=P),this},setBaseTileSize:function(S,P){this.tileWidth=S,this.tileHeight=P,this.widthInPixels=this.width*S,this.heightInPixels=this.height*P;for(var w=0;w<this.layers.length;w++){this.layers[w].baseTileWidth=S,this.layers[w].baseTileHeight=P;for(var R=this.layers[w].data,L=this.layers[w].width,D=this.layers[w].height,F=0;F<D;F++)for(var O=0;O<L;O++){var B=R[F][O];B!==null&&B.setSize(void 0,void 0,S,P)}}return this},setLayerTileSize:function(S,P,w){if(w=this.getLayer(w),w===null)return this;w.tileWidth=S,w.tileHeight=P;for(var R=w.data,L=w.width,D=w.height,F=0;F<D;F++)for(var O=0;O<L;O++){var B=R[F][O];B!==null&&B.setSize(S,P)}return this},shuffle:function(S,P,w,R,L){return L=this.getLayer(L),L===null?null:(v.Shuffle(S,P,w,R,L),this)},swapByIndex:function(S,P,w,R,L,D,F){return F=this.getLayer(F),F===null?null:(v.SwapByIndex(S,P,w,R,L,D,F),this)},tileToWorldX:function(S,P,w){return w=this.getLayer(w),w===null?null:this._convert.TileToWorldX(S,P,w)},tileToWorldY:function(S,P,w){return w=this.getLayer(w),w===null?null:this._convert.TileToWorldY(S,P,w)},tileToWorldXY:function(S,P,w,R,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(S,P,w,R,L)},getTileCorners:function(S,P,w,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(S,P,w,R)},weightedRandomize:function(S,P,w,R,L,D){return D=this.getLayer(D),D===null?null:(v.WeightedRandomize(P,w,R,L,S,D),this)},worldToTileX:function(S,P,w,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(S,P,w,R)},worldToTileY:function(S,P,w,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(S,P,w,R)},worldToTileXY:function(S,P,w,R,L,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(S,P,w,R,L,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=C},45939:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(44603),m=t(31989);u.register("tilemap",function(l){var s=l!==void 0?l:{};return m(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},46029:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(39429),m=t(31989);u.register("tilemap",function(l,s,a,e,r,d,n){return l===null&&(l=void 0),s===null&&(s=void 0),a===null&&(a=void 0),e===null&&(e=void 0),r===null&&(r=void 0),m(this.scene,l,s,a,e,r,d,n)})},20442:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(78389),l=t(31401),s=t(95643),a=t(81086),e=t(19218),r=t(26099),d=new u({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,m,e],initialize:function(h,f,c,v,g,y){s.call(this,h,"TilemapLayer"),this.isTilemap=!0,this.tilemap=f,this.layerIndex=c,this.layer=f.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new r,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(g,y),this.setOrigin(0,0),this.setSize(f.tileWidth*this.layer.width,f.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(n){var h=[],f=[],c=this.tilemap;Array.isArray(n)||(n=[n]);for(var v=0;v<n.length;v++){var g=n[v];if(typeof g=="string"&&(g=c.getTileset(g)),g){f.push(g);for(var y=g.firstgid,C=0;C<g.total;C++)h[y+C]=g}}this.gidMap=h,this.tileset=f},setRenderOrder:function(n){var h=["right-down","left-down","right-up","left-up"];return typeof n=="string"&&(n=h.indexOf(n)),n>=0&&n<4&&(this._renderOrder=n),this},calculateFacesAt:function(n,h){return a.CalculateFacesAt(n,h,this.layer),this},calculateFacesWithin:function(n,h,f,c){return a.CalculateFacesWithin(n,h,f,c,this.layer),this},createFromTiles:function(n,h,f,c,v){return a.CreateFromTiles(n,h,f,c,v,this.layer)},cull:function(n){return this.cullCallback(this.layer,n,this.culledTiles,this._renderOrder)},copy:function(n,h,f,c,v,g,y){return a.Copy(n,h,f,c,v,g,y,this.layer),this},fill:function(n,h,f,c,v,g){return a.Fill(n,h,f,c,v,g,this.layer),this},filterTiles:function(n,h,f,c,v,g,y){return a.FilterTiles(n,h,f,c,v,g,y,this.layer)},findByIndex:function(n,h,f){return a.FindByIndex(n,h,f,this.layer)},findTile:function(n,h,f,c,v,g,y){return a.FindTile(n,h,f,c,v,g,y,this.layer)},forEachTile:function(n,h,f,c,v,g,y){return a.ForEachTile(n,h,f,c,v,g,y,this.layer),this},setTint:function(n,h,f,c,v,g){n===void 0&&(n=16777215);var y=function(C){C.tint=n,C.tintFill=!1};return this.forEachTile(y,this,h,f,c,v,g)},setTintFill:function(n,h,f,c,v,g){n===void 0&&(n=16777215);var y=function(C){C.tint=n,C.tintFill=!0};return this.forEachTile(y,this,h,f,c,v,g)},getTileAt:function(n,h,f){return a.GetTileAt(n,h,f,this.layer)},getTileAtWorldXY:function(n,h,f,c){return a.GetTileAtWorldXY(n,h,f,c,this.layer)},getIsoTileAtWorldXY:function(n,h,f,c,v){f===void 0&&(f=!0);var g=this.tempVec;return a.IsometricWorldToTileXY(n,h,!0,g,v,this.layer,f),this.getTileAt(g.x,g.y,c)},getTilesWithin:function(n,h,f,c,v){return a.GetTilesWithin(n,h,f,c,v,this.layer)},getTilesWithinShape:function(n,h,f){return a.GetTilesWithinShape(n,h,f,this.layer)},getTilesWithinWorldXY:function(n,h,f,c,v,g){return a.GetTilesWithinWorldXY(n,h,f,c,v,g,this.layer)},hasTileAt:function(n,h){return a.HasTileAt(n,h,this.layer)},hasTileAtWorldXY:function(n,h,f){return a.HasTileAtWorldXY(n,h,f,this.layer)},putTileAt:function(n,h,f,c){return a.PutTileAt(n,h,f,c,this.layer)},putTileAtWorldXY:function(n,h,f,c,v){return a.PutTileAtWorldXY(n,h,f,c,v,this.layer)},putTilesAt:function(n,h,f,c){return a.PutTilesAt(n,h,f,c,this.layer),this},randomize:function(n,h,f,c,v){return a.Randomize(n,h,f,c,v,this.layer),this},removeTileAt:function(n,h,f,c){return a.RemoveTileAt(n,h,f,c,this.layer)},removeTileAtWorldXY:function(n,h,f,c,v){return a.RemoveTileAtWorldXY(n,h,f,c,v,this.layer)},renderDebug:function(n,h){return a.RenderDebug(n,h,this.layer),this},replaceByIndex:function(n,h,f,c,v,g){return a.ReplaceByIndex(n,h,f,c,v,g,this.layer),this},setSkipCull:function(n){return n===void 0&&(n=!0),this.skipCull=n,this},setCullPadding:function(n,h){return n===void 0&&(n=1),h===void 0&&(h=1),this.cullPaddingX=n,this.cullPaddingY=h,this},setCollision:function(n,h,f,c){return a.SetCollision(n,h,f,this.layer,c),this},setCollisionBetween:function(n,h,f,c){return a.SetCollisionBetween(n,h,f,c,this.layer),this},setCollisionByProperty:function(n,h,f){return a.SetCollisionByProperty(n,h,f,this.layer),this},setCollisionByExclusion:function(n,h,f){return a.SetCollisionByExclusion(n,h,f,this.layer),this},setCollisionFromCollisionGroup:function(n,h){return a.SetCollisionFromCollisionGroup(n,h,this.layer),this},setTileIndexCallback:function(n,h,f){return a.SetTileIndexCallback(n,h,f,this.layer),this},setTileLocationCallback:function(n,h,f,c,v,g){return a.SetTileLocationCallback(n,h,f,c,v,g,this.layer),this},shuffle:function(n,h,f,c){return a.Shuffle(n,h,f,c,this.layer),this},swapByIndex:function(n,h,f,c,v,g){return a.SwapByIndex(n,h,f,c,v,g,this.layer),this},tileToWorldX:function(n,h){return this.tilemap.tileToWorldX(n,h,this)},tileToWorldY:function(n,h){return this.tilemap.tileToWorldY(n,h,this)},tileToWorldXY:function(n,h,f,c){return this.tilemap.tileToWorldXY(n,h,f,c,this)},getTileCorners:function(n,h,f){return this.tilemap.getTileCorners(n,h,f,this)},weightedRandomize:function(n,h,f,c,v){return a.WeightedRandomize(h,f,c,v,n,this.layer),this},worldToTileX:function(n,h,f){return this.tilemap.worldToTileX(n,h,f,this)},worldToTileY:function(n,h,f){return this.tilemap.worldToTileY(n,h,f,this)},worldToTileXY:function(n,h,f,c,v){return this.tilemap.worldToTileXY(n,h,f,c,v,this)},destroy:function(n){n===void 0&&(n=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),n&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});p.exports=d},16153:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61340),m=new u,l=new u,s=new u,a=function(e,r,d,n){var h=r.cull(d),f=h.length,c=d.alpha*r.alpha;if(!(f===0||c<=0)){var v=m,g=l,y=s;g.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),v.copyFrom(d.matrix);var C=e.currentContext,S=r.gidMap;C.save(),n?(v.multiplyWithOffset(n,-d.scrollX*r.scrollFactorX,-d.scrollY*r.scrollFactorY),g.e=r.x,g.f=r.y,v.multiply(g,y),y.copyToContext(C)):(g.e-=d.scrollX*r.scrollFactorX,g.f-=d.scrollY*r.scrollFactorY,g.copyToContext(C)),(!e.antialias||r.scaleX>1||r.scaleY>1)&&(C.imageSmoothingEnabled=!1);for(var P=0;P<f;P++){var w=h[P],R=S[w.index];if(R){var L=R.image.getSourceImage(),D=R.getTileTextureCoordinates(w.index),F=R.tileWidth,O=R.tileHeight;if(!(D===null||F===0||O===0)){var B=F*.5,N=O*.5;D.x+=R.tileOffset.x,D.y+=R.tileOffset.y,C.save(),C.translate(w.pixelX+B,w.pixelY+N),w.rotation!==0&&C.rotate(w.rotation),(w.flipX||w.flipY)&&C.scale(w.flipX?-1:1,w.flipY?-1:1),C.globalAlpha=c*w.alpha,C.drawImage(L,D.x,D.y,F,O,-B,-N,F,O),C.restore()}}}C.restore()}};p.exports=a},19218:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(29747),m=u,l=u;m=t(99558),l=t(16153),p.exports={renderWebGL:m,renderCanvas:l}},99558:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70554),m=function(l,s,a){var e=s.cull(a),r=e.length,d=a.alpha*s.alpha;if(!(r===0||d<=0)){var n=s.gidMap,h=l.pipelines.set(s.pipeline,s),f=u.getTintAppendFloatAlpha,c=s.scrollFactorX,v=s.scrollFactorY,g=s.x,y=s.y,C=s.scaleX,S=s.scaleY;l.pipelines.preBatch(s);for(var P=0;P<r;P++){var w=e[P],R=n[w.index];if(R){var L=R.getTileTextureCoordinates(w.index),D=R.tileWidth,F=R.tileHeight;if(!(!L||D===0||F===0)){var O=D*.5,B=F*.5,N=R.glTexture,G=h.setTexture2D(N,s),z=D,X=F,H=L.x,V=L.y,W=R.tileOffset.x,I=R.tileOffset.y,b=f(w.tint,d*w.alpha);h.batchTexture(s,N,N.width,N.height,g+w.pixelX*C+(O*C-W),y+w.pixelY*S+(B*S-I),D,F,C,S,w.rotation,w.flipX,w.flipY,c,v,O,B,H,V,z,X,b,b,b,b,w.tintFill,0,0,a,null,!0,G,!0)}}}l.pipelines.postBatch(s)}};p.exports=m},33629:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(26099),l=new u({initialize:function(a,e,r,d,n,h,f,c,v){(r===void 0||r<=0)&&(r=32),(d===void 0||d<=0)&&(d=32),n===void 0&&(n=0),h===void 0&&(h=0),f===void 0&&(f={}),c===void 0&&(c={}),this.name=a,this.firstgid=e,this.tileWidth=r,this.tileHeight=d,this.tileMargin=n,this.tileSpacing=h,this.tileProperties=f,this.tileData=c,this.tileOffset=new m,v!==void 0&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var a=this.getTileData(s);return a&&a.objectgroup?a.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){this.image=s;var a=s.get(),e=s.getFrameBounds();return this.glTexture=a.source.glTexture,a.width>e.width||a.height>e.height?this.updateTileData(a.width,a.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(s,a){return s!==void 0&&(this.tileWidth=s),a!==void 0&&(this.tileHeight=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,a){return s!==void 0&&(this.tileMargin=s),a!==void 0&&(this.tileSpacing=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,a,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var d=(a-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),n=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(d%1!==0||n%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),d=Math.floor(d),n=Math.floor(n),this.rows=d,this.columns=n,this.total=d*n,this.texCoordinates.length=0;for(var h=this.tileMargin+e,f=this.tileMargin+r,c=0;c<this.rows;c++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:h,y:f}),h+=this.tileWidth+this.tileSpacing;h=this.tileMargin+e,f+=this.tileHeight+this.tileSpacing}return this}});p.exports=l},72023:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7423),m=function(l,s,a){var e=u(l,s,!0,a),r=u(l,s-1,!0,a),d=u(l,s+1,!0,a),n=u(l-1,s,!0,a),h=u(l+1,s,!0,a),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),r&&r.collides&&(f&&(e.faceTop=!1),r.faceBottom=!f),d&&d.collides&&(f&&(e.faceBottom=!1),d.faceTop=!f),n&&n.collides&&(f&&(e.faceLeft=!1),n.faceRight=!f),h&&h.collides&&(f&&(e.faceRight=!1),h.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};p.exports=m},42573:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7423),m=t(7386),l=function(s,a,e,r,d){for(var n=null,h=null,f=null,c=null,v=m(s,a,e,r,null,d),g=0;g<v.length;g++){var y=v[g];y&&(y.collides?(n=u(y.x,y.y-1,!0,d),h=u(y.x,y.y+1,!0,d),f=u(y.x-1,y.y,!0,d),c=u(y.x+1,y.y,!0,d),y.faceTop=!(n&&n.collides),y.faceBottom=!(h&&h.collides),y.faceLeft=!(f&&f.collides),y.faceRight=!(c&&c.collides)):y.resetFaces())}};p.exports=l},33528:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=new u,l=function(s,a,e,r){var d=e.tilemapLayer,n=d.cullPaddingX,h=d.cullPaddingY,f=d.tilemap.tileToWorldXY(s,a,m,r,d);return f.x>r.worldView.x+d.scaleX*e.tileWidth*(-n-.5)&&f.x<r.worldView.right+d.scaleX*e.tileWidth*(n-.5)&&f.y>r.worldView.y+d.scaleY*e.tileHeight*(-h-1)&&f.y<r.worldView.bottom+d.scaleY*e.tileHeight*(h-.5)};p.exports=l},1785:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(42573),m=t(7386),l=t(62991),s=t(23029),a=function(e,r,d,n,h,f,c,v){c===void 0&&(c=!0);var g=m(e,r,d,n,null,v),y=[];g.forEach(function(D){var F=new s(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);F.copy(D),y.push(F)});for(var C=h-e,S=f-r,P=0;P<y.length;P++){var w=y[P],R=w.x+C,L=w.y+S;l(R,L,v)&&v.data[L][R]&&(w.x=R,w.y=L,w.updatePixelXY(),v.data[L][R]=w)}c&&u(h-1,f-1,d+2,n+2,v),g.length=0,y.length=0};p.exports=a},78419:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62644),m=t(7386),l=t(27987),s=function(a,e,r,d,n,h){r||(r={}),Array.isArray(a)||(a=[a]);var f=h.tilemapLayer;d||(d=f.scene),n||(n=d.cameras.main);var c=h.width,v=h.height,g=m(0,0,c,v,null,h),y=[],C,S=function(L,D,F){for(var O=0;O<F.length;O++){var B=F[O];L.hasOwnProperty(B)||(L[B]=D[B])}};for(C=0;C<g.length;C++){var P=g[C],w=u(r);if(a.indexOf(P.index)!==-1){var R=f.tileToWorldXY(P.x,P.y,void 0,n,h);w.x=R.x,w.y=R.y,S(w,P,["rotation","flipX","flipY","alpha","visible","tint"]),w.hasOwnProperty("origin")||(w.x+=P.width*.5,w.y+=P.height*.5),w.hasOwnProperty("useSpriteSheet")&&(w.key=P.tileset.image,w.frame=P.index-1),y.push(d.make.sprite(w))}}if(Array.isArray(e))for(C=0;C<a.length;C++)l(a[C],e[C],0,0,c,v,h);else if(e!==null)for(C=0;C<a.length;C++)l(a[C],e,0,0,c,v,h);return y};p.exports=s},19545:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(87841),m=t(63448),l=t(56583),s=new u,a=function(e,r){var d=e.tilemapLayer.tilemap,n=e.tilemapLayer,h=Math.floor(d.tileWidth*n.scaleX),f=Math.floor(d.tileHeight*n.scaleY),c=l(r.worldView.x-n.x,h,0,!0)-n.cullPaddingX,v=m(r.worldView.right-n.x,h,0,!0)+n.cullPaddingX,g=l(r.worldView.y-n.y,f,0,!0)-n.cullPaddingY,y=m(r.worldView.bottom-n.y,f,0,!0)+n.cullPaddingY;return s.setTo(c,g,v-c,y-g)};p.exports=a},30003:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19545),m=t(32483),l=function(s,a,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var d=s.tilemapLayer,n=u(s,a);return(d.skipCull||d.scrollFactorX!==1||d.scrollFactorY!==1)&&(n.left=0,n.right=s.width,n.top=0,n.bottom=s.height),m(s,n,r,e),e};p.exports=l},35137:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=t(42573),l=t(20576),s=function(a,e,r,d,n,h,f){for(var c=f.collideIndexes.indexOf(a)!==-1,v=u(e,r,d,n,null,f),g=0;g<v.length;g++)v[g].index=a,l(v[g],c);h&&m(e-1,r-1,d+2,n+2,f)};p.exports=s},40253:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=function(l,s,a,e,r,d,n,h){var f=u(a,e,r,d,n,h);return f.filter(l,s)};p.exports=m},52692:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){u===void 0&&(u=0),m===void 0&&(m=!1);var s=0,a,e,r;if(m){for(e=l.height-1;e>=0;e--)for(a=l.width-1;a>=0;a--)if(r=l.data[e][a],r&&r.index===t){if(s===u)return r;s+=1}}else for(e=0;e<l.height;e++)for(a=0;a<l.width;a++)if(r=l.data[e][a],r&&r.index===t){if(s===u)return r;s+=1}return null};p.exports=T},66151:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=function(l,s,a,e,r,d,n,h){var f=u(a,e,r,d,n,h);return f.find(l,s)||null};p.exports=m},97560:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=function(l,s,a,e,r,d,n,h){var f=u(a,e,r,d,n,h);f.forEach(l,s)};p.exports=m},43305:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91907),m=t(30003),l=t(9474),s=t(14018),a=t(29747),e=t(54503),r=function(d){return d===u.ORTHOGONAL?m:d===u.HEXAGONAL?l:d===u.STAGGERED?e:d===u.ISOMETRIC?s:a};p.exports=r},7423:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62991),m=function(l,s,a,e){if(a===void 0&&(a=!1),u(l,s,e)){var r=e.data[s][l]||null;return r?r.index===-1?a?r:null:r:null}else return null};p.exports=m},60540:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7423),m=t(26099),l=new m,s=function(a,e,r,d,n){return n.tilemapLayer.worldToTileXY(a,e,!0,l,d),u(l.x,l.y,r,n)};p.exports=s},55826:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e){var r=e.baseTileWidth,d=e.baseTileHeight,n=e.tilemapLayer,h=0,f=0;n&&(a||(a=n.scene.cameras.main),h=n.x+a.scrollX*(1-n.scrollFactorX),f=n.y+a.scrollY*(1-n.scrollFactorY),r*=n.scaleX,d*=n.scaleY);var c=h+l*r,v=f+s*d;return[new u(c,v),new u(c+r,v),new u(c+r,v+d),new u(c,v+d)]};p.exports=m},11758:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91907),m=t(27229),l=t(29747),s=t(55826),a=function(e){return e===u.ORTHOGONAL?s:e===u.ISOMETRIC?l:e===u.HEXAGONAL?m:(e===u.STAGGERED,l)};p.exports=a},39167:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91907),m=t(29747),l=t(97281),s=function(a){return a===u.ORTHOGONAL?l:m};p.exports=s},62e3:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91907),m=t(19951),l=t(14127),s=t(29747),a=t(97202),e=t(70326),r=function(d){return d===u.ORTHOGONAL?e:d===u.ISOMETRIC?l:d===u.HEXAGONAL?m:d===u.STAGGERED?a:s};p.exports=r},5984:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91907),m=t(29747),l=t(28054),s=t(29650),a=function(e){return e===u.ORTHOGONAL?s:e===u.STAGGERED?l:m};p.exports=a},7386:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95540),m=function(l,s,a,e,r,d){l===void 0&&(l=0),s===void 0&&(s=0),a===void 0&&(a=d.width),e===void 0&&(e=d.height),r||(r={});var n=u(r,"isNotEmpty",!1),h=u(r,"isColliding",!1),f=u(r,"hasInterestingFace",!1);l<0&&(a+=l,l=0),s<0&&(e+=s,s=0),l+a>d.width&&(a=Math.max(d.width-l,0)),s+e>d.height&&(e=Math.max(d.height-s,0));for(var c=[],v=s;v<s+e;v++)for(var g=l;g<l+a;g++){var y=d.data[v][g];if(y!==null){if(n&&y.index===-1||h&&!y.collides||f&&!y.hasInterestingFace)continue;c.push(y)}}return c};p.exports=m},91141:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(55738),m=t(7386),l=t(91865),s=t(29747),a=t(26099),e=function(f,c){return l.RectangleToTriangle(c,f)},r=new a,d=new a,n=new a,h=function(f,c,v,g){if(f===void 0)return[];var y=s;f instanceof u.Circle?y=l.CircleToRectangle:f instanceof u.Rectangle?y=l.RectangleToRectangle:f instanceof u.Triangle?y=e:f instanceof u.Line&&(y=l.LineToRectangle),g.tilemapLayer.worldToTileXY(f.left,f.top,!0,d,v);var C=d.x,S=d.y;g.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,n,v);var P=Math.ceil(n.x),w=Math.ceil(n.y),R=Math.max(P-C,1),L=Math.max(w-S,1),D=m(C,S,R,L,c,g),F=g.tileWidth,O=g.tileHeight;g.tilemapLayer&&(F*=g.tilemapLayer.scaleX,O*=g.tilemapLayer.scaleY);for(var B=[],N=new u.Rectangle(0,0,F,O),G=0;G<D.length;G++){var z=D[G];g.tilemapLayer.tileToWorldXY(z.x,z.y,r,v),N.x=r.x,N.y=r.y,y(f,N)&&B.push(z)}return B};p.exports=h},96523:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=t(26099),l=new m,s=new m,a=function(e,r,d,n,h,f,c){var v=c.tilemapLayer.tilemap._convert.WorldToTileXY;v(e,r,!0,l,f,c);var g=l.x,y=l.y;v(e+d,r+n,!1,s,f,c);var C=Math.ceil(s.x),S=Math.ceil(s.y);return u(g,y,C-g,S-y,h,c)};p.exports=a},96113:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91907),m=t(20242),l=t(10095),s=function(a){return a===u.ORTHOGONAL?l:m};p.exports=s},16926:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91907),m=t(86625),l=t(96897),s=t(29747),a=t(15108),e=t(85896),r=function(d){return d===u.ORTHOGONAL?e:d===u.ISOMETRIC?l:d===u.HEXAGONAL?m:d===u.STAGGERED?a:s};p.exports=r},55762:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91907),m=t(20242),l=t(51900),s=t(63288),a=function(e){return e===u.ORTHOGONAL?s:e===u.STAGGERED?l:m};p.exports=a},45091:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62991),m=function(l,s,a){if(u(l,s,a)){var e=a.data[s][l];return e!==null&&e.index>-1}else return!1};p.exports=m},24152:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(45091),m=t(26099),l=new m,s=function(a,e,r,d){d.tilemapLayer.worldToTileXY(a,e,!0,l,r);var n=l.x,h=l.y;return u(n,h,d)};p.exports=s},90454:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(63448),m=t(56583),l=function(s,a){var e=s.tilemapLayer.tilemap,r=s.tilemapLayer,d=Math.floor(e.tileWidth*r.scaleX),n=Math.floor(e.tileHeight*r.scaleY),h=s.hexSideLength,f,c,v,g;if(s.staggerAxis==="y"){var y=(n-h)/2+h;f=m(a.worldView.x-r.x,d,0,!0)-r.cullPaddingX,c=u(a.worldView.right-r.x,d,0,!0)+r.cullPaddingX,v=m(a.worldView.y-r.y,y,0,!0)-r.cullPaddingY,g=u(a.worldView.bottom-r.y,y,0,!0)+r.cullPaddingY}else{var C=(d-h)/2+h;f=m(a.worldView.x-r.x,C,0,!0)-r.cullPaddingX,c=u(a.worldView.right-r.x,C,0,!0)+r.cullPaddingX,v=m(a.worldView.y-r.y,n,0,!0)-r.cullPaddingY,g=u(a.worldView.bottom-r.y,n,0,!0)+r.cullPaddingY}return{left:f,right:c,top:v,bottom:g}};p.exports=l},9474:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(90454),m=t(32483),l=function(s,a,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var d=s.tilemapLayer,n=u(s,a);return d.skipCull&&d.scrollFactorX===1&&d.scrollFactorY===1&&(n.left=0,n.right=s.width,n.top=0,n.bottom=s.height),m(s,n,r,e),e};p.exports=l},27229:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19951),m=t(26099),l=new m,s=function(a,e,r,d){var n=d.baseTileWidth,h=d.baseTileHeight,f=d.tilemapLayer;f&&(n*=f.scaleX,h*=f.scaleY);var c=u(a,e,l,r,d),v=[],g=.5773502691896257,y,C;d.staggerAxis==="y"?(y=g*n,C=h/2):(y=n/2,C=g*h);for(var S=0;S<6;S++){var P=2*Math.PI*(.5-S)/6;v.push(new m(c.x+y*Math.cos(P),c.y+C*Math.sin(P)))}return v};p.exports=s},19951:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e,r){a||(a=new u);var d=r.baseTileWidth,n=r.baseTileHeight,h=r.tilemapLayer,f=0,c=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),c=h.y+e.scrollY*(1-h.scrollFactorY),d*=h.scaleX,n*=h.scaleY);var v=d/2,g=n/2,y,C;return r.staggerAxis==="y"?(y=f+d*l+d,C=c+1.5*s*g+g,s%2===0&&(this.staggerIndex==="odd"?y-=v:y+=v)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(y=f+1.5*l*v+v,C=c+n*l+n,l%2===0&&(this.staggerIndex==="odd"?C-=g:C+=g)),a.set(y,C)};p.exports=m},86625:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e,r,d){e||(e=new u);var n=d.baseTileWidth,h=d.baseTileHeight,f=d.tilemapLayer;f&&(r||(r=f.scene.cameras.main),l=l-(f.x+r.scrollX*(1-f.scrollFactorX)),s=s-(f.y+r.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,h*=f.scaleY);var c=.5773502691896257,v=-.3333333333333333,g=0,y=.6666666666666666,C=n/2,S=h/2,P,w,R,L,D;d.staggerAxis==="y"?(P=(l-C)/(c*n),w=(s-S)/S,R=c*P+v*w,L=g*P+y*w):(P=(l-C)/C,w=(s-S)/(c*h),R=v*P+c*w,L=y*P+g*w),D=-R-L;var F=Math.round(R),O=Math.round(L),B=Math.round(D),N=Math.abs(F-R),G=Math.abs(O-L),z=Math.abs(B-D);N>G&&N>z?F=-O-B:G>z&&(O=-F-B);var X,H=O;return d.staggerIndex==="odd"?X=H%2===0?O/2+F:O/2+F-.5:X=H%2===0?O/2+F:O/2+F+.5,e.set(X,H)};p.exports=m},62991:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t>=0&&t<m.width&&u>=0&&u<m.height};p.exports=T},14018:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(33528),m=function(l,s,a,e){a===void 0&&(a=[]),e===void 0&&(e=0),a.length=0;var r=l.tilemapLayer,d=l.data,n=l.width,h=l.height,f=r.skipCull,c=0,v=n,g=0,y=h,C,S,P;if(e===0)for(S=g;S<y;S++)for(C=c;C<v;C++)P=d[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!f&&!u(C,S,l,s)||a.push(P));else if(e===1)for(S=g;S<y;S++)for(C=v;C>=c;C--)P=d[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!f&&!u(C,S,l,s)||a.push(P));else if(e===2)for(S=y;S>=g;S--)for(C=c;C<v;C++)P=d[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!f&&!u(C,S,l,s)||a.push(P));else if(e===3)for(S=y;S>=g;S--)for(C=v;C>=c;C--)P=d[S][C],!(!P||P.index===-1||!P.visible||P.alpha===0)&&(!f&&!u(C,S,l,s)||a.push(P));return r.tilesDrawn=a.length,r.tilesTotal=n*h,a};p.exports=m},14127:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e,r){a||(a=new u);var d=r.baseTileWidth,n=r.baseTileHeight,h=r.tilemapLayer,f=0,c=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),d*=h.scaleX,c=h.y+e.scrollY*(1-h.scrollFactorY),n*=h.scaleY);var v=f+(l-s)*(d/2),g=c+(l+s)*(n/2);return a.set(v,g)};p.exports=m},96897:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e,r,d,n){e||(e=new u);var h=d.baseTileWidth,f=d.baseTileHeight,c=d.tilemapLayer;c&&(r||(r=c.scene.cameras.main),s=s-(c.y+r.scrollY*(1-c.scrollFactorY)),f*=c.scaleY,l=l-(c.x+r.scrollX*(1-c.scrollFactorX)),h*=c.scaleX);var v=h/2,g=f/2;l=l-v,n||(s=s-f);var y=.5*(l/v+s/g),C=.5*(-l/v+s/g);return a&&(y=Math.floor(y),C=Math.floor(C)),e.set(y,C)};p.exports=m},71558:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23029),m=t(62991),l=t(72023),s=t(20576),a=function(e,r,d,n,h){if(n===void 0&&(n=!0),!m(r,d,h))return null;var f,c=h.data[d][r],v=c&&c.collides;e instanceof u?(h.data[d][r]===null&&(h.data[d][r]=new u(h,e.index,r,d,h.tileWidth,h.tileHeight)),h.data[d][r].copy(e)):(f=e,h.data[d][r]===null?h.data[d][r]=new u(h,f,r,d,h.tileWidth,h.tileHeight):h.data[d][r].index=f);var g=h.data[d][r],y=h.collideIndexes.indexOf(g.index)!==-1;if(f=e instanceof u?e.index:e,f===-1)g.width=h.tileWidth,g.height=h.tileHeight;else{var C=h.tilemapLayer.tilemap,S=C.tiles,P=S[f][2],w=C.tilesets[P];g.width=w.tileWidth,g.height=w.tileHeight}return s(g,y),n&&v!==g.collides&&l(r,d,h),g};p.exports=a},26303:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(71558),m=t(26099),l=new m,s=function(a,e,r,d,n,h){return h.tilemapLayer.worldToTileXY(e,r,!0,l,n,h),u(a,l.x,l.y,d,h)};p.exports=s},14051:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(42573),m=t(71558),l=function(s,a,e,r,d){if(r===void 0&&(r=!0),!Array.isArray(s))return null;Array.isArray(s[0])||(s=[s]);for(var n=s.length,h=s[0].length,f=0;f<n;f++)for(var c=0;c<h;c++){var v=s[f][c];m(v,a+c,e+f,!1,d)}r&&u(a-1,e-1,h+2,n+2,d)};p.exports=l},77389:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=t(26546),l=function(s,a,e,r,d,n){var h,f=u(s,a,e,r,{},n);if(!d)for(d=[],h=0;h<f.length;h++)d.indexOf(f[h].index)===-1&&d.push(f[h].index);for(h=0;h<f.length;h++)f[h].index=m(d)};p.exports=l},63557:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(23029),m=t(62991),l=t(72023),s=function(a,e,r,d,n){if(r===void 0&&(r=!0),d===void 0&&(d=!0),!m(a,e,n))return null;var h=n.data[e][a];if(h)n.data[e][a]=r?null:new u(n,-1,a,e,n.tileWidth,n.tileHeight);else return null;return d&&h&&h.collides&&l(a,e,n),h};p.exports=s},94178:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(63557),m=t(26099),l=new m,s=function(a,e,r,d,n,h){return h.tilemapLayer.worldToTileXY(a,e,!0,l,n,h),u(l.x,l.y,r,d,h)};p.exports=s},15533:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=t(3956),l=new m(105,210,231,150),s=new m(243,134,48,200),a=new m(40,39,37,150),e=function(r,d,n){d===void 0&&(d={});var h=d.tileColor!==void 0?d.tileColor:l,f=d.collidingTileColor!==void 0?d.collidingTileColor:s,c=d.faceColor!==void 0?d.faceColor:a,v=u(0,0,n.width,n.height,null,n);r.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),r.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var g=0;g<v.length;g++){var y=v[g],C=y.width,S=y.height,P=y.pixelX,w=y.pixelY,R=y.collides?f:h;R!==null&&(r.fillStyle(R.color,R.alpha/255),r.fillRect(P,w,C,S)),P+=1,w+=1,C-=2,S-=2,c!==null&&(r.lineStyle(1,c.color,c.alpha/255),y.faceTop&&r.lineBetween(P,w,P+C,w),y.faceRight&&r.lineBetween(P+C,w,P+C,w+S),y.faceBottom&&r.lineBetween(P,w+S,P+C,w+S),y.faceLeft&&r.lineBetween(P,w,P,w+S))}};p.exports=e},27987:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=function(l,s,a,e,r,d,n){for(var h=u(a,e,r,d,null,n),f=0;f<h.length;f++)h[f]&&h[f].index===l&&(h[f].index=s)};p.exports=m},32483:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=t.data,a=t.width,e=t.height,r=t.tilemapLayer,d=Math.max(0,u.left),n=Math.min(a,u.right),h=Math.max(0,u.top),f=Math.min(e,u.bottom),c,v,g;if(m===0)for(v=h;v<f;v++)for(c=d;s[v]&&c<n;c++)g=s[v][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&l.push(g);else if(m===1)for(v=h;v<f;v++)for(c=n;s[v]&&c>=d;c--)g=s[v][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&l.push(g);else if(m===2)for(v=f;v>=h;v--)for(c=d;s[v]&&c<n;c++)g=s[v][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&l.push(g);else if(m===3)for(v=f;v>=h;v--)for(c=n;s[v]&&c>=d;c--)g=s[v][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&l.push(g);return r.tilesDrawn=l.length,r.tilesTotal=a*e,l};p.exports=T},57068:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20576),m=t(42573),l=t(9589),s=function(a,e,r,d,n){e===void 0&&(e=!0),r===void 0&&(r=!0),n===void 0&&(n=!0),Array.isArray(a)||(a=[a]);for(var h=0;h<a.length;h++)l(a[h],e,d);if(n)for(var f=0;f<d.height;f++)for(var c=0;c<d.width;c++){var v=d.data[f][c];v&&a.indexOf(v.index)!==-1&&u(v,e)}r&&m(0,0,d.width,d.height,d)};p.exports=s},37266:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20576),m=t(42573),l=t(9589),s=function(a,e,r,d,n,h){if(r===void 0&&(r=!0),d===void 0&&(d=!0),h===void 0&&(h=!0),!(a>e)){for(var f=a;f<=e;f++)l(f,r,n);if(h)for(var c=0;c<n.height;c++)for(var v=0;v<n.width;v++){var g=n.data[c][v];g&&g.index>=a&&g.index<=e&&u(g,r)}d&&m(0,0,n.width,n.height,n)}};p.exports=s},75661:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20576),m=t(42573),l=t(9589),s=function(a,e,r,d){e===void 0&&(e=!0),r===void 0&&(r=!0),Array.isArray(a)||(a=[a]);for(var n=0;n<d.height;n++)for(var h=0;h<d.width;h++){var f=d.data[n][h];f&&a.indexOf(f.index)===-1&&(u(f,e),l(f.index,e,d))}r&&m(0,0,d.width,d.height,d)};p.exports=s},64740:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20576),m=t(42573),l=t(97022),s=function(a,e,r,d){e===void 0&&(e=!0),r===void 0&&(r=!0);for(var n=0;n<d.height;n++)for(var h=0;h<d.width;h++){var f=d.data[n][h];if(f){for(var c in a)if(l(f.properties,c)){var v=a[c];Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)f.properties[c]===v[g]&&u(f,e)}}}r&&m(0,0,d.width,d.height,d)};p.exports=s},63307:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(20576),m=t(42573),l=function(s,a,e){s===void 0&&(s=!0),a===void 0&&(a=!0);for(var r=0;r<e.height;r++)for(var d=0;d<e.width;d++){var n=e.data[r][d];if(n){var h=n.getCollisionGroup();h&&h.objects&&h.objects.length>0&&u(n,s)}}a&&m(0,0,e.width,e.height,e)};p.exports=l},9589:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=m.collideIndexes.indexOf(t);u&&l===-1?m.collideIndexes.push(t):!u&&l!==-1&&m.collideIndexes.splice(l,1)};p.exports=T},20576:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=T},79583:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){if(typeof t=="number")l.callbacks[t]=u!==null?{callback:u,callbackContext:m}:void 0;else for(var s=0,a=t.length;s<a;s++)l.callbacks[t[s]]=u!==null?{callback:u,callbackContext:m}:void 0};p.exports=T},93254:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=function(l,s,a,e,r,d,n){for(var h=u(l,s,a,e,null,n),f=0;f<h.length;f++)h[f].setCollisionCallback(r,d)};p.exports=m},32903:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=t(33680),l=function(s,a,e,r,d){var n=u(s,a,e,r,null,d),h=n.map(function(c){return c.index});m(h);for(var f=0;f<n.length;f++)n[f].index=h[f]};p.exports=l},61325:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(63448),m=t(56583),l=function(s,a){var e=s.tilemapLayer.tilemap,r=s.tilemapLayer,d=Math.floor(e.tileWidth*r.scaleX),n=Math.floor(e.tileHeight*r.scaleY),h=m(a.worldView.x-r.x,d,0,!0)-r.cullPaddingX,f=u(a.worldView.right-r.x,d,0,!0)+r.cullPaddingX,c=m(a.worldView.y-r.y,n/2,0,!0)-r.cullPaddingY,v=u(a.worldView.bottom-r.y,n/2,0,!0)+r.cullPaddingY;return{left:h,right:f,top:c,bottom:v}};p.exports=l},54503:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(61325),m=t(32483),l=function(s,a,e,r){e===void 0&&(e=[]),r===void 0&&(r=0),e.length=0;var d=s.tilemapLayer,n=u(s,a);return d.skipCull&&d.scrollFactorX===1&&d.scrollFactorY===1&&(n.left=0,n.right=s.width,n.top=0,n.bottom=s.height),m(s,n,r,e),e};p.exports=l},97202:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e,r){a||(a=new u);var d=r.baseTileWidth,n=r.baseTileHeight,h=r.tilemapLayer,f=0,c=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),d*=h.scaleX,c=h.y+e.scrollY*(1-h.scrollFactorY),n*=h.scaleY);var v=f+l*d+s%2*(d/2),g=c+s*(n/2);return a.set(v,g)};p.exports=m},28054:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=m.baseTileHeight,s=m.tilemapLayer,a=0;return s&&(u===void 0&&(u=s.scene.cameras.main),a=s.y+u.scrollY*(1-s.scrollFactorY),l*=s.scaleY),a+t*(l/2)+l};p.exports=T},15108:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e,r,d){e||(e=new u);var n=d.baseTileWidth,h=d.baseTileHeight,f=d.tilemapLayer;f&&(r||(r=f.scene.cameras.main),s=s-(f.y+r.scrollY*(1-f.scrollFactorY)),h*=f.scaleY,l=l-(f.x+r.scrollX*(1-f.scrollFactorX)),n*=f.scaleX);var c=a?Math.floor(s/(h/2)):s/(h/2),v=a?Math.floor((l+c%2*.5*n)/n):(l+c%2*.5*n)/n;return e.set(v,c)};p.exports=m},51900:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=l.baseTileHeight,a=l.tilemapLayer;return a&&(m||(m=a.scene.cameras.main),t=t-(a.y+m.scrollY*(1-a.scrollFactorY)),s*=a.scaleY),u?Math.floor(t/(s/2)):t/(s/2)};p.exports=T},86560:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=function(l,s,a,e,r,d,n){for(var h=u(a,e,r,d,null,n),f=0;f<h.length;f++)h[f]&&(h[f].index===l?h[f].index=s:h[f].index===s&&(h[f].index=l))};p.exports=m},97281:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=m.baseTileWidth,s=m.tilemapLayer,a=0;return s&&(u||(u=s.scene.cameras.main),a=s.x+u.scrollX*(1-s.scrollFactorX),l*=s.scaleX),a+t*l};p.exports=T},70326:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97281),m=t(29650),l=t(26099),s=function(a,e,r,d,n){return r||(r=new l(0,0)),r.x=u(a,d,n),r.y=m(e,d,n),r};p.exports=s},29650:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=m.baseTileHeight,s=m.tilemapLayer,a=0;return s&&(u||(u=s.scene.cameras.main),a=s.y+u.scrollY*(1-s.scrollFactorY),l*=s.scaleY),a+t*l};p.exports=T},77366:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(7386),m=t(75508),l=function(s,a,e,r,d,n){if(d){var h,f=u(s,a,e,r,null,n),c=0;for(h=0;h<d.length;h++)c+=d[h].weight;if(!(c<=0))for(h=0;h<f.length;h++){for(var v=m.RND.frac()*c,g=0,y=-1,C=0;C<d.length;C++)if(g+=d[C].weight,v<=g){var S=d[C].index;y=Array.isArray(S)?S[Math.floor(m.RND.frac()*S.length)]:S;break}f[h].index=y}}};p.exports=l},10095:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85896),m=t(26099),l=new m,s=function(a,e,r,d){return u(a,0,e,l,r,d),l.x};p.exports=s},85896:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(26099),m=function(l,s,a,e,r,d){a===void 0&&(a=!0),e||(e=new u);var n=d.baseTileWidth,h=d.baseTileHeight,f=d.tilemapLayer;f&&(r||(r=f.scene.cameras.main),l=l-(f.x+r.scrollX*(1-f.scrollFactorX)),s=s-(f.y+r.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,h*=f.scaleY);var c=l/n,v=s/h;return a&&(c=Math.floor(c),v=Math.floor(v)),e.set(c,v)};p.exports=m},63288:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(85896),m=t(26099),l=new m,s=function(a,e,r,d){return u(0,a,e,l,r,d),l.y};p.exports=s},81086:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={ORIENTATION:t(91907)};p.exports=u},62501:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79291),m=t(21829),l={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};l=u(!1,l,m.ORIENTATION),p.exports=l},14977:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(91907),l=t(95540),s=new u({initialize:function(e){e===void 0&&(e={}),this.name=l(e,"name","layer"),this.id=l(e,"id",0),this.x=l(e,"x",0),this.y=l(e,"y",0),this.width=l(e,"width",0),this.height=l(e,"height",0),this.tileWidth=l(e,"tileWidth",0),this.tileHeight=l(e,"tileHeight",0),this.baseTileWidth=l(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=l(e,"baseTileHeight",this.tileHeight),this.orientation=l(e,"orientation",m.ORTHOGONAL),this.widthInPixels=l(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=l(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=l(e,"alpha",1),this.visible=l(e,"visible",!0),this.properties=l(e,"properties",[]),this.indexes=l(e,"indexes",[]),this.collideIndexes=l(e,"collideIndexes",[]),this.callbacks=l(e,"callbacks",[]),this.bodies=l(e,"bodies",[]),this.data=l(e,"data",[]),this.tilemapLayer=l(e,"tilemapLayer",null),this.hexSideLength=l(e,"hexSideLength",0),this.staggerAxis=l(e,"staggerAxis","y"),this.staggerIndex=l(e,"staggerIndex","odd")}});p.exports=s},87010:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(91907),l=t(95540),s=new u({initialize:function(e){e===void 0&&(e={}),this.name=l(e,"name","map"),this.width=l(e,"width",0),this.height=l(e,"height",0),this.infinite=l(e,"infinite",!1),this.tileWidth=l(e,"tileWidth",0),this.tileHeight=l(e,"tileHeight",0),this.widthInPixels=l(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=l(e,"heightInPixels",this.height*this.tileHeight),this.format=l(e,"format",null),this.orientation=l(e,"orientation",m.ORTHOGONAL),this.renderOrder=l(e,"renderOrder","right-down"),this.version=l(e,"version","1"),this.properties=l(e,"properties",{}),this.layers=l(e,"layers",[]),this.images=l(e,"images",[]),this.objects=l(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=l(e,"collision",{}),this.tilesets=l(e,"tilesets",[]),this.imageCollections=l(e,"imageCollections",[]),this.tiles=l(e,"tiles",[]),this.hexSideLength=l(e,"hexSideLength",0),this.staggerAxis=l(e,"staggerAxis","y"),this.staggerIndex=l(e,"staggerIndex","odd")}});p.exports=s},48700:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=new u({initialize:function(a){a===void 0&&(a={}),this.name=m(a,"name","object layer"),this.id=m(a,"id",0),this.opacity=m(a,"opacity",1),this.properties=m(a,"properties",{}),this.propertyTypes=m(a,"propertytypes",{}),this.type=m(a,"type","objectgroup"),this.visible=m(a,"visible",!0),this.objects=m(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=l},6641:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(91907),m=function(l){return l=l.toLowerCase(),l==="isometric"?u.ISOMETRIC:l==="staggered"?u.STAGGERED:l==="hexagonal"?u.HEXAGONAL:u.ORTHOGONAL};p.exports=m},46177:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(80341),m=t(2342),l=t(82593),s=t(46594),a=t(87021),e=function(r,d,n,h,f,c){var v;switch(d){case u.ARRAY_2D:v=m(r,n,h,f,c);break;case u.CSV:v=l(r,n,h,f,c);break;case u.TILED_JSON:v=s(r,n,c);break;case u.WELTMEISTER:v=a(r,n,c);break;default:console.warn("Unrecognized tilemap data format: "+d),v=null}return v};p.exports=e},2342:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(80341),m=t(14977),l=t(87010),s=t(23029),a=function(e,r,d,n,h){for(var f=new m({tileWidth:d,tileHeight:n}),c=new l({name:e,tileWidth:d,tileHeight:n,format:u.ARRAY_2D,layers:[f]}),v=[],g=r.length,y=0,C=0;C<r.length;C++){v[C]=[];for(var S=r[C],P=0;P<S.length;P++){var w=parseInt(S[P],10);isNaN(w)||w===-1?v[C][P]=h?null:new s(f,-1,P,C,d,n):v[C][P]=new s(f,w,P,C,d,n)}y===0&&(y=S.length)}return c.width=f.width=y,c.height=f.height=g,c.widthInPixels=f.widthInPixels=y*d,c.heightInPixels=f.heightInPixels=g*n,f.data=v,c};p.exports=a},82593:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(80341),m=t(2342),l=function(s,a,e,r,d){var n=a.trim().split(`
`).map(function(f){return f.split(",")}),h=m(s,n,e,r,d);return h.format=u.CSV,h};p.exports=l},6656:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(14977),m=t(23029),l=function(s,a){for(var e=[],r=0;r<s.layer.length;r++){for(var d=s.layer[r],n=new u({name:d.name,width:d.width,height:d.height,tileWidth:d.tilesize,tileHeight:d.tilesize,visible:d.visible===1}),h=[],f=[],c=0;c<d.data.length;c++){for(var v=0;v<d.data[c].length;v++){var g=d.data[c][v]-1,y;g>-1?y=new m(n,g,v,c,d.tilesize,d.tilesize):y=a?null:new m(n,-1,v,c,d.tilesize,d.tilesize),h.push(y)}f.push(h),h=[]}n.data=f,e.push(n)}return e};p.exports=l},96483:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(33629),m=function(l){for(var s=[],a=[],e=0;e<l.layer.length;e++){var r=l.layer[e],d=r.tilesetName;d!==""&&a.indexOf(d)===-1&&(a.push(d),s.push(new u(d,0,r.tilesize,r.tilesize,0,0)))}return s};p.exports=m},87021:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(80341),m=t(87010),l=t(6656),s=t(96483),a=function(e,r,d){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var n=0,h=0,f=0;f<r.layer.length;f++)r.layer[f].width>n&&(n=r.layer[f].width),r.layer[f].height>h&&(h=r.layer[f].height);var c=new m({width:n,height:h,name:e,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:u.WELTMEISTER});return c.layers=l(r,d),c.tilesets=s(r),c};p.exports=a},52833:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(79291),m=function(l){for(var s,a,e,r,d,n=0;n<l.layers.length;n++){s=l.layers[n],r=null;for(var h=0;h<s.data.length;h++){d=s.data[h];for(var f=0;f<d.length;f++)a=d[f],!(a===null||a.index<0)&&(e=l.tiles[a.index][2],r=l.tilesets[e],a.width=r.tileWidth,a.height=r.tileHeight,r.tileProperties&&r.tileProperties[a.index-r.firstgid]&&(a.properties=u(a.properties,r.tileProperties[a.index-r.firstgid])))}}};p.exports=m},41868:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var u=window.atob(t),m=u.length,l=new Array(m/4),s=0;s<m;s+=4)l[s/4]=(u.charCodeAt(s)|u.charCodeAt(s+1)<<8|u.charCodeAt(s+2)<<16|u.charCodeAt(s+3)<<24)>>>0;return l};p.exports=T},84101:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(33629),m=function(l){var s,a,e=[];for(s=0;s<l.imageCollections.length;s++)for(var r=l.imageCollections[s],d=r.images,n=0;n<d.length;n++){var h=d[n];a=new u(h.image,h.gid,r.imageWidth,r.imageHeight,0,0),a.updateTileData(r.imageWidth,r.imageHeight),l.tilesets.push(a)}for(s=0;s<l.tilesets.length;s++){a=l.tilesets[s];for(var f=a.tileMargin,c=a.tileMargin,v=0,g=0,y=0,C=a.firstgid;C<a.firstgid+a.total&&(e[C]=[f,c,s],f+=a.tileWidth+a.tileSpacing,v++,!(v===a.total||(g++,g===a.columns&&(f=a.tileMargin,c+=a.tileHeight+a.tileSpacing,g=0,y++,y===a.rows))));C++);}return e};p.exports=m},79677:(p,T,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95540),m=function(l,s,a){if(!s)return{i:0,layers:l.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=s.x+u(s,"startx",0)*l.tilewidth+u(s,"offsetx",0),r=s.y+u(s,"starty",0)*l.tileheight+u(s,"offsety",0);return{i:0,layers:s.layers,name:a.name+s.name+"/",opacity:a.opacity*s.opacity,visible:a.visible&&s.visible,x:a.x+e,y:a.y+r}};p.exports=m},29920:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,t=1073741824,u=536870912,m=function(l){var s=!!(l&T),a=!!(l&t),e=!!(l&u);l=l&~(T|t|u);var r=0,d=!1;return s&&a&&e?(r=Math.PI/2,d=!0):s&&a&&!e?(r=Math.PI,d=!1):s&&!a&&e?(r=Math.PI/2,d=!1):s&&!a&&!e?(r=0,d=!0):!s&&a&&e?(r=3*Math.PI/2,d=!1):!s&&a&&!e?(r=Math.PI,d=!0):!s&&!a&&e?(r=3*Math.PI/2,d=!0):!s&&!a&&!e&&(r=0,d=!1),{gid:l,flippedHorizontal:s,flippedVertical:a,flippedAntiDiagonal:e,rotation:r,flipped:d}};p.exports=m},12635:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95540),m=t(79677),l=function(s){for(var a=[],e=[],r=m(s);r.i<r.layers.length||e.length>0;){if(r.i>=r.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=e.pop();continue}var d=r.layers[r.i];if(r.i++,d.type!=="imagelayer"){if(d.type==="group"){var n=m(s,d,r);e.push(r),r=n}continue}var h=u(d,"offsetx",0)+u(d,"startx",0),f=u(d,"offsety",0)+u(d,"starty",0);a.push({name:r.name+d.name,image:d.image,x:r.x+h+d.x,y:r.y+f+d.y,alpha:r.opacity*d.opacity,visible:r.visible&&d.visible,properties:u(d,"properties",{})})}return a};p.exports=l},46594:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(51233),m=t(84101),l=t(91907),s=t(62644),a=t(80341),e=t(6641),r=t(87010),d=t(12635),n=t(22611),h=t(28200),f=t(24619),c=function(v,g,y){var C=s(g),S=new r({width:C.width,height:C.height,name:v,tileWidth:C.tilewidth,tileHeight:C.tileheight,orientation:e(C.orientation),format:a.TILED_JSON,version:C.version,properties:C.properties,renderOrder:C.renderorder,infinite:C.infinite});S.orientation===l.HEXAGONAL&&(S.hexSideLength=C.hexsidelength,S.staggerAxis=C.staggeraxis,S.staggerIndex=C.staggerindex),S.layers=h(C,y),S.images=d(C);var P=f(C);return S.tilesets=P.tilesets,S.imageCollections=P.imageCollections,S.objects=n(C),S.tiles=m(S),u(S),S};p.exports=c},52205:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(18254),m=t(29920),l=function(e){return{x:e.x,y:e.y}},s=["id","name","type","rotation","properties","visible","x","y","width","height"],a=function(e,r,d){r===void 0&&(r=0),d===void 0&&(d=0);var n=u(e,s);if(n.x+=r,n.y+=d,e.gid){var h=m(e.gid);n.gid=h.gid,n.flippedHorizontal=h.flippedHorizontal,n.flippedVertical=h.flippedVertical,n.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?n.polyline=e.polyline.map(l):e.polygon?n.polygon=e.polygon.map(l):e.ellipse?n.ellipse=e.ellipse:e.text?n.text=e.text:e.point?n.point=!0:n.rectangle=!0;return n};p.exports=a},22611:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95540),m=t(52205),l=t(48700),s=t(79677),a=function(e){for(var r=[],d=[],n=s(e);n.i<n.layers.length||d.length>0;){if(n.i>=n.layers.length){if(d.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=d.pop();continue}var h=n.layers[n.i];if(n.i++,h.opacity*=n.opacity,h.visible=n.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var f=s(e,h,n);d.push(n),n=f}continue}h.name=n.name+h.name;for(var c=n.x+u(h,"startx",0)+u(h,"offsetx",0),v=n.y+u(h,"starty",0)+u(h,"offsety",0),g=[],y=0;y<h.objects.length;y++){var C=m(h.objects[y],c,v);g.push(C)}var S=new l(h);S.objects=g,r.push(S)}return r};p.exports=a},28200:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(41868),m=t(91907),l=t(79677),s=t(6641),a=t(95540),e=t(14977),r=t(29920),d=t(23029),n=function(h,f){for(var c=a(h,"infinite",!1),v=[],g=[],y=l(h);y.i<y.layers.length||g.length>0;){if(y.i>=y.layers.length){if(g.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}y=g.pop();continue}var C=y.layers[y.i];if(y.i++,C.type!=="tilelayer"){if(C.type==="group"){var S=l(h,C,y);g.push(y),y=S}continue}if(C.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+C.name+"'");continue}else if(C.encoding&&C.encoding==="base64"){if(C.chunks)for(var P=0;P<C.chunks.length;P++)C.chunks[P].data=u(C.chunks[P].data);C.data&&(C.data=u(C.data)),delete C.encoding}var w,R,L,D,F=[],O=0;if(c){var B=a(C,"startx",0)+C.x,N=a(C,"starty",0)+C.y;w=new e({name:y.name+C.name,id:C.id,x:y.x+a(C,"offsetx",0)+B*h.tilewidth,y:y.y+a(C,"offsety",0)+N*h.tileheight,width:C.width,height:C.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:y.opacity*C.opacity,visible:y.visible&&C.visible,properties:a(C,"properties",[]),orientation:s(h.orientation)}),w.orientation===m.HEXAGONAL&&(w.hexSideLength=h.hexsidelength,w.staggerAxis=h.staggeraxis,w.staggerIndex=h.staggerindex);for(var G=0;G<C.height;G++){F[G]=[null];for(var z=0;z<C.width;z++)F[G][z]=null}for(G=0,K=C.chunks.length;G<K;G++)for(var X=C.chunks[G],H=X.x-B,V=X.y-N,W=0,I=0,b=X.data.length;I<b;I++){var U=O+H,Y=W+V;R=r(X.data[I]),R.gid>0?(L=new d(w,R.gid,U,Y,h.tilewidth,h.tileheight),L.rotation=R.rotation,L.flipX=R.flipped,F[Y][U]=L):(D=f?null:new d(w,-1,U,Y,h.tilewidth,h.tileheight),F[Y][U]=D),O++,O===X.width&&(W++,O=0)}}else{w=new e({name:y.name+C.name,id:C.id,x:y.x+a(C,"offsetx",0)+C.x,y:y.y+a(C,"offsety",0)+C.y,width:C.width,height:C.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:y.opacity*C.opacity,visible:y.visible&&C.visible,properties:a(C,"properties",[]),orientation:s(h.orientation)}),w.orientation===m.HEXAGONAL&&(w.hexSideLength=h.hexsidelength,w.staggerAxis=h.staggeraxis,w.staggerIndex=h.staggerindex);for(var $=[],j=0,K=C.data.length;j<K;j++)R=r(C.data[j]),R.gid>0?(L=new d(w,R.gid,O,F.length,h.tilewidth,h.tileheight),L.rotation=R.rotation,L.flipX=R.flipped,$.push(L)):(D=f?null:new d(w,-1,O,F.length,h.tilewidth,h.tileheight),$.push(D)),O++,O===C.width&&(F.push($),O=0,$=[])}w.data=F,v.push(w)}return v};p.exports=n},24619:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(33629),m=t(16536),l=t(52205),s=t(57880),a=function(e){for(var r=[],d=[],n=null,h,f=0;f<e.tilesets.length;f++){var c=e.tilesets[f];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var v=new u(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(e.version>1){var g=void 0,y=void 0;if(Array.isArray(c.tiles)){g=g||{},y=y||{};for(var C=0;C<c.tiles.length;C++){var S=c.tiles[C];if(S.properties){var P={};S.properties.forEach(function(G){P[G.name]=G.value}),y[S.id]=P}if(S.objectgroup&&((g[S.id]||(g[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var w=S.objectgroup.objects.map(function(G){return l(G)});g[S.id].objectgroup.objects=w}S.animation&&((g[S.id]||(g[S.id]={})).animation=S.animation),S.type&&((g[S.id]||(g[S.id]={})).type=S.type)}}Array.isArray(c.wangsets)&&(g=g||{},y=y||{},s(c.wangsets,g)),g&&(v.tileData=g,v.tileProperties=y)}else if(c.tileproperties&&(v.tileProperties=c.tileproperties),c.tiles){v.tileData=c.tiles;for(h in v.tileData){var R=v.tileData[h].objectgroup;if(R&&R.objects){var L=R.objects.map(function(G){return l(G)});v.tileData[h].objectgroup.objects=L}}}v.updateTileData(c.imagewidth,c.imageheight),r.push(v)}else{var D=new m(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),F=0;for(C=0;C<c.tiles.length;C++){S=c.tiles[C];var O=S.image,B=parseInt(S.id,10),N=c.firstgid+B;D.addImage(N,O),F=Math.max(B,F)}D.maxId=F,d.push(D)}n&&(n.lastgid=c.firstgid-1),n=c}return{tilesets:r,imageCollections:d}};p.exports=a},57880:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){for(var m=0;m<t.length;m++){var l=t[m],s=m;if(l.name&&l.name!==""&&(s=l.name),Array.isArray(l.wangtiles)&&l.wangtiles.length>0){var a={},e={},r,d,n;if(Array.isArray(l.edgecolors))for(r=0;r<l.edgecolors.length;r++)n=1+r,d=l.edgecolors[r],d.name!==""&&(a[n]=d.name);if(Array.isArray(l.cornercolors))for(r=0;r<l.cornercolors.length;r++)n=1+r,d=l.cornercolors[r],d.name!==""&&(e[n]=d.name);if(Array.isArray(l.colors))for(r=0;r<l.colors.length;r++)d=l.colors[r],n=1+r,d.name!==""&&(a[n]=e[n]=d.name);for(var h=[a,e,a,e,a,e,a,e],f=0;f<l.wangtiles.length;f++){var c=l.wangtiles[f],v=u[c.tileid]||(u[c.tileid]={});v=v.wangid||(v.wangid={});for(var g=[],y=0;y<Math.min(h.length,c.wangid.length);y++){if(d=c.wangid[y],d===0){g.push(void 0);continue}var C=h[y][d];if(C!==void 0){g.push(C);continue}g.push(d)}v[s]=g}}}};p.exports=T},96761:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(37277),l=t(44594),s=t(94880),a=t(72905),e=new u({initialize:function(d){this.scene=d,this.systems=d.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],d.sys.events.once(l.BOOT,this.boot,this),d.sys.events.on(l.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var r=this.systems.events;r.on(l.PRE_UPDATE,this.preUpdate,this),r.on(l.UPDATE,this.update,this),r.once(l.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var d;return r instanceof s?(d=r,this.removeEvent(d),d.elapsed=d.startAt,d.hasDispatched=!1,d.repeatCount=d.repeat===-1||d.loop?999999999999:d.repeat):d=new s(r),this._pendingInsertion.push(d),d},delayedCall:function(r,d,n,h){return this.addEvent({delay:r,callback:d,args:n,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var d=0;d<r.length;d++){var n=r[d];a(this._pendingRemoval,n),a(this._pendingInsertion,n),a(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,d=this._pendingInsertion.length;if(!(r===0&&d===0)){var n,h;for(n=0;n<r;n++){h=this._pendingRemoval[n];var f=this._active.indexOf(h);f>-1&&this._active.splice(f,1),h.destroy()}for(n=0;n<d;n++)h=this._pendingInsertion[n],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,d){if(this.now=r,!this.paused){d*=this.timeScale;for(var n=0;n<this._active.length;n++){var h=this._active[n];if(!h.paused&&(h.elapsed+=d*h.timeScale,h.elapsed>=h.delay)){var f=h.elapsed-h.delay;if(h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0){if(h.repeatCount--,f>=h.delay)for(;f>=h.delay&&h.repeatCount>0;)h.callback&&h.callback.apply(h.callbackScope,h.args),f-=h.delay,h.repeatCount--;h.elapsed=f,h.hasDispatched=!1}else h.hasDispatched&&this._pendingRemoval.push(h)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var d=this.systems.events;d.off(l.PRE_UPDATE,this.preUpdate,this),d.off(l.UPDATE,this.update,this),d.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});m.register("Clock",e,"time"),p.exports=e},96120:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50792),l=t(39429),s=t(95540),a=t(44594),e=t(89809),r=new u({Extends:m,initialize:function(n,h){m.call(this),this.scene=n,this.systems=n.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var f=this.systems.events;f.on(a.PRE_UPDATE,this.preUpdate,this),f.on(a.UPDATE,this.update,this),f.once(a.SHUTDOWN,this.destroy,this),h&&this.add(h)},preUpdate:function(d,n){this.paused||(this.elapsed+=n)},update:function(){if(!(this.paused||this.complete)){var d,n=this.events,h=!1,f=this.systems,c;for(d=0;d<n.length;d++){var v=n[d];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,c=v.target?v.target:this,v.if&&!v.if.call(c,v))continue;if(v.once&&(h=!0),v.set&&v.target)for(var g in v.set)v.target[g]=v.set[g];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(c),v.tween&&f.tweens.add(v.tween),v.sound&&(typeof v.sound=="string"?f.sound.play(v.sound):f.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,c),v.run&&v.run.call(c),v.stop&&this.stop()}}if(h)for(d=0;d<n.length;d++)n[d].complete&&n[d].once&&(n.splice(d,1),d--);this.totalComplete>=n.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(d){return d===void 0&&(d=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,d&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(d){return(d===void 0||d===!0)&&(d=-1),d===!1&&(d=0),this.loop=d,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(d){d===void 0&&(d=!1),this.elapsed=0,d||(this.iteration=0);for(var n=0;n<this.events.length;n++)this.events[n].complete=!1,d||(this.events[n].repeat=0);return this.play(!1)},add:function(d){Array.isArray(d)||(d=[d]);var n=this.events,h=0;n.length>0&&(h=n[n.length-1].time);for(var f=0;f<d.length;f++){var c=d[f],v=s(c,"at",0),g=s(c,"in",null);g!==null&&(v=this.elapsed+g);var y=s(c,"from",null);y!==null&&(v=h+y),n.push({complete:!1,time:v,repeat:0,if:s(c,"if",null),run:s(c,"run",null),loop:s(c,"loop",null),event:s(c,"event",null),target:s(c,"target",null),set:s(c,"set",null),tween:s(c,"tween",null),sound:s(c,"sound",null),once:s(c,"once",!1),stop:s(c,"stop",!1)}),h=v}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var d=Math.min(this.totalComplete,this.events.length);return d/this.events.length},destroy:function(){var d=this.systems.events;d.off(a.PRE_UPDATE,this.preUpdate,this),d.off(a.UPDATE,this.update,this),d.off(a.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});l.register("timeline",function(d){return new r(this.scene,d)}),p.exports=r},94880:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(95540),l=new u({initialize:function(a){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(a)},reset:function(s){if(this.delay=m(s,"delay",0),this.repeat=m(s,"repeat",0),this.loop=m(s,"loop",!1),this.callback=m(s,"callback",void 0),this.callbackScope=m(s,"callbackScope",this),this.args=m(s,"args",[]),this.timeScale=m(s,"timeScale",1),this.startAt=m(s,"startAt",0),this.paused=m(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var s=this.delay+this.delay*this.repeat,a=this.elapsed+this.delay*(this.repeat-this.repeatCount);return a/s}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=l},35945:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},89809:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(35945)}},90291:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72905),m=t(83419),l=t(43491),s=t(88032),a=t(37277),e=t(44594),r=t(93109),d=t(86081),n=t(8357),h=t(43960),f=t(26012),c=new m({initialize:function(g){this.scene=g,this.events=g.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var g=[],y=0;y<v.length;y++){var C=v[y];C instanceof d||C instanceof h?g.push(C):Array.isArray(C.tweens)?g.push(f(this,C)):g.push(n(this,C))}return g.length===1?g[0]:g},add:function(v){var g=v,y=this.tweens;return g instanceof d||g instanceof h||(Array.isArray(g.tweens)?g=f(this,g):g=n(this,g)),y.push(g.reset()),g},addMultiple:function(v){for(var g,y=[],C=this.tweens,S=0;S<v.length;S++)g=v[S],g instanceof d||g instanceof h||(Array.isArray(g.tweens)?g=f(this,g):g=n(this,g)),C.push(g.reset()),y.push(g);return y},chain:function(v){var g=f(this,v);return this.tweens.push(g.init()),g},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var g=s(this,v);return this.tweens.push(g.reset()),g},stagger:function(v,g){return r(v,g)},setLagSmooth:function(v,g){return v===void 0&&(v=1/1e-8),g===void 0&&(g=0),this.maxLag=v,this.lagSkip=Math.min(g,this.maxLag),this},setFps:function(v){return v===void 0&&(v=240),this.gap=1e3/v,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(v){var g=Date.now()-this.prevTime;g>this.maxLag&&(this.startTime+=g-this.lagSkip),this.prevTime+=g;var y=this.prevTime-this.startTime,C=y-this.nextTime,S=y-this.time*1e3;return C>0||v?(y/=1e3,this.time=y,this.nextTime+=C+(C>=this.gap?4:this.gap-C)):S=0,S},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){v===void 0&&(v=!1);var g=this.getDelta(v);if(!(g<=0)){this.processing=!0;var y,C,S=[],P=this.tweens;for(y=0;y<P.length;y++)C=P[y],C.update(g)&&S.push(C);var w=S.length;if(w&&P.length>0){for(y=0;y<w;y++){C=S[y];var R=P.indexOf(C);R>-1&&(C.isPendingRemove()||C.isDestroyed())&&(P.splice(R,1),C.destroy())}S.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(u(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,g){var y,C=[null];for(y=1;y<arguments.length;y++)C.push(arguments[y]);return this.tweens.forEach(function(S){C[0]=S,v.apply(g,C)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){var g=[],y=this.tweens;Array.isArray(v)?v=l(v):v=[v];for(var C=v.length,S=0;S<y.length;S++)for(var P=y[S],w=0;w<C;w++)!P.isDestroyed()&&P.hasTarget(v[w])&&g.push(P);return g},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var g=this.tweens,y,C=0;C<g.length;C++)if(y=g[C],y.isPlaying()&&y.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,g=0;g<v.length;g++)v[g].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var g=this.getTweensOf(v),y=0;y<g.length;y++)g[y].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});a.register("TweenManager",c,"tweens"),p.exports=c},57355:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){return t&&t.hasOwnProperty(u)?t[u]:m};p.exports=T},6113:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(62640),m=t(35355),l=function(s,a){var e=u.Power0;if(typeof s=="string")if(u.hasOwnProperty(s))e=u[s];else{var r="";if(s.indexOf(".")){r=s.substring(s.indexOf(".")+1);var d=r.toLowerCase();d==="in"?r="easeIn":d==="out"?r="easeOut":d==="inout"&&(r="easeInOut")}s=m(s.substring(0,s.indexOf(".")+1)+r),u.hasOwnProperty(s)&&(e=u[s])}else typeof s=="function"&&(e=s);if(!a)return e;var n=a.slice(0);return n.unshift(0),function(h){return n[0]=h,e.apply(this,n)}};p.exports=l},91389:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(89318),m=t(77259),l=t(28392),s={bezier:u,catmull:m,catmullrom:m,linear:l},a=function(e){if(e===null)return null;var r=s.linear;return typeof e=="string"?s.hasOwnProperty(e)&&(r=s[e]):typeof e=="function"&&(r=e),r};p.exports=a},55292:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l;if(t.hasOwnProperty(u)){var s=typeof t[u];s==="function"?l=function(a,e,r,d,n,h){return t[u](a,e,r,d,n,h)}:l=function(){return t[u]}}else typeof m=="function"?l=m:l=function(){return m};return l};p.exports=T},82985:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(81076),m=function(l){var s,a=[];if(l.hasOwnProperty("props"))for(s in l.props)s.substring(0,1)!=="_"&&a.push({key:s,value:l.props[s]});else for(s in l)u.indexOf(s)===-1&&s.substring(0,1)!=="_"&&a.push({key:s,value:l[s]});return a};p.exports=m},62329:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35154),m=function(l){var s=u(l,"targets",null);return s===null||(typeof s=="function"&&(s=s.call()),Array.isArray(s)||(s=[s])),s};p.exports=m},17777:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(30976),m=t(99472);function l(d){return!!d.getActive&&typeof d.getActive=="function"}function s(d){return!!d.getStart&&typeof d.getStart=="function"}function a(d){return!!d.getEnd&&typeof d.getEnd=="function"}function e(d){return s(d)||a(d)||l(d)}var r=function(d,n){var h,f=function(X,H,V){return V},c=function(X,H,V){return V},v=null,g=typeof n;if(g==="number")f=function(){return n};else if(Array.isArray(n))c=function(){return n[0]},f=function(){return n[n.length-1]};else if(g==="string"){var y=n.toLowerCase(),C=y.substring(0,6)==="random",S=y.substring(0,3)==="int";if(C||S){var P=y.indexOf("("),w=y.indexOf(")"),R=y.indexOf(",");if(P&&w&&R){var L=parseFloat(y.substring(P+1,R)),D=parseFloat(y.substring(R+1,w));C?f=function(){return m(L,D)}:f=function(){return u(L,D)}}else throw new Error("invalid random() format")}else{y=y[0];var F=parseFloat(n.substr(2));switch(y){case"+":f=function(X,H,V){return V+F};break;case"-":f=function(X,H,V){return V-F};break;case"*":f=function(X,H,V){return V*F};break;case"/":f=function(X,H,V){return V/F};break;default:f=function(){return parseFloat(n)}}}}else if(g==="function")f=n;else if(g==="object")if(e(n))l(n)&&(v=n.getActive),a(n)&&(f=n.getEnd),s(n)&&(c=n.getStart);else if(n.hasOwnProperty("value"))h=r(d,n.value);else{var O=n.hasOwnProperty("to"),B=n.hasOwnProperty("from"),N=n.hasOwnProperty("start");if(O&&(B||N)){if(h=r(d,n.to),N){var G=r(d,n.start);h.getActive=G.getEnd}if(B){var z=r(d,n.from);h.getStart=z.getEnd}}}return h||(h={getActive:v,getEnd:f,getStart:c}),h};p.exports=r},88032:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70402),m=t(69902),l=t(23568),s=t(57355),a=t(6113),e=t(55292),r=t(35154),d=t(17777),n=t(269),h=t(86081),f=function(c,v,g){if(v instanceof h)return v.parent=c,v;g===void 0?g=m:g=n(m,g);var y=r(v,"from",0),C=r(v,"to",1),S=[{value:y}],P=r(v,"delay",g.delay),w=r(v,"easeParams",g.easeParams),R=r(v,"ease",g.ease),L=d("value",C),D=new h(c,S),F=D.add(0,"value",L.getEnd,L.getStart,L.getActive,a(r(v,"ease",R),r(v,"easeParams",w)),e(v,"delay",P),r(v,"duration",g.duration),s(v,"yoyo",g.yoyo),r(v,"hold",g.hold),r(v,"repeat",g.repeat),r(v,"repeatDelay",g.repeatDelay),!1,!1);F.start=y,F.current=y,D.completeDelay=l(v,"completeDelay",0),D.loop=Math.round(l(v,"loop",0)),D.loopDelay=Math.round(l(v,"loopDelay",0)),D.paused=s(v,"paused",!1),D.persist=s(v,"persist",!1),D.callbackScope=r(v,"callbackScope",D);for(var O=u.TYPES,B=0;B<O.length;B++){var N=O[B],G=r(v,N,!1);if(G){var z=r(v,N+"Params",[]);D.setCallback(N,G,z)}}return D};p.exports=f},93109:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(6113),m=t(35154),l=t(36383),s=function(a,e){e===void 0&&(e={});var r,d=m(e,"start",0),n=m(e,"ease",null),h=m(e,"grid",null),f=m(e,"from",0),c=f==="first",v=f==="center",g=f==="last",y=typeof f=="number",C=Array.isArray(a),S=parseFloat(C?a[0]:a),P=C?parseFloat(a[1]):0,w=Math.max(S,P);if(C&&(d+=S),h){var R=h[0],L=h[1],D=0,F=0,O=0,B=0,N=[];g?(D=R-1,F=L-1):y?(D=f%R,F=Math.floor(f/R)):v&&(D=(R-1)/2,F=(L-1)/2);for(var G=l.MIN_SAFE_INTEGER,z=0;z<L;z++){N[z]=[];for(var X=0;X<R;X++){O=D-X,B=F-z;var H=Math.sqrt(O*O+B*B);H>G&&(G=H),N[z][X]=H}}}var V=n?u(n):null;return h?r=function(W,I,b,U){var Y=0,$=U%R,j=Math.floor(U/R);$>=0&&$<R&&j>=0&&j<L&&(Y=N[j][$]);var K;if(C){var J=P-S;V?K=Y/G*J*V(Y/G):K=Y/G*J}else V?K=Y*S*V(Y/G):K=Y*S;return K+d}:r=function(W,I,b,U,Y){Y--;var $;c?$=U:v?$=Math.abs(Y/2-U):g?$=Y-U:y&&($=Math.abs(f-U));var j;if(C){var K;v?K=(P-S)/Y*($*2):K=(P-S)/Y*$,V?j=K*V($/Y):j=K}else V?j=Y*w*V($/Y):j=$*S;return j+d},r};p.exports=s},8357:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70402),m=t(69902),l=t(23568),s=t(57355),a=t(6113),e=t(91389),r=t(55292),d=t(82985),n=t(62329),h=t(35154),f=t(17777),c=t(269),v=t(86081),g=function(y,C,S){if(C instanceof v)return C.parent=y,C;S===void 0?S=m:S=c(m,S);var P=n(C);!P&&S.targets&&(P=S.targets);for(var w=d(C),R=h(C,"delay",S.delay),L=h(C,"duration",S.duration),D=h(C,"easeParams",S.easeParams),F=h(C,"ease",S.ease),O=h(C,"hold",S.hold),B=h(C,"repeat",S.repeat),N=h(C,"repeatDelay",S.repeatDelay),G=s(C,"yoyo",S.yoyo),z=s(C,"flipX",S.flipX),X=s(C,"flipY",S.flipY),H=h(C,"interpolation",S.interpolation),V=function(_,et,nt,it){if(nt==="texture"){var ot=it,ft=void 0;Array.isArray(it)?(ot=it[0],ft=it[1]):it.hasOwnProperty("value")?(ot=it.value,Array.isArray(it.value)?(ot=it.value[0],ft=it.value[1]):typeof it.value=="string"&&(ot=it.value)):typeof it=="string"&&(ot=it),_.addFrame(et,ot,ft,r(it,"delay",R),h(it,"duration",L),h(it,"hold",O),h(it,"repeat",B),h(it,"repeatDelay",N),s(it,"flipX",z),s(it,"flipY",X))}else{var pt=f(nt,it),mt=e(h(it,"interpolation",H));_.add(et,nt,pt.getEnd,pt.getStart,pt.getActive,a(h(it,"ease",F),h(it,"easeParams",D)),r(it,"delay",R),h(it,"duration",L),s(it,"yoyo",G),h(it,"hold",O),h(it,"repeat",B),h(it,"repeatDelay",N),s(it,"flipX",z),s(it,"flipY",X),mt,mt?it:null)}},W=new v(y,P),I=0;I<w.length;I++)for(var b=w[I].key,U=w[I].value,Y=0;Y<P.length;Y++)b==="scale"&&!P[Y].hasOwnProperty("scale")?(V(W,Y,"scaleX",U),V(W,Y,"scaleY",U)):V(W,Y,b,U);W.completeDelay=l(C,"completeDelay",0),W.loop=Math.round(l(C,"loop",0)),W.loopDelay=Math.round(l(C,"loopDelay",0)),W.paused=s(C,"paused",!1),W.persist=s(C,"persist",!1),W.callbackScope=h(C,"callbackScope",W);for(var $=u.TYPES,j=0;j<$.length;j++){var K=$[j],J=h(C,K,!1);if(J){var k=h(C,K+"Params",[]);W.setCallback(K,J,k)}}return W};p.exports=g},26012:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70402),m=t(23568),l=t(57355),s=t(62329),a=t(35154),e=t(8357),r=t(43960),d=function(n,h){if(h instanceof r)return h.parent=n,h;var f=new r(n);f.startDelay=a(h,"delay",0),f.completeDelay=m(h,"completeDelay",0),f.loop=Math.round(m(h,"loop",a(h,"repeat",0))),f.loopDelay=Math.round(m(h,"loopDelay",a(h,"repeatDelay",0))),f.paused=l(h,"paused",!1),f.persist=l(h,"persist",!1),f.callbackScope=a(h,"callbackScope",f);var c,v=u.TYPES;for(c=0;c<v.length;c++){var g=v[c],y=a(h,g,!1);if(y){var C=a(h,g+"Params",[]);f.setCallback(g,y,C)}}var S=a(h,"tweens",null);if(Array.isArray(S)){var P=[],w=s(h),R=void 0;for(w&&(R={targets:w}),c=0;c<S.length;c++)P.push(e(f,S[c],R));f.add(P)}return f};p.exports=d},30231:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},98540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},67233:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},2859:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},98336:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},25764:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},32193:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},84371:p=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},70766:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},55659:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},842:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};p.exports=u},70402:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(50792),l=t(842),s=t(86353),a=new u({Extends:m,initialize:function(r){m.call(this),this.parent=r,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(l.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(l.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(l.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(l.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(l.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,r,d){return d===void 0&&(d=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:r,params:d}),this},setPendingState:function(){this.state=s.PENDING},setActiveState:function(){this.state=s.ACTIVE},setLoopDelayState:function(){this.state=s.LOOP_DELAY},setCompleteDelayState:function(){this.state=s.COMPLETE_DELAY},setStartDelayState:function(){this.state=s.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=s.PENDING_REMOVE},setRemovedState:function(){this.state=s.REMOVED},setFinishedState:function(){this.state=s.FINISHED},setDestroyedState:function(){this.state=s.DESTROYED},isPending:function(){return this.state===s.PENDING},isActive:function(){return this.state===s.ACTIVE},isLoopDelayed:function(){return this.state===s.LOOP_DELAY},isCompleteDelayed:function(){return this.state===s.COMPLETE_DELAY},isStartDelayed:function(){return this.state===s.START_DELAY},isPendingRemove:function(){return this.state===s.PENDING_REMOVE},isRemoved:function(){return this.state===s.REMOVED},isFinished:function(){return this.state===s.FINISHED},isDestroyed:function(){return this.state===s.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});a.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=a},95042:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(83419),m=t(842),l=t(86353),s=new u({initialize:function(e,r,d,n,h,f,c,v,g,y){this.tween=e,this.targetIndex=r,this.duration=n,this.totalDuration=0,this.delay=0,this.getDelay=d,this.yoyo=h,this.hold=f,this.repeat=c,this.repeatDelay=v,this.repeatCounter=0,this.flipX=g,this.flipY=y,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(a){a===void 0&&(a=this.current),this.tween.targets[this.targetIndex][this.key]=a},setCreatedState:function(){this.state=l.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=l.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=l.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=l.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=l.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=l.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=l.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=l.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===l.CREATED},isDelayed:function(){return this.state===l.DELAY},isPendingRender:function(){return this.state===l.PENDING_RENDER},isPlayingForward:function(){return this.state===l.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===l.PLAYING_BACKWARD},isHolding:function(){return this.state===l.HOLD_DELAY},isRepeating:function(){return this.state===l.REPEAT_DELAY},isComplete:function(){return this.state===l.COMPLETE},setStateFromEnd:function(a){this.yoyo?this.onRepeat(a,!0,!0):this.repeatCounter>0?this.onRepeat(a,!0,!1):this.setCompleteState()},setStateFromStart:function(a){this.repeatCounter>0?this.onRepeat(a,!1):this.setCompleteState()},reset:function(){var a=this.tween,e=a.totalTargets,r=this.targetIndex,d=a.targets[r],n=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(d,n,0,r,e,a),this.repeatCounter=this.repeat===-1?l.MAX:this.repeat,this.setPendingRenderState();var h=this.duration+this.hold;this.yoyo&&(h+=this.duration);var f=h+this.repeatDelay;this.totalDuration=this.delay+h,this.repeat===-1?(this.totalDuration+=f*l.MAX,a.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>a.duration&&(a.duration=this.totalDuration),this.delay<a.startDelay&&(a.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(a,e,r){var d=this.tween,n=d.totalTargets,h=this.targetIndex,f=d.targets[h],c=this.key,v=c!=="texture";if(this.elapsed=a,this.progress=a/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),v&&(e||r)&&(this.start=this.getStartValue(f,c,this.start,h,n,d)),r){this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,v&&(this.end=this.getEndValue(f,c,this.start,h,n,d)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-a,v&&(this.current=this.start,f[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=s},69902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=T},81076:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(70402),m=t(83419),l=t(842),s=t(44603),a=t(39429),e=t(36383),r=t(86353),d=t(48177),n=t(42220),h=new m({Extends:u,initialize:function(c,v){u.call(this,c),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,c,v,g,y,C,S,P,w,R,L,D,F,O,B,N){var G=new d(this,f,c,v,g,y,C,S,P,w,R,L,D,F,O,B,N);return this.totalData=this.data.push(G),G},addFrame:function(f,c,v,g,y,C,S,P,w,R){var L=new n(this,f,c,v,g,y,C,S,P,w,R);return this.totalData=this.data.push(L),L},getValue:function(f){f===void 0&&(f=0);var c=null;return this.data&&(c=this.data[f].current),c},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,c,v){if(v===void 0&&(v=!1),f!=="texture")for(var g=0;g<this.totalData;g++){var y=this.data[g];y.key===f&&(y.isPlayingForward()||y.isPlayingBackward())&&(y.end=c,v&&(y.start=y.current))}return this},restart:function(){switch(this.state){case r.REMOVED:case r.FINISHED:this.seek(),this.parent.makeActive(this);break;case r.PENDING:case r.PENDING_REMOVE:this.parent.reset(this);break;case r.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,u.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,c,v){if(f===void 0&&(f=0),c===void 0&&(c=16.6),v===void 0&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive");var g=this.paused;if(this.paused=!1,f>0){for(var y=Math.floor(f/c),C=f-y*c,S=0;S<y;S++)this.update(c);C>0&&this.update(C)}return this.paused=g,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var c=this.data,v=0;v<this.totalData;v++)c[v].reset(f);this.duration=Math.max(this.duration,.01);var g=this.duration,y=this.completeDelay,C=this.loopCounter,S=this.loopDelay;C>0?this.totalDuration=g+y+(g+S)*C:this.totalDuration=g+y},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=r.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),f=0));var c=!1;if(this.isActive())for(var v=this.data,g=0;g<this.totalData;g++)v[g].update(f)&&(c=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var y=this.isPendingRemove();return y&&this.persist&&(this.setFinishedState(),y=!1),y},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,c){if(!this.isSeeking){this.emit(f,this,this.targets);var v=this.callbacks[c];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){u.prototype.destroy.call(this),this.targets=null}});a.register("tween",function(f){return this.scene.sys.tweens.add(f)}),s.register("tween",function(f){return this.scene.sys.tweens.create(f)}),p.exports=h},43960:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(72905),m=t(70402),l=t(83419),s=t(842),a=t(44603),e=t(39429),r=t(86353),d=new l({Extends:m,initialize:function(h){m.call(this,h),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?r.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive"),this},add:function(n){var h=this.parent.create(n);Array.isArray(h)||(h=[h]);for(var f=this.data,c=0;c<h.length;c++){var v=h[c];v.parent=this,f.push(v.reset())}return this.totalData=f.length,this},remove:function(n){return u(this.data,n),n.setRemovedState(),n===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(n){for(var h=this.data,f=0;f<this.totalData;f++)if(h[f].hasTarget(n))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(n){return n.seek(),n.setActiveState(),this},makeActive:function(n){return n.reset(),n.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var n=this.data,h=this.totalData,f=0;f<h;f++)n[f].reset(!1);this.currentIndex=0,this.currentTween=n[0]},update:function(n){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;n*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(n):this.isCompleteDelayed()?this.updateCompleteDelay(n):this.isStartDelayed()&&(n=this.updateStartCountdown(n));var h=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(n)&&this.nextTween()&&this.nextState(),h=this.isPendingRemove(),h&&this.persist&&(this.setFinishedState(),h=!1)),h},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(n){this.currentIndex=n,this.currentTween=this.data[n],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(n,h){this.emit(n,this);var f=this.callbacks[h];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){m.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(n){return this.scene.sys.tweens.chain(n)}),a.register("tweenchain",function(n){return this.scene.sys.tweens.create(n)}),p.exports=d},48177:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95042),m=t(45319),l=t(83419),s=t(842),a=new l({Extends:u,initialize:function(r,d,n,h,f,c,v,g,y,C,S,P,w,R,L,D,F){u.call(this,r,d,g,y,C,S,P,w,R,L),this.key=n,this.getActiveValue=c,this.getEndValue=h,this.getStartValue=f,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=F},reset:function(e){u.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex],d=this.key;e&&(r[d]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(r[d]=this.getActiveValue(r,d,0))},update:function(e){var r=this.tween,d=r.totalTargets,n=this.targetIndex,h=r.targets[n],f=this.key;if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(h,f,h[f],n,d,r),this.end=this.getEndValue(h,f,this.start,n,d,r),this.current=this.start,h[f]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),v=this.isPlayingBackward();if(c||v){var g=this.elapsed,y=this.duration,C=0,S=!1;g+=e,g>=y?(C=g-y,g=y,S=!0):g<0&&(g=0);var P=m(g/y,0,1);if(this.elapsed=g,this.progress=P,this.previous=this.current,S)c?(this.current=this.end,h[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(this.current=this.start,h[f]=this.start,this.setStateFromStart(C));else{c||(P=1-P);var w=this.ease(P);this.interpolation?this.current=this.interpolation(this.interpolationData,w):this.current=this.start+(this.end-this.start)*w,h[f]=this.current}this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var d=this.tween;if(!d.isSeeking){var n=d.targets[this.targetIndex],h=this.key,f=this.current,c=this.previous;d.emit(e,d,h,n,f,c);var v=d.callbacks[r];v&&v.func.apply(d.callbackScope,[d,n,h,f,c].concat(v.params))}},destroy:function(){u.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=a},42220:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(95042),m=t(45319),l=t(83419),s=t(842),a=new l({Extends:u,initialize:function(r,d,n,h,f,c,v,g,y,C,S){u.call(this,r,d,f,c,!1,v,g,y,C,S),this.key="texture",this.startTexture=null,this.endTexture=n,this.startFrame=null,this.endFrame=h,this.yoyo=g!==0},reset:function(e){u.prototype.reset.call(this);var r=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=r.texture.key,this.startFrame=r.frame.name),e&&r.setTexture(this.startTexture,this.startFrame)},update:function(e){var r=this.tween,d=this.targetIndex,n=r.targets[d];if(!n)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&n.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),f=this.isPlayingBackward();if(h||f){var c=this.elapsed,v=this.duration,g=0,y=!1;c+=e,c>=v?(g=c-v,c=v,y=!0):c<0&&(c=0);var C=m(c/v,0,1);this.elapsed=c,this.progress=C,y&&(h?(n.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(g)):(n.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(g))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,r){var d=this.tween;if(!d.isSeeking){var n=d.targets[this.targetIndex],h=this.key;d.emit(e,d,h,n);var f=d.callbacks[r];f&&f.func.apply(d.callbackScope,[d,n,h].concat(f.params))}},destroy:function(){u.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=a},86353:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=T},83419:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}function t(a,e,r){var d=r?a[e]:Object.getOwnPropertyDescriptor(a,e);return!r&&d.value&&typeof d.value=="object"&&(d=d.value),d&&T(d)?(typeof d.enumerable>"u"&&(d.enumerable=!0),typeof d.configurable>"u"&&(d.configurable=!0),d):!1}function u(a,e){var r=Object.getOwnPropertyDescriptor(a,e);return r?(r.value&&typeof r.value=="object"&&(r=r.value),r.configurable===!1):!1}function m(a,e,r,d){for(var n in e)if(e.hasOwnProperty(n)){var h=t(e,n,r);if(h!==!1){var f=d||a;if(u(f.prototype,n)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+n+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(a.prototype,n,h)}else a.prototype[n]=e[n]}}function l(a,e){if(e){Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++)m(a,e[r].prototype||e[r])}}function s(a){a||(a={});var e,r;if(a.initialize){if(typeof a.initialize!="function")throw new Error("initialize must be a function");e=a.initialize,delete a.initialize}else if(a.Extends){var d=a.Extends;e=function(){d.apply(this,arguments)}}else e=function(){};a.Extends?(e.prototype=Object.create(a.Extends.prototype),e.prototype.constructor=e,r=a.Extends,delete a.Extends):e.prototype.constructor=e;var n=null;return a.Mixins&&(n=a.Mixins,delete a.Mixins),l(e,n),m(e,a,!0,r),e}s.extend=m,s.mixin=l,s.ignoreFinals=!1,p.exports=s},29747:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};p.exports=T},20242:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};p.exports=T},71146:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s){if(s===void 0&&(s=t),m>0){var a=m-t.length;if(a<=0)return null}if(!Array.isArray(u))return t.indexOf(u)===-1?(t.push(u),l&&l.call(s,u),u):null;for(var e=u.length-1;e>=0;)t.indexOf(u[e])!==-1&&u.splice(e,1),e--;if(e=u.length,e===0)return null;m>0&&e>a&&(u.splice(a),e=a);for(var r=0;r<e;r++){var d=u[r];t.push(d),l&&l.call(s,d)}return u};p.exports=T},51067:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l,s,a){if(m===void 0&&(m=0),a===void 0&&(a=t),l>0){var e=l-t.length;if(e<=0)return null}if(!Array.isArray(u))return t.indexOf(u)===-1?(t.splice(m,0,u),s&&s.call(a,u),u):null;for(var r=u.length-1;r>=0;)t.indexOf(u[r])!==-1&&u.pop(),r--;if(r=u.length,r===0)return null;l>0&&r>e&&(u.splice(e),r=e);for(var d=r-1;d>=0;d--){var n=u[d];t.splice(m,0,n),s&&s.call(a,n)}return u};p.exports=T},66905:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.indexOf(u);return m!==-1&&m<t.length&&(t.splice(m,1),t.push(u)),u};p.exports=T},21612:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82011),m=function(l,s,a,e,r){e===void 0&&(e=0),r===void 0&&(r=l.length);var d=0;if(u(l,e,r))for(var n=e;n<r;n++){var h=l[n];h[s]===a&&d++}return d};p.exports=m},95428:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l,s=[null];for(l=3;l<arguments.length;l++)s.push(arguments[l]);for(l=0;l<t.length;l++)s[0]=t[l],u.apply(m,s);return t};p.exports=T},36914:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82011),m=function(l,s,a,e,r){if(e===void 0&&(e=0),r===void 0&&(r=l.length),u(l,e,r)){var d,n=[null];for(d=5;d<arguments.length;d++)n.push(arguments[d]);for(d=e;d<r;d++)n[0]=l[d],s.apply(a,n)}return l};p.exports=m},81957:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(u.length){if(u.length===1)return u[0]}else return NaN;var l=1,s,a;if(m){if(t<u[0][m])return u[0];for(;u[l][m]<t;)l++}else for(;u[l]<t;)l++;return l>u.length&&(l=u.length),m?(s=u[l-1][m],a=u[l][m],a-t<=t-s?u[l]:u[l-1]):(s=u[l-1],a=u[l],a-t<=t-s?a:s)};p.exports=T},43491:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u=[]);for(var m=0;m<t.length;m++)Array.isArray(t[m])?T(t[m],u):u.push(t[m]);return u};p.exports=T},46710:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82011),m=function(l,s,a,e,r){e===void 0&&(e=0),r===void 0&&(r=l.length);var d=[];if(u(l,e,r))for(var n=e;n<r;n++){var h=l[n];(!s||s&&a===void 0&&h.hasOwnProperty(s)||s&&a!==void 0&&h[s]===a)&&d.push(h)}return d};p.exports=m},58731:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82011),m=function(l,s,a,e,r){if(e===void 0&&(e=0),r===void 0&&(r=l.length),u(l,e,r))for(var d=e;d<r;d++){var n=l[d];if(!s||s&&a===void 0&&n.hasOwnProperty(s)||s&&a!==void 0&&n[s]===a)return n}return null};p.exports=m},26546:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){u===void 0&&(u=0),m===void 0&&(m=t.length);var l=u+Math.floor(Math.random()*m);return t[l]===void 0?null:t[l]};p.exports=T},85835:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(u===m)return t;var l=t.indexOf(u),s=t.indexOf(m);if(l<0||s<0)throw new Error("Supplied items must be elements of the same array");return l>s||(t.splice(l,1),s===t.length-1?t.push(u):t.splice(s,0,u)),t};p.exports=T},83371:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(u===m)return t;var l=t.indexOf(u),s=t.indexOf(m);if(l<0||s<0)throw new Error("Supplied items must be elements of the same array");return l<s||(t.splice(l,1),s===0?t.unshift(u):t.splice(s,0,u)),t};p.exports=T},70864:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.indexOf(u);if(m>0){var l=t[m-1],s=t.indexOf(l);t[m]=l,t[s]=u}return t};p.exports=T},69693:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=t.indexOf(u);if(l===-1||m<0||m>=t.length)throw new Error("Supplied index out of bounds");return l!==m&&(t.splice(l,1),t.splice(m,0,u)),u};p.exports=T},40853:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.indexOf(u);if(m!==-1&&m<t.length-1){var l=t[m+1],s=t.indexOf(l);t[m]=l,t[s]=u}return t};p.exports=T},20283:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=[],a,e=!1;if((m||l)&&(e=!0,m||(m=""),l||(l="")),u<t)for(a=t;a>=u;a--)e?s.push(m+a.toString()+l):s.push(a);else for(a=t;a<=u;a++)e?s.push(m+a.toString()+l):s.push(a);return s};p.exports=T},593:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(2284),m=function(l,s,a){l===void 0&&(l=0),s===void 0&&(s=null),a===void 0&&(a=1),s===null&&(s=l,l=0);for(var e=[],r=Math.max(u((s-l)/(a||1)),0),d=0;d<r;d++)e.push(l),l+=a;return e};p.exports=m},43886:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(m,l,s){var a=m[l];m[l]=m[s],m[s]=a}function t(m,l){return m<l?-1:m>l?1:0}var u=function(m,l,s,a,e){for(s===void 0&&(s=0),a===void 0&&(a=m.length-1),e===void 0&&(e=t);a>s;){if(a-s>600){var r=a-s+1,d=l-s+1,n=Math.log(r),h=.5*Math.exp(2*n/3),f=.5*Math.sqrt(n*h*(r-h)/r)*(d-r/2<0?-1:1),c=Math.max(s,Math.floor(l-d*h/r+f)),v=Math.min(a,Math.floor(l+(r-d)*h/r+f));u(m,l,c,v,e)}var g=m[l],y=s,C=a;for(T(m,s,l),e(m[a],g)>0&&T(m,s,a);y<C;){for(T(m,y,C),y++,C--;e(m[y],g)<0;)y++;for(;e(m[C],g)>0;)C--}e(m[s],g)===0?T(m,s,C):(C++,T(m,C,a)),C<=l&&(s=C+1),l<=C&&(a=C-1)}};p.exports=u},88492:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35154),m=t(33680),l=function(a,e,r){for(var d=[],n=0;n<a.length;n++)for(var h=0;h<e.length;h++)for(var f=0;f<r;f++)d.push({a:a[n],b:e[h]});return d},s=function(a,e,r){var d=u(r,"max",0),n=u(r,"qty",1),h=u(r,"random",!1),f=u(r,"randomB",!1),c=u(r,"repeat",0),v=u(r,"yoyo",!1),g=[];if(f&&m(e),c===-1)if(d===0)c=0;else{var y=a.length*e.length*n;v&&(y*=2),c=Math.ceil(d/y)}for(var C=0;C<=c;C++){var S=l(a,e,n);h&&m(S),g=g.concat(S),v&&(S.reverse(),g=g.concat(S))}return d&&g.splice(d),g};p.exports=s},72905:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19133),m=function(l,s,a,e){e===void 0&&(e=l);var r;if(!Array.isArray(s))return r=l.indexOf(s),r!==-1?(u(l,r),a&&a.call(e,s),s):null;for(var d=s.length-1,n=[];d>=0;){var h=s[d];r=l.indexOf(h),r!==-1&&(u(l,r),n.push(h),a&&a.call(e,h)),d--}return n};p.exports=m},60248:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19133),m=function(l,s,a,e){if(e===void 0&&(e=l),s<0||s>l.length-1)throw new Error("Index out of bounds");var r=u(l,s);return a&&a.call(e,r),r};p.exports=m},81409:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82011),m=function(l,s,a,e,r){if(s===void 0&&(s=0),a===void 0&&(a=l.length),r===void 0&&(r=l),u(l,s,a)){var d=a-s,n=l.splice(s,d);if(e)for(var h=0;h<n.length;h++){var f=n[h];e.call(r,f)}return n}else return[]};p.exports=m},31856:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(19133),m=function(l,s,a){s===void 0&&(s=0),a===void 0&&(a=l.length);var e=s+Math.floor(Math.random()*a);return u(l,e)};p.exports=m},42169:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=t.indexOf(u),s=t.indexOf(m);return l!==-1&&s===-1?(t[l]=m,!0):!1};p.exports=T},86003:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u=1);for(var m=null,l=0;l<u;l++)m=t.shift(),t.push(m);return m};p.exports=T},49498:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){u===void 0&&(u=1);for(var m=null,l=0;l<u;l++)m=t.pop(),t.unshift(m);return m};p.exports=T},82011:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){var s=t.length;if(u<0||u>s||u>=m||m>s){if(l)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=T},89545:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){var m=t.indexOf(u);return m!==-1&&m>0&&(t.splice(m,1),t.unshift(u)),u};p.exports=T},17810:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82011),m=function(l,s,a,e,r){if(e===void 0&&(e=0),r===void 0&&(r=l.length),u(l,e,r))for(var d=e;d<r;d++){var n=l[d];n.hasOwnProperty(s)&&(n[s]=a)}return l};p.exports=m},33680:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var u=t.length-1;u>0;u--){var m=Math.floor(Math.random()*(u+1)),l=t[u];t[u]=t[m],t[m]=l}return t};p.exports=T},90126:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u=/\D/g;return t.sort(function(m,l){return parseInt(m.replace(u,""),10)-parseInt(l.replace(u,""),10)}),t};p.exports=T},19133:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){if(!(u>=t.length)){for(var m=t.length-1,l=t[u],s=u;s<m;s++)t[s]=t[s+1];return t.length=m,l}};p.exports=T},19186:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(82264);function m(e,r){return String(e).localeCompare(r)}function l(e,r){var d=e.length;if(d<=1)return e;for(var n=new Array(d),h=1;h<d;h*=2){s(e,r,h,n);var f=e;e=n,n=f}return e}function s(e,r,d,n){var h=e.length,f=0,c=d*2,v,g,y,C,S;for(v=0;v<h;v+=c)for(g=v+d,y=g+d,g>h&&(g=h),y>h&&(y=h),C=v,S=g;;)if(C<g&&S<y)r(e[C],e[S])<=0?n[f++]=e[C++]:n[f++]=e[S++];else if(C<g)n[f++]=e[C++];else if(S<y)n[f++]=e[S++];else break}var a=function(e,r){if(r===void 0&&(r=m),!e||e.length<2)return e;if(u.features.stableSort)return e.sort(r);var d=l(e,r);return d!==e&&s(d,null,e.length,e),e};p.exports=a},25630:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(u===m)return t;var l=t.indexOf(u),s=t.indexOf(m);if(l<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[l]=m,t[s]=u,t};p.exports=T},37105:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var u=t[0].length,m=1;m<t.length;m++)if(t[m].length!==u)return!1;return!0};p.exports=T},63362:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(41836),m=t(86922),l=function(s){var a="";if(!m(s))return a;for(var e=0;e<s.length;e++){for(var r=0;r<s[e].length;r++){var d=s[e][r].toString();d!=="undefined"?a+=u(d,2):a+="?",r<s[e].length-1&&(a+=" |")}if(e<s.length-1){a+=`
`;for(var n=0;n<s[e].length;n++)a+="---",n<s[e].length-1&&(a+="+");a+=`
`}}return a};p.exports=l},92598:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.reverse()};p.exports=T},21224:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var u=0;u<t.length;u++)t[u].reverse();return t};p.exports=T},98717:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37829),m=function(l){return u(l,180)};p.exports=m},44657:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37829),m=function(l,s){s===void 0&&(s=1);for(var a=0;a<s;a++)l=u(l,90);return l};p.exports=m},37829:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(86922),m=t(2429),l=function(s,a){if(a===void 0&&(a=90),!u(s))return null;if(typeof a!="string"&&(a=(a%360+360)%360),a===90||a===-270||a==="rotateLeft")s=m(s),s.reverse();else if(a===-90||a===270||a==="rotateRight")s.reverse(),s=m(s);else if(Math.abs(a)===180||a==="rotate180"){for(var e=0;e<s.length;e++)s[e].reverse();s.reverse()}return s};p.exports=l},92632:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(37829),m=function(l,s){s===void 0&&(s=1);for(var a=0;a<s;a++)l=u(l,-90);return l};p.exports=m},69512:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(86003),m=t(49498),l=function(s,a,e){if(a===void 0&&(a=0),e===void 0&&(e=0),e!==0&&(e<0?u(s,Math.abs(e)):m(s,e)),a!==0)for(var r=0;r<s.length;r++){var d=s[r];a<0?u(d,Math.abs(a)):m(d,a)}return s};p.exports=l},2429:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){for(var u=t.length,m=t[0].length,l=new Array(m),s=0;s<m;s++){l[s]=new Array(u);for(var a=u-1;a>-1;a--)l[s][a]=t[a][s]}return l};p.exports=T},54915:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(u,m){for(var l=new Uint8Array(u),s=l.length,a=m?"data:"+m+";base64,":"",e=0;e<s;e+=3)a+=T[l[e]>>2],a+=T[(l[e]&3)<<4|l[e+1]>>4],a+=T[(l[e+1]&15)<<2|l[e+2]>>6],a+=T[l[e+2]&63];return s%3===2?a=a.substring(0,a.length-1)+"=":s%3===1&&(a=a.substring(0,a.length-2)+"=="),a};p.exports=t},53134:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),u=0;u<T.length;u++)t[T.charCodeAt(u)]=u;var m=function(l){l=l.substr(l.indexOf(",")+1);var s=l.length,a=s*.75,e=0,r,d,n,h;l[s-1]==="="&&(a--,l[s-2]==="="&&a--);for(var f=new ArrayBuffer(a),c=new Uint8Array(f),v=0;v<s;v+=4)r=t[l.charCodeAt(v)],d=t[l.charCodeAt(v+1)],n=t[l.charCodeAt(v+2)],h=t[l.charCodeAt(v+3)],c[e++]=r<<2|d>>4,c[e++]=(d&15)<<4|n>>2,c[e++]=(n&3)<<6|h&63;return f};p.exports=m},65839:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u={};for(var m in t)Array.isArray(t[m])?u[m]=t[m].slice(0):u[m]=t[m];return u};p.exports=T},62644:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){var u,m,l;if(typeof t!="object"||t===null)return t;u=Array.isArray(t)?[]:{};for(l in t)m=t[l],u[l]=T(m);return u};p.exports=T},79291:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(41212),m=function(){var l,s,a,e,r,d,n=arguments[0]||{},h=1,f=arguments.length,c=!1;for(typeof n=="boolean"&&(c=n,n=arguments[1]||{},h=2),f===h&&(n=this,--h);h<f;h++)if((l=arguments[h])!=null)for(s in l)a=n[s],e=l[s],n!==e&&(c&&e&&(u(e)||(r=Array.isArray(e)))?(r?(r=!1,d=a&&Array.isArray(a)?a:[]):d=a&&u(a)?a:{},n[s]=m(c,d,e)):e!==void 0&&(n[s]=e));return n};p.exports=m},23568:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(75508),m=t(35154),l=function(s,a,e){var r=m(s,a,null);if(r===null)return e;if(Array.isArray(r))return u.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return u.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return u.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(a);return r};p.exports=l},95540:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){var l=typeof t;return!t||l==="number"||l==="string"?m:t.hasOwnProperty(u)&&t[u]!==void 0?t[u]:m};p.exports=T},82840:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(35154),m=t(45319),l=function(s,a,e,r,d){d===void 0&&(d=e);var n=u(s,a,d);return m(n,e,r)};p.exports=l},35154:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){if(!t&&!l||typeof t=="number")return m;if(t&&t.hasOwnProperty(u))return t[u];if(l&&l.hasOwnProperty(u))return l[u];if(u.indexOf(".")!==-1){for(var s=u.split("."),a=t,e=l,r=m,d=m,n=!0,h=!0,f=0;f<s.length;f++)a&&a.hasOwnProperty(s[f])?(r=a[s[f]],a=a[s[f]]):n=!1,e&&e.hasOwnProperty(s[f])?(d=e[s[f]],e=e[s[f]]):h=!1;return n?r:h?d:m}else return m};p.exports=T},69036:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){for(var m=0;m<u.length;m++)if(!t.hasOwnProperty(u[m]))return!1;return!0};p.exports=T},1985:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){for(var m=0;m<u.length;m++)if(t.hasOwnProperty(u[m]))return!0;return!1};p.exports=T},97022:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.hasOwnProperty(u)};p.exports=T},41212:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=T},46975:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(41786),m=function(l,s){var a=u(l);for(var e in s)a.hasOwnProperty(e)||(a[e]=s[e]);return a};p.exports=m},269:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(41786),m=function(l,s){var a=u(l);for(var e in s)a.hasOwnProperty(e)&&(a[e]=s[e]);return a};p.exports=m},18254:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var u=t(97022),m=function(l,s){for(var a={},e=0;e<s.length;e++){var r=s[e];u(l,r)&&(a[r]=l[r])}return a};p.exports=m},61622:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(u))return t[u]=m,!0;if(u.indexOf(".")!==-1){for(var l=u.split("."),s=t,a=t,e=0;e<l.length;e++)if(s.hasOwnProperty(l[e]))a=s,s=s[l[e]];else return!1;return a[l[l.length-1]]=m,!0}return!1};p.exports=T},1183:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return t.replace(/%([0-9]+)/g,function(m,l){return u[Number(l)-1]})};p.exports=T},41836:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u,m,l){u===void 0&&(u=0),m===void 0&&(m=" "),l===void 0&&(l=3),t=t.toString();var s=0;if(u+1>=t.length)switch(l){case 1:t=new Array(u+1-t.length).join(m)+t;break;case 3:var a=Math.ceil((s=u-t.length)/2),e=s-a;t=new Array(e+1).join(m)+t+new Array(a+1).join(m);break;default:t=t+new Array(u+1-t.length).join(m);break}return t};p.exports=T},33628:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t,u){return u===0?t.slice(1):t.slice(0,u-1)+t.slice(u)};p.exports=T},27671:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t.split("").reverse().join("")};p.exports=T},45650:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var u=Math.random()*16|0,m=t==="x"?u:u&3|8;return m.toString(16)})};p.exports=T},35355:p=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=T},31749:(p,T,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},E={};function A(p){var T=E[p];if(T!==void 0)return T.exports;var t=E[p]={exports:{}};return x[p](t,t.exports,A),t.exports}A.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var M=A(85454);return M})())})(zy);var mM=zy.exports;const Wu=Yo(mM);var Wy={exports:{}};(function(i){(function(){function o(Q,tt,at){return Q.call.apply(Q.bind,arguments)}function x(Q,tt,at){if(!Q)throw Error();if(2<arguments.length){var st=Array.prototype.slice.call(arguments,2);return function(){var ht=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ht,st),Q.apply(tt,ht)}}return function(){return Q.apply(tt,arguments)}}function E(Q,tt,at){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?o:x,E.apply(null,arguments)}var A=Date.now||function(){return+new Date};function M(Q,tt){this.a=Q,this.o=tt||Q,this.c=this.o.document}var p=!!window.FontFace;function T(Q,tt,at,st){if(tt=Q.c.createElement(tt),at)for(var ht in at)at.hasOwnProperty(ht)&&(ht=="style"?tt.style.cssText=at[ht]:tt.setAttribute(ht,at[ht]));return st&&tt.appendChild(Q.c.createTextNode(st)),tt}function t(Q,tt,at){Q=Q.c.getElementsByTagName(tt)[0],Q||(Q=document.documentElement),Q.insertBefore(at,Q.lastChild)}function u(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}function m(Q,tt,at){tt=tt||[],at=at||[];for(var st=Q.className.split(/\s+/),ht=0;ht<tt.length;ht+=1){for(var gt=!1,lt=0;lt<st.length;lt+=1)if(tt[ht]===st[lt]){gt=!0;break}gt||st.push(tt[ht])}for(tt=[],ht=0;ht<st.length;ht+=1){for(gt=!1,lt=0;lt<at.length;lt+=1)if(st[ht]===at[lt]){gt=!0;break}gt||tt.push(st[ht])}Q.className=tt.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(Q,tt){for(var at=Q.className.split(/\s+/),st=0,ht=at.length;st<ht;st++)if(at[st]==tt)return!0;return!1}function s(Q){return Q.o.location.hostname||Q.a.location.hostname}function a(Q,tt,at){function st(){yt&&ht&&gt&&(yt(lt),yt=null)}tt=T(Q,"link",{rel:"stylesheet",href:tt,media:"all"});var ht=!1,gt=!0,lt=null,yt=at||null;p?(tt.onload=function(){ht=!0,st()},tt.onerror=function(){ht=!0,lt=Error("Stylesheet failed to load"),st()}):setTimeout(function(){ht=!0,st()},0),t(Q,"head",tt)}function e(Q,tt,at,st){var ht=Q.c.getElementsByTagName("head")[0];if(ht){var gt=T(Q,"script",{src:tt}),lt=!1;return gt.onload=gt.onreadystatechange=function(){lt||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(lt=!0,at&&at(null),gt.onload=gt.onreadystatechange=null,gt.parentNode.tagName=="HEAD"&&ht.removeChild(gt))},ht.appendChild(gt),setTimeout(function(){lt||(lt=!0,at&&at(Error("Script load timeout")))},st||5e3),gt}return null}function r(){this.a=0,this.c=null}function d(Q){return Q.a++,function(){Q.a--,h(Q)}}function n(Q,tt){Q.c=tt,h(Q)}function h(Q){Q.a==0&&Q.c&&(Q.c(),Q.c=null)}function f(Q){this.a=Q||"-"}f.prototype.c=function(Q){for(var tt=[],at=0;at<arguments.length;at++)tt.push(arguments[at].replace(/[\W_]+/g,"").toLowerCase());return tt.join(this.a)};function c(Q,tt){this.c=Q,this.f=4,this.a="n";var at=(tt||"n4").match(/^([nio])([1-9])$/i);at&&(this.a=at[1],this.f=parseInt(at[2],10))}function v(Q){return C(Q)+" "+(Q.f+"00")+" 300px "+g(Q.c)}function g(Q){var tt=[];Q=Q.split(/,\s*/);for(var at=0;at<Q.length;at++){var st=Q[at].replace(/['"]/g,"");st.indexOf(" ")!=-1||/^\d/.test(st)?tt.push("'"+st+"'"):tt.push(st)}return tt.join(",")}function y(Q){return Q.a+Q.f}function C(Q){var tt="normal";return Q.a==="o"?tt="oblique":Q.a==="i"&&(tt="italic"),tt}function S(Q){var tt=4,at="n",st=null;return Q&&((st=Q.match(/(normal|oblique|italic)/i))&&st[1]&&(at=st[1].substr(0,1).toLowerCase()),(st=Q.match(/([1-9]00|normal|bold)/i))&&st[1]&&(/bold/i.test(st[1])?tt=7:/[1-9]00/.test(st[1])&&(tt=parseInt(st[1].substr(0,1),10)))),at+tt}function P(Q,tt){this.c=Q,this.f=Q.o.document.documentElement,this.h=tt,this.a=new f("-"),this.j=tt.events!==!1,this.g=tt.classes!==!1}function w(Q){Q.g&&m(Q.f,[Q.a.c("wf","loading")]),L(Q,"loading")}function R(Q){if(Q.g){var tt=l(Q.f,Q.a.c("wf","active")),at=[],st=[Q.a.c("wf","loading")];tt||at.push(Q.a.c("wf","inactive")),m(Q.f,at,st)}L(Q,"inactive")}function L(Q,tt,at){Q.j&&Q.h[tt]&&(at?Q.h[tt](at.c,y(at)):Q.h[tt]())}function D(){this.c={}}function F(Q,tt,at){var st=[],ht;for(ht in tt)if(tt.hasOwnProperty(ht)){var gt=Q.c[ht];gt&&st.push(gt(tt[ht],at))}return st}function O(Q,tt){this.c=Q,this.f=tt,this.a=T(this.c,"span",{"aria-hidden":"true"},this.f)}function B(Q){t(Q.c,"body",Q.a)}function N(Q){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+g(Q.c)+";"+("font-style:"+C(Q)+";font-weight:"+(Q.f+"00")+";")}function G(Q,tt,at,st,ht,gt){this.g=Q,this.j=tt,this.a=st,this.c=at,this.f=ht||3e3,this.h=gt||void 0}G.prototype.start=function(){var Q=this.c.o.document,tt=this,at=A(),st=new Promise(function(lt,yt){function Tt(){A()-at>=tt.f?yt():Q.fonts.load(v(tt.a),tt.h).then(function(Lt){1<=Lt.length?lt():setTimeout(Tt,25)},function(){yt()})}Tt()}),ht=null,gt=new Promise(function(lt,yt){ht=setTimeout(yt,tt.f)});Promise.race([gt,st]).then(function(){ht&&(clearTimeout(ht),ht=null),tt.g(tt.a)},function(){tt.j(tt.a)})};function z(Q,tt,at,st,ht,gt,lt){this.v=Q,this.B=tt,this.c=at,this.a=st,this.s=lt||"BESbswy",this.f={},this.w=ht||3e3,this.u=gt||null,this.m=this.j=this.h=this.g=null,this.g=new O(this.c,this.s),this.h=new O(this.c,this.s),this.j=new O(this.c,this.s),this.m=new O(this.c,this.s),Q=new c(this.a.c+",serif",y(this.a)),Q=N(Q),this.g.a.style.cssText=Q,Q=new c(this.a.c+",sans-serif",y(this.a)),Q=N(Q),this.h.a.style.cssText=Q,Q=new c("serif",y(this.a)),Q=N(Q),this.j.a.style.cssText=Q,Q=new c("sans-serif",y(this.a)),Q=N(Q),this.m.a.style.cssText=Q,B(this.g),B(this.h),B(this.j),B(this.m)}var X={D:"serif",C:"sans-serif"},H=null;function V(){if(H===null){var Q=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);H=!!Q&&(536>parseInt(Q[1],10)||parseInt(Q[1],10)===536&&11>=parseInt(Q[2],10))}return H}z.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=A(),I(this)};function W(Q,tt,at){for(var st in X)if(X.hasOwnProperty(st)&&tt===Q.f[X[st]]&&at===Q.f[X[st]])return!0;return!1}function I(Q){var tt=Q.g.a.offsetWidth,at=Q.h.a.offsetWidth,st;(st=tt===Q.f.serif&&at===Q.f["sans-serif"])||(st=V()&&W(Q,tt,at)),st?A()-Q.A>=Q.w?V()&&W(Q,tt,at)&&(Q.u===null||Q.u.hasOwnProperty(Q.a.c))?U(Q,Q.v):U(Q,Q.B):b(Q):U(Q,Q.v)}function b(Q){setTimeout(E(function(){I(this)},Q),50)}function U(Q,tt){setTimeout(E(function(){u(this.g.a),u(this.h.a),u(this.j.a),u(this.m.a),tt(this.a)},Q),0)}function Y(Q,tt,at){this.c=Q,this.a=tt,this.f=0,this.m=this.j=!1,this.s=at}var $=null;Y.prototype.g=function(Q){var tt=this.a;tt.g&&m(tt.f,[tt.a.c("wf",Q.c,y(Q).toString(),"active")],[tt.a.c("wf",Q.c,y(Q).toString(),"loading"),tt.a.c("wf",Q.c,y(Q).toString(),"inactive")]),L(tt,"fontactive",Q),this.m=!0,j(this)},Y.prototype.h=function(Q){var tt=this.a;if(tt.g){var at=l(tt.f,tt.a.c("wf",Q.c,y(Q).toString(),"active")),st=[],ht=[tt.a.c("wf",Q.c,y(Q).toString(),"loading")];at||st.push(tt.a.c("wf",Q.c,y(Q).toString(),"inactive")),m(tt.f,st,ht)}L(tt,"fontinactive",Q),j(this)};function j(Q){--Q.f==0&&Q.j&&(Q.m?(Q=Q.a,Q.g&&m(Q.f,[Q.a.c("wf","active")],[Q.a.c("wf","loading"),Q.a.c("wf","inactive")]),L(Q,"active")):R(Q.a))}function K(Q){this.j=Q,this.a=new D,this.h=0,this.f=this.g=!0}K.prototype.load=function(Q){this.c=new M(this.j,Q.context||this.j),this.g=Q.events!==!1,this.f=Q.classes!==!1,k(this,new P(this.c,Q),Q)};function J(Q,tt,at,st,ht){var gt=--Q.h==0;(Q.f||Q.g)&&setTimeout(function(){var lt=ht||null,yt=st||null||{};if(at.length===0&&gt)R(tt.a);else{tt.f+=at.length,gt&&(tt.j=gt);var Tt,Lt=[];for(Tt=0;Tt<at.length;Tt++){var Ft=at[Tt],kt=yt[Ft.c],we=tt.a,Hn=Ft;if(we.g&&m(we.f,[we.a.c("wf",Hn.c,y(Hn).toString(),"loading")]),L(we,"fontloading",Hn),we=null,$===null)if(window.FontFace){var Hn=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),Yy=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);$=Hn?42<parseInt(Hn[1],10):!Yy}else $=!1;$?we=new G(E(tt.g,tt),E(tt.h,tt),tt.c,Ft,tt.s,kt):we=new z(E(tt.g,tt),E(tt.h,tt),tt.c,Ft,tt.s,lt,kt),Lt.push(we)}for(Tt=0;Tt<Lt.length;Tt++)Lt[Tt].start()}},0)}function k(Q,tt,at){var ht=[],st=at.timeout;w(tt);var ht=F(Q.a,at,Q.c),gt=new Y(Q.c,tt,st);for(Q.h=ht.length,tt=0,at=ht.length;tt<at;tt++)ht[tt].load(function(lt,yt,Tt){J(Q,gt,lt,yt,Tt)})}function _(Q,tt){this.c=Q,this.a=tt}_.prototype.load=function(Q){function tt(){if(gt["__mti_fntLst"+st]){var lt=gt["__mti_fntLst"+st](),yt=[],Tt;if(lt)for(var Lt=0;Lt<lt.length;Lt++){var Ft=lt[Lt].fontfamily;lt[Lt].fontStyle!=null&&lt[Lt].fontWeight!=null?(Tt=lt[Lt].fontStyle+lt[Lt].fontWeight,yt.push(new c(Ft,Tt))):yt.push(new c(Ft))}Q(yt)}else setTimeout(function(){tt()},50)}var at=this,st=at.a.projectId,ht=at.a.version;if(st){var gt=at.c.o;e(this.c,(at.a.api||"https://fast.fonts.net/jsapi")+"/"+st+".js"+(ht?"?v="+ht:""),function(lt){lt?Q([]):(gt["__MonotypeConfiguration__"+st]=function(){return at.a},tt())}).id="__MonotypeAPIScript__"+st}else Q([])};function et(Q,tt){this.c=Q,this.a=tt}et.prototype.load=function(Q){var tt,at,st=this.a.urls||[],ht=this.a.families||[],gt=this.a.testStrings||{},lt=new r;for(tt=0,at=st.length;tt<at;tt++)a(this.c,st[tt],d(lt));var yt=[];for(tt=0,at=ht.length;tt<at;tt++)if(st=ht[tt].split(":"),st[1])for(var Tt=st[1].split(","),Lt=0;Lt<Tt.length;Lt+=1)yt.push(new c(st[0],Tt[Lt]));else yt.push(new c(st[0]));n(lt,function(){Q(yt,gt)})};function nt(Q,tt){Q?this.c=Q:this.c=it,this.a=[],this.f=[],this.g=tt||""}var it="https://fonts.googleapis.com/css";function ot(Q,tt){for(var at=tt.length,st=0;st<at;st++){var ht=tt[st].split(":");ht.length==3&&Q.f.push(ht.pop());var gt="";ht.length==2&&ht[1]!=""&&(gt=":"),Q.a.push(ht.join(gt))}}function ft(Q){if(Q.a.length==0)throw Error("No fonts to load!");if(Q.c.indexOf("kit=")!=-1)return Q.c;for(var tt=Q.a.length,at=[],st=0;st<tt;st++)at.push(Q.a[st].replace(/ /g,"+"));return tt=Q.c+"?family="+at.join("%7C"),0<Q.f.length&&(tt+="&subset="+Q.f.join(",")),0<Q.g.length&&(tt+="&text="+encodeURIComponent(Q.g)),tt}function pt(Q){this.f=Q,this.a=[],this.c={}}var mt={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},rt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},dt={i:"i",italic:"i",n:"n",normal:"n"},ct=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Pt(Q){for(var tt=Q.f.length,at=0;at<tt;at++){var st=Q.f[at].split(":"),ht=st[0].replace(/\+/g," "),gt=["n4"];if(2<=st.length){var lt,yt=st[1];if(lt=[],yt)for(var yt=yt.split(","),Tt=yt.length,Lt=0;Lt<Tt;Lt++){var Ft;if(Ft=yt[Lt],Ft.match(/^[\w-]+$/)){var kt=ct.exec(Ft.toLowerCase());if(kt==null)Ft="";else{if(Ft=kt[2],Ft=Ft==null||Ft==""?"n":dt[Ft],kt=kt[1],kt==null||kt=="")kt="4";else var we=rt[kt],kt=we||(isNaN(kt)?"4":kt.substr(0,1));Ft=[Ft,kt].join("")}}else Ft="";Ft&&lt.push(Ft)}0<lt.length&&(gt=lt),st.length==3&&(st=st[2],lt=[],st=st?st.split(","):lt,0<st.length&&(st=mt[st[0]])&&(Q.c[ht]=st))}for(Q.c[ht]||(st=mt[ht])&&(Q.c[ht]=st),st=0;st<gt.length;st+=1)Q.a.push(new c(ht,gt[st]))}}function Et(Q,tt){this.c=Q,this.a=tt}var Mt={Arimo:!0,Cousine:!0,Tinos:!0};Et.prototype.load=function(Q){var tt=new r,at=this.c,st=new nt(this.a.api,this.a.text),ht=this.a.families;ot(st,ht);var gt=new pt(ht);Pt(gt),a(at,ft(st),d(tt)),n(tt,function(){Q(gt.a,gt.c,Mt)})};function Dt(Q,tt){this.c=Q,this.a=tt}Dt.prototype.load=function(Q){var tt=this.a.id,at=this.c.o;tt?e(this.c,(this.a.api||"https://use.typekit.net")+"/"+tt+".js",function(st){if(st)Q([]);else if(at.Typekit&&at.Typekit.config&&at.Typekit.config.fn){st=at.Typekit.config.fn;for(var ht=[],gt=0;gt<st.length;gt+=2)for(var lt=st[gt],yt=st[gt+1],Tt=0;Tt<yt.length;Tt++)ht.push(new c(lt,yt[Tt]));try{at.Typekit.load({events:!1,classes:!1,async:!0})}catch{}Q(ht)}},2e3):Q([])};function wt(Q,tt){this.c=Q,this.f=tt,this.a=[]}wt.prototype.load=function(Q){var tt=this.f.id,at=this.c.o,st=this;tt?(at.__webfontfontdeckmodule__||(at.__webfontfontdeckmodule__={}),at.__webfontfontdeckmodule__[tt]=function(ht,gt){for(var lt=0,yt=gt.fonts.length;lt<yt;++lt){var Tt=gt.fonts[lt];st.a.push(new c(Tt.name,S("font-weight:"+Tt.weight+";font-style:"+Tt.style)))}Q(st.a)},e(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+s(this.c)+"/"+tt+".js",function(ht){ht&&Q([])})):Q([])};var St=new K(window);St.a.c.custom=function(Q,tt){return new et(tt,Q)},St.a.c.fontdeck=function(Q,tt){return new wt(tt,Q)},St.a.c.monotype=function(Q,tt){return new _(tt,Q)},St.a.c.typekit=function(Q,tt){return new Dt(tt,Q)},St.a.c.google=function(Q,tt){return new Et(tt,Q)};var Nt={load:E(St.load,St)};i.exports?i.exports=Nt:(window.WebFont=Nt,window.WebFontConfig&&St.load(window.WebFontConfig))})()})(Wy);var gM=Wy.exports;const xM=Yo(gM);class yM extends Wu.Loader.File{constructor(x,E,A="google"){super(x,{type:"webfont",key:E.toString()});ie(this,"fontNames");ie(this,"service");this.fontNames=Array.isArray(E)?E:[E],this.service=A}load(){const x={active:()=>{this.loader.nextFile(this,!0)}};switch(this.service){case"google":x.google={families:this.fontNames};break;default:throw new Error("Unsupported font service")}xM.load(x)}}class TM extends Phaser.Scene{constructor(x,E=1,A){super("custom-font");ie(this,"score");ie(this,"shieldActive");ie(this,"scoreMultiplier");ie(this,"multiplierActive");ie(this,"scoreText");ie(this,"virusGroup");ie(this,"ransomwareGroup");ie(this,"shieldGroup");ie(this,"shieldBorder");ie(this,"multiplierText");ie(this,"multiplierImage");ie(this,"gameEndCallback");ie(this,"haptics");this.score=0,this.shieldActive=!1,this.gameEndCallback=x||(()=>{}),this.scoreMultiplier=E<5?E:5,this.multiplierActive=E>1,this.haptics=A}preload(){this.load.addFile(new yM(this.load,"Stalinist One")),this.load.setBaseURL(window.location.origin+"/project-tg-game"),this.load.image("background","/assets/game-background.png"),this.load.image("multiplier","/assets/multiplier.png"),this.load.atlas("shield_animation","/assets/shield-sprites.png","/assets/shield-sprites.json"),this.load.atlas("virus_animation","/assets/virus-sprites.png","/assets/virus-sprites.json"),this.load.atlas("ransomware_animation","/assets/ransomware-sprites.png","/assets/ransomware-sprites.json")}create(){const x=+this.sys.game.config.width,E=+this.sys.game.config.height;this.cameras.main.setBounds(0,0,x,E),this.add.image(x/2,E/2,"background").setDisplaySize(x,E);const A=Date.now();this.virusGroup=this.physics.add.group(),this.ransomwareGroup=this.physics.add.group(),this.shieldGroup=this.physics.add.group(),this.anims.create({key:"virus_idle",frames:this.anims.generateFrameNames("virus_animation",{prefix:"idle_",start:0,end:13,zeroPad:4}),repeat:-1}),this.anims.create({key:"virus_explosion",frames:this.anims.generateFrameNames("virus_animation",{prefix:"explosion_",start:0,end:7,zeroPad:4}),repeat:0}),this.anims.create({key:"ransomware_idle",frames:this.anims.generateFrameNames("ransomware_animation",{prefix:"idle_",start:0,end:17,zeroPad:4}),repeat:-1}),this.anims.create({key:"ransomware_explosion",frames:this.anims.generateFrameNames("ransomware_animation",{prefix:"explosion_",start:0,end:7,zeroPad:4}),repeat:0}),this.anims.create({key:"shield_idle",frames:this.anims.generateFrameNames("shield_animation",{prefix:"idle_",start:0,end:19,zeroPad:4}),repeat:-1}),this.time.addEvent({delay:1e3,callback:()=>this.addVirus(A),callbackScope:this,loop:!0}),this.time.addEvent({delay:3e3,callback:()=>this.addRansom(A),callbackScope:this,loop:!0}),this.time.addEvent({delay:2e4,callback:()=>this.addShield(A),callbackScope:this,loop:!0}),this.time.addEvent({delay:15e3,callback:this.deactivateScoreMultiplier,callbackScope:this,repeat:0,loop:!1}),this.scoreText=this.add.text(x-20,20,`${this.score}P`,{fontSize:20,fontFamily:"Stalinist One",color:"#fff",padding:{x:5,y:5}}).setOrigin(1,0),this.multiplierText=this.add.text(this.scoreText.x-35,this.scoreText.y+this.scoreText.height/2+50,`${this.scoreMultiplier}x`,{fontSize:10,fontFamily:"Stalinist One",color:"#000",padding:{x:10,y:5}}).setOrigin(.5,.5),this.multiplierText.setDepth(.1),this.multiplierImage=this.add.image(this.scoreText.x-35,this.scoreText.y+this.scoreText.height/2+50,"multiplier"),this.multiplierImage.setDepth(0),this.multiplierText.setVisible(this.multiplierActive),this.multiplierImage.setVisible(this.multiplierActive),this.shieldBorder=this.add.graphics(),this.shieldBorder.setDepth(1)}addVirus(x){const E=Phaser.Math.Between(40,+this.sys.game.config.width-40),A=this.virusGroup.create(E,0,"virus");A.anims.play("virus_idle");const M=Date.now()-x;A.type="virus",A.setVelocityY(50+2*Math.round(M/1e3)),A.setInteractive(),A.setDepth(3),A.on("pointerdown",()=>{this.handleObjectClick(A)})}addRansom(x){const E=Phaser.Math.Between(40,+this.sys.game.config.width-40),A=this.ransomwareGroup.create(E,0,"ransomware");A.anims.play("ransomware_idle");const M=Date.now()-x;A.type="ransomware",A.setVelocityY(100+2*Math.round(M/1e3)),A.setInteractive(),A.setDepth(3),A.on("pointerdown",()=>{this.handleObjectClick(A)})}addShield(x){const E=Phaser.Math.Between(40,+this.sys.game.config.width-40),A=this.shieldGroup.create(E,0,"shield");A.anims.play("shield_idle");const M=Date.now()-x;A.type="shield",A.setVelocityY(150+2*Math.round(M/1e3)),A.setInteractive(),A.setDepth(3),A.on("pointerdown",()=>{this.handleObjectClick(A),this.activateShield()})}handleObjectClick(x){this.haptics.impactOccurred("light"),x.disableInteractive();let E=0;x.type==="virus"&&(E+=1),x.type==="ransomware"&&(E+=3),x.type==="shield"&&(E+=5),this.multiplierActive&&(E*=this.scoreMultiplier),this.updateScore(E);const A=x,M=this.add.text(+A.x,+A.y,`+${E}`,{font:"16px",color:"#00FF00",stroke:"#000000",strokeThickness:3}).setOrigin(.5);this.tweens.add({targets:M,y:+A.y,duration:1e3,ease:"Cubic.easeOut",onComplete:()=>M.destroy()}),A.anims.pause(),x.type==="virus"&&A.anims.play("virus_explosion"),x.type==="ransomware"&&A.anims.play("ransomware_explosion"),x.type==="shield"&&x.destroy(),A.on("animationcomplete",()=>{x.destroy()})}updateScore(x){this.score+=x,this.scoreText.setText(`${this.score}P`),this.multiplierImage.setVisible(this.multiplierActive),this.tweens.add({targets:this.scoreText,scaleX:1.1,scaleY:1.1,duration:150,yoyo:!0,ease:"Power1"})}activateShield(){this.shieldActive=!0,this.drawShieldBorder(),this.time.addEvent({delay:5e3,callback:this.deactivateShield,callbackScope:this})}drawShieldBorder(){var M,p,T,t,u,m;const x=+this.sys.game.config.width,E=+this.sys.game.config.height,A=5;(M=this.shieldBorder)==null||M.clear(),(p=this.shieldBorder)==null||p.fillStyle(65280,1),(T=this.shieldBorder)==null||T.fillRect(0,E-A,x,A),(t=this.shieldBorder)==null||t.fillStyle(52224,.5),(u=this.shieldBorder)==null||u.fillRect(A,E-2*A,x,A),(m=this.shieldBorder)==null||m.fillStyle(52224,.5),this.shieldBorder.fillRect(0,E-2*A,x,A)}deactivateShield(){var x;this.shieldActive=!1,(x=this.shieldBorder)==null||x.clear()}deactivateScoreMultiplier(){this.multiplierActive=!1,this.multiplierText.setVisible(!1),this.multiplierImage.setVisible(!1)}update(){this.virusGroup.children.each(x=>(x.y>+this.sys.game.config.height+40&&this.handleObjectOutOfBounds(x),null),this),this.ransomwareGroup.children.each(x=>(x.y>+this.sys.game.config.height+40&&this.handleObjectOutOfBounds(x),null),this),this.shieldGroup.children.each(x=>(x.y>+this.sys.game.config.height+40&&x.destroy(),null),this)}handleObjectOutOfBounds(x){this.shieldActive?(x.destroy(),this.deactivateShield()):(this.physics.pause(),this.gameEndCallback(this.score))}}const SM=i=>{const o=V2(),x=Uy(),E=x&&x.length?x.length+1:1;return class extends TM{constructor(){super(i,E,o)}}},CM=()=>{const i=Z.useRef(null),o=_f(),x=Z.useCallback(M=>{o("/result",{state:{score:M}})},[o]),E=SM(x),A=Z.useMemo(()=>({type:Wu.AUTO,backgroundColor:"#282c34",parent:"game",width:window.innerWidth,height:window.innerHeight,physics:{default:"arcade",arcade:{gravity:{y:0,x:0}}},scene:E}),[E]);return Z.useEffect(()=>{if(!i.current)return i.current=new Wu.Game(A),()=>{var M;(M=i.current)==null||M.destroy(!0),i.current=null}},[A]),q.jsx("div",{id:"game"})},Fp=()=>q.jsxs(DE,{children:[q.jsxs(Ii,{path:"/",element:q.jsx(iw,{}),children:[q.jsx(Ii,{path:"/",element:q.jsx(D5,{})}),q.jsx(Ii,{path:"/invite-friends",element:q.jsx(hM,{})}),q.jsx(Ii,{path:"/leaderboard",element:q.jsx(uM,{})}),q.jsx(Ii,{path:"/result",element:q.jsx(pM,{})})]}),q.jsx(Ii,{path:"/game",element:q.jsx(CM,{})}),q.jsx(Ii,{path:"*",element:q.jsx(FE,{to:"/"})})]});function EM(){mP();const{platform:i}=$f(),o=Z.useMemo(()=>G2("app-navigation-state"),[]),[x,E]=XC(o);return Z.useEffect(()=>(o.attach(),()=>o.detach()),[o]),T3(i)?q.jsx("div",{children:q.jsx(Ig,{location:x,navigator:E,children:q.jsx(Fp,{})})}):q.jsx(zE,{children:q.jsx(Fp,{})})}class Xy extends Z.Component{constructor(){super(...arguments);ie(this,"state",{})}componentDidCatch(x){this.setState({error:x})}render(){const{state:{error:x},props:{fallback:E,children:A}}=this;return"error"in this.state?typeof E=="function"?q.jsx(E,{error:x}):E:A}}ie(Xy,"getDerivedStateFromError",x=>({error:x}));const PM=({error:i})=>q.jsxs("div",{children:[q.jsx("p",{children:"An unhandled error occurred:"}),q.jsx("blockquote",{children:q.jsx("code",{children:i instanceof Error?i.message:typeof i=="string"?i:JSON.stringify(i)})})]}),wM=new FC("https://modest-penguin-417.convex.cloud"),AM=()=>{const i=$f().startParam==="debug";return Z.useEffect(()=>{i&&CS(()=>import("./eruda-CldKv4Lm.js").then(o=>o.e),[]).then(o=>o.default.init())},[i]),q.jsx(vt.StrictMode,{children:q.jsx(W2,{acceptCustomStyles:!0,debug:i,children:q.jsx(OC,{client:wM,children:q.jsx(EM,{})})})})},RM=()=>q.jsx(Xy,{fallback:PM,children:q.jsx(AM,{})});yh.createRoot(document.getElementById("root")).render(q.jsx(RM,{}));export{Yo as g};
